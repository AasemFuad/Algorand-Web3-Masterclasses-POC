const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D8Z0MO_J.js","assets/bowser-CjZjRcGd.js","assets/index-CfeqiG4c.js"])))=>i.map(i=>d[i]);
var pu=Object.defineProperty;var gu=(_e,d,Mt)=>d in _e?pu(_e,d,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):_e[d]=Mt;var Oo=(_e,d,Mt)=>gu(_e,typeof d!="symbol"?d+"":d,Mt);(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const Ft of document.querySelectorAll('link[rel="modulepreload"]'))Ot(Ft);new MutationObserver(Ft=>{for(const Ut of Ft)if(Ut.type==="childList")for(const Xt of Ut.addedNodes)Xt.tagName==="LINK"&&Xt.rel==="modulepreload"&&Ot(Xt)}).observe(document,{childList:!0,subtree:!0});function Mt(Ft){const Ut={};return Ft.integrity&&(Ut.integrity=Ft.integrity),Ft.referrerPolicy&&(Ut.referrerPolicy=Ft.referrerPolicy),Ft.crossOrigin==="use-credentials"?Ut.credentials="include":Ft.crossOrigin==="anonymous"?Ut.credentials="omit":Ut.credentials="same-origin",Ut}function Ot(Ft){if(Ft.ep)return;Ft.ep=!0;const Ut=Mt(Ft);fetch(Ft.href,Ut)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var d=_e.default;if(typeof d=="function"){var Mt=function Ot(){return this instanceof Ot?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};Mt.prototype=d.prototype}else Mt={};return Object.defineProperty(Mt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(Ot){var Ft=Object.getOwnPropertyDescriptor(_e,Ot);Object.defineProperty(Mt,Ot,Ft.get?Ft:{enumerable:!0,get:function(){return _e[Ot]}})}),Mt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,d,Mt){this.props=_e,this.context=d,this.refs=D$2,this.updater=Mt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,d){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,d,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(_e,d,Mt){this.props=_e,this.context=d,this.refs=D$2,this.updater=Mt||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,d,Mt){var Ot,Ft={},Ut=null,Xt=null;if(d!=null)for(Ot in d.ref!==void 0&&(Xt=d.ref),d.key!==void 0&&(Ut=""+d.key),d)J$1.call(d,Ot)&&!L$2.hasOwnProperty(Ot)&&(Ft[Ot]=d[Ot]);var jr=arguments.length-2;if(jr===1)Ft.children=Mt;else if(1<jr){for(var hn=Array(jr),Vr=0;Vr<jr;Vr++)hn[Vr]=arguments[Vr+2];Ft.children=hn}if(_e&&_e.defaultProps)for(Ot in jr=_e.defaultProps,jr)Ft[Ot]===void 0&&(Ft[Ot]=jr[Ot]);return{$$typeof:l$2,type:_e,key:Ut,ref:Xt,props:Ft,_owner:K$2.current}}function N$2(_e,d){return{$$typeof:l$2,type:_e.type,key:d,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$2}function escape(_e){var d={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(Mt){return d[Mt]})}var P$2=/\/+/g;function Q$2(_e,d){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):d.toString(36)}function R$2(_e,d,Mt,Ot,Ft){var Ut=typeof _e;(Ut==="undefined"||Ut==="boolean")&&(_e=null);var Xt=!1;if(_e===null)Xt=!0;else switch(Ut){case"string":case"number":Xt=!0;break;case"object":switch(_e.$$typeof){case l$2:case n$2:Xt=!0}}if(Xt)return Xt=_e,Ft=Ft(Xt),_e=Ot===""?"."+Q$2(Xt,0):Ot,I$2(Ft)?(Mt="",_e!=null&&(Mt=_e.replace(P$2,"$&/")+"/"),R$2(Ft,d,Mt,"",function(Vr){return Vr})):Ft!=null&&(O$2(Ft)&&(Ft=N$2(Ft,Mt+(!Ft.key||Xt&&Xt.key===Ft.key?"":(""+Ft.key).replace(P$2,"$&/")+"/")+_e)),d.push(Ft)),1;if(Xt=0,Ot=Ot===""?".":Ot+":",I$2(_e))for(var jr=0;jr<_e.length;jr++){Ut=_e[jr];var hn=Ot+Q$2(Ut,jr);Xt+=R$2(Ut,d,Mt,hn,Ft)}else if(hn=A$2(_e),typeof hn=="function")for(_e=hn.call(_e),jr=0;!(Ut=_e.next()).done;)Ut=Ut.value,hn=Ot+Q$2(Ut,jr++),Xt+=R$2(Ut,d,Mt,hn,Ft);else if(Ut==="object")throw d=String(_e),Error("Objects are not valid as a React child (found: "+(d==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":d)+"). If you meant to render a collection of children, use an array instead.");return Xt}function S$2(_e,d,Mt){if(_e==null)return _e;var Ot=[],Ft=0;return R$2(_e,Ot,"","",function(Ut){return d.call(Mt,Ut,Ft++)}),Ot}function T$2(_e){if(_e._status===-1){var d=_e._result;d=d(),d.then(function(Mt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=Mt)},function(Mt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=Mt)}),_e._status===-1&&(_e._status=0,_e._result=d)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(_e,d,Mt){S$2(_e,function(){d.apply(this,arguments)},Mt)},count:function(_e){var d=0;return S$2(_e,function(){d++}),d},toArray:function(_e){return S$2(_e,function(d){return d})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,d,Mt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var Ot=C$2({},_e.props),Ft=_e.key,Ut=_e.ref,Xt=_e._owner;if(d!=null){if(d.ref!==void 0&&(Ut=d.ref,Xt=K$2.current),d.key!==void 0&&(Ft=""+d.key),_e.type&&_e.type.defaultProps)var jr=_e.type.defaultProps;for(hn in d)J$1.call(d,hn)&&!L$2.hasOwnProperty(hn)&&(Ot[hn]=d[hn]===void 0&&jr!==void 0?jr[hn]:d[hn])}var hn=arguments.length-2;if(hn===1)Ot.children=Mt;else if(1<hn){jr=Array(hn);for(var Vr=0;Vr<hn;Vr++)jr[Vr]=arguments[Vr+2];Ot.children=jr}return{$$typeof:l$2,type:_e.type,key:Ft,ref:Ut,props:Ot,_owner:Xt}};react_production_min.createContext=function(_e){return _e={$$typeof:u$2,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$1,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var d=M$2.bind(null,_e);return d.type=_e,d};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$1,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,d){return{$$typeof:x$1,type:_e,compare:d===void 0?null:d}};react_production_min.startTransition=function(_e){var d=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=d}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,d){return U$2.current.useCallback(_e,d)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,d){return U$2.current.useEffect(_e,d)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,d,Mt){return U$2.current.useImperativeHandle(_e,d,Mt)};react_production_min.useInsertionEffect=function(_e,d){return U$2.current.useInsertionEffect(_e,d)};react_production_min.useLayoutEffect=function(_e,d){return U$2.current.useLayoutEffect(_e,d)};react_production_min.useMemo=function(_e,d){return U$2.current.useMemo(_e,d)};react_production_min.useReducer=function(_e,d,Mt){return U$2.current.useReducer(_e,d,Mt)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,d,Mt){return U$2.current.useSyncExternalStore(_e,d,Mt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,d,Mt){var Ot,Ft={},Ut=null,Xt=null;Mt!==void 0&&(Ut=""+Mt),d.key!==void 0&&(Ut=""+d.key),d.ref!==void 0&&(Xt=d.ref);for(Ot in d)m$2.call(d,Ot)&&!p$3.hasOwnProperty(Ot)&&(Ft[Ot]=d[Ot]);if(_e&&_e.defaultProps)for(Ot in d=_e.defaultProps,d)Ft[Ot]===void 0&&(Ft[Ot]=d[Ot]);return{$$typeof:k$1,type:_e,key:Ut,ref:Xt,props:Ft,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function d(Rn,yn){var kn=Rn.length;Rn.push(yn);e:for(;0<kn;){var Fn=kn-1>>>1,Cn=Rn[Fn];if(0<Ft(Cn,yn))Rn[Fn]=yn,Rn[kn]=Cn,kn=Fn;else break e}}function Mt(Rn){return Rn.length===0?null:Rn[0]}function Ot(Rn){if(Rn.length===0)return null;var yn=Rn[0],kn=Rn.pop();if(kn!==yn){Rn[0]=kn;e:for(var Fn=0,Cn=Rn.length,zn=Cn>>>1;Fn<zn;){var $a=2*(Fn+1)-1,co=Rn[$a],io=$a+1,ga=Rn[io];if(0>Ft(co,kn))io<Cn&&0>Ft(ga,co)?(Rn[Fn]=ga,Rn[io]=kn,Fn=io):(Rn[Fn]=co,Rn[$a]=kn,Fn=$a);else if(io<Cn&&0>Ft(ga,kn))Rn[Fn]=ga,Rn[io]=kn,Fn=io;else break e}}return yn}function Ft(Rn,yn){var kn=Rn.sortIndex-yn.sortIndex;return kn!==0?kn:Rn.id-yn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ut=performance;_e.unstable_now=function(){return Ut.now()}}else{var Xt=Date,jr=Xt.now();_e.unstable_now=function(){return Xt.now()-jr}}var hn=[],Vr=[],fn=1,dn=null,pn=3,En=!1,_n=!1,Dn=!1,Vn=typeof setTimeout=="function"?setTimeout:null,Pn=typeof clearTimeout=="function"?clearTimeout:null,qn=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function jn(Rn){for(var yn=Mt(Vr);yn!==null;){if(yn.callback===null)Ot(Vr);else if(yn.startTime<=Rn)Ot(Vr),yn.sortIndex=yn.expirationTime,d(hn,yn);else break;yn=Mt(Vr)}}function Hn(Rn){if(Dn=!1,jn(Rn),!_n)if(Mt(hn)!==null)_n=!0,On(Jn);else{var yn=Mt(Vr);yn!==null&&Ln(Hn,yn.startTime-Rn)}}function Jn(Rn,yn){_n=!1,Dn&&(Dn=!1,Pn(eo),eo=-1),En=!0;var kn=pn;try{for(jn(yn),dn=Mt(hn);dn!==null&&(!(dn.expirationTime>yn)||Rn&&!Un());){var Fn=dn.callback;if(typeof Fn=="function"){dn.callback=null,pn=dn.priorityLevel;var Cn=Fn(dn.expirationTime<=yn);yn=_e.unstable_now(),typeof Cn=="function"?dn.callback=Cn:dn===Mt(hn)&&Ot(hn),jn(yn)}else Ot(hn);dn=Mt(hn)}if(dn!==null)var zn=!0;else{var $a=Mt(Vr);$a!==null&&Ln(Hn,$a.startTime-yn),zn=!1}return zn}finally{dn=null,pn=kn,En=!1}}var Gn=!1,ba=null,eo=-1,xa=5,Yn=-1;function Un(){return!(_e.unstable_now()-Yn<xa)}function Mn(){if(ba!==null){var Rn=_e.unstable_now();Yn=Rn;var yn=!0;try{yn=ba(!0,Rn)}finally{yn?mn():(Gn=!1,ba=null)}}else Gn=!1}var mn;if(typeof qn=="function")mn=function(){qn(Mn)};else if(typeof MessageChannel<"u"){var Xr=new MessageChannel,gn=Xr.port2;Xr.port1.onmessage=Mn,mn=function(){gn.postMessage(null)}}else mn=function(){Vn(Mn,0)};function On(Rn){ba=Rn,Gn||(Gn=!0,mn())}function Ln(Rn,yn){eo=Vn(function(){Rn(_e.unstable_now())},yn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Rn){Rn.callback=null},_e.unstable_continueExecution=function(){_n||En||(_n=!0,On(Jn))},_e.unstable_forceFrameRate=function(Rn){0>Rn||125<Rn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xa=0<Rn?Math.floor(1e3/Rn):5},_e.unstable_getCurrentPriorityLevel=function(){return pn},_e.unstable_getFirstCallbackNode=function(){return Mt(hn)},_e.unstable_next=function(Rn){switch(pn){case 1:case 2:case 3:var yn=3;break;default:yn=pn}var kn=pn;pn=yn;try{return Rn()}finally{pn=kn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Rn,yn){switch(Rn){case 1:case 2:case 3:case 4:case 5:break;default:Rn=3}var kn=pn;pn=Rn;try{return yn()}finally{pn=kn}},_e.unstable_scheduleCallback=function(Rn,yn,kn){var Fn=_e.unstable_now();switch(typeof kn=="object"&&kn!==null?(kn=kn.delay,kn=typeof kn=="number"&&0<kn?Fn+kn:Fn):kn=Fn,Rn){case 1:var Cn=-1;break;case 2:Cn=250;break;case 5:Cn=1073741823;break;case 4:Cn=1e4;break;default:Cn=5e3}return Cn=kn+Cn,Rn={id:fn++,callback:yn,priorityLevel:Rn,startTime:kn,expirationTime:Cn,sortIndex:-1},kn>Fn?(Rn.sortIndex=kn,d(Vr,Rn),Mt(hn)===null&&Rn===Mt(Vr)&&(Dn?(Pn(eo),eo=-1):Dn=!0,Ln(Hn,kn-Fn))):(Rn.sortIndex=Cn,d(hn,Rn),_n||En||(_n=!0,On(Jn))),Rn},_e.unstable_shouldYield=Un,_e.unstable_wrapCallback=function(Rn){var yn=pn;return function(){var kn=pn;pn=yn;try{return Rn.apply(this,arguments)}finally{pn=kn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(_e){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+_e,Mt=1;Mt<arguments.length;Mt++)d+="&args[]="+encodeURIComponent(arguments[Mt]);return"Minified React error #"+_e+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,d){ha(_e,d),ha(_e+"Capture",d)}function ha(_e,d){for(ea[_e]=d,_e=0;_e<d.length;_e++)da.add(d[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,d,Mt,Ot){if(Mt!==null&&Mt.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return Ot?!1:Mt!==null?!Mt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,d,Mt,Ot){if(d===null||typeof d>"u"||pa(_e,d,Mt,Ot))return!0;if(Ot)return!1;if(Mt!==null)switch(Mt.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function v$1(_e,d,Mt,Ot,Ft,Ut,Xt){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=Ot,this.attributeNamespace=Ft,this.mustUseProperty=Mt,this.propertyName=_e,this.type=d,this.sanitizeURL=Ut,this.removeEmptyString=Xt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var d=_e[0];z$1[d]=new v$1(d,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var d=_e.replace(ra,sa);z$1[d]=new v$1(d,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var d=_e.replace(ra,sa);z$1[d]=new v$1(d,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var d=_e.replace(ra,sa);z$1[d]=new v$1(d,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,d,Mt,Ot){var Ft=z$1.hasOwnProperty(d)?z$1[d]:null;(Ft!==null?Ft.type!==0:Ot||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(qa(d,Mt,Ft,Ot)&&(Mt=null),Ot||Ft===null?oa(d)&&(Mt===null?_e.removeAttribute(d):_e.setAttribute(d,""+Mt)):Ft.mustUseProperty?_e[Ft.propertyName]=Mt===null?Ft.type===3?!1:"":Mt:(d=Ft.attributeName,Ot=Ft.attributeNamespace,Mt===null?_e.removeAttribute(d):(Ft=Ft.type,Mt=Ft===3||Ft===4&&Mt===!0?"":""+Mt,Ot?_e.setAttributeNS(Ot,d,Mt):_e.setAttribute(d,Mt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(Mt){var d=Mt.stack.trim().match(/\n( *(at )?)/);La=d&&d[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,d){if(!_e||Na)return"";Na=!0;var Mt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Vr){var Ot=Vr}Reflect.construct(_e,[],d)}else{try{d.call()}catch(Vr){Ot=Vr}_e.call(d.prototype)}else{try{throw Error()}catch(Vr){Ot=Vr}_e()}}catch(Vr){if(Vr&&Ot&&typeof Vr.stack=="string"){for(var Ft=Vr.stack.split(`
`),Ut=Ot.stack.split(`
`),Xt=Ft.length-1,jr=Ut.length-1;1<=Xt&&0<=jr&&Ft[Xt]!==Ut[jr];)jr--;for(;1<=Xt&&0<=jr;Xt--,jr--)if(Ft[Xt]!==Ut[jr]){if(Xt!==1||jr!==1)do if(Xt--,jr--,0>jr||Ft[Xt]!==Ut[jr]){var hn=`
`+Ft[Xt].replace(" at new "," at ");return _e.displayName&&hn.includes("<anonymous>")&&(hn=hn.replace("<anonymous>",_e.displayName)),hn}while(1<=Xt&&0<=jr);break}}}finally{Na=!1,Error.prepareStackTrace=Mt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var d=_e.render;return _e=_e.displayName,_e||(_e=d.displayName||d.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return d=_e.displayName||null,d!==null?d:Qa(_e.type)||"Memo";case Ha:d=_e._payload,_e=_e._init;try{return Qa(_e(d))}catch{}}return null}function Ra(_e){var d=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=d.render,_e=_e.displayName||_e.name||"",d.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(d);case 8:return d===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var d=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ua(_e){var d=Ta(_e)?"checked":"value",Mt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,d),Ot=""+_e[d];if(!_e.hasOwnProperty(d)&&typeof Mt<"u"&&typeof Mt.get=="function"&&typeof Mt.set=="function"){var Ft=Mt.get,Ut=Mt.set;return Object.defineProperty(_e,d,{configurable:!0,get:function(){return Ft.call(this)},set:function(Xt){Ot=""+Xt,Ut.call(this,Xt)}}),Object.defineProperty(_e,d,{enumerable:Mt.enumerable}),{getValue:function(){return Ot},setValue:function(Xt){Ot=""+Xt},stopTracking:function(){_e._valueTracker=null,delete _e[d]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var d=_e._valueTracker;if(!d)return!0;var Mt=d.getValue(),Ot="";return _e&&(Ot=Ta(_e)?_e.checked?"true":"false":_e.value),_e=Ot,_e!==Mt?(d.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,d){var Mt=d.checked;return A$1({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Mt??_e._wrapperState.initialChecked})}function Za(_e,d){var Mt=d.defaultValue==null?"":d.defaultValue,Ot=d.checked!=null?d.checked:d.defaultChecked;Mt=Sa(d.value!=null?d.value:Mt),_e._wrapperState={initialChecked:Ot,initialValue:Mt,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ab(_e,d){d=d.checked,d!=null&&ta(_e,"checked",d,!1)}function bb(_e,d){ab(_e,d);var Mt=Sa(d.value),Ot=d.type;if(Mt!=null)Ot==="number"?(Mt===0&&_e.value===""||_e.value!=Mt)&&(_e.value=""+Mt):_e.value!==""+Mt&&(_e.value=""+Mt);else if(Ot==="submit"||Ot==="reset"){_e.removeAttribute("value");return}d.hasOwnProperty("value")?cb(_e,d.type,Mt):d.hasOwnProperty("defaultValue")&&cb(_e,d.type,Sa(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(_e.defaultChecked=!!d.defaultChecked)}function db(_e,d,Mt){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var Ot=d.type;if(!(Ot!=="submit"&&Ot!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+_e._wrapperState.initialValue,Mt||d===_e.value||(_e.value=d),_e.defaultValue=d}Mt=_e.name,Mt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,Mt!==""&&(_e.name=Mt)}function cb(_e,d,Mt){(d!=="number"||Xa(_e.ownerDocument)!==_e)&&(Mt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+Mt&&(_e.defaultValue=""+Mt))}var eb=Array.isArray;function fb(_e,d,Mt,Ot){if(_e=_e.options,d){d={};for(var Ft=0;Ft<Mt.length;Ft++)d["$"+Mt[Ft]]=!0;for(Mt=0;Mt<_e.length;Mt++)Ft=d.hasOwnProperty("$"+_e[Mt].value),_e[Mt].selected!==Ft&&(_e[Mt].selected=Ft),Ft&&Ot&&(_e[Mt].defaultSelected=!0)}else{for(Mt=""+Sa(Mt),d=null,Ft=0;Ft<_e.length;Ft++){if(_e[Ft].value===Mt){_e[Ft].selected=!0,Ot&&(_e[Ft].defaultSelected=!0);return}d!==null||_e[Ft].disabled||(d=_e[Ft])}d!==null&&(d.selected=!0)}}function gb(_e,d){if(d.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},d,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,d){var Mt=d.value;if(Mt==null){if(Mt=d.children,d=d.defaultValue,Mt!=null){if(d!=null)throw Error(p$2(92));if(eb(Mt)){if(1<Mt.length)throw Error(p$2(93));Mt=Mt[0]}d=Mt}d==null&&(d=""),Mt=d}_e._wrapperState={initialValue:Sa(Mt)}}function ib(_e,d){var Mt=Sa(d.value),Ot=Sa(d.defaultValue);Mt!=null&&(Mt=""+Mt,Mt!==_e.value&&(_e.value=Mt),d.defaultValue==null&&_e.defaultValue!==Mt&&(_e.defaultValue=Mt)),Ot!=null&&(_e.defaultValue=""+Ot)}function jb(_e){var d=_e.textContent;d===_e._wrapperState.initialValue&&d!==""&&d!==null&&(_e.value=d)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,d){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(d):_e==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,Mt,Ot,Ft){MSApp.execUnsafeLocalFunction(function(){return _e(d,Mt,Ot,Ft)})}:_e}(function(_e,d){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=d;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;d.firstChild;)_e.appendChild(d.firstChild)}});function ob(_e,d){if(d){var Mt=_e.firstChild;if(Mt&&Mt===_e.lastChild&&Mt.nodeType===3){Mt.nodeValue=d;return}}_e.textContent=d}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(d){d=d+_e.charAt(0).toUpperCase()+_e.substring(1),pb[d]=pb[_e]})});function rb(_e,d,Mt){return d==null||typeof d=="boolean"||d===""?"":Mt||typeof d!="number"||d===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+d).trim():d+"px"}function sb(_e,d){_e=_e.style;for(var Mt in d)if(d.hasOwnProperty(Mt)){var Ot=Mt.indexOf("--")===0,Ft=rb(Mt,d[Mt],Ot);Mt==="float"&&(Mt="cssFloat"),Ot?_e.setProperty(Mt,Ft):_e[Mt]=Ft}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,d){if(d){if(tb[_e]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(p$2(137,_e));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(p$2(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(p$2(61))}if(d.style!=null&&typeof d.style!="object")throw Error(p$2(62))}}function vb(_e,d){if(_e.indexOf("-")===-1)return typeof d.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$2(280));var d=_e.stateNode;d&&(d=Db(d),yb(_e.stateNode,_e.type,d))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,d=Ab;if(Ab=zb=null,Bb(_e),d)for(_e=0;_e<d.length;_e++)Bb(d[_e])}}function Gb(_e,d){return _e(d)}function Hb(){}var Ib=!1;function Jb(_e,d,Mt){if(Ib)return _e(d,Mt);Ib=!0;try{return Gb(_e,d,Mt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,d){var Mt=_e.stateNode;if(Mt===null)return null;var Ot=Db(Mt);if(Ot===null)return null;Mt=Ot[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ot=!Ot.disabled)||(_e=_e.type,Ot=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!Ot;break e;default:_e=!1}if(_e)return null;if(Mt&&typeof Mt!="function")throw Error(p$2(231,d,typeof Mt));return Mt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,d,Mt,Ot,Ft,Ut,Xt,jr,hn){var Vr=Array.prototype.slice.call(arguments,3);try{d.apply(Mt,Vr)}catch(fn){this.onError(fn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,d,Mt,Ot,Ft,Ut,Xt,jr,hn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,d,Mt,Ot,Ft,Ut,Xt,jr,hn){if(Tb.apply(this,arguments),Ob){if(Ob){var Vr=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=Vr)}}function Vb(_e){var d=_e,Mt=_e;if(_e.alternate)for(;d.return;)d=d.return;else{_e=d;do d=_e,d.flags&4098&&(Mt=d.return),_e=d.return;while(_e)}return d.tag===3?Mt:null}function Wb(_e){if(_e.tag===13){var d=_e.memoizedState;if(d===null&&(_e=_e.alternate,_e!==null&&(d=_e.memoizedState)),d!==null)return d.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$2(188))}function Yb(_e){var d=_e.alternate;if(!d){if(d=Vb(_e),d===null)throw Error(p$2(188));return d!==_e?null:_e}for(var Mt=_e,Ot=d;;){var Ft=Mt.return;if(Ft===null)break;var Ut=Ft.alternate;if(Ut===null){if(Ot=Ft.return,Ot!==null){Mt=Ot;continue}break}if(Ft.child===Ut.child){for(Ut=Ft.child;Ut;){if(Ut===Mt)return Xb(Ft),_e;if(Ut===Ot)return Xb(Ft),d;Ut=Ut.sibling}throw Error(p$2(188))}if(Mt.return!==Ot.return)Mt=Ft,Ot=Ut;else{for(var Xt=!1,jr=Ft.child;jr;){if(jr===Mt){Xt=!0,Mt=Ft,Ot=Ut;break}if(jr===Ot){Xt=!0,Ot=Ft,Mt=Ut;break}jr=jr.sibling}if(!Xt){for(jr=Ut.child;jr;){if(jr===Mt){Xt=!0,Mt=Ut,Ot=Ft;break}if(jr===Ot){Xt=!0,Ot=Ut,Mt=Ft;break}jr=jr.sibling}if(!Xt)throw Error(p$2(189))}}if(Mt.alternate!==Ot)throw Error(p$2(190))}if(Mt.tag!==3)throw Error(p$2(188));return Mt.stateNode.current===Mt?_e:d}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var d=$b(_e);if(d!==null)return d;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,d){var Mt=_e.pendingLanes;if(Mt===0)return 0;var Ot=0,Ft=_e.suspendedLanes,Ut=_e.pingedLanes,Xt=Mt&268435455;if(Xt!==0){var jr=Xt&~Ft;jr!==0?Ot=tc(jr):(Ut&=Xt,Ut!==0&&(Ot=tc(Ut)))}else Xt=Mt&~Ft,Xt!==0?Ot=tc(Xt):Ut!==0&&(Ot=tc(Ut));if(Ot===0)return 0;if(d!==0&&d!==Ot&&!(d&Ft)&&(Ft=Ot&-Ot,Ut=d&-d,Ft>=Ut||Ft===16&&(Ut&4194240)!==0))return d;if(Ot&4&&(Ot|=Mt&16),d=_e.entangledLanes,d!==0)for(_e=_e.entanglements,d&=Ot;0<d;)Mt=31-oc(d),Ft=1<<Mt,Ot|=_e[Mt],d&=~Ft;return Ot}function vc(_e,d){switch(_e){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,d){for(var Mt=_e.suspendedLanes,Ot=_e.pingedLanes,Ft=_e.expirationTimes,Ut=_e.pendingLanes;0<Ut;){var Xt=31-oc(Ut),jr=1<<Xt,hn=Ft[Xt];hn===-1?(!(jr&Mt)||jr&Ot)&&(Ft[Xt]=vc(jr,d)):hn<=d&&(_e.expiredLanes|=jr),Ut&=~jr}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var d=[],Mt=0;31>Mt;Mt++)d.push(_e);return d}function Ac(_e,d,Mt){_e.pendingLanes|=d,d!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,d=31-oc(d),_e[d]=Mt}function Bc(_e,d){var Mt=_e.pendingLanes&~d;_e.pendingLanes=d,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=d,_e.mutableReadLanes&=d,_e.entangledLanes&=d,d=_e.entanglements;var Ot=_e.eventTimes;for(_e=_e.expirationTimes;0<Mt;){var Ft=31-oc(Mt),Ut=1<<Ft;d[Ft]=0,Ot[Ft]=-1,_e[Ft]=-1,Mt&=~Ut}}function Cc(_e,d){var Mt=_e.entangledLanes|=d;for(_e=_e.entanglements;Mt;){var Ot=31-oc(Mt),Ft=1<<Ot;Ft&d|_e[Ot]&d&&(_e[Ot]|=d),Mt&=~Ft}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,d){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(d.pointerId)}}function Tc(_e,d,Mt,Ot,Ft,Ut){return _e===null||_e.nativeEvent!==Ut?(_e={blockedOn:d,domEventName:Mt,eventSystemFlags:Ot,nativeEvent:Ut,targetContainers:[Ft]},d!==null&&(d=Cb(d),d!==null&&Fc(d)),_e):(_e.eventSystemFlags|=Ot,d=_e.targetContainers,Ft!==null&&d.indexOf(Ft)===-1&&d.push(Ft),_e)}function Uc(_e,d,Mt,Ot,Ft){switch(d){case"focusin":return Lc=Tc(Lc,_e,d,Mt,Ot,Ft),!0;case"dragenter":return Mc=Tc(Mc,_e,d,Mt,Ot,Ft),!0;case"mouseover":return Nc=Tc(Nc,_e,d,Mt,Ot,Ft),!0;case"pointerover":var Ut=Ft.pointerId;return Oc.set(Ut,Tc(Oc.get(Ut)||null,_e,d,Mt,Ot,Ft)),!0;case"gotpointercapture":return Ut=Ft.pointerId,Pc.set(Ut,Tc(Pc.get(Ut)||null,_e,d,Mt,Ot,Ft)),!0}return!1}function Vc(_e){var d=Wc(_e.target);if(d!==null){var Mt=Vb(d);if(Mt!==null){if(d=Mt.tag,d===13){if(d=Wb(Mt),d!==null){_e.blockedOn=d,Ic(_e.priority,function(){Gc(Mt)});return}}else if(d===3&&Mt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=Mt.tag===3?Mt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var d=_e.targetContainers;0<d.length;){var Mt=Yc(_e.domEventName,_e.eventSystemFlags,d[0],_e.nativeEvent);if(Mt===null){Mt=_e.nativeEvent;var Ot=new Mt.constructor(Mt.type,Mt);wb=Ot,Mt.target.dispatchEvent(Ot),wb=null}else return d=Cb(Mt),d!==null&&Fc(d),_e.blockedOn=Mt,!1;d.shift()}return!0}function Zc(_e,d,Mt){Xc(_e)&&Mt.delete(d)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,d){_e.blockedOn===d&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function d(Ft){return ad(Ft,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var Mt=1;Mt<Kc.length;Mt++){var Ot=Kc[Mt];Ot.blockedOn===_e&&(Ot.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(d),Pc.forEach(d),Mt=0;Mt<Qc.length;Mt++)Ot=Qc[Mt],Ot.blockedOn===_e&&(Ot.blockedOn=null);for(;0<Qc.length&&(Mt=Qc[0],Mt.blockedOn===null);)Vc(Mt),Mt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,d,Mt,Ot){var Ft=C$1,Ut=cd.transition;cd.transition=null;try{C$1=1,fd(_e,d,Mt,Ot)}finally{C$1=Ft,cd.transition=Ut}}function gd(_e,d,Mt,Ot){var Ft=C$1,Ut=cd.transition;cd.transition=null;try{C$1=4,fd(_e,d,Mt,Ot)}finally{C$1=Ft,cd.transition=Ut}}function fd(_e,d,Mt,Ot){if(dd){var Ft=Yc(_e,d,Mt,Ot);if(Ft===null)hd(_e,d,Ot,id,Mt),Sc(_e,Ot);else if(Uc(Ft,_e,d,Mt,Ot))Ot.stopPropagation();else if(Sc(_e,Ot),d&4&&-1<Rc.indexOf(_e)){for(;Ft!==null;){var Ut=Cb(Ft);if(Ut!==null&&Ec(Ut),Ut=Yc(_e,d,Mt,Ot),Ut===null&&hd(_e,d,Ot,id,Mt),Ut===Ft)break;Ft=Ut}Ft!==null&&Ot.stopPropagation()}else hd(_e,d,Ot,null,Mt)}}var id=null;function Yc(_e,d,Mt,Ot){if(id=null,_e=xb(Ot),_e=Wc(_e),_e!==null)if(d=Vb(_e),d===null)_e=null;else if(Mt=d.tag,Mt===13){if(_e=Wb(d),_e!==null)return _e;_e=null}else if(Mt===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;_e=null}else d!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,d=ld,Mt=d.length,Ot,Ft="value"in kd?kd.value:kd.textContent,Ut=Ft.length;for(_e=0;_e<Mt&&d[_e]===Ft[_e];_e++);var Xt=Mt-_e;for(Ot=1;Ot<=Xt&&d[Mt-Ot]===Ft[Ut-Ot];Ot++);return md=Ft.slice(_e,1<Ot?1-Ot:void 0)}function od(_e){var d=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&d===13&&(_e=13)):_e=d,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function d(Mt,Ot,Ft,Ut,Xt){this._reactName=Mt,this._targetInst=Ft,this.type=Ot,this.nativeEvent=Ut,this.target=Xt,this.currentTarget=null;for(var jr in _e)_e.hasOwnProperty(jr)&&(Mt=_e[jr],this[jr]=Mt?Mt(Ut):Ut[jr]);return this.isDefaultPrevented=(Ut.defaultPrevented!=null?Ut.defaultPrevented:Ut.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Mt=this.nativeEvent;Mt&&(Mt.preventDefault?Mt.preventDefault():typeof Mt.returnValue!="unknown"&&(Mt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var Mt=this.nativeEvent;Mt&&(Mt.stopPropagation?Mt.stopPropagation():typeof Mt.cancelBubble!="unknown"&&(Mt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),d}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(_e):(_e=Od[_e])?!!d[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var d=Md[_e.key]||_e.key;if(d!=="Unidentified")return d}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe$1=!1;function ge(_e,d){switch(_e){case"keyup":return $d.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je$1(_e,d){switch(_e){case"compositionend":return he$1(d);case"keypress":return d.which!==32?null:(fe$1=!0,ee$1);case"textInput":return _e=d.data,_e===ee$1&&fe$1?null:_e;default:return null}}function ke$1(_e,d){if(ie$1)return _e==="compositionend"||!ae$1&&ge(_e,d)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return de$1&&d.locale!=="ko"?null:d.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var d=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return d==="input"?!!le$1[_e.type]:d==="textarea"}function ne(_e,d,Mt,Ot){Eb(Ot),d=oe$1(d,"onChange"),0<d.length&&(Mt=new td("onChange","change",null,Mt,Ot),_e.push({event:Mt,listeners:d}))}var pe$1=null,qe$1=null;function re$1(_e){se(_e,0)}function te$1(_e){var d=ue(_e);if(Wa(d))return _e}function ve(_e,d){if(_e==="change")return d}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var d=[];ne(d,qe$1,_e,xb(_e)),Jb(re$1,d)}}function Ce$1(_e,d,Mt){_e==="focusin"?(Ae$1(),pe$1=d,qe$1=Mt,pe$1.attachEvent("onpropertychange",Be$1)):_e==="focusout"&&Ae$1()}function De$1(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,d){if(_e==="click")return te$1(d)}function Fe$1(_e,d){if(_e==="input"||_e==="change")return te$1(d)}function Ge(_e,d){return _e===d&&(_e!==0||1/_e===1/d)||_e!==_e&&d!==d}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(_e,d){if(He$1(_e,d))return!0;if(typeof _e!="object"||_e===null||typeof d!="object"||d===null)return!1;var Mt=Object.keys(_e),Ot=Object.keys(d);if(Mt.length!==Ot.length)return!1;for(Ot=0;Ot<Mt.length;Ot++){var Ft=Mt[Ot];if(!ja.call(d,Ft)||!He$1(_e[Ft],d[Ft]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke$1(_e,d){var Mt=Je$1(_e);_e=0;for(var Ot;Mt;){if(Mt.nodeType===3){if(Ot=_e+Mt.textContent.length,_e<=d&&Ot>=d)return{node:Mt,offset:d-_e};_e=Ot}e:{for(;Mt;){if(Mt.nextSibling){Mt=Mt.nextSibling;break e}Mt=Mt.parentNode}Mt=void 0}Mt=Je$1(Mt)}}function Le$1(_e,d){return _e&&d?_e===d?!0:_e&&_e.nodeType===3?!1:d&&d.nodeType===3?Le$1(_e,d.parentNode):"contains"in _e?_e.contains(d):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(d)&16):!1:!1}function Me$1(){for(var _e=window,d=Xa();d instanceof _e.HTMLIFrameElement;){try{var Mt=typeof d.contentWindow.location.href=="string"}catch{Mt=!1}if(Mt)_e=d.contentWindow;else break;d=Xa(_e.document)}return d}function Ne$1(_e){var d=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return d&&(d==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||d==="textarea"||_e.contentEditable==="true")}function Oe$1(_e){var d=Me$1(),Mt=_e.focusedElem,Ot=_e.selectionRange;if(d!==Mt&&Mt&&Mt.ownerDocument&&Le$1(Mt.ownerDocument.documentElement,Mt)){if(Ot!==null&&Ne$1(Mt)){if(d=Ot.start,_e=Ot.end,_e===void 0&&(_e=d),"selectionStart"in Mt)Mt.selectionStart=d,Mt.selectionEnd=Math.min(_e,Mt.value.length);else if(_e=(d=Mt.ownerDocument||document)&&d.defaultView||window,_e.getSelection){_e=_e.getSelection();var Ft=Mt.textContent.length,Ut=Math.min(Ot.start,Ft);Ot=Ot.end===void 0?Ut:Math.min(Ot.end,Ft),!_e.extend&&Ut>Ot&&(Ft=Ot,Ot=Ut,Ut=Ft),Ft=Ke$1(Mt,Ut);var Xt=Ke$1(Mt,Ot);Ft&&Xt&&(_e.rangeCount!==1||_e.anchorNode!==Ft.node||_e.anchorOffset!==Ft.offset||_e.focusNode!==Xt.node||_e.focusOffset!==Xt.offset)&&(d=d.createRange(),d.setStart(Ft.node,Ft.offset),_e.removeAllRanges(),Ut>Ot?(_e.addRange(d),_e.extend(Xt.node,Xt.offset)):(d.setEnd(Xt.node,Xt.offset),_e.addRange(d)))}}for(d=[],_e=Mt;_e=_e.parentNode;)_e.nodeType===1&&d.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof Mt.focus=="function"&&Mt.focus(),Mt=0;Mt<d.length;Mt++)_e=d[Mt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(_e,d,Mt){var Ot=Mt.window===Mt?Mt.document:Mt.nodeType===9?Mt:Mt.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(Ot)||(Ot=Qe$1,"selectionStart"in Ot&&Ne$1(Ot)?Ot={start:Ot.selectionStart,end:Ot.selectionEnd}:(Ot=(Ot.ownerDocument&&Ot.ownerDocument.defaultView||window).getSelection(),Ot={anchorNode:Ot.anchorNode,anchorOffset:Ot.anchorOffset,focusNode:Ot.focusNode,focusOffset:Ot.focusOffset}),Se$1&&Ie$1(Se$1,Ot)||(Se$1=Ot,Ot=oe$1(Re$1,"onSelect"),0<Ot.length&&(d=new td("onSelect","select",null,d,Mt),_e.push({event:d,listeners:Ot}),d.target=Qe$1)))}function Ve$1(_e,d){var Mt={};return Mt[_e.toLowerCase()]=d.toLowerCase(),Mt["Webkit"+_e]="webkit"+d,Mt["Moz"+_e]="moz"+d,Mt}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We$1[_e])return _e;var d=We$1[_e],Mt;for(Mt in d)if(d.hasOwnProperty(Mt)&&Mt in Ye$1)return Xe$1[_e]=d[Mt];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,d){df.set(_e,d),fa(d,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,d,Mt){var Ot=_e.type||"unknown-event";_e.currentTarget=Mt,Ub(Ot,d,void 0,_e),_e.currentTarget=null}function se(_e,d){d=(d&4)!==0;for(var Mt=0;Mt<_e.length;Mt++){var Ot=_e[Mt],Ft=Ot.event;Ot=Ot.listeners;e:{var Ut=void 0;if(d)for(var Xt=Ot.length-1;0<=Xt;Xt--){var jr=Ot[Xt],hn=jr.instance,Vr=jr.currentTarget;if(jr=jr.listener,hn!==Ut&&Ft.isPropagationStopped())break e;nf(Ft,jr,Vr),Ut=hn}else for(Xt=0;Xt<Ot.length;Xt++){if(jr=Ot[Xt],hn=jr.instance,Vr=jr.currentTarget,jr=jr.listener,hn!==Ut&&Ft.isPropagationStopped())break e;nf(Ft,jr,Vr),Ut=hn}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,d){var Mt=d[of];Mt===void 0&&(Mt=d[of]=new Set);var Ot=_e+"__bubble";Mt.has(Ot)||(pf(d,_e,2,!1),Mt.add(Ot))}function qf(_e,d,Mt){var Ot=0;d&&(Ot|=4),pf(Mt,_e,Ot,d)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(Mt){Mt!=="selectionchange"&&(mf.has(Mt)||qf(Mt,!1,_e),qf(Mt,!0,_e))});var d=_e.nodeType===9?_e:_e.ownerDocument;d===null||d[rf]||(d[rf]=!0,qf("selectionchange",!1,d))}}function pf(_e,d,Mt,Ot){switch(jd(d)){case 1:var Ft=ed;break;case 4:Ft=gd;break;default:Ft=fd}Mt=Ft.bind(null,d,Mt,_e),Ft=void 0,!Lb||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(Ft=!0),Ot?Ft!==void 0?_e.addEventListener(d,Mt,{capture:!0,passive:Ft}):_e.addEventListener(d,Mt,!0):Ft!==void 0?_e.addEventListener(d,Mt,{passive:Ft}):_e.addEventListener(d,Mt,!1)}function hd(_e,d,Mt,Ot,Ft){var Ut=Ot;if(!(d&1)&&!(d&2)&&Ot!==null)e:for(;;){if(Ot===null)return;var Xt=Ot.tag;if(Xt===3||Xt===4){var jr=Ot.stateNode.containerInfo;if(jr===Ft||jr.nodeType===8&&jr.parentNode===Ft)break;if(Xt===4)for(Xt=Ot.return;Xt!==null;){var hn=Xt.tag;if((hn===3||hn===4)&&(hn=Xt.stateNode.containerInfo,hn===Ft||hn.nodeType===8&&hn.parentNode===Ft))return;Xt=Xt.return}for(;jr!==null;){if(Xt=Wc(jr),Xt===null)return;if(hn=Xt.tag,hn===5||hn===6){Ot=Ut=Xt;continue e}jr=jr.parentNode}}Ot=Ot.return}Jb(function(){var Vr=Ut,fn=xb(Mt),dn=[];e:{var pn=df.get(_e);if(pn!==void 0){var En=td,_n=_e;switch(_e){case"keypress":if(od(Mt)===0)break e;case"keydown":case"keyup":En=Rd;break;case"focusin":_n="focus",En=Fd;break;case"focusout":_n="blur",En=Fd;break;case"beforeblur":case"afterblur":En=Fd;break;case"click":if(Mt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":En=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":En=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":En=Vd;break;case $e$1:case af:case bf:En=Hd;break;case cf:En=Xd;break;case"scroll":En=vd;break;case"wheel":En=Zd;break;case"copy":case"cut":case"paste":En=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":En=Td}var Dn=(d&4)!==0,Vn=!Dn&&_e==="scroll",Pn=Dn?pn!==null?pn+"Capture":null:pn;Dn=[];for(var qn=Vr,jn;qn!==null;){jn=qn;var Hn=jn.stateNode;if(jn.tag===5&&Hn!==null&&(jn=Hn,Pn!==null&&(Hn=Kb(qn,Pn),Hn!=null&&Dn.push(tf(qn,Hn,jn)))),Vn)break;qn=qn.return}0<Dn.length&&(pn=new En(pn,_n,null,Mt,fn),dn.push({event:pn,listeners:Dn}))}}if(!(d&7)){e:{if(pn=_e==="mouseover"||_e==="pointerover",En=_e==="mouseout"||_e==="pointerout",pn&&Mt!==wb&&(_n=Mt.relatedTarget||Mt.fromElement)&&(Wc(_n)||_n[uf]))break e;if((En||pn)&&(pn=fn.window===fn?fn:(pn=fn.ownerDocument)?pn.defaultView||pn.parentWindow:window,En?(_n=Mt.relatedTarget||Mt.toElement,En=Vr,_n=_n?Wc(_n):null,_n!==null&&(Vn=Vb(_n),_n!==Vn||_n.tag!==5&&_n.tag!==6)&&(_n=null)):(En=null,_n=Vr),En!==_n)){if(Dn=Bd,Hn="onMouseLeave",Pn="onMouseEnter",qn="mouse",(_e==="pointerout"||_e==="pointerover")&&(Dn=Td,Hn="onPointerLeave",Pn="onPointerEnter",qn="pointer"),Vn=En==null?pn:ue(En),jn=_n==null?pn:ue(_n),pn=new Dn(Hn,qn+"leave",En,Mt,fn),pn.target=Vn,pn.relatedTarget=jn,Hn=null,Wc(fn)===Vr&&(Dn=new Dn(Pn,qn+"enter",_n,Mt,fn),Dn.target=jn,Dn.relatedTarget=Vn,Hn=Dn),Vn=Hn,En&&_n)t:{for(Dn=En,Pn=_n,qn=0,jn=Dn;jn;jn=vf(jn))qn++;for(jn=0,Hn=Pn;Hn;Hn=vf(Hn))jn++;for(;0<qn-jn;)Dn=vf(Dn),qn--;for(;0<jn-qn;)Pn=vf(Pn),jn--;for(;qn--;){if(Dn===Pn||Pn!==null&&Dn===Pn.alternate)break t;Dn=vf(Dn),Pn=vf(Pn)}Dn=null}else Dn=null;En!==null&&wf(dn,pn,En,Dn,!1),_n!==null&&Vn!==null&&wf(dn,Vn,_n,Dn,!0)}}e:{if(pn=Vr?ue(Vr):window,En=pn.nodeName&&pn.nodeName.toLowerCase(),En==="select"||En==="input"&&pn.type==="file")var Jn=ve;else if(me$1(pn))if(we$1)Jn=Fe$1;else{Jn=De$1;var Gn=Ce$1}else(En=pn.nodeName)&&En.toLowerCase()==="input"&&(pn.type==="checkbox"||pn.type==="radio")&&(Jn=Ee);if(Jn&&(Jn=Jn(_e,Vr))){ne(dn,Jn,Mt,fn);break e}Gn&&Gn(_e,pn,Vr),_e==="focusout"&&(Gn=pn._wrapperState)&&Gn.controlled&&pn.type==="number"&&cb(pn,"number",pn.value)}switch(Gn=Vr?ue(Vr):window,_e){case"focusin":(me$1(Gn)||Gn.contentEditable==="true")&&(Qe$1=Gn,Re$1=Vr,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(dn,Mt,fn);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(dn,Mt,fn)}var ba;if(ae$1)e:{switch(_e){case"compositionstart":var eo="onCompositionStart";break e;case"compositionend":eo="onCompositionEnd";break e;case"compositionupdate":eo="onCompositionUpdate";break e}eo=void 0}else ie$1?ge(_e,Mt)&&(eo="onCompositionEnd"):_e==="keydown"&&Mt.keyCode===229&&(eo="onCompositionStart");eo&&(de$1&&Mt.locale!=="ko"&&(ie$1||eo!=="onCompositionStart"?eo==="onCompositionEnd"&&ie$1&&(ba=nd()):(kd=fn,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Gn=oe$1(Vr,eo),0<Gn.length&&(eo=new Ld(eo,_e,null,Mt,fn),dn.push({event:eo,listeners:Gn}),ba?eo.data=ba:(ba=he$1(Mt),ba!==null&&(eo.data=ba)))),(ba=ce$1?je$1(_e,Mt):ke$1(_e,Mt))&&(Vr=oe$1(Vr,"onBeforeInput"),0<Vr.length&&(fn=new Ld("onBeforeInput","beforeinput",null,Mt,fn),dn.push({event:fn,listeners:Vr}),fn.data=ba))}se(dn,d)})}function tf(_e,d,Mt){return{instance:_e,listener:d,currentTarget:Mt}}function oe$1(_e,d){for(var Mt=d+"Capture",Ot=[];_e!==null;){var Ft=_e,Ut=Ft.stateNode;Ft.tag===5&&Ut!==null&&(Ft=Ut,Ut=Kb(_e,Mt),Ut!=null&&Ot.unshift(tf(_e,Ut,Ft)),Ut=Kb(_e,d),Ut!=null&&Ot.push(tf(_e,Ut,Ft))),_e=_e.return}return Ot}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,d,Mt,Ot,Ft){for(var Ut=d._reactName,Xt=[];Mt!==null&&Mt!==Ot;){var jr=Mt,hn=jr.alternate,Vr=jr.stateNode;if(hn!==null&&hn===Ot)break;jr.tag===5&&Vr!==null&&(jr=Vr,Ft?(hn=Kb(Mt,Ut),hn!=null&&Xt.unshift(tf(Mt,hn,jr))):Ft||(hn=Kb(Mt,Ut),hn!=null&&Xt.push(tf(Mt,hn,jr)))),Mt=Mt.return}Xt.length!==0&&_e.push({event:d,listeners:Xt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,d,Mt){if(d=zf(d),zf(_e)!==d&&Mt)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,d){return _e==="textarea"||_e==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,d){var Mt=d,Ot=0;do{var Ft=Mt.nextSibling;if(_e.removeChild(Mt),Ft&&Ft.nodeType===8)if(Mt=Ft.data,Mt==="/$"){if(Ot===0){_e.removeChild(Ft),bd(d);return}Ot--}else Mt!=="$"&&Mt!=="$?"&&Mt!=="$!"||Ot++;Mt=Ft}while(Mt);bd(d)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var d=_e.nodeType;if(d===1||d===3)break;if(d===8){if(d=_e.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var d=0;_e;){if(_e.nodeType===8){var Mt=_e.data;if(Mt==="$"||Mt==="$!"||Mt==="$?"){if(d===0)return _e;d--}else Mt==="/$"&&d++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var d=_e[Of];if(d)return d;for(var Mt=_e.parentNode;Mt;){if(d=Mt[uf]||Mt[Of]){if(Mt=d.alternate,d.child!==null||Mt!==null&&Mt.child!==null)for(_e=Mf(_e);_e!==null;){if(Mt=_e[Of])return Mt;_e=Mf(_e)}return d}_e=Mt,Mt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$2(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,d){Tf++,Sf[Tf]=_e.current,_e.current=d}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,d){var Mt=_e.type.contextTypes;if(!Mt)return Vf;var Ot=_e.stateNode;if(Ot&&Ot.__reactInternalMemoizedUnmaskedChildContext===d)return Ot.__reactInternalMemoizedMaskedChildContext;var Ft={},Ut;for(Ut in Mt)Ft[Ut]=d[Ut];return Ot&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=d,_e.__reactInternalMemoizedMaskedChildContext=Ft),Ft}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,d,Mt){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,d),G$1(Wf,Mt)}function bg(_e,d,Mt){var Ot=_e.stateNode;if(d=d.childContextTypes,typeof Ot.getChildContext!="function")return Mt;Ot=Ot.getChildContext();for(var Ft in Ot)if(!(Ft in d))throw Error(p$2(108,Ra(_e)||"Unknown",Ft));return A$1({},Mt,Ot)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,_e),G$1(Wf,Wf.current),!0}function dg(_e,d,Mt){var Ot=_e.stateNode;if(!Ot)throw Error(p$2(169));Mt?(_e=bg(_e,d,Xf),Ot.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G$1(H$1,_e)):E$1(Wf),G$1(Wf,Mt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,d=C$1;try{var Mt=eg;for(C$1=1;_e<Mt.length;_e++){var Ot=Mt[_e];do Ot=Ot(!0);while(Ot!==null)}eg=null,fg=!1}catch(Ft){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),Ft}finally{C$1=d,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,d){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=d}function ug(_e,d,Mt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var Ot=rg;_e=sg;var Ft=32-oc(Ot)-1;Ot&=~(1<<Ft),Mt+=1;var Ut=32-oc(d)+Ft;if(30<Ut){var Xt=Ft-Ft%5;Ut=(Ot&(1<<Xt)-1).toString(32),Ot>>=Xt,Ft-=Xt,rg=1<<32-oc(d)+Ft|Mt<<Ft|Ot,sg=Ut+_e}else rg=1<<Ut|Mt<<Ft|Ot,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,d){var Mt=Bg(5,null,null,0);Mt.elementType="DELETED",Mt.stateNode=d,Mt.return=_e,d=_e.deletions,d===null?(_e.deletions=[Mt],_e.flags|=16):d.push(Mt)}function Cg(_e,d){switch(_e.tag){case 5:var Mt=_e.type;return d=d.nodeType!==1||Mt.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(_e.stateNode=d,xg=_e,yg=Lf(d.firstChild),!0):!1;case 6:return d=_e.pendingProps===""||d.nodeType!==3?null:d,d!==null?(_e.stateNode=d,xg=_e,yg=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(Mt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:d,treeContext:Mt,retryLane:1073741824},Mt=Bg(18,null,null,0),Mt.stateNode=d,Mt.return=_e,_e.child=Mt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var d=yg;if(d){var Mt=d;if(!Cg(_e,d)){if(Dg(_e))throw Error(p$2(418));d=Lf(Mt.nextSibling);var Ot=xg;d&&Cg(_e,d)?Ag(Ot,Mt):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$2(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var d;if((d=_e.tag!==3)&&!(d=_e.tag!==5)&&(d=_e.type,d=d!=="head"&&d!=="body"&&!Ef(_e.type,_e.memoizedProps)),d&&(d=yg)){if(Dg(_e))throw Hg(),Error(p$2(418));for(;d;)Ag(_e,d),d=Lf(d.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));e:{for(_e=_e.nextSibling,d=0;_e;){if(_e.nodeType===8){var Mt=_e.data;if(Mt==="/$"){if(d===0){yg=Lf(_e.nextSibling);break e}d--}else Mt!=="$"&&Mt!=="$!"&&Mt!=="$?"||d++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,d,Mt){if(_e=Mt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(Mt._owner){if(Mt=Mt._owner,Mt){if(Mt.tag!==1)throw Error(p$2(309));var Ot=Mt.stateNode}if(!Ot)throw Error(p$2(147,_e));var Ft=Ot,Ut=""+_e;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===Ut?d.ref:(d=function(Xt){var jr=Ft.refs;Xt===null?delete jr[Ut]:jr[Ut]=Xt},d._stringRef=Ut,d)}if(typeof _e!="string")throw Error(p$2(284));if(!Mt._owner)throw Error(p$2(290,_e))}return _e}function Mg(_e,d){throw _e=Object.prototype.toString.call(d),Error(p$2(31,_e==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":_e))}function Ng(_e){var d=_e._init;return d(_e._payload)}function Og(_e){function d(Pn,qn){if(_e){var jn=Pn.deletions;jn===null?(Pn.deletions=[qn],Pn.flags|=16):jn.push(qn)}}function Mt(Pn,qn){if(!_e)return null;for(;qn!==null;)d(Pn,qn),qn=qn.sibling;return null}function Ot(Pn,qn){for(Pn=new Map;qn!==null;)qn.key!==null?Pn.set(qn.key,qn):Pn.set(qn.index,qn),qn=qn.sibling;return Pn}function Ft(Pn,qn){return Pn=Pg(Pn,qn),Pn.index=0,Pn.sibling=null,Pn}function Ut(Pn,qn,jn){return Pn.index=jn,_e?(jn=Pn.alternate,jn!==null?(jn=jn.index,jn<qn?(Pn.flags|=2,qn):jn):(Pn.flags|=2,qn)):(Pn.flags|=1048576,qn)}function Xt(Pn){return _e&&Pn.alternate===null&&(Pn.flags|=2),Pn}function jr(Pn,qn,jn,Hn){return qn===null||qn.tag!==6?(qn=Qg(jn,Pn.mode,Hn),qn.return=Pn,qn):(qn=Ft(qn,jn),qn.return=Pn,qn)}function hn(Pn,qn,jn,Hn){var Jn=jn.type;return Jn===ya?fn(Pn,qn,jn.props.children,Hn,jn.key):qn!==null&&(qn.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===Ha&&Ng(Jn)===qn.type)?(Hn=Ft(qn,jn.props),Hn.ref=Lg(Pn,qn,jn),Hn.return=Pn,Hn):(Hn=Rg(jn.type,jn.key,jn.props,null,Pn.mode,Hn),Hn.ref=Lg(Pn,qn,jn),Hn.return=Pn,Hn)}function Vr(Pn,qn,jn,Hn){return qn===null||qn.tag!==4||qn.stateNode.containerInfo!==jn.containerInfo||qn.stateNode.implementation!==jn.implementation?(qn=Sg(jn,Pn.mode,Hn),qn.return=Pn,qn):(qn=Ft(qn,jn.children||[]),qn.return=Pn,qn)}function fn(Pn,qn,jn,Hn,Jn){return qn===null||qn.tag!==7?(qn=Tg(jn,Pn.mode,Hn,Jn),qn.return=Pn,qn):(qn=Ft(qn,jn),qn.return=Pn,qn)}function dn(Pn,qn,jn){if(typeof qn=="string"&&qn!==""||typeof qn=="number")return qn=Qg(""+qn,Pn.mode,jn),qn.return=Pn,qn;if(typeof qn=="object"&&qn!==null){switch(qn.$$typeof){case va:return jn=Rg(qn.type,qn.key,qn.props,null,Pn.mode,jn),jn.ref=Lg(Pn,null,qn),jn.return=Pn,jn;case wa:return qn=Sg(qn,Pn.mode,jn),qn.return=Pn,qn;case Ha:var Hn=qn._init;return dn(Pn,Hn(qn._payload),jn)}if(eb(qn)||Ka(qn))return qn=Tg(qn,Pn.mode,jn,null),qn.return=Pn,qn;Mg(Pn,qn)}return null}function pn(Pn,qn,jn,Hn){var Jn=qn!==null?qn.key:null;if(typeof jn=="string"&&jn!==""||typeof jn=="number")return Jn!==null?null:jr(Pn,qn,""+jn,Hn);if(typeof jn=="object"&&jn!==null){switch(jn.$$typeof){case va:return jn.key===Jn?hn(Pn,qn,jn,Hn):null;case wa:return jn.key===Jn?Vr(Pn,qn,jn,Hn):null;case Ha:return Jn=jn._init,pn(Pn,qn,Jn(jn._payload),Hn)}if(eb(jn)||Ka(jn))return Jn!==null?null:fn(Pn,qn,jn,Hn,null);Mg(Pn,jn)}return null}function En(Pn,qn,jn,Hn,Jn){if(typeof Hn=="string"&&Hn!==""||typeof Hn=="number")return Pn=Pn.get(jn)||null,jr(qn,Pn,""+Hn,Jn);if(typeof Hn=="object"&&Hn!==null){switch(Hn.$$typeof){case va:return Pn=Pn.get(Hn.key===null?jn:Hn.key)||null,hn(qn,Pn,Hn,Jn);case wa:return Pn=Pn.get(Hn.key===null?jn:Hn.key)||null,Vr(qn,Pn,Hn,Jn);case Ha:var Gn=Hn._init;return En(Pn,qn,jn,Gn(Hn._payload),Jn)}if(eb(Hn)||Ka(Hn))return Pn=Pn.get(jn)||null,fn(qn,Pn,Hn,Jn,null);Mg(qn,Hn)}return null}function _n(Pn,qn,jn,Hn){for(var Jn=null,Gn=null,ba=qn,eo=qn=0,xa=null;ba!==null&&eo<jn.length;eo++){ba.index>eo?(xa=ba,ba=null):xa=ba.sibling;var Yn=pn(Pn,ba,jn[eo],Hn);if(Yn===null){ba===null&&(ba=xa);break}_e&&ba&&Yn.alternate===null&&d(Pn,ba),qn=Ut(Yn,qn,eo),Gn===null?Jn=Yn:Gn.sibling=Yn,Gn=Yn,ba=xa}if(eo===jn.length)return Mt(Pn,ba),I$1&&tg(Pn,eo),Jn;if(ba===null){for(;eo<jn.length;eo++)ba=dn(Pn,jn[eo],Hn),ba!==null&&(qn=Ut(ba,qn,eo),Gn===null?Jn=ba:Gn.sibling=ba,Gn=ba);return I$1&&tg(Pn,eo),Jn}for(ba=Ot(Pn,ba);eo<jn.length;eo++)xa=En(ba,Pn,eo,jn[eo],Hn),xa!==null&&(_e&&xa.alternate!==null&&ba.delete(xa.key===null?eo:xa.key),qn=Ut(xa,qn,eo),Gn===null?Jn=xa:Gn.sibling=xa,Gn=xa);return _e&&ba.forEach(function(Un){return d(Pn,Un)}),I$1&&tg(Pn,eo),Jn}function Dn(Pn,qn,jn,Hn){var Jn=Ka(jn);if(typeof Jn!="function")throw Error(p$2(150));if(jn=Jn.call(jn),jn==null)throw Error(p$2(151));for(var Gn=Jn=null,ba=qn,eo=qn=0,xa=null,Yn=jn.next();ba!==null&&!Yn.done;eo++,Yn=jn.next()){ba.index>eo?(xa=ba,ba=null):xa=ba.sibling;var Un=pn(Pn,ba,Yn.value,Hn);if(Un===null){ba===null&&(ba=xa);break}_e&&ba&&Un.alternate===null&&d(Pn,ba),qn=Ut(Un,qn,eo),Gn===null?Jn=Un:Gn.sibling=Un,Gn=Un,ba=xa}if(Yn.done)return Mt(Pn,ba),I$1&&tg(Pn,eo),Jn;if(ba===null){for(;!Yn.done;eo++,Yn=jn.next())Yn=dn(Pn,Yn.value,Hn),Yn!==null&&(qn=Ut(Yn,qn,eo),Gn===null?Jn=Yn:Gn.sibling=Yn,Gn=Yn);return I$1&&tg(Pn,eo),Jn}for(ba=Ot(Pn,ba);!Yn.done;eo++,Yn=jn.next())Yn=En(ba,Pn,eo,Yn.value,Hn),Yn!==null&&(_e&&Yn.alternate!==null&&ba.delete(Yn.key===null?eo:Yn.key),qn=Ut(Yn,qn,eo),Gn===null?Jn=Yn:Gn.sibling=Yn,Gn=Yn);return _e&&ba.forEach(function(Mn){return d(Pn,Mn)}),I$1&&tg(Pn,eo),Jn}function Vn(Pn,qn,jn,Hn){if(typeof jn=="object"&&jn!==null&&jn.type===ya&&jn.key===null&&(jn=jn.props.children),typeof jn=="object"&&jn!==null){switch(jn.$$typeof){case va:e:{for(var Jn=jn.key,Gn=qn;Gn!==null;){if(Gn.key===Jn){if(Jn=jn.type,Jn===ya){if(Gn.tag===7){Mt(Pn,Gn.sibling),qn=Ft(Gn,jn.props.children),qn.return=Pn,Pn=qn;break e}}else if(Gn.elementType===Jn||typeof Jn=="object"&&Jn!==null&&Jn.$$typeof===Ha&&Ng(Jn)===Gn.type){Mt(Pn,Gn.sibling),qn=Ft(Gn,jn.props),qn.ref=Lg(Pn,Gn,jn),qn.return=Pn,Pn=qn;break e}Mt(Pn,Gn);break}else d(Pn,Gn);Gn=Gn.sibling}jn.type===ya?(qn=Tg(jn.props.children,Pn.mode,Hn,jn.key),qn.return=Pn,Pn=qn):(Hn=Rg(jn.type,jn.key,jn.props,null,Pn.mode,Hn),Hn.ref=Lg(Pn,qn,jn),Hn.return=Pn,Pn=Hn)}return Xt(Pn);case wa:e:{for(Gn=jn.key;qn!==null;){if(qn.key===Gn)if(qn.tag===4&&qn.stateNode.containerInfo===jn.containerInfo&&qn.stateNode.implementation===jn.implementation){Mt(Pn,qn.sibling),qn=Ft(qn,jn.children||[]),qn.return=Pn,Pn=qn;break e}else{Mt(Pn,qn);break}else d(Pn,qn);qn=qn.sibling}qn=Sg(jn,Pn.mode,Hn),qn.return=Pn,Pn=qn}return Xt(Pn);case Ha:return Gn=jn._init,Vn(Pn,qn,Gn(jn._payload),Hn)}if(eb(jn))return _n(Pn,qn,jn,Hn);if(Ka(jn))return Dn(Pn,qn,jn,Hn);Mg(Pn,jn)}return typeof jn=="string"&&jn!==""||typeof jn=="number"?(jn=""+jn,qn!==null&&qn.tag===6?(Mt(Pn,qn.sibling),qn=Ft(qn,jn),qn.return=Pn,Pn=qn):(Mt(Pn,qn),qn=Qg(jn,Pn.mode,Hn),qn.return=Pn,Pn=qn),Xt(Pn)):Mt(Pn,qn)}return Vn}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var d=Wg.current;E$1(Wg),_e._currentValue=d}function bh(_e,d,Mt){for(;_e!==null;){var Ot=_e.alternate;if((_e.childLanes&d)!==d?(_e.childLanes|=d,Ot!==null&&(Ot.childLanes|=d)):Ot!==null&&(Ot.childLanes&d)!==d&&(Ot.childLanes|=d),_e===Mt)break;_e=_e.return}}function ch(_e,d){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&d&&(dh$1=!0),_e.firstContext=null)}function eh(_e){var d=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:d,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return d}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,d,Mt,Ot){var Ft=d.interleaved;return Ft===null?(Mt.next=Mt,gh(d)):(Mt.next=Ft.next,Ft.next=Mt),d.interleaved=Mt,ih(_e,Ot)}function ih(_e,d){_e.lanes|=d;var Mt=_e.alternate;for(Mt!==null&&(Mt.lanes|=d),Mt=_e,_e=_e.return;_e!==null;)_e.childLanes|=d,Mt=_e.alternate,Mt!==null&&(Mt.childLanes|=d),Mt=_e,_e=_e.return;return Mt.tag===3?Mt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,d){_e=_e.updateQueue,d.updateQueue===_e&&(d.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,d){return{eventTime:_e,lane:d,tag:0,payload:null,callback:null,next:null}}function nh(_e,d,Mt){var Ot=_e.updateQueue;if(Ot===null)return null;if(Ot=Ot.shared,K$1&2){var Ft=Ot.pending;return Ft===null?d.next=d:(d.next=Ft.next,Ft.next=d),Ot.pending=d,ih(_e,Mt)}return Ft=Ot.interleaved,Ft===null?(d.next=d,gh(Ot)):(d.next=Ft.next,Ft.next=d),Ot.interleaved=d,ih(_e,Mt)}function oh(_e,d,Mt){if(d=d.updateQueue,d!==null&&(d=d.shared,(Mt&4194240)!==0)){var Ot=d.lanes;Ot&=_e.pendingLanes,Mt|=Ot,d.lanes=Mt,Cc(_e,Mt)}}function ph(_e,d){var Mt=_e.updateQueue,Ot=_e.alternate;if(Ot!==null&&(Ot=Ot.updateQueue,Mt===Ot)){var Ft=null,Ut=null;if(Mt=Mt.firstBaseUpdate,Mt!==null){do{var Xt={eventTime:Mt.eventTime,lane:Mt.lane,tag:Mt.tag,payload:Mt.payload,callback:Mt.callback,next:null};Ut===null?Ft=Ut=Xt:Ut=Ut.next=Xt,Mt=Mt.next}while(Mt!==null);Ut===null?Ft=Ut=d:Ut=Ut.next=d}else Ft=Ut=d;Mt={baseState:Ot.baseState,firstBaseUpdate:Ft,lastBaseUpdate:Ut,shared:Ot.shared,effects:Ot.effects},_e.updateQueue=Mt;return}_e=Mt.lastBaseUpdate,_e===null?Mt.firstBaseUpdate=d:_e.next=d,Mt.lastBaseUpdate=d}function qh(_e,d,Mt,Ot){var Ft=_e.updateQueue;jh=!1;var Ut=Ft.firstBaseUpdate,Xt=Ft.lastBaseUpdate,jr=Ft.shared.pending;if(jr!==null){Ft.shared.pending=null;var hn=jr,Vr=hn.next;hn.next=null,Xt===null?Ut=Vr:Xt.next=Vr,Xt=hn;var fn=_e.alternate;fn!==null&&(fn=fn.updateQueue,jr=fn.lastBaseUpdate,jr!==Xt&&(jr===null?fn.firstBaseUpdate=Vr:jr.next=Vr,fn.lastBaseUpdate=hn))}if(Ut!==null){var dn=Ft.baseState;Xt=0,fn=Vr=hn=null,jr=Ut;do{var pn=jr.lane,En=jr.eventTime;if((Ot&pn)===pn){fn!==null&&(fn=fn.next={eventTime:En,lane:0,tag:jr.tag,payload:jr.payload,callback:jr.callback,next:null});e:{var _n=_e,Dn=jr;switch(pn=d,En=Mt,Dn.tag){case 1:if(_n=Dn.payload,typeof _n=="function"){dn=_n.call(En,dn,pn);break e}dn=_n;break e;case 3:_n.flags=_n.flags&-65537|128;case 0:if(_n=Dn.payload,pn=typeof _n=="function"?_n.call(En,dn,pn):_n,pn==null)break e;dn=A$1({},dn,pn);break e;case 2:jh=!0}}jr.callback!==null&&jr.lane!==0&&(_e.flags|=64,pn=Ft.effects,pn===null?Ft.effects=[jr]:pn.push(jr))}else En={eventTime:En,lane:pn,tag:jr.tag,payload:jr.payload,callback:jr.callback,next:null},fn===null?(Vr=fn=En,hn=dn):fn=fn.next=En,Xt|=pn;if(jr=jr.next,jr===null){if(jr=Ft.shared.pending,jr===null)break;pn=jr,jr=pn.next,pn.next=null,Ft.lastBaseUpdate=pn,Ft.shared.pending=null}}while(!0);if(fn===null&&(hn=dn),Ft.baseState=hn,Ft.firstBaseUpdate=Vr,Ft.lastBaseUpdate=fn,d=Ft.shared.interleaved,d!==null){Ft=d;do Xt|=Ft.lane,Ft=Ft.next;while(Ft!==d)}else Ut===null&&(Ft.shared.lanes=0);rh|=Xt,_e.lanes=Xt,_e.memoizedState=dn}}function sh(_e,d,Mt){if(_e=d.effects,d.effects=null,_e!==null)for(d=0;d<_e.length;d++){var Ot=_e[d],Ft=Ot.callback;if(Ft!==null){if(Ot.callback=null,Ot=Mt,typeof Ft!="function")throw Error(p$2(191,Ft));Ft.call(Ot)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$2(174));return _e}function yh(_e,d){switch(G$1(wh,d),G$1(vh,_e),G$1(uh,th),_e=d.nodeType,_e){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:lb(null,"");break;default:_e=_e===8?d.parentNode:d,d=_e.namespaceURI||null,_e=_e.tagName,d=lb(d,_e)}E$1(uh),G$1(uh,d)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(_e){xh(wh.current);var d=xh(uh.current),Mt=lb(d,_e.type);d!==Mt&&(G$1(vh,_e),G$1(uh,Mt))}function Bh(_e){vh.current===_e&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(_e){for(var d=_e;d!==null;){if(d.tag===13){var Mt=d.memoizedState;if(Mt!==null&&(Mt=Mt.dehydrated,Mt===null||Mt.data==="$?"||Mt.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===_e)break;for(;d.sibling===null;){if(d.return===null||d.return===_e)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$2(321))}function Mh(_e,d){if(d===null)return!1;for(var Mt=0;Mt<d.length&&Mt<_e.length;Mt++)if(!He$1(_e[Mt],d[Mt]))return!1;return!0}function Nh(_e,d,Mt,Ot,Ft,Ut){if(Hh=Ut,M$1=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=Mt(Ot,Ft),Jh){Ut=0;do{if(Jh=!1,Kh=0,25<=Ut)throw Error(p$2(301));Ut+=1,O$1=N$1=null,d.updateQueue=null,Fh.current=Qh,_e=Mt(Ot,Ft)}while(Jh)}if(Fh.current=Rh,d=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,d)throw Error(p$2(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e,O$1}function Uh(){if(N$1===null){var _e=M$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$1.next;var d=O$1===null?M$1.memoizedState:O$1.next;if(d!==null)O$1=d,N$1=_e;else{if(_e===null)throw Error(p$2(310));N$1=_e,_e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=_e:O$1=O$1.next=_e}return O$1}function Vh(_e,d){return typeof d=="function"?d(_e):d}function Wh(_e){var d=Uh(),Mt=d.queue;if(Mt===null)throw Error(p$2(311));Mt.lastRenderedReducer=_e;var Ot=N$1,Ft=Ot.baseQueue,Ut=Mt.pending;if(Ut!==null){if(Ft!==null){var Xt=Ft.next;Ft.next=Ut.next,Ut.next=Xt}Ot.baseQueue=Ft=Ut,Mt.pending=null}if(Ft!==null){Ut=Ft.next,Ot=Ot.baseState;var jr=Xt=null,hn=null,Vr=Ut;do{var fn=Vr.lane;if((Hh&fn)===fn)hn!==null&&(hn=hn.next={lane:0,action:Vr.action,hasEagerState:Vr.hasEagerState,eagerState:Vr.eagerState,next:null}),Ot=Vr.hasEagerState?Vr.eagerState:_e(Ot,Vr.action);else{var dn={lane:fn,action:Vr.action,hasEagerState:Vr.hasEagerState,eagerState:Vr.eagerState,next:null};hn===null?(jr=hn=dn,Xt=Ot):hn=hn.next=dn,M$1.lanes|=fn,rh|=fn}Vr=Vr.next}while(Vr!==null&&Vr!==Ut);hn===null?Xt=Ot:hn.next=jr,He$1(Ot,d.memoizedState)||(dh$1=!0),d.memoizedState=Ot,d.baseState=Xt,d.baseQueue=hn,Mt.lastRenderedState=Ot}if(_e=Mt.interleaved,_e!==null){Ft=_e;do Ut=Ft.lane,M$1.lanes|=Ut,rh|=Ut,Ft=Ft.next;while(Ft!==_e)}else Ft===null&&(Mt.lanes=0);return[d.memoizedState,Mt.dispatch]}function Xh(_e){var d=Uh(),Mt=d.queue;if(Mt===null)throw Error(p$2(311));Mt.lastRenderedReducer=_e;var Ot=Mt.dispatch,Ft=Mt.pending,Ut=d.memoizedState;if(Ft!==null){Mt.pending=null;var Xt=Ft=Ft.next;do Ut=_e(Ut,Xt.action),Xt=Xt.next;while(Xt!==Ft);He$1(Ut,d.memoizedState)||(dh$1=!0),d.memoizedState=Ut,d.baseQueue===null&&(d.baseState=Ut),Mt.lastRenderedState=Ut}return[Ut,Ot]}function Yh(){}function Zh(_e,d){var Mt=M$1,Ot=Uh(),Ft=d(),Ut=!He$1(Ot.memoizedState,Ft);if(Ut&&(Ot.memoizedState=Ft,dh$1=!0),Ot=Ot.queue,$h(ai.bind(null,Mt,Ot,_e),[_e]),Ot.getSnapshot!==d||Ut||O$1!==null&&O$1.memoizedState.tag&1){if(Mt.flags|=2048,bi(9,ci.bind(null,Mt,Ot,Ft,d),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(Mt,d,Ft)}return Ft}function di(_e,d,Mt){_e.flags|=16384,_e={getSnapshot:d,value:Mt},d=M$1.updateQueue,d===null?(d={lastEffect:null,stores:null},M$1.updateQueue=d,d.stores=[_e]):(Mt=d.stores,Mt===null?d.stores=[_e]:Mt.push(_e))}function ci(_e,d,Mt,Ot){d.value=Mt,d.getSnapshot=Ot,ei(d)&&fi(_e)}function ai(_e,d,Mt){return Mt(function(){ei(d)&&fi(_e)})}function ei(_e){var d=_e.getSnapshot;_e=_e.value;try{var Mt=d();return!He$1(_e,Mt)}catch{return!0}}function fi(_e){var d=ih(_e,1);d!==null&&gi(d,_e,1,-1)}function hi(_e){var d=Th();return typeof _e=="function"&&(_e=_e()),d.memoizedState=d.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},d.queue=_e,_e=_e.dispatch=ii.bind(null,M$1,_e),[d.memoizedState,_e]}function bi(_e,d,Mt,Ot){return _e={tag:_e,create:d,destroy:Mt,deps:Ot,next:null},d=M$1.updateQueue,d===null?(d={lastEffect:null,stores:null},M$1.updateQueue=d,d.lastEffect=_e.next=_e):(Mt=d.lastEffect,Mt===null?d.lastEffect=_e.next=_e:(Ot=Mt.next,Mt.next=_e,_e.next=Ot,d.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,d,Mt,Ot){var Ft=Th();M$1.flags|=_e,Ft.memoizedState=bi(1|d,Mt,void 0,Ot===void 0?null:Ot)}function li(_e,d,Mt,Ot){var Ft=Uh();Ot=Ot===void 0?null:Ot;var Ut=void 0;if(N$1!==null){var Xt=N$1.memoizedState;if(Ut=Xt.destroy,Ot!==null&&Mh(Ot,Xt.deps)){Ft.memoizedState=bi(d,Mt,Ut,Ot);return}}M$1.flags|=_e,Ft.memoizedState=bi(1|d,Mt,Ut,Ot)}function mi(_e,d){return ki(8390656,8,_e,d)}function $h(_e,d){return li(2048,8,_e,d)}function ni(_e,d){return li(4,2,_e,d)}function oi(_e,d){return li(4,4,_e,d)}function pi(_e,d){if(typeof d=="function")return _e=_e(),d(_e),function(){d(null)};if(d!=null)return _e=_e(),d.current=_e,function(){d.current=null}}function qi(_e,d,Mt){return Mt=Mt!=null?Mt.concat([_e]):null,li(4,4,pi.bind(null,d,_e),Mt)}function ri(){}function si(_e,d){var Mt=Uh();d=d===void 0?null:d;var Ot=Mt.memoizedState;return Ot!==null&&d!==null&&Mh(d,Ot[1])?Ot[0]:(Mt.memoizedState=[_e,d],_e)}function ti(_e,d){var Mt=Uh();d=d===void 0?null:d;var Ot=Mt.memoizedState;return Ot!==null&&d!==null&&Mh(d,Ot[1])?Ot[0]:(_e=_e(),Mt.memoizedState=[_e,d],_e)}function ui(_e,d,Mt){return Hh&21?(He$1(Mt,d)||(Mt=yc(),M$1.lanes|=Mt,rh|=Mt,_e.baseState=!0),d):(_e.baseState&&(_e.baseState=!1,dh$1=!0),_e.memoizedState=Mt)}function vi(_e,d){var Mt=C$1;C$1=Mt!==0&&4>Mt?Mt:4,_e(!0);var Ot=Gh.transition;Gh.transition={};try{_e(!1),d()}finally{C$1=Mt,Gh.transition=Ot}}function wi(){return Uh().memoizedState}function xi(_e,d,Mt){var Ot=yi(_e);if(Mt={lane:Ot,action:Mt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(d,Mt);else if(Mt=hh(_e,d,Mt,Ot),Mt!==null){var Ft=R$1();gi(Mt,_e,Ot,Ft),Bi(Mt,d,Ot)}}function ii(_e,d,Mt){var Ot=yi(_e),Ft={lane:Ot,action:Mt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(d,Ft);else{var Ut=_e.alternate;if(_e.lanes===0&&(Ut===null||Ut.lanes===0)&&(Ut=d.lastRenderedReducer,Ut!==null))try{var Xt=d.lastRenderedState,jr=Ut(Xt,Mt);if(Ft.hasEagerState=!0,Ft.eagerState=jr,He$1(jr,Xt)){var hn=d.interleaved;hn===null?(Ft.next=Ft,gh(d)):(Ft.next=hn.next,hn.next=Ft),d.interleaved=Ft;return}}catch{}finally{}Mt=hh(_e,d,Ft,Ot),Mt!==null&&(Ft=R$1(),gi(Mt,_e,Ot,Ft),Bi(Mt,d,Ot))}}function zi(_e){var d=_e.alternate;return _e===M$1||d!==null&&d===M$1}function Ai(_e,d){Jh=Ih=!0;var Mt=_e.pending;Mt===null?d.next=d:(d.next=Mt.next,Mt.next=d),_e.pending=d}function Bi(_e,d,Mt){if(Mt&4194240){var Ot=d.lanes;Ot&=_e.pendingLanes,Mt|=Ot,d.lanes=Mt,Cc(_e,Mt)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,d){return Th().memoizedState=[_e,d===void 0?null:d],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,d,Mt){return Mt=Mt!=null?Mt.concat([_e]):null,ki(4194308,4,pi.bind(null,d,_e),Mt)},useLayoutEffect:function(_e,d){return ki(4194308,4,_e,d)},useInsertionEffect:function(_e,d){return ki(4,2,_e,d)},useMemo:function(_e,d){var Mt=Th();return d=d===void 0?null:d,_e=_e(),Mt.memoizedState=[_e,d],_e},useReducer:function(_e,d,Mt){var Ot=Th();return d=Mt!==void 0?Mt(d):d,Ot.memoizedState=Ot.baseState=d,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:d},Ot.queue=_e,_e=_e.dispatch=xi.bind(null,M$1,_e),[Ot.memoizedState,_e]},useRef:function(_e){var d=Th();return _e={current:_e},d.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),d=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[d,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,d,Mt){var Ot=M$1,Ft=Th();if(I$1){if(Mt===void 0)throw Error(p$2(407));Mt=Mt()}else{if(Mt=d(),Q$1===null)throw Error(p$2(349));Hh&30||di(Ot,d,Mt)}Ft.memoizedState=Mt;var Ut={value:Mt,getSnapshot:d};return Ft.queue=Ut,mi(ai.bind(null,Ot,Ut,_e),[_e]),Ot.flags|=2048,bi(9,ci.bind(null,Ot,Ut,Mt,d),void 0,null),Mt},useId:function(){var _e=Th(),d=Q$1.identifierPrefix;if(I$1){var Mt=sg,Ot=rg;Mt=(Ot&~(1<<32-oc(Ot)-1)).toString(32)+Mt,d=":"+d+"R"+Mt,Mt=Kh++,0<Mt&&(d+="H"+Mt.toString(32)),d+=":"}else Mt=Lh++,d=":"+d+"r"+Mt.toString(32)+":";return _e.memoizedState=d},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var d=Uh();return ui(d,N$1.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],d=Uh().memoizedState;return[_e,d]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var d=Uh();return N$1===null?d.memoizedState=_e:ui(d,N$1.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],d=Uh().memoizedState;return[_e,d]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,d){if(_e&&_e.defaultProps){d=A$1({},d),_e=_e.defaultProps;for(var Mt in _e)d[Mt]===void 0&&(d[Mt]=_e[Mt]);return d}return d}function Di(_e,d,Mt,Ot){d=_e.memoizedState,Mt=Mt(Ot,d),Mt=Mt==null?d:A$1({},d,Mt),_e.memoizedState=Mt,_e.lanes===0&&(_e.updateQueue.baseState=Mt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,d,Mt){_e=_e._reactInternals;var Ot=R$1(),Ft=yi(_e),Ut=mh(Ot,Ft);Ut.payload=d,Mt!=null&&(Ut.callback=Mt),d=nh(_e,Ut,Ft),d!==null&&(gi(d,_e,Ft,Ot),oh(d,_e,Ft))},enqueueReplaceState:function(_e,d,Mt){_e=_e._reactInternals;var Ot=R$1(),Ft=yi(_e),Ut=mh(Ot,Ft);Ut.tag=1,Ut.payload=d,Mt!=null&&(Ut.callback=Mt),d=nh(_e,Ut,Ft),d!==null&&(gi(d,_e,Ft,Ot),oh(d,_e,Ft))},enqueueForceUpdate:function(_e,d){_e=_e._reactInternals;var Mt=R$1(),Ot=yi(_e),Ft=mh(Mt,Ot);Ft.tag=2,d!=null&&(Ft.callback=d),d=nh(_e,Ft,Ot),d!==null&&(gi(d,_e,Ot,Mt),oh(d,_e,Ot))}};function Fi(_e,d,Mt,Ot,Ft,Ut,Xt){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(Ot,Ut,Xt):d.prototype&&d.prototype.isPureReactComponent?!Ie$1(Mt,Ot)||!Ie$1(Ft,Ut):!0}function Gi(_e,d,Mt){var Ot=!1,Ft=Vf,Ut=d.contextType;return typeof Ut=="object"&&Ut!==null?Ut=eh(Ut):(Ft=Zf(d)?Xf:H$1.current,Ot=d.contextTypes,Ut=(Ot=Ot!=null)?Yf(_e,Ft):Vf),d=new d(Mt,Ut),_e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ei,_e.stateNode=d,d._reactInternals=_e,Ot&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=Ft,_e.__reactInternalMemoizedMaskedChildContext=Ut),d}function Hi(_e,d,Mt,Ot){_e=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(Mt,Ot),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(Mt,Ot),d.state!==_e&&Ei.enqueueReplaceState(d,d.state,null)}function Ii(_e,d,Mt,Ot){var Ft=_e.stateNode;Ft.props=Mt,Ft.state=_e.memoizedState,Ft.refs={},kh(_e);var Ut=d.contextType;typeof Ut=="object"&&Ut!==null?Ft.context=eh(Ut):(Ut=Zf(d)?Xf:H$1.current,Ft.context=Yf(_e,Ut)),Ft.state=_e.memoizedState,Ut=d.getDerivedStateFromProps,typeof Ut=="function"&&(Di(_e,d,Ut,Mt),Ft.state=_e.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof Ft.getSnapshotBeforeUpdate=="function"||typeof Ft.UNSAFE_componentWillMount!="function"&&typeof Ft.componentWillMount!="function"||(d=Ft.state,typeof Ft.componentWillMount=="function"&&Ft.componentWillMount(),typeof Ft.UNSAFE_componentWillMount=="function"&&Ft.UNSAFE_componentWillMount(),d!==Ft.state&&Ei.enqueueReplaceState(Ft,Ft.state,null),qh(_e,Mt,Ft,Ot),Ft.state=_e.memoizedState),typeof Ft.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,d){try{var Mt="",Ot=d;do Mt+=Pa(Ot),Ot=Ot.return;while(Ot);var Ft=Mt}catch(Ut){Ft=`
Error generating stack: `+Ut.message+`
`+Ut.stack}return{value:_e,source:d,stack:Ft,digest:null}}function Ki(_e,d,Mt){return{value:_e,source:null,stack:Mt??null,digest:d??null}}function Li(_e,d){try{console.error(d.value)}catch(Mt){setTimeout(function(){throw Mt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,d,Mt){Mt=mh(-1,Mt),Mt.tag=3,Mt.payload={element:null};var Ot=d.value;return Mt.callback=function(){Oi||(Oi=!0,Pi=Ot),Li(_e,d)},Mt}function Qi(_e,d,Mt){Mt=mh(-1,Mt),Mt.tag=3;var Ot=_e.type.getDerivedStateFromError;if(typeof Ot=="function"){var Ft=d.value;Mt.payload=function(){return Ot(Ft)},Mt.callback=function(){Li(_e,d)}}var Ut=_e.stateNode;return Ut!==null&&typeof Ut.componentDidCatch=="function"&&(Mt.callback=function(){Li(_e,d),typeof Ot!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Xt=d.stack;this.componentDidCatch(d.value,{componentStack:Xt!==null?Xt:""})}),Mt}function Si(_e,d,Mt){var Ot=_e.pingCache;if(Ot===null){Ot=_e.pingCache=new Mi;var Ft=new Set;Ot.set(d,Ft)}else Ft=Ot.get(d),Ft===void 0&&(Ft=new Set,Ot.set(d,Ft));Ft.has(Mt)||(Ft.add(Mt),_e=Ti.bind(null,_e,d,Mt),d.then(_e,_e))}function Ui(_e){do{var d;if((d=_e.tag===13)&&(d=_e.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,d,Mt,Ot,Ft){return _e.mode&1?(_e.flags|=65536,_e.lanes=Ft,_e):(_e===d?_e.flags|=65536:(_e.flags|=128,Mt.flags|=131072,Mt.flags&=-52805,Mt.tag===1&&(Mt.alternate===null?Mt.tag=17:(d=mh(-1,1),d.tag=2,nh(Mt,d,1))),Mt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(_e,d,Mt,Ot){d.child=_e===null?Vg(d,null,Mt,Ot):Ug(d,_e.child,Mt,Ot)}function Yi(_e,d,Mt,Ot,Ft){Mt=Mt.render;var Ut=d.ref;return ch(d,Ft),Ot=Nh(_e,d,Mt,Ot,Ut,Ft),Mt=Sh(),_e!==null&&!dh$1?(d.updateQueue=_e.updateQueue,d.flags&=-2053,_e.lanes&=~Ft,Zi(_e,d,Ft)):(I$1&&Mt&&vg(d),d.flags|=1,Xi(_e,d,Ot,Ft),d.child)}function $i(_e,d,Mt,Ot,Ft){if(_e===null){var Ut=Mt.type;return typeof Ut=="function"&&!aj(Ut)&&Ut.defaultProps===void 0&&Mt.compare===null&&Mt.defaultProps===void 0?(d.tag=15,d.type=Ut,bj(_e,d,Ut,Ot,Ft)):(_e=Rg(Mt.type,null,Ot,d,d.mode,Ft),_e.ref=d.ref,_e.return=d,d.child=_e)}if(Ut=_e.child,!(_e.lanes&Ft)){var Xt=Ut.memoizedProps;if(Mt=Mt.compare,Mt=Mt!==null?Mt:Ie$1,Mt(Xt,Ot)&&_e.ref===d.ref)return Zi(_e,d,Ft)}return d.flags|=1,_e=Pg(Ut,Ot),_e.ref=d.ref,_e.return=d,d.child=_e}function bj(_e,d,Mt,Ot,Ft){if(_e!==null){var Ut=_e.memoizedProps;if(Ie$1(Ut,Ot)&&_e.ref===d.ref)if(dh$1=!1,d.pendingProps=Ot=Ut,(_e.lanes&Ft)!==0)_e.flags&131072&&(dh$1=!0);else return d.lanes=_e.lanes,Zi(_e,d,Ft)}return cj(_e,d,Mt,Ot,Ft)}function dj(_e,d,Mt){var Ot=d.pendingProps,Ft=Ot.children,Ut=_e!==null?_e.memoizedState:null;if(Ot.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=Mt;else{if(!(Mt&1073741824))return _e=Ut!==null?Ut.baseLanes|Mt:Mt,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:_e,cachePool:null,transitions:null},d.updateQueue=null,G$1(ej,fj),fj|=_e,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot=Ut!==null?Ut.baseLanes:Mt,G$1(ej,fj),fj|=Ot}else Ut!==null?(Ot=Ut.baseLanes|Mt,d.memoizedState=null):Ot=Mt,G$1(ej,fj),fj|=Ot;return Xi(_e,d,Ft,Mt),d.child}function gj(_e,d){var Mt=d.ref;(_e===null&&Mt!==null||_e!==null&&_e.ref!==Mt)&&(d.flags|=512,d.flags|=2097152)}function cj(_e,d,Mt,Ot,Ft){var Ut=Zf(Mt)?Xf:H$1.current;return Ut=Yf(d,Ut),ch(d,Ft),Mt=Nh(_e,d,Mt,Ot,Ut,Ft),Ot=Sh(),_e!==null&&!dh$1?(d.updateQueue=_e.updateQueue,d.flags&=-2053,_e.lanes&=~Ft,Zi(_e,d,Ft)):(I$1&&Ot&&vg(d),d.flags|=1,Xi(_e,d,Mt,Ft),d.child)}function hj(_e,d,Mt,Ot,Ft){if(Zf(Mt)){var Ut=!0;cg(d)}else Ut=!1;if(ch(d,Ft),d.stateNode===null)ij(_e,d),Gi(d,Mt,Ot),Ii(d,Mt,Ot,Ft),Ot=!0;else if(_e===null){var Xt=d.stateNode,jr=d.memoizedProps;Xt.props=jr;var hn=Xt.context,Vr=Mt.contextType;typeof Vr=="object"&&Vr!==null?Vr=eh(Vr):(Vr=Zf(Mt)?Xf:H$1.current,Vr=Yf(d,Vr));var fn=Mt.getDerivedStateFromProps,dn=typeof fn=="function"||typeof Xt.getSnapshotBeforeUpdate=="function";dn||typeof Xt.UNSAFE_componentWillReceiveProps!="function"&&typeof Xt.componentWillReceiveProps!="function"||(jr!==Ot||hn!==Vr)&&Hi(d,Xt,Ot,Vr),jh=!1;var pn=d.memoizedState;Xt.state=pn,qh(d,Ot,Xt,Ft),hn=d.memoizedState,jr!==Ot||pn!==hn||Wf.current||jh?(typeof fn=="function"&&(Di(d,Mt,fn,Ot),hn=d.memoizedState),(jr=jh||Fi(d,Mt,jr,Ot,pn,hn,Vr))?(dn||typeof Xt.UNSAFE_componentWillMount!="function"&&typeof Xt.componentWillMount!="function"||(typeof Xt.componentWillMount=="function"&&Xt.componentWillMount(),typeof Xt.UNSAFE_componentWillMount=="function"&&Xt.UNSAFE_componentWillMount()),typeof Xt.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Xt.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=Ot,d.memoizedState=hn),Xt.props=Ot,Xt.state=hn,Xt.context=Vr,Ot=jr):(typeof Xt.componentDidMount=="function"&&(d.flags|=4194308),Ot=!1)}else{Xt=d.stateNode,lh(_e,d),jr=d.memoizedProps,Vr=d.type===d.elementType?jr:Ci(d.type,jr),Xt.props=Vr,dn=d.pendingProps,pn=Xt.context,hn=Mt.contextType,typeof hn=="object"&&hn!==null?hn=eh(hn):(hn=Zf(Mt)?Xf:H$1.current,hn=Yf(d,hn));var En=Mt.getDerivedStateFromProps;(fn=typeof En=="function"||typeof Xt.getSnapshotBeforeUpdate=="function")||typeof Xt.UNSAFE_componentWillReceiveProps!="function"&&typeof Xt.componentWillReceiveProps!="function"||(jr!==dn||pn!==hn)&&Hi(d,Xt,Ot,hn),jh=!1,pn=d.memoizedState,Xt.state=pn,qh(d,Ot,Xt,Ft);var _n=d.memoizedState;jr!==dn||pn!==_n||Wf.current||jh?(typeof En=="function"&&(Di(d,Mt,En,Ot),_n=d.memoizedState),(Vr=jh||Fi(d,Mt,Vr,Ot,pn,_n,hn)||!1)?(fn||typeof Xt.UNSAFE_componentWillUpdate!="function"&&typeof Xt.componentWillUpdate!="function"||(typeof Xt.componentWillUpdate=="function"&&Xt.componentWillUpdate(Ot,_n,hn),typeof Xt.UNSAFE_componentWillUpdate=="function"&&Xt.UNSAFE_componentWillUpdate(Ot,_n,hn)),typeof Xt.componentDidUpdate=="function"&&(d.flags|=4),typeof Xt.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Xt.componentDidUpdate!="function"||jr===_e.memoizedProps&&pn===_e.memoizedState||(d.flags|=4),typeof Xt.getSnapshotBeforeUpdate!="function"||jr===_e.memoizedProps&&pn===_e.memoizedState||(d.flags|=1024),d.memoizedProps=Ot,d.memoizedState=_n),Xt.props=Ot,Xt.state=_n,Xt.context=hn,Ot=Vr):(typeof Xt.componentDidUpdate!="function"||jr===_e.memoizedProps&&pn===_e.memoizedState||(d.flags|=4),typeof Xt.getSnapshotBeforeUpdate!="function"||jr===_e.memoizedProps&&pn===_e.memoizedState||(d.flags|=1024),Ot=!1)}return jj(_e,d,Mt,Ot,Ut,Ft)}function jj(_e,d,Mt,Ot,Ft,Ut){gj(_e,d);var Xt=(d.flags&128)!==0;if(!Ot&&!Xt)return Ft&&dg(d,Mt,!1),Zi(_e,d,Ut);Ot=d.stateNode,Wi.current=d;var jr=Xt&&typeof Mt.getDerivedStateFromError!="function"?null:Ot.render();return d.flags|=1,_e!==null&&Xt?(d.child=Ug(d,_e.child,null,Ut),d.child=Ug(d,null,jr,Ut)):Xi(_e,d,jr,Ut),d.memoizedState=Ot.state,Ft&&dg(d,Mt,!0),d.child}function kj(_e){var d=_e.stateNode;d.pendingContext?ag(_e,d.pendingContext,d.pendingContext!==d.context):d.context&&ag(_e,d.context,!1),yh(_e,d.containerInfo)}function lj(_e,d,Mt,Ot,Ft){return Ig(),Jg(Ft),d.flags|=256,Xi(_e,d,Mt,Ot),d.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,d,Mt){var Ot=d.pendingProps,Ft=L$1.current,Ut=!1,Xt=(d.flags&128)!==0,jr;if((jr=Xt)||(jr=_e!==null&&_e.memoizedState===null?!1:(Ft&2)!==0),jr?(Ut=!0,d.flags&=-129):(_e===null||_e.memoizedState!==null)&&(Ft|=1),G$1(L$1,Ft&1),_e===null)return Eg(d),_e=d.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(d.mode&1?_e.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(Xt=Ot.children,_e=Ot.fallback,Ut?(Ot=d.mode,Ut=d.child,Xt={mode:"hidden",children:Xt},!(Ot&1)&&Ut!==null?(Ut.childLanes=0,Ut.pendingProps=Xt):Ut=pj(Xt,Ot,0,null),_e=Tg(_e,Ot,Mt,null),Ut.return=d,_e.return=d,Ut.sibling=_e,d.child=Ut,d.child.memoizedState=nj(Mt),d.memoizedState=mj,_e):qj(d,Xt));if(Ft=_e.memoizedState,Ft!==null&&(jr=Ft.dehydrated,jr!==null))return rj(_e,d,Xt,Ot,jr,Ft,Mt);if(Ut){Ut=Ot.fallback,Xt=d.mode,Ft=_e.child,jr=Ft.sibling;var hn={mode:"hidden",children:Ot.children};return!(Xt&1)&&d.child!==Ft?(Ot=d.child,Ot.childLanes=0,Ot.pendingProps=hn,d.deletions=null):(Ot=Pg(Ft,hn),Ot.subtreeFlags=Ft.subtreeFlags&14680064),jr!==null?Ut=Pg(jr,Ut):(Ut=Tg(Ut,Xt,Mt,null),Ut.flags|=2),Ut.return=d,Ot.return=d,Ot.sibling=Ut,d.child=Ot,Ot=Ut,Ut=d.child,Xt=_e.child.memoizedState,Xt=Xt===null?nj(Mt):{baseLanes:Xt.baseLanes|Mt,cachePool:null,transitions:Xt.transitions},Ut.memoizedState=Xt,Ut.childLanes=_e.childLanes&~Mt,d.memoizedState=mj,Ot}return Ut=_e.child,_e=Ut.sibling,Ot=Pg(Ut,{mode:"visible",children:Ot.children}),!(d.mode&1)&&(Ot.lanes=Mt),Ot.return=d,Ot.sibling=null,_e!==null&&(Mt=d.deletions,Mt===null?(d.deletions=[_e],d.flags|=16):Mt.push(_e)),d.child=Ot,d.memoizedState=null,Ot}function qj(_e,d){return d=pj({mode:"visible",children:d},_e.mode,0,null),d.return=_e,_e.child=d}function sj(_e,d,Mt,Ot){return Ot!==null&&Jg(Ot),Ug(d,_e.child,null,Mt),_e=qj(d,d.pendingProps.children),_e.flags|=2,d.memoizedState=null,_e}function rj(_e,d,Mt,Ot,Ft,Ut,Xt){if(Mt)return d.flags&256?(d.flags&=-257,Ot=Ki(Error(p$2(422))),sj(_e,d,Xt,Ot)):d.memoizedState!==null?(d.child=_e.child,d.flags|=128,null):(Ut=Ot.fallback,Ft=d.mode,Ot=pj({mode:"visible",children:Ot.children},Ft,0,null),Ut=Tg(Ut,Ft,Xt,null),Ut.flags|=2,Ot.return=d,Ut.return=d,Ot.sibling=Ut,d.child=Ot,d.mode&1&&Ug(d,_e.child,null,Xt),d.child.memoizedState=nj(Xt),d.memoizedState=mj,Ut);if(!(d.mode&1))return sj(_e,d,Xt,null);if(Ft.data==="$!"){if(Ot=Ft.nextSibling&&Ft.nextSibling.dataset,Ot)var jr=Ot.dgst;return Ot=jr,Ut=Error(p$2(419)),Ot=Ki(Ut,Ot,void 0),sj(_e,d,Xt,Ot)}if(jr=(Xt&_e.childLanes)!==0,dh$1||jr){if(Ot=Q$1,Ot!==null){switch(Xt&-Xt){case 4:Ft=2;break;case 16:Ft=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ft=32;break;case 536870912:Ft=268435456;break;default:Ft=0}Ft=Ft&(Ot.suspendedLanes|Xt)?0:Ft,Ft!==0&&Ft!==Ut.retryLane&&(Ut.retryLane=Ft,ih(_e,Ft),gi(Ot,_e,Ft,-1))}return tj(),Ot=Ki(Error(p$2(421))),sj(_e,d,Xt,Ot)}return Ft.data==="$?"?(d.flags|=128,d.child=_e.child,d=uj.bind(null,_e),Ft._reactRetry=d,null):(_e=Ut.treeContext,yg=Lf(Ft.nextSibling),xg=d,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=d),d=qj(d,Ot.children),d.flags|=4096,d)}function vj(_e,d,Mt){_e.lanes|=d;var Ot=_e.alternate;Ot!==null&&(Ot.lanes|=d),bh(_e.return,d,Mt)}function wj(_e,d,Mt,Ot,Ft){var Ut=_e.memoizedState;Ut===null?_e.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:Ot,tail:Mt,tailMode:Ft}:(Ut.isBackwards=d,Ut.rendering=null,Ut.renderingStartTime=0,Ut.last=Ot,Ut.tail=Mt,Ut.tailMode=Ft)}function xj(_e,d,Mt){var Ot=d.pendingProps,Ft=Ot.revealOrder,Ut=Ot.tail;if(Xi(_e,d,Ot.children,Mt),Ot=L$1.current,Ot&2)Ot=Ot&1|2,d.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=d.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,Mt,d);else if(_e.tag===19)vj(_e,Mt,d);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===d)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===d)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}Ot&=1}if(G$1(L$1,Ot),!(d.mode&1))d.memoizedState=null;else switch(Ft){case"forwards":for(Mt=d.child,Ft=null;Mt!==null;)_e=Mt.alternate,_e!==null&&Ch(_e)===null&&(Ft=Mt),Mt=Mt.sibling;Mt=Ft,Mt===null?(Ft=d.child,d.child=null):(Ft=Mt.sibling,Mt.sibling=null),wj(d,!1,Ft,Mt,Ut);break;case"backwards":for(Mt=null,Ft=d.child,d.child=null;Ft!==null;){if(_e=Ft.alternate,_e!==null&&Ch(_e)===null){d.child=Ft;break}_e=Ft.sibling,Ft.sibling=Mt,Mt=Ft,Ft=_e}wj(d,!0,Mt,null,Ut);break;case"together":wj(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ij(_e,d){!(d.mode&1)&&_e!==null&&(_e.alternate=null,d.alternate=null,d.flags|=2)}function Zi(_e,d,Mt){if(_e!==null&&(d.dependencies=_e.dependencies),rh|=d.lanes,!(Mt&d.childLanes))return null;if(_e!==null&&d.child!==_e.child)throw Error(p$2(153));if(d.child!==null){for(_e=d.child,Mt=Pg(_e,_e.pendingProps),d.child=Mt,Mt.return=d;_e.sibling!==null;)_e=_e.sibling,Mt=Mt.sibling=Pg(_e,_e.pendingProps),Mt.return=d;Mt.sibling=null}return d.child}function yj(_e,d,Mt){switch(d.tag){case 3:kj(d),Ig();break;case 5:Ah(d);break;case 1:Zf(d.type)&&cg(d);break;case 4:yh(d,d.stateNode.containerInfo);break;case 10:var Ot=d.type._context,Ft=d.memoizedProps.value;G$1(Wg,Ot._currentValue),Ot._currentValue=Ft;break;case 13:if(Ot=d.memoizedState,Ot!==null)return Ot.dehydrated!==null?(G$1(L$1,L$1.current&1),d.flags|=128,null):Mt&d.child.childLanes?oj(_e,d,Mt):(G$1(L$1,L$1.current&1),_e=Zi(_e,d,Mt),_e!==null?_e.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(Ot=(Mt&d.childLanes)!==0,_e.flags&128){if(Ot)return xj(_e,d,Mt);d.flags|=128}if(Ft=d.memoizedState,Ft!==null&&(Ft.rendering=null,Ft.tail=null,Ft.lastEffect=null),G$1(L$1,L$1.current),Ot)break;return null;case 22:case 23:return d.lanes=0,dj(_e,d,Mt)}return Zi(_e,d,Mt)}var zj,Aj,Bj,Cj;zj=function(_e,d){for(var Mt=d.child;Mt!==null;){if(Mt.tag===5||Mt.tag===6)_e.appendChild(Mt.stateNode);else if(Mt.tag!==4&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===d)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===d)return;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}};Aj=function(){};Bj=function(_e,d,Mt,Ot){var Ft=_e.memoizedProps;if(Ft!==Ot){_e=d.stateNode,xh(uh.current);var Ut=null;switch(Mt){case"input":Ft=Ya(_e,Ft),Ot=Ya(_e,Ot),Ut=[];break;case"select":Ft=A$1({},Ft,{value:void 0}),Ot=A$1({},Ot,{value:void 0}),Ut=[];break;case"textarea":Ft=gb(_e,Ft),Ot=gb(_e,Ot),Ut=[];break;default:typeof Ft.onClick!="function"&&typeof Ot.onClick=="function"&&(_e.onclick=Bf)}ub(Mt,Ot);var Xt;Mt=null;for(Vr in Ft)if(!Ot.hasOwnProperty(Vr)&&Ft.hasOwnProperty(Vr)&&Ft[Vr]!=null)if(Vr==="style"){var jr=Ft[Vr];for(Xt in jr)jr.hasOwnProperty(Xt)&&(Mt||(Mt={}),Mt[Xt]="")}else Vr!=="dangerouslySetInnerHTML"&&Vr!=="children"&&Vr!=="suppressContentEditableWarning"&&Vr!=="suppressHydrationWarning"&&Vr!=="autoFocus"&&(ea.hasOwnProperty(Vr)?Ut||(Ut=[]):(Ut=Ut||[]).push(Vr,null));for(Vr in Ot){var hn=Ot[Vr];if(jr=Ft!=null?Ft[Vr]:void 0,Ot.hasOwnProperty(Vr)&&hn!==jr&&(hn!=null||jr!=null))if(Vr==="style")if(jr){for(Xt in jr)!jr.hasOwnProperty(Xt)||hn&&hn.hasOwnProperty(Xt)||(Mt||(Mt={}),Mt[Xt]="");for(Xt in hn)hn.hasOwnProperty(Xt)&&jr[Xt]!==hn[Xt]&&(Mt||(Mt={}),Mt[Xt]=hn[Xt])}else Mt||(Ut||(Ut=[]),Ut.push(Vr,Mt)),Mt=hn;else Vr==="dangerouslySetInnerHTML"?(hn=hn?hn.__html:void 0,jr=jr?jr.__html:void 0,hn!=null&&jr!==hn&&(Ut=Ut||[]).push(Vr,hn)):Vr==="children"?typeof hn!="string"&&typeof hn!="number"||(Ut=Ut||[]).push(Vr,""+hn):Vr!=="suppressContentEditableWarning"&&Vr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Vr)?(hn!=null&&Vr==="onScroll"&&D$1("scroll",_e),Ut||jr===hn||(Ut=[])):(Ut=Ut||[]).push(Vr,hn))}Mt&&(Ut=Ut||[]).push("style",Mt);var Vr=Ut;(d.updateQueue=Vr)&&(d.flags|=4)}};Cj=function(_e,d,Mt,Ot){Mt!==Ot&&(d.flags|=4)};function Dj(_e,d){if(!I$1)switch(_e.tailMode){case"hidden":d=_e.tail;for(var Mt=null;d!==null;)d.alternate!==null&&(Mt=d),d=d.sibling;Mt===null?_e.tail=null:Mt.sibling=null;break;case"collapsed":Mt=_e.tail;for(var Ot=null;Mt!==null;)Mt.alternate!==null&&(Ot=Mt),Mt=Mt.sibling;Ot===null?d||_e.tail===null?_e.tail=null:_e.tail.sibling=null:Ot.sibling=null}}function S$1(_e){var d=_e.alternate!==null&&_e.alternate.child===_e.child,Mt=0,Ot=0;if(d)for(var Ft=_e.child;Ft!==null;)Mt|=Ft.lanes|Ft.childLanes,Ot|=Ft.subtreeFlags&14680064,Ot|=Ft.flags&14680064,Ft.return=_e,Ft=Ft.sibling;else for(Ft=_e.child;Ft!==null;)Mt|=Ft.lanes|Ft.childLanes,Ot|=Ft.subtreeFlags,Ot|=Ft.flags,Ft.return=_e,Ft=Ft.sibling;return _e.subtreeFlags|=Ot,_e.childLanes=Mt,d}function Ej(_e,d,Mt){var Ot=d.pendingProps;switch(wg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(d),null;case 1:return Zf(d.type)&&$f(),S$1(d),null;case 3:return Ot=d.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),Ot.pendingContext&&(Ot.context=Ot.pendingContext,Ot.pendingContext=null),(_e===null||_e.child===null)&&(Gg(d)?d.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,d),S$1(d),null;case 5:Bh(d);var Ft=xh(wh.current);if(Mt=d.type,_e!==null&&d.stateNode!=null)Bj(_e,d,Mt,Ot,Ft),_e.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!Ot){if(d.stateNode===null)throw Error(p$2(166));return S$1(d),null}if(_e=xh(uh.current),Gg(d)){Ot=d.stateNode,Mt=d.type;var Ut=d.memoizedProps;switch(Ot[Of]=d,Ot[Pf]=Ut,_e=(d.mode&1)!==0,Mt){case"dialog":D$1("cancel",Ot),D$1("close",Ot);break;case"iframe":case"object":case"embed":D$1("load",Ot);break;case"video":case"audio":for(Ft=0;Ft<lf.length;Ft++)D$1(lf[Ft],Ot);break;case"source":D$1("error",Ot);break;case"img":case"image":case"link":D$1("error",Ot),D$1("load",Ot);break;case"details":D$1("toggle",Ot);break;case"input":Za(Ot,Ut),D$1("invalid",Ot);break;case"select":Ot._wrapperState={wasMultiple:!!Ut.multiple},D$1("invalid",Ot);break;case"textarea":hb(Ot,Ut),D$1("invalid",Ot)}ub(Mt,Ut),Ft=null;for(var Xt in Ut)if(Ut.hasOwnProperty(Xt)){var jr=Ut[Xt];Xt==="children"?typeof jr=="string"?Ot.textContent!==jr&&(Ut.suppressHydrationWarning!==!0&&Af(Ot.textContent,jr,_e),Ft=["children",jr]):typeof jr=="number"&&Ot.textContent!==""+jr&&(Ut.suppressHydrationWarning!==!0&&Af(Ot.textContent,jr,_e),Ft=["children",""+jr]):ea.hasOwnProperty(Xt)&&jr!=null&&Xt==="onScroll"&&D$1("scroll",Ot)}switch(Mt){case"input":Va(Ot),db(Ot,Ut,!0);break;case"textarea":Va(Ot),jb(Ot);break;case"select":case"option":break;default:typeof Ut.onClick=="function"&&(Ot.onclick=Bf)}Ot=Ft,d.updateQueue=Ot,Ot!==null&&(d.flags|=4)}else{Xt=Ft.nodeType===9?Ft:Ft.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(Mt)),_e==="http://www.w3.org/1999/xhtml"?Mt==="script"?(_e=Xt.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof Ot.is=="string"?_e=Xt.createElement(Mt,{is:Ot.is}):(_e=Xt.createElement(Mt),Mt==="select"&&(Xt=_e,Ot.multiple?Xt.multiple=!0:Ot.size&&(Xt.size=Ot.size))):_e=Xt.createElementNS(_e,Mt),_e[Of]=d,_e[Pf]=Ot,zj(_e,d,!1,!1),d.stateNode=_e;e:{switch(Xt=vb(Mt,Ot),Mt){case"dialog":D$1("cancel",_e),D$1("close",_e),Ft=Ot;break;case"iframe":case"object":case"embed":D$1("load",_e),Ft=Ot;break;case"video":case"audio":for(Ft=0;Ft<lf.length;Ft++)D$1(lf[Ft],_e);Ft=Ot;break;case"source":D$1("error",_e),Ft=Ot;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),Ft=Ot;break;case"details":D$1("toggle",_e),Ft=Ot;break;case"input":Za(_e,Ot),Ft=Ya(_e,Ot),D$1("invalid",_e);break;case"option":Ft=Ot;break;case"select":_e._wrapperState={wasMultiple:!!Ot.multiple},Ft=A$1({},Ot,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,Ot),Ft=gb(_e,Ot),D$1("invalid",_e);break;default:Ft=Ot}ub(Mt,Ft),jr=Ft;for(Ut in jr)if(jr.hasOwnProperty(Ut)){var hn=jr[Ut];Ut==="style"?sb(_e,hn):Ut==="dangerouslySetInnerHTML"?(hn=hn?hn.__html:void 0,hn!=null&&nb(_e,hn)):Ut==="children"?typeof hn=="string"?(Mt!=="textarea"||hn!=="")&&ob(_e,hn):typeof hn=="number"&&ob(_e,""+hn):Ut!=="suppressContentEditableWarning"&&Ut!=="suppressHydrationWarning"&&Ut!=="autoFocus"&&(ea.hasOwnProperty(Ut)?hn!=null&&Ut==="onScroll"&&D$1("scroll",_e):hn!=null&&ta(_e,Ut,hn,Xt))}switch(Mt){case"input":Va(_e),db(_e,Ot,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":Ot.value!=null&&_e.setAttribute("value",""+Sa(Ot.value));break;case"select":_e.multiple=!!Ot.multiple,Ut=Ot.value,Ut!=null?fb(_e,!!Ot.multiple,Ut,!1):Ot.defaultValue!=null&&fb(_e,!!Ot.multiple,Ot.defaultValue,!0);break;default:typeof Ft.onClick=="function"&&(_e.onclick=Bf)}switch(Mt){case"button":case"input":case"select":case"textarea":Ot=!!Ot.autoFocus;break e;case"img":Ot=!0;break e;default:Ot=!1}}Ot&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return S$1(d),null;case 6:if(_e&&d.stateNode!=null)Cj(_e,d,_e.memoizedProps,Ot);else{if(typeof Ot!="string"&&d.stateNode===null)throw Error(p$2(166));if(Mt=xh(wh.current),xh(uh.current),Gg(d)){if(Ot=d.stateNode,Mt=d.memoizedProps,Ot[Of]=d,(Ut=Ot.nodeValue!==Mt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(Ot.nodeValue,Mt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(Ot.nodeValue,Mt,(_e.mode&1)!==0)}Ut&&(d.flags|=4)}else Ot=(Mt.nodeType===9?Mt:Mt.ownerDocument).createTextNode(Ot),Ot[Of]=d,d.stateNode=Ot}return S$1(d),null;case 13:if(E$1(L$1),Ot=d.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&d.mode&1&&!(d.flags&128))Hg(),Ig(),d.flags|=98560,Ut=!1;else if(Ut=Gg(d),Ot!==null&&Ot.dehydrated!==null){if(_e===null){if(!Ut)throw Error(p$2(318));if(Ut=d.memoizedState,Ut=Ut!==null?Ut.dehydrated:null,!Ut)throw Error(p$2(317));Ut[Of]=d}else Ig(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;S$1(d),Ut=!1}else zg!==null&&(Fj(zg),zg=null),Ut=!0;if(!Ut)return d.flags&65536?d:null}return d.flags&128?(d.lanes=Mt,d):(Ot=Ot!==null,Ot!==(_e!==null&&_e.memoizedState!==null)&&Ot&&(d.child.flags|=8192,d.mode&1&&(_e===null||L$1.current&1?T$1===0&&(T$1=3):tj())),d.updateQueue!==null&&(d.flags|=4),S$1(d),null);case 4:return zh(),Aj(_e,d),_e===null&&sf(d.stateNode.containerInfo),S$1(d),null;case 10:return ah(d.type._context),S$1(d),null;case 17:return Zf(d.type)&&$f(),S$1(d),null;case 19:if(E$1(L$1),Ut=d.memoizedState,Ut===null)return S$1(d),null;if(Ot=(d.flags&128)!==0,Xt=Ut.rendering,Xt===null)if(Ot)Dj(Ut,!1);else{if(T$1!==0||_e!==null&&_e.flags&128)for(_e=d.child;_e!==null;){if(Xt=Ch(_e),Xt!==null){for(d.flags|=128,Dj(Ut,!1),Ot=Xt.updateQueue,Ot!==null&&(d.updateQueue=Ot,d.flags|=4),d.subtreeFlags=0,Ot=Mt,Mt=d.child;Mt!==null;)Ut=Mt,_e=Ot,Ut.flags&=14680066,Xt=Ut.alternate,Xt===null?(Ut.childLanes=0,Ut.lanes=_e,Ut.child=null,Ut.subtreeFlags=0,Ut.memoizedProps=null,Ut.memoizedState=null,Ut.updateQueue=null,Ut.dependencies=null,Ut.stateNode=null):(Ut.childLanes=Xt.childLanes,Ut.lanes=Xt.lanes,Ut.child=Xt.child,Ut.subtreeFlags=0,Ut.deletions=null,Ut.memoizedProps=Xt.memoizedProps,Ut.memoizedState=Xt.memoizedState,Ut.updateQueue=Xt.updateQueue,Ut.type=Xt.type,_e=Xt.dependencies,Ut.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),Mt=Mt.sibling;return G$1(L$1,L$1.current&1|2),d.child}_e=_e.sibling}Ut.tail!==null&&B$1()>Gj&&(d.flags|=128,Ot=!0,Dj(Ut,!1),d.lanes=4194304)}else{if(!Ot)if(_e=Ch(Xt),_e!==null){if(d.flags|=128,Ot=!0,Mt=_e.updateQueue,Mt!==null&&(d.updateQueue=Mt,d.flags|=4),Dj(Ut,!0),Ut.tail===null&&Ut.tailMode==="hidden"&&!Xt.alternate&&!I$1)return S$1(d),null}else 2*B$1()-Ut.renderingStartTime>Gj&&Mt!==1073741824&&(d.flags|=128,Ot=!0,Dj(Ut,!1),d.lanes=4194304);Ut.isBackwards?(Xt.sibling=d.child,d.child=Xt):(Mt=Ut.last,Mt!==null?Mt.sibling=Xt:d.child=Xt,Ut.last=Xt)}return Ut.tail!==null?(d=Ut.tail,Ut.rendering=d,Ut.tail=d.sibling,Ut.renderingStartTime=B$1(),d.sibling=null,Mt=L$1.current,G$1(L$1,Ot?Mt&1|2:Mt&1),d):(S$1(d),null);case 22:case 23:return Hj(),Ot=d.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==Ot&&(d.flags|=8192),Ot&&d.mode&1?fj&1073741824&&(S$1(d),d.subtreeFlags&6&&(d.flags|=8192)):S$1(d),null;case 24:return null;case 25:return null}throw Error(p$2(156,d.tag))}function Ij(_e,d){switch(wg(d),d.tag){case 1:return Zf(d.type)&&$f(),_e=d.flags,_e&65536?(d.flags=_e&-65537|128,d):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),_e=d.flags,_e&65536&&!(_e&128)?(d.flags=_e&-65537|128,d):null;case 5:return Bh(d),null;case 13:if(E$1(L$1),_e=d.memoizedState,_e!==null&&_e.dehydrated!==null){if(d.alternate===null)throw Error(p$2(340));Ig()}return _e=d.flags,_e&65536?(d.flags=_e&-65537|128,d):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(d.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,d){var Mt=_e.ref;if(Mt!==null)if(typeof Mt=="function")try{Mt(null)}catch(Ot){W$1(_e,d,Ot)}else Mt.current=null}function Mj(_e,d,Mt){try{Mt()}catch(Ot){W$1(_e,d,Ot)}}var Nj=!1;function Oj(_e,d){if(Cf=dd,_e=Me$1(),Ne$1(_e)){if("selectionStart"in _e)var Mt={start:_e.selectionStart,end:_e.selectionEnd};else e:{Mt=(Mt=_e.ownerDocument)&&Mt.defaultView||window;var Ot=Mt.getSelection&&Mt.getSelection();if(Ot&&Ot.rangeCount!==0){Mt=Ot.anchorNode;var Ft=Ot.anchorOffset,Ut=Ot.focusNode;Ot=Ot.focusOffset;try{Mt.nodeType,Ut.nodeType}catch{Mt=null;break e}var Xt=0,jr=-1,hn=-1,Vr=0,fn=0,dn=_e,pn=null;t:for(;;){for(var En;dn!==Mt||Ft!==0&&dn.nodeType!==3||(jr=Xt+Ft),dn!==Ut||Ot!==0&&dn.nodeType!==3||(hn=Xt+Ot),dn.nodeType===3&&(Xt+=dn.nodeValue.length),(En=dn.firstChild)!==null;)pn=dn,dn=En;for(;;){if(dn===_e)break t;if(pn===Mt&&++Vr===Ft&&(jr=Xt),pn===Ut&&++fn===Ot&&(hn=Xt),(En=dn.nextSibling)!==null)break;dn=pn,pn=dn.parentNode}dn=En}Mt=jr===-1||hn===-1?null:{start:jr,end:hn}}else Mt=null}Mt=Mt||{start:0,end:0}}else Mt=null;for(Df={focusedElem:_e,selectionRange:Mt},dd=!1,V$1=d;V$1!==null;)if(d=V$1,_e=d.child,(d.subtreeFlags&1028)!==0&&_e!==null)_e.return=d,V$1=_e;else for(;V$1!==null;){d=V$1;try{var _n=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_n!==null){var Dn=_n.memoizedProps,Vn=_n.memoizedState,Pn=d.stateNode,qn=Pn.getSnapshotBeforeUpdate(d.elementType===d.type?Dn:Ci(d.type,Dn),Vn);Pn.__reactInternalSnapshotBeforeUpdate=qn}break;case 3:var jn=d.stateNode.containerInfo;jn.nodeType===1?jn.textContent="":jn.nodeType===9&&jn.documentElement&&jn.removeChild(jn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Hn){W$1(d,d.return,Hn)}if(_e=d.sibling,_e!==null){_e.return=d.return,V$1=_e;break}V$1=d.return}return _n=Nj,Nj=!1,_n}function Pj(_e,d,Mt){var Ot=d.updateQueue;if(Ot=Ot!==null?Ot.lastEffect:null,Ot!==null){var Ft=Ot=Ot.next;do{if((Ft.tag&_e)===_e){var Ut=Ft.destroy;Ft.destroy=void 0,Ut!==void 0&&Mj(d,Mt,Ut)}Ft=Ft.next}while(Ft!==Ot)}}function Qj(_e,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var Mt=d=d.next;do{if((Mt.tag&_e)===_e){var Ot=Mt.create;Mt.destroy=Ot()}Mt=Mt.next}while(Mt!==d)}}function Rj(_e){var d=_e.ref;if(d!==null){var Mt=_e.stateNode;switch(_e.tag){case 5:_e=Mt;break;default:_e=Mt}typeof d=="function"?d(_e):d.current=_e}}function Sj(_e){var d=_e.alternate;d!==null&&(_e.alternate=null,Sj(d)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(d=_e.stateNode,d!==null&&(delete d[Of],delete d[Pf],delete d[of],delete d[Qf],delete d[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,d,Mt){var Ot=_e.tag;if(Ot===5||Ot===6)_e=_e.stateNode,d?Mt.nodeType===8?Mt.parentNode.insertBefore(_e,d):Mt.insertBefore(_e,d):(Mt.nodeType===8?(d=Mt.parentNode,d.insertBefore(_e,Mt)):(d=Mt,d.appendChild(_e)),Mt=Mt._reactRootContainer,Mt!=null||d.onclick!==null||(d.onclick=Bf));else if(Ot!==4&&(_e=_e.child,_e!==null))for(Vj(_e,d,Mt),_e=_e.sibling;_e!==null;)Vj(_e,d,Mt),_e=_e.sibling}function Wj(_e,d,Mt){var Ot=_e.tag;if(Ot===5||Ot===6)_e=_e.stateNode,d?Mt.insertBefore(_e,d):Mt.appendChild(_e);else if(Ot!==4&&(_e=_e.child,_e!==null))for(Wj(_e,d,Mt),_e=_e.sibling;_e!==null;)Wj(_e,d,Mt),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,d,Mt){for(Mt=Mt.child;Mt!==null;)Zj(_e,d,Mt),Mt=Mt.sibling}function Zj(_e,d,Mt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,Mt)}catch{}switch(Mt.tag){case 5:U$1||Lj(Mt,d);case 6:var Ot=X$1,Ft=Xj;X$1=null,Yj(_e,d,Mt),X$1=Ot,Xj=Ft,X$1!==null&&(Xj?(_e=X$1,Mt=Mt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(Mt):_e.removeChild(Mt)):X$1.removeChild(Mt.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,Mt=Mt.stateNode,_e.nodeType===8?Kf(_e.parentNode,Mt):_e.nodeType===1&&Kf(_e,Mt),bd(_e)):Kf(X$1,Mt.stateNode));break;case 4:Ot=X$1,Ft=Xj,X$1=Mt.stateNode.containerInfo,Xj=!0,Yj(_e,d,Mt),X$1=Ot,Xj=Ft;break;case 0:case 11:case 14:case 15:if(!U$1&&(Ot=Mt.updateQueue,Ot!==null&&(Ot=Ot.lastEffect,Ot!==null))){Ft=Ot=Ot.next;do{var Ut=Ft,Xt=Ut.destroy;Ut=Ut.tag,Xt!==void 0&&(Ut&2||Ut&4)&&Mj(Mt,d,Xt),Ft=Ft.next}while(Ft!==Ot)}Yj(_e,d,Mt);break;case 1:if(!U$1&&(Lj(Mt,d),Ot=Mt.stateNode,typeof Ot.componentWillUnmount=="function"))try{Ot.props=Mt.memoizedProps,Ot.state=Mt.memoizedState,Ot.componentWillUnmount()}catch(jr){W$1(Mt,d,jr)}Yj(_e,d,Mt);break;case 21:Yj(_e,d,Mt);break;case 22:Mt.mode&1?(U$1=(Ot=U$1)||Mt.memoizedState!==null,Yj(_e,d,Mt),U$1=Ot):Yj(_e,d,Mt);break;default:Yj(_e,d,Mt)}}function ak(_e){var d=_e.updateQueue;if(d!==null){_e.updateQueue=null;var Mt=_e.stateNode;Mt===null&&(Mt=_e.stateNode=new Kj),d.forEach(function(Ot){var Ft=bk.bind(null,_e,Ot);Mt.has(Ot)||(Mt.add(Ot),Ot.then(Ft,Ft))})}}function ck(_e,d){var Mt=d.deletions;if(Mt!==null)for(var Ot=0;Ot<Mt.length;Ot++){var Ft=Mt[Ot];try{var Ut=_e,Xt=d,jr=Xt;e:for(;jr!==null;){switch(jr.tag){case 5:X$1=jr.stateNode,Xj=!1;break e;case 3:X$1=jr.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=jr.stateNode.containerInfo,Xj=!0;break e}jr=jr.return}if(X$1===null)throw Error(p$2(160));Zj(Ut,Xt,Ft),X$1=null,Xj=!1;var hn=Ft.alternate;hn!==null&&(hn.return=null),Ft.return=null}catch(Vr){W$1(Ft,d,Vr)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)dk(d,_e),d=d.sibling}function dk(_e,d){var Mt=_e.alternate,Ot=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(d,_e),ek(_e),Ot&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Dn){W$1(_e,_e.return,Dn)}try{Pj(5,_e,_e.return)}catch(Dn){W$1(_e,_e.return,Dn)}}break;case 1:ck(d,_e),ek(_e),Ot&512&&Mt!==null&&Lj(Mt,Mt.return);break;case 5:if(ck(d,_e),ek(_e),Ot&512&&Mt!==null&&Lj(Mt,Mt.return),_e.flags&32){var Ft=_e.stateNode;try{ob(Ft,"")}catch(Dn){W$1(_e,_e.return,Dn)}}if(Ot&4&&(Ft=_e.stateNode,Ft!=null)){var Ut=_e.memoizedProps,Xt=Mt!==null?Mt.memoizedProps:Ut,jr=_e.type,hn=_e.updateQueue;if(_e.updateQueue=null,hn!==null)try{jr==="input"&&Ut.type==="radio"&&Ut.name!=null&&ab(Ft,Ut),vb(jr,Xt);var Vr=vb(jr,Ut);for(Xt=0;Xt<hn.length;Xt+=2){var fn=hn[Xt],dn=hn[Xt+1];fn==="style"?sb(Ft,dn):fn==="dangerouslySetInnerHTML"?nb(Ft,dn):fn==="children"?ob(Ft,dn):ta(Ft,fn,dn,Vr)}switch(jr){case"input":bb(Ft,Ut);break;case"textarea":ib(Ft,Ut);break;case"select":var pn=Ft._wrapperState.wasMultiple;Ft._wrapperState.wasMultiple=!!Ut.multiple;var En=Ut.value;En!=null?fb(Ft,!!Ut.multiple,En,!1):pn!==!!Ut.multiple&&(Ut.defaultValue!=null?fb(Ft,!!Ut.multiple,Ut.defaultValue,!0):fb(Ft,!!Ut.multiple,Ut.multiple?[]:"",!1))}Ft[Pf]=Ut}catch(Dn){W$1(_e,_e.return,Dn)}}break;case 6:if(ck(d,_e),ek(_e),Ot&4){if(_e.stateNode===null)throw Error(p$2(162));Ft=_e.stateNode,Ut=_e.memoizedProps;try{Ft.nodeValue=Ut}catch(Dn){W$1(_e,_e.return,Dn)}}break;case 3:if(ck(d,_e),ek(_e),Ot&4&&Mt!==null&&Mt.memoizedState.isDehydrated)try{bd(d.containerInfo)}catch(Dn){W$1(_e,_e.return,Dn)}break;case 4:ck(d,_e),ek(_e);break;case 13:ck(d,_e),ek(_e),Ft=_e.child,Ft.flags&8192&&(Ut=Ft.memoizedState!==null,Ft.stateNode.isHidden=Ut,!Ut||Ft.alternate!==null&&Ft.alternate.memoizedState!==null||(fk=B$1())),Ot&4&&ak(_e);break;case 22:if(fn=Mt!==null&&Mt.memoizedState!==null,_e.mode&1?(U$1=(Vr=U$1)||fn,ck(d,_e),U$1=Vr):ck(d,_e),ek(_e),Ot&8192){if(Vr=_e.memoizedState!==null,(_e.stateNode.isHidden=Vr)&&!fn&&_e.mode&1)for(V$1=_e,fn=_e.child;fn!==null;){for(dn=V$1=fn;V$1!==null;){switch(pn=V$1,En=pn.child,pn.tag){case 0:case 11:case 14:case 15:Pj(4,pn,pn.return);break;case 1:Lj(pn,pn.return);var _n=pn.stateNode;if(typeof _n.componentWillUnmount=="function"){Ot=pn,Mt=pn.return;try{d=Ot,_n.props=d.memoizedProps,_n.state=d.memoizedState,_n.componentWillUnmount()}catch(Dn){W$1(Ot,Mt,Dn)}}break;case 5:Lj(pn,pn.return);break;case 22:if(pn.memoizedState!==null){gk(dn);continue}}En!==null?(En.return=pn,V$1=En):gk(dn)}fn=fn.sibling}e:for(fn=null,dn=_e;;){if(dn.tag===5){if(fn===null){fn=dn;try{Ft=dn.stateNode,Vr?(Ut=Ft.style,typeof Ut.setProperty=="function"?Ut.setProperty("display","none","important"):Ut.display="none"):(jr=dn.stateNode,hn=dn.memoizedProps.style,Xt=hn!=null&&hn.hasOwnProperty("display")?hn.display:null,jr.style.display=rb("display",Xt))}catch(Dn){W$1(_e,_e.return,Dn)}}}else if(dn.tag===6){if(fn===null)try{dn.stateNode.nodeValue=Vr?"":dn.memoizedProps}catch(Dn){W$1(_e,_e.return,Dn)}}else if((dn.tag!==22&&dn.tag!==23||dn.memoizedState===null||dn===_e)&&dn.child!==null){dn.child.return=dn,dn=dn.child;continue}if(dn===_e)break e;for(;dn.sibling===null;){if(dn.return===null||dn.return===_e)break e;fn===dn&&(fn=null),dn=dn.return}fn===dn&&(fn=null),dn.sibling.return=dn.return,dn=dn.sibling}}break;case 19:ck(d,_e),ek(_e),Ot&4&&ak(_e);break;case 21:break;default:ck(d,_e),ek(_e)}}function ek(_e){var d=_e.flags;if(d&2){try{e:{for(var Mt=_e.return;Mt!==null;){if(Tj(Mt)){var Ot=Mt;break e}Mt=Mt.return}throw Error(p$2(160))}switch(Ot.tag){case 5:var Ft=Ot.stateNode;Ot.flags&32&&(ob(Ft,""),Ot.flags&=-33);var Ut=Uj(_e);Wj(_e,Ut,Ft);break;case 3:case 4:var Xt=Ot.stateNode.containerInfo,jr=Uj(_e);Vj(_e,jr,Xt);break;default:throw Error(p$2(161))}}catch(hn){W$1(_e,_e.return,hn)}_e.flags&=-3}d&4096&&(_e.flags&=-4097)}function hk(_e,d,Mt){V$1=_e,ik(_e)}function ik(_e,d,Mt){for(var Ot=(_e.mode&1)!==0;V$1!==null;){var Ft=V$1,Ut=Ft.child;if(Ft.tag===22&&Ot){var Xt=Ft.memoizedState!==null||Jj;if(!Xt){var jr=Ft.alternate,hn=jr!==null&&jr.memoizedState!==null||U$1;jr=Jj;var Vr=U$1;if(Jj=Xt,(U$1=hn)&&!Vr)for(V$1=Ft;V$1!==null;)Xt=V$1,hn=Xt.child,Xt.tag===22&&Xt.memoizedState!==null?jk(Ft):hn!==null?(hn.return=Xt,V$1=hn):jk(Ft);for(;Ut!==null;)V$1=Ut,ik(Ut),Ut=Ut.sibling;V$1=Ft,Jj=jr,U$1=Vr}kk(_e)}else Ft.subtreeFlags&8772&&Ut!==null?(Ut.return=Ft,V$1=Ut):kk(_e)}}function kk(_e){for(;V$1!==null;){var d=V$1;if(d.flags&8772){var Mt=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:U$1||Qj(5,d);break;case 1:var Ot=d.stateNode;if(d.flags&4&&!U$1)if(Mt===null)Ot.componentDidMount();else{var Ft=d.elementType===d.type?Mt.memoizedProps:Ci(d.type,Mt.memoizedProps);Ot.componentDidUpdate(Ft,Mt.memoizedState,Ot.__reactInternalSnapshotBeforeUpdate)}var Ut=d.updateQueue;Ut!==null&&sh(d,Ut,Ot);break;case 3:var Xt=d.updateQueue;if(Xt!==null){if(Mt=null,d.child!==null)switch(d.child.tag){case 5:Mt=d.child.stateNode;break;case 1:Mt=d.child.stateNode}sh(d,Xt,Mt)}break;case 5:var jr=d.stateNode;if(Mt===null&&d.flags&4){Mt=jr;var hn=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":hn.autoFocus&&Mt.focus();break;case"img":hn.src&&(Mt.src=hn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Vr=d.alternate;if(Vr!==null){var fn=Vr.memoizedState;if(fn!==null){var dn=fn.dehydrated;dn!==null&&bd(dn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||d.flags&512&&Rj(d)}catch(pn){W$1(d,d.return,pn)}}if(d===_e){V$1=null;break}if(Mt=d.sibling,Mt!==null){Mt.return=d.return,V$1=Mt;break}V$1=d.return}}function gk(_e){for(;V$1!==null;){var d=V$1;if(d===_e){V$1=null;break}var Mt=d.sibling;if(Mt!==null){Mt.return=d.return,V$1=Mt;break}V$1=d.return}}function jk(_e){for(;V$1!==null;){var d=V$1;try{switch(d.tag){case 0:case 11:case 15:var Mt=d.return;try{Qj(4,d)}catch(hn){W$1(d,Mt,hn)}break;case 1:var Ot=d.stateNode;if(typeof Ot.componentDidMount=="function"){var Ft=d.return;try{Ot.componentDidMount()}catch(hn){W$1(d,Ft,hn)}}var Ut=d.return;try{Rj(d)}catch(hn){W$1(d,Ut,hn)}break;case 5:var Xt=d.return;try{Rj(d)}catch(hn){W$1(d,Xt,hn)}}}catch(hn){W$1(d,d.return,hn)}if(d===_e){V$1=null;break}var jr=d.sibling;if(jr!==null){jr.return=d.return,V$1=jr;break}V$1=d.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,d,Mt,Ot){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(_e,Mt,Ot),(!(K$1&2)||_e!==Q$1)&&(_e===Q$1&&(!(K$1&2)&&(qk|=Mt),T$1===4&&Ck(_e,Z$1)),Dk(_e,Ot),Mt===1&&K$1===0&&!(d.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,d){var Mt=_e.callbackNode;wc(_e,d);var Ot=uc(_e,_e===Q$1?Z$1:0);if(Ot===0)Mt!==null&&bc(Mt),_e.callbackNode=null,_e.callbackPriority=0;else if(d=Ot&-Ot,_e.callbackPriority!==d){if(Mt!=null&&bc(Mt),d===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K$1&6)&&jg()}),Mt=null;else{switch(Dc(Ot)){case 1:Mt=fc;break;case 4:Mt=gc;break;case 16:Mt=hc;break;case 536870912:Mt=jc;break;default:Mt=hc}Mt=Fk(Mt,Gk.bind(null,_e))}_e.callbackPriority=d,_e.callbackNode=Mt}}function Gk(_e,d){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var Mt=_e.callbackNode;if(Hk()&&_e.callbackNode!==Mt)return null;var Ot=uc(_e,_e===Q$1?Z$1:0);if(Ot===0)return null;if(Ot&30||Ot&_e.expiredLanes||d)d=Ik(_e,Ot);else{d=Ot;var Ft=K$1;K$1|=2;var Ut=Jk();(Q$1!==_e||Z$1!==d)&&(uk=null,Gj=B$1()+500,Kk(_e,d));do try{Lk();break}catch(jr){Mk(_e,jr)}while(!0);$g(),mk.current=Ut,K$1=Ft,Y$1!==null?d=0:(Q$1=null,Z$1=0,d=T$1)}if(d!==0){if(d===2&&(Ft=xc(_e),Ft!==0&&(Ot=Ft,d=Nk(_e,Ft))),d===1)throw Mt=pk,Kk(_e,0),Ck(_e,Ot),Dk(_e,B$1()),Mt;if(d===6)Ck(_e,Ot);else{if(Ft=_e.current.alternate,!(Ot&30)&&!Ok(Ft)&&(d=Ik(_e,Ot),d===2&&(Ut=xc(_e),Ut!==0&&(Ot=Ut,d=Nk(_e,Ut))),d===1))throw Mt=pk,Kk(_e,0),Ck(_e,Ot),Dk(_e,B$1()),Mt;switch(_e.finishedWork=Ft,_e.finishedLanes=Ot,d){case 0:case 1:throw Error(p$2(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,Ot),(Ot&130023424)===Ot&&(d=fk+500-B$1(),10<d)){if(uc(_e,0)!==0)break;if(Ft=_e.suspendedLanes,(Ft&Ot)!==Ot){R$1(),_e.pingedLanes|=_e.suspendedLanes&Ft;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),d);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,Ot),(Ot&4194240)===Ot)break;for(d=_e.eventTimes,Ft=-1;0<Ot;){var Xt=31-oc(Ot);Ut=1<<Xt,Xt=d[Xt],Xt>Ft&&(Ft=Xt),Ot&=~Ut}if(Ot=Ft,Ot=B$1()-Ot,Ot=(120>Ot?120:480>Ot?480:1080>Ot?1080:1920>Ot?1920:3e3>Ot?3e3:4320>Ot?4320:1960*lk(Ot/1960))-Ot,10<Ot){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),Ot);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(_e,B$1()),_e.callbackNode===Mt?Gk.bind(null,_e):null}function Nk(_e,d){var Mt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,d).flags|=256),_e=Ik(_e,d),_e!==2&&(d=tk,tk=Mt,d!==null&&Fj(d)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var d=_e;;){if(d.flags&16384){var Mt=d.updateQueue;if(Mt!==null&&(Mt=Mt.stores,Mt!==null))for(var Ot=0;Ot<Mt.length;Ot++){var Ft=Mt[Ot],Ut=Ft.getSnapshot;Ft=Ft.value;try{if(!He$1(Ut(),Ft))return!1}catch{return!1}}}if(Mt=d.child,d.subtreeFlags&16384&&Mt!==null)Mt.return=d,d=Mt;else{if(d===_e)break;for(;d.sibling===null;){if(d.return===null||d.return===_e)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ck(_e,d){for(d&=~rk,d&=~qk,_e.suspendedLanes|=d,_e.pingedLanes&=~d,_e=_e.expirationTimes;0<d;){var Mt=31-oc(d),Ot=1<<Mt;_e[Mt]=-1,d&=~Ot}}function Ek(_e){if(K$1&6)throw Error(p$2(327));Hk();var d=uc(_e,0);if(!(d&1))return Dk(_e,B$1()),null;var Mt=Ik(_e,d);if(_e.tag!==0&&Mt===2){var Ot=xc(_e);Ot!==0&&(d=Ot,Mt=Nk(_e,Ot))}if(Mt===1)throw Mt=pk,Kk(_e,0),Ck(_e,d),Dk(_e,B$1()),Mt;if(Mt===6)throw Error(p$2(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=d,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,d){var Mt=K$1;K$1|=1;try{return _e(d)}finally{K$1=Mt,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var d=K$1;K$1|=1;var Mt=ok.transition,Ot=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=Ot,ok.transition=Mt,K$1=d,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,d){_e.finishedWork=null,_e.finishedLanes=0;var Mt=_e.timeoutHandle;if(Mt!==-1&&(_e.timeoutHandle=-1,Gf(Mt)),Y$1!==null)for(Mt=Y$1.return;Mt!==null;){var Ot=Mt;switch(wg(Ot),Ot.tag){case 1:Ot=Ot.type.childContextTypes,Ot!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(Ot);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(Ot.type._context);break;case 22:case 23:Hj()}Mt=Mt.return}if(Q$1=_e,Y$1=_e=Pg(_e.current,null),Z$1=fj=d,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(d=0;d<fh.length;d++)if(Mt=fh[d],Ot=Mt.interleaved,Ot!==null){Mt.interleaved=null;var Ft=Ot.next,Ut=Mt.pending;if(Ut!==null){var Xt=Ut.next;Ut.next=Ft,Ot.next=Xt}Mt.pending=Ot}fh=null}return _e}function Mk(_e,d){do{var Mt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var Ot=M$1.memoizedState;Ot!==null;){var Ft=Ot.queue;Ft!==null&&(Ft.pending=null),Ot=Ot.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,Mt===null||Mt.return===null){T$1=1,pk=d,Y$1=null;break}e:{var Ut=_e,Xt=Mt.return,jr=Mt,hn=d;if(d=Z$1,jr.flags|=32768,hn!==null&&typeof hn=="object"&&typeof hn.then=="function"){var Vr=hn,fn=jr,dn=fn.tag;if(!(fn.mode&1)&&(dn===0||dn===11||dn===15)){var pn=fn.alternate;pn?(fn.updateQueue=pn.updateQueue,fn.memoizedState=pn.memoizedState,fn.lanes=pn.lanes):(fn.updateQueue=null,fn.memoizedState=null)}var En=Ui(Xt);if(En!==null){En.flags&=-257,Vi(En,Xt,jr,Ut,d),En.mode&1&&Si(Ut,Vr,d),d=En,hn=Vr;var _n=d.updateQueue;if(_n===null){var Dn=new Set;Dn.add(hn),d.updateQueue=Dn}else _n.add(hn);break e}else{if(!(d&1)){Si(Ut,Vr,d),tj();break e}hn=Error(p$2(426))}}else if(I$1&&jr.mode&1){var Vn=Ui(Xt);if(Vn!==null){!(Vn.flags&65536)&&(Vn.flags|=256),Vi(Vn,Xt,jr,Ut,d),Jg(Ji(hn,jr));break e}}Ut=hn=Ji(hn,jr),T$1!==4&&(T$1=2),sk===null?sk=[Ut]:sk.push(Ut),Ut=Xt;do{switch(Ut.tag){case 3:Ut.flags|=65536,d&=-d,Ut.lanes|=d;var Pn=Ni(Ut,hn,d);ph(Ut,Pn);break e;case 1:jr=hn;var qn=Ut.type,jn=Ut.stateNode;if(!(Ut.flags&128)&&(typeof qn.getDerivedStateFromError=="function"||jn!==null&&typeof jn.componentDidCatch=="function"&&(Ri===null||!Ri.has(jn)))){Ut.flags|=65536,d&=-d,Ut.lanes|=d;var Hn=Qi(Ut,jr,d);ph(Ut,Hn);break e}}Ut=Ut.return}while(Ut!==null)}Sk(Mt)}catch(Jn){d=Jn,Y$1===Mt&&Mt!==null&&(Y$1=Mt=Mt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(_e,d){var Mt=K$1;K$1|=2;var Ot=Jk();(Q$1!==_e||Z$1!==d)&&(uk=null,Kk(_e,d));do try{Tk();break}catch(Ft){Mk(_e,Ft)}while(!0);if($g(),K$1=Mt,mk.current=Ot,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(_e){var d=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,d===null?Sk(_e):Y$1=d,nk.current=null}function Sk(_e){var d=_e;do{var Mt=d.alternate;if(_e=d.return,d.flags&32768){if(Mt=Ij(Mt,d),Mt!==null){Mt.flags&=32767,Y$1=Mt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y$1=null;return}}else if(Mt=Ej(Mt,d,fj),Mt!==null){Y$1=Mt;return}if(d=d.sibling,d!==null){Y$1=d;return}Y$1=d=_e}while(d!==null);T$1===0&&(T$1=5)}function Pk(_e,d,Mt){var Ot=C$1,Ft=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,d,Mt,Ot)}finally{ok.transition=Ft,C$1=Ot}return null}function Wk(_e,d,Mt,Ot){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));Mt=_e.finishedWork;var Ft=_e.finishedLanes;if(Mt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,Mt===_e.current)throw Error(p$2(177));_e.callbackNode=null,_e.callbackPriority=0;var Ut=Mt.lanes|Mt.childLanes;if(Bc(_e,Ut),_e===Q$1&&(Y$1=Q$1=null,Z$1=0),!(Mt.subtreeFlags&2064)&&!(Mt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),Ut=(Mt.flags&15990)!==0,Mt.subtreeFlags&15990||Ut){Ut=ok.transition,ok.transition=null;var Xt=C$1;C$1=1;var jr=K$1;K$1|=4,nk.current=null,Oj(_e,Mt),dk(Mt,_e),Oe$1(Df),dd=!!Cf,Df=Cf=null,_e.current=Mt,hk(Mt),dc(),K$1=jr,C$1=Xt,ok.transition=Ut}else _e.current=Mt;if(vk&&(vk=!1,wk=_e,xk=Ft),Ut=_e.pendingLanes,Ut===0&&(Ri=null),mc(Mt.stateNode),Dk(_e,B$1()),d!==null)for(Ot=_e.onRecoverableError,Mt=0;Mt<d.length;Mt++)Ft=d[Mt],Ot(Ft.value,{componentStack:Ft.stack,digest:Ft.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),Ut=_e.pendingLanes,Ut&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),d=ok.transition,Mt=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var Ot=!1;else{if(_e=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var Ft=K$1;for(K$1|=4,V$1=_e.current;V$1!==null;){var Ut=V$1,Xt=Ut.child;if(V$1.flags&16){var jr=Ut.deletions;if(jr!==null){for(var hn=0;hn<jr.length;hn++){var Vr=jr[hn];for(V$1=Vr;V$1!==null;){var fn=V$1;switch(fn.tag){case 0:case 11:case 15:Pj(8,fn,Ut)}var dn=fn.child;if(dn!==null)dn.return=fn,V$1=dn;else for(;V$1!==null;){fn=V$1;var pn=fn.sibling,En=fn.return;if(Sj(fn),fn===Vr){V$1=null;break}if(pn!==null){pn.return=En,V$1=pn;break}V$1=En}}}var _n=Ut.alternate;if(_n!==null){var Dn=_n.child;if(Dn!==null){_n.child=null;do{var Vn=Dn.sibling;Dn.sibling=null,Dn=Vn}while(Dn!==null)}}V$1=Ut}}if(Ut.subtreeFlags&2064&&Xt!==null)Xt.return=Ut,V$1=Xt;else e:for(;V$1!==null;){if(Ut=V$1,Ut.flags&2048)switch(Ut.tag){case 0:case 11:case 15:Pj(9,Ut,Ut.return)}var Pn=Ut.sibling;if(Pn!==null){Pn.return=Ut.return,V$1=Pn;break e}V$1=Ut.return}}var qn=_e.current;for(V$1=qn;V$1!==null;){Xt=V$1;var jn=Xt.child;if(Xt.subtreeFlags&2064&&jn!==null)jn.return=Xt,V$1=jn;else e:for(Xt=qn;V$1!==null;){if(jr=V$1,jr.flags&2048)try{switch(jr.tag){case 0:case 11:case 15:Qj(9,jr)}}catch(Jn){W$1(jr,jr.return,Jn)}if(jr===Xt){V$1=null;break e}var Hn=jr.sibling;if(Hn!==null){Hn.return=jr.return,V$1=Hn;break e}V$1=jr.return}}if(K$1=Ft,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}Ot=!0}return Ot}finally{C$1=Mt,ok.transition=d}}return!1}function Xk(_e,d,Mt){d=Ji(Mt,d),d=Ni(_e,d,1),_e=nh(_e,d,1),d=R$1(),_e!==null&&(Ac(_e,1,d),Dk(_e,d))}function W$1(_e,d,Mt){if(_e.tag===3)Xk(_e,_e,Mt);else for(;d!==null;){if(d.tag===3){Xk(d,_e,Mt);break}else if(d.tag===1){var Ot=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof Ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ot))){_e=Ji(Mt,_e),_e=Qi(d,_e,1),d=nh(d,_e,1),_e=R$1(),d!==null&&(Ac(d,1,_e),Dk(d,_e));break}}d=d.return}}function Ti(_e,d,Mt){var Ot=_e.pingCache;Ot!==null&&Ot.delete(d),d=R$1(),_e.pingedLanes|=_e.suspendedLanes&Mt,Q$1===_e&&(Z$1&Mt)===Mt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(_e,0):rk|=Mt),Dk(_e,d)}function Yk(_e,d){d===0&&(_e.mode&1?(d=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):d=1);var Mt=R$1();_e=ih(_e,d),_e!==null&&(Ac(_e,d,Mt),Dk(_e,Mt))}function uj(_e){var d=_e.memoizedState,Mt=0;d!==null&&(Mt=d.retryLane),Yk(_e,Mt)}function bk(_e,d){var Mt=0;switch(_e.tag){case 13:var Ot=_e.stateNode,Ft=_e.memoizedState;Ft!==null&&(Mt=Ft.retryLane);break;case 19:Ot=_e.stateNode;break;default:throw Error(p$2(314))}Ot!==null&&Ot.delete(d),Yk(_e,Mt)}var Vk;Vk=function(_e,d,Mt){if(_e!==null)if(_e.memoizedProps!==d.pendingProps||Wf.current)dh$1=!0;else{if(!(_e.lanes&Mt)&&!(d.flags&128))return dh$1=!1,yj(_e,d,Mt);dh$1=!!(_e.flags&131072)}else dh$1=!1,I$1&&d.flags&1048576&&ug(d,ng,d.index);switch(d.lanes=0,d.tag){case 2:var Ot=d.type;ij(_e,d),_e=d.pendingProps;var Ft=Yf(d,H$1.current);ch(d,Mt),Ft=Nh(null,d,Ot,_e,Ft,Mt);var Ut=Sh();return d.flags|=1,typeof Ft=="object"&&Ft!==null&&typeof Ft.render=="function"&&Ft.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Zf(Ot)?(Ut=!0,cg(d)):Ut=!1,d.memoizedState=Ft.state!==null&&Ft.state!==void 0?Ft.state:null,kh(d),Ft.updater=Ei,d.stateNode=Ft,Ft._reactInternals=d,Ii(d,Ot,_e,Mt),d=jj(null,d,Ot,!0,Ut,Mt)):(d.tag=0,I$1&&Ut&&vg(d),Xi(null,d,Ft,Mt),d=d.child),d;case 16:Ot=d.elementType;e:{switch(ij(_e,d),_e=d.pendingProps,Ft=Ot._init,Ot=Ft(Ot._payload),d.type=Ot,Ft=d.tag=Zk(Ot),_e=Ci(Ot,_e),Ft){case 0:d=cj(null,d,Ot,_e,Mt);break e;case 1:d=hj(null,d,Ot,_e,Mt);break e;case 11:d=Yi(null,d,Ot,_e,Mt);break e;case 14:d=$i(null,d,Ot,Ci(Ot.type,_e),Mt);break e}throw Error(p$2(306,Ot,""))}return d;case 0:return Ot=d.type,Ft=d.pendingProps,Ft=d.elementType===Ot?Ft:Ci(Ot,Ft),cj(_e,d,Ot,Ft,Mt);case 1:return Ot=d.type,Ft=d.pendingProps,Ft=d.elementType===Ot?Ft:Ci(Ot,Ft),hj(_e,d,Ot,Ft,Mt);case 3:e:{if(kj(d),_e===null)throw Error(p$2(387));Ot=d.pendingProps,Ut=d.memoizedState,Ft=Ut.element,lh(_e,d),qh(d,Ot,null,Mt);var Xt=d.memoizedState;if(Ot=Xt.element,Ut.isDehydrated)if(Ut={element:Ot,isDehydrated:!1,cache:Xt.cache,pendingSuspenseBoundaries:Xt.pendingSuspenseBoundaries,transitions:Xt.transitions},d.updateQueue.baseState=Ut,d.memoizedState=Ut,d.flags&256){Ft=Ji(Error(p$2(423)),d),d=lj(_e,d,Ot,Mt,Ft);break e}else if(Ot!==Ft){Ft=Ji(Error(p$2(424)),d),d=lj(_e,d,Ot,Mt,Ft);break e}else for(yg=Lf(d.stateNode.containerInfo.firstChild),xg=d,I$1=!0,zg=null,Mt=Vg(d,null,Ot,Mt),d.child=Mt;Mt;)Mt.flags=Mt.flags&-3|4096,Mt=Mt.sibling;else{if(Ig(),Ot===Ft){d=Zi(_e,d,Mt);break e}Xi(_e,d,Ot,Mt)}d=d.child}return d;case 5:return Ah(d),_e===null&&Eg(d),Ot=d.type,Ft=d.pendingProps,Ut=_e!==null?_e.memoizedProps:null,Xt=Ft.children,Ef(Ot,Ft)?Xt=null:Ut!==null&&Ef(Ot,Ut)&&(d.flags|=32),gj(_e,d),Xi(_e,d,Xt,Mt),d.child;case 6:return _e===null&&Eg(d),null;case 13:return oj(_e,d,Mt);case 4:return yh(d,d.stateNode.containerInfo),Ot=d.pendingProps,_e===null?d.child=Ug(d,null,Ot,Mt):Xi(_e,d,Ot,Mt),d.child;case 11:return Ot=d.type,Ft=d.pendingProps,Ft=d.elementType===Ot?Ft:Ci(Ot,Ft),Yi(_e,d,Ot,Ft,Mt);case 7:return Xi(_e,d,d.pendingProps,Mt),d.child;case 8:return Xi(_e,d,d.pendingProps.children,Mt),d.child;case 12:return Xi(_e,d,d.pendingProps.children,Mt),d.child;case 10:e:{if(Ot=d.type._context,Ft=d.pendingProps,Ut=d.memoizedProps,Xt=Ft.value,G$1(Wg,Ot._currentValue),Ot._currentValue=Xt,Ut!==null)if(He$1(Ut.value,Xt)){if(Ut.children===Ft.children&&!Wf.current){d=Zi(_e,d,Mt);break e}}else for(Ut=d.child,Ut!==null&&(Ut.return=d);Ut!==null;){var jr=Ut.dependencies;if(jr!==null){Xt=Ut.child;for(var hn=jr.firstContext;hn!==null;){if(hn.context===Ot){if(Ut.tag===1){hn=mh(-1,Mt&-Mt),hn.tag=2;var Vr=Ut.updateQueue;if(Vr!==null){Vr=Vr.shared;var fn=Vr.pending;fn===null?hn.next=hn:(hn.next=fn.next,fn.next=hn),Vr.pending=hn}}Ut.lanes|=Mt,hn=Ut.alternate,hn!==null&&(hn.lanes|=Mt),bh(Ut.return,Mt,d),jr.lanes|=Mt;break}hn=hn.next}}else if(Ut.tag===10)Xt=Ut.type===d.type?null:Ut.child;else if(Ut.tag===18){if(Xt=Ut.return,Xt===null)throw Error(p$2(341));Xt.lanes|=Mt,jr=Xt.alternate,jr!==null&&(jr.lanes|=Mt),bh(Xt,Mt,d),Xt=Ut.sibling}else Xt=Ut.child;if(Xt!==null)Xt.return=Ut;else for(Xt=Ut;Xt!==null;){if(Xt===d){Xt=null;break}if(Ut=Xt.sibling,Ut!==null){Ut.return=Xt.return,Xt=Ut;break}Xt=Xt.return}Ut=Xt}Xi(_e,d,Ft.children,Mt),d=d.child}return d;case 9:return Ft=d.type,Ot=d.pendingProps.children,ch(d,Mt),Ft=eh(Ft),Ot=Ot(Ft),d.flags|=1,Xi(_e,d,Ot,Mt),d.child;case 14:return Ot=d.type,Ft=Ci(Ot,d.pendingProps),Ft=Ci(Ot.type,Ft),$i(_e,d,Ot,Ft,Mt);case 15:return bj(_e,d,d.type,d.pendingProps,Mt);case 17:return Ot=d.type,Ft=d.pendingProps,Ft=d.elementType===Ot?Ft:Ci(Ot,Ft),ij(_e,d),d.tag=1,Zf(Ot)?(_e=!0,cg(d)):_e=!1,ch(d,Mt),Gi(d,Ot,Ft),Ii(d,Ot,Ft,Mt),jj(null,d,Ot,!0,_e,Mt);case 19:return xj(_e,d,Mt);case 22:return dj(_e,d,Mt)}throw Error(p$2(156,d.tag))};function Fk(_e,d){return ac(_e,d)}function $k(_e,d,Mt,Ot){this.tag=_e,this.key=Mt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ot,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,d,Mt,Ot){return new $k(_e,d,Mt,Ot)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,d){var Mt=_e.alternate;return Mt===null?(Mt=Bg(_e.tag,d,_e.key,_e.mode),Mt.elementType=_e.elementType,Mt.type=_e.type,Mt.stateNode=_e.stateNode,Mt.alternate=_e,_e.alternate=Mt):(Mt.pendingProps=d,Mt.type=_e.type,Mt.flags=0,Mt.subtreeFlags=0,Mt.deletions=null),Mt.flags=_e.flags&14680064,Mt.childLanes=_e.childLanes,Mt.lanes=_e.lanes,Mt.child=_e.child,Mt.memoizedProps=_e.memoizedProps,Mt.memoizedState=_e.memoizedState,Mt.updateQueue=_e.updateQueue,d=_e.dependencies,Mt.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},Mt.sibling=_e.sibling,Mt.index=_e.index,Mt.ref=_e.ref,Mt}function Rg(_e,d,Mt,Ot,Ft,Ut){var Xt=2;if(Ot=_e,typeof _e=="function")aj(_e)&&(Xt=1);else if(typeof _e=="string")Xt=5;else e:switch(_e){case ya:return Tg(Mt.children,Ft,Ut,d);case za:Xt=8,Ft|=8;break;case Aa:return _e=Bg(12,Mt,d,Ft|2),_e.elementType=Aa,_e.lanes=Ut,_e;case Ea:return _e=Bg(13,Mt,d,Ft),_e.elementType=Ea,_e.lanes=Ut,_e;case Fa:return _e=Bg(19,Mt,d,Ft),_e.elementType=Fa,_e.lanes=Ut,_e;case Ia:return pj(Mt,Ft,Ut,d);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:Xt=10;break e;case Ca:Xt=9;break e;case Da:Xt=11;break e;case Ga:Xt=14;break e;case Ha:Xt=16,Ot=null;break e}throw Error(p$2(130,_e==null?_e:typeof _e,""))}return d=Bg(Xt,Mt,d,Ft),d.elementType=_e,d.type=Ot,d.lanes=Ut,d}function Tg(_e,d,Mt,Ot){return _e=Bg(7,_e,Ot,d),_e.lanes=Mt,_e}function pj(_e,d,Mt,Ot){return _e=Bg(22,_e,Ot,d),_e.elementType=Ia,_e.lanes=Mt,_e.stateNode={isHidden:!1},_e}function Qg(_e,d,Mt){return _e=Bg(6,_e,null,d),_e.lanes=Mt,_e}function Sg(_e,d,Mt){return d=Bg(4,_e.children!==null?_e.children:[],_e.key,d),d.lanes=Mt,d.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},d}function al(_e,d,Mt,Ot,Ft){this.tag=d,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=Ot,this.onRecoverableError=Ft,this.mutableSourceEagerHydrationData=null}function bl(_e,d,Mt,Ot,Ft,Ut,Xt,jr,hn){return _e=new al(_e,d,Mt,jr,hn),d===1?(d=1,Ut===!0&&(d|=8)):d=0,Ut=Bg(3,null,null,d),_e.current=Ut,Ut.stateNode=_e,Ut.memoizedState={element:Ot,isDehydrated:Mt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Ut),_e}function cl(_e,d,Mt){var Ot=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:Ot==null?null:""+Ot,children:_e,containerInfo:d,implementation:Mt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$2(170));var d=_e;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Zf(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(p$2(171))}if(_e.tag===1){var Mt=_e.type;if(Zf(Mt))return bg(_e,Mt,d)}return d}function el(_e,d,Mt,Ot,Ft,Ut,Xt,jr,hn){return _e=bl(Mt,Ot,!0,_e,Ft,Ut,Xt,jr,hn),_e.context=dl(null),Mt=_e.current,Ot=R$1(),Ft=yi(Mt),Ut=mh(Ot,Ft),Ut.callback=d??null,nh(Mt,Ut,Ft),_e.current.lanes=Ft,Ac(_e,Ft,Ot),Dk(_e,Ot),_e}function fl(_e,d,Mt,Ot){var Ft=d.current,Ut=R$1(),Xt=yi(Ft);return Mt=dl(Mt),d.context===null?d.context=Mt:d.pendingContext=Mt,d=mh(Ut,Xt),d.payload={element:_e},Ot=Ot===void 0?null:Ot,Ot!==null&&(d.callback=Ot),_e=nh(Ft,d,Xt),_e!==null&&(gi(_e,Ft,Xt,Ut),oh(_e,Ft,Xt)),Xt}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,d){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var Mt=_e.retryLane;_e.retryLane=Mt!==0&&Mt<d?Mt:d}}function il(_e,d){hl(_e,d),(_e=_e.alternate)&&hl(_e,d)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var d=this._internalRoot;if(d===null)throw Error(p$2(409));fl(_e,d,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var d=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),d[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var d=Hc();_e={blockedOn:null,target:_e,priority:d};for(var Mt=0;Mt<Qc.length&&d!==0&&d<Qc[Mt].priority;Mt++);Qc.splice(Mt,0,_e),Mt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,d,Mt,Ot,Ft){if(Ft){if(typeof Ot=="function"){var Ut=Ot;Ot=function(){var Vr=gl(Xt);Ut.call(Vr)}}var Xt=el(d,Ot,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=Xt,_e[uf]=Xt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),Xt}for(;Ft=_e.lastChild;)_e.removeChild(Ft);if(typeof Ot=="function"){var jr=Ot;Ot=function(){var Vr=gl(hn);jr.call(Vr)}}var hn=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=hn,_e[uf]=hn.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(d,hn,Mt,Ot)}),hn}function rl(_e,d,Mt,Ot,Ft){var Ut=Mt._reactRootContainer;if(Ut){var Xt=Ut;if(typeof Ft=="function"){var jr=Ft;Ft=function(){var hn=gl(Xt);jr.call(hn)}}fl(d,Xt,_e,Ft)}else Xt=ql(Mt,d,_e,Ft,Ot);return gl(Xt)}Ec=function(_e){switch(_e.tag){case 3:var d=_e.stateNode;if(d.current.memoizedState.isDehydrated){var Mt=tc(d.pendingLanes);Mt!==0&&(Cc(d,Mt|1),Dk(d,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var Ot=ih(_e,1);if(Ot!==null){var Ft=R$1();gi(Ot,_e,1,Ft)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var d=ih(_e,134217728);if(d!==null){var Mt=R$1();gi(d,_e,134217728,Mt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var d=yi(_e),Mt=ih(_e,d);if(Mt!==null){var Ot=R$1();gi(Mt,_e,d,Ot)}il(_e,d)}};Hc=function(){return C$1};Ic=function(_e,d){var Mt=C$1;try{return C$1=_e,d()}finally{C$1=Mt}};yb=function(_e,d,Mt){switch(d){case"input":if(bb(_e,Mt),d=Mt.name,Mt.type==="radio"&&d!=null){for(Mt=_e;Mt.parentNode;)Mt=Mt.parentNode;for(Mt=Mt.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<Mt.length;d++){var Ot=Mt[d];if(Ot!==_e&&Ot.form===_e.form){var Ft=Db(Ot);if(!Ft)throw Error(p$2(90));Wa(Ot),bb(Ot,Ft)}}}break;case"textarea":ib(_e,Mt);break;case"select":d=Mt.value,d!=null&&fb(_e,!!Mt.multiple,d,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,d){var Mt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(d))throw Error(p$2(200));return cl(_e,d,null,Mt)};reactDom_production_min.createRoot=function(_e,d){if(!nl(_e))throw Error(p$2(299));var Mt=!1,Ot="",Ft=kl;return d!=null&&(d.unstable_strictMode===!0&&(Mt=!0),d.identifierPrefix!==void 0&&(Ot=d.identifierPrefix),d.onRecoverableError!==void 0&&(Ft=d.onRecoverableError)),d=bl(_e,1,!1,null,null,Mt,!1,Ot,Ft),_e[uf]=d.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(d)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var d=_e._reactInternals;if(d===void 0)throw typeof _e.render=="function"?Error(p$2(188)):(_e=Object.keys(_e).join(","),Error(p$2(268,_e)));return _e=Zb(d),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,d,Mt){if(!ol(d))throw Error(p$2(200));return rl(null,_e,d,!0,Mt)};reactDom_production_min.hydrateRoot=function(_e,d,Mt){if(!nl(_e))throw Error(p$2(405));var Ot=Mt!=null&&Mt.hydratedSources||null,Ft=!1,Ut="",Xt=kl;if(Mt!=null&&(Mt.unstable_strictMode===!0&&(Ft=!0),Mt.identifierPrefix!==void 0&&(Ut=Mt.identifierPrefix),Mt.onRecoverableError!==void 0&&(Xt=Mt.onRecoverableError)),d=el(d,null,_e,1,Mt??null,Ft,!1,Ut,Xt),_e[uf]=d.current,sf(_e),Ot)for(_e=0;_e<Ot.length;_e++)Mt=Ot[_e],Ft=Mt._getVersion,Ft=Ft(Mt._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[Mt,Ft]:d.mutableSourceEagerHydrationData.push(Mt,Ft);return new ml(d)};reactDom_production_min.render=function(_e,d,Mt){if(!ol(d))throw Error(p$2(200));return rl(null,_e,d,!1,Mt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$2(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,d,Mt,Ot){if(!ol(Mt))throw Error(p$2(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$2(38));return rl(_e,d,Mt,!1,Ot)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(_e,d){return _e===d&&(_e!==0||1/_e===1/d)||_e!==_e&&d!==d}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(_e,d){var Mt=d(),Ot=useState({inst:{value:Mt,getSnapshot:d}}),Ft=Ot[0].inst,Ut=Ot[1];return useLayoutEffect(function(){Ft.value=Mt,Ft.getSnapshot=d,checkIfSnapshotChanged(Ft)&&Ut({inst:Ft})},[_e,Mt,d]),useEffect$1(function(){return checkIfSnapshotChanged(Ft)&&Ut({inst:Ft}),_e(function(){checkIfSnapshotChanged(Ft)&&Ut({inst:Ft})})},[_e]),useDebugValue$1(Mt),Mt}function checkIfSnapshotChanged(_e){var d=_e.getSnapshot;_e=_e.value;try{var Mt=d();return!objectIs$1(_e,Mt)}catch{return!0}}function useSyncExternalStore$1(_e,d){return d()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(_e,d){return _e===d&&(_e!==0||1/_e===1/d)||_e!==_e&&d!==d}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(_e,d,Mt,Ot,Ft){var Ut=useRef(null);if(Ut.current===null){var Xt={hasValue:!1,value:null};Ut.current=Xt}else Xt=Ut.current;Ut=useMemo(function(){function hn(En){if(!Vr){if(Vr=!0,fn=En,En=Ot(En),Ft!==void 0&&Xt.hasValue){var _n=Xt.value;if(Ft(_n,En))return dn=_n}return dn=En}if(_n=dn,objectIs(fn,En))return _n;var Dn=Ot(En);return Ft!==void 0&&Ft(_n,Dn)?(fn=En,_n):(fn=En,dn=Dn)}var Vr=!1,fn,dn,pn=Mt===void 0?null:Mt;return[function(){return hn(d())},pn===null?void 0:function(){return hn(pn())}]},[d,Mt,Ot,Ft]);var jr=useSyncExternalStore(_e,Ut[0],Ut[1]);return useEffect(function(){Xt.hasValue=!0,Xt.value=jr},[jr]),useDebugValue(jr),jr};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const __storeToDerived=new WeakMap,__derivedToStore=new WeakMap,__depsThatHaveWrittenThisTick={current:[]};let __isFlushing=!1;const __pendingUpdates=new Set,__initialBatchValues=new Map;function __flush_internals(_e){const d=Array.from(_e).sort((Mt,Ot)=>Mt instanceof Derived&&Mt.options.deps.includes(Ot)?1:Ot instanceof Derived&&Ot.options.deps.includes(Mt)?-1:0);for(const Mt of d){if(__depsThatHaveWrittenThisTick.current.includes(Mt))continue;__depsThatHaveWrittenThisTick.current.push(Mt),Mt.recompute();const Ot=__derivedToStore.get(Mt);if(Ot)for(const Ft of Ot){const Ut=__storeToDerived.get(Ft);Ut&&__flush_internals(Ut)}}}function __notifyListeners(_e){_e.listeners.forEach(d=>d({prevVal:_e.prevState,currentVal:_e.state}))}function __notifyDerivedListeners(_e){_e.listeners.forEach(d=>d({prevVal:_e.prevState,currentVal:_e.state}))}function __flush(_e){if(__pendingUpdates.add(_e),!__isFlushing)try{for(__isFlushing=!0;__pendingUpdates.size>0;){const d=Array.from(__pendingUpdates);__pendingUpdates.clear();for(const Mt of d){const Ot=__initialBatchValues.get(Mt)??Mt.prevState;Mt.prevState=Ot,__notifyListeners(Mt)}for(const Mt of d){const Ot=__storeToDerived.get(Mt);Ot&&(__depsThatHaveWrittenThisTick.current.push(Mt),__flush_internals(Ot))}for(const Mt of d){const Ot=__storeToDerived.get(Mt);if(Ot)for(const Ft of Ot)__notifyDerivedListeners(Ft)}}}finally{__isFlushing=!1,__depsThatHaveWrittenThisTick.current=[],__initialBatchValues.clear()}}function isUpdaterFunction(_e){return typeof _e=="function"}class Store{constructor(d,Mt){this.listeners=new Set,this.subscribe=Ot=>{var Ft,Ut;this.listeners.add(Ot);const Xt=(Ut=(Ft=this.options)==null?void 0:Ft.onSubscribe)==null?void 0:Ut.call(Ft,Ot,this);return()=>{this.listeners.delete(Ot),Xt==null||Xt()}},this.prevState=d,this.state=d,this.options=Mt}setState(d){var Mt,Ot,Ft;this.prevState=this.state,(Mt=this.options)!=null&&Mt.updateFn?this.state=this.options.updateFn(this.prevState)(d):isUpdaterFunction(d)?this.state=d(this.prevState):this.state=d,(Ft=(Ot=this.options)==null?void 0:Ot.onUpdate)==null||Ft.call(Ot),__flush(this)}}class Derived{constructor(d){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const Mt=[],Ot=[];for(const Ft of this.options.deps)Mt.push(Ft.prevState),Ot.push(Ft.state);return this.lastSeenDepValues=Ot,{prevDepVals:Mt,currDepVals:Ot,prevVal:this.prevState??void 0}},this.recompute=()=>{var Mt,Ot;this.prevState=this.state;const{prevDepVals:Ft,currDepVals:Ut,prevVal:Xt}=this.getDepVals();this.state=this.options.fn({prevDepVals:Ft,currDepVals:Ut,prevVal:Xt}),(Ot=(Mt=this.options).onUpdate)==null||Ot.call(Mt)},this.checkIfRecalculationNeededDeeply=()=>{for(const Ut of this.options.deps)Ut instanceof Derived&&Ut.checkIfRecalculationNeededDeeply();let Mt=!1;const Ot=this.lastSeenDepValues,{currDepVals:Ft}=this.getDepVals();for(let Ut=0;Ut<Ft.length;Ut++)if(Ft[Ut]!==Ot[Ut]){Mt=!0;break}Mt&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const Mt of this._subscriptions)Mt()}),this.subscribe=Mt=>{var Ot,Ft;this.listeners.add(Mt);const Ut=(Ft=(Ot=this.options).onSubscribe)==null?void 0:Ft.call(Ot,Mt,this);return()=>{this.listeners.delete(Mt),Ut==null||Ut()}},this.options=d,this.state=d.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(d=this.options.deps){for(const Mt of d)if(Mt instanceof Derived)Mt.registerOnGraph(),this.registerOnGraph(Mt.options.deps);else if(Mt instanceof Store){let Ot=__storeToDerived.get(Mt);Ot||(Ot=new Set,__storeToDerived.set(Mt,Ot)),Ot.add(this);let Ft=__derivedToStore.get(this);Ft||(Ft=new Set,__derivedToStore.set(this,Ft)),Ft.add(Mt)}}unregisterFromGraph(d=this.options.deps){for(const Mt of d)if(Mt instanceof Derived)this.unregisterFromGraph(Mt.options.deps);else if(Mt instanceof Store){const Ot=__storeToDerived.get(Mt);Ot&&Ot.delete(this);const Ft=__derivedToStore.get(this);Ft&&Ft.delete(Mt)}}}function useStore(_e,d=Mt=>Mt){return withSelectorExports.useSyncExternalStoreWithSelector(_e.subscribe,()=>_e.state,()=>_e.state,d,shallow)}function shallow(_e,d){if(Object.is(_e,d))return!0;if(typeof _e!="object"||_e===null||typeof d!="object"||d===null)return!1;if(_e instanceof Map&&d instanceof Map){if(_e.size!==d.size)return!1;for(const[Ot,Ft]of _e)if(!d.has(Ot)||!Object.is(Ft,d.get(Ot)))return!1;return!0}if(_e instanceof Set&&d instanceof Set){if(_e.size!==d.size)return!1;for(const Ot of _e)if(!d.has(Ot))return!1;return!0}if(_e instanceof Date&&d instanceof Date)return _e.getTime()===d.getTime();const Mt=Object.keys(_e);if(Mt.length!==Object.keys(d).length)return!1;for(let Ot=0;Ot<Mt.length;Ot++)if(!Object.prototype.hasOwnProperty.call(d,Mt[Ot])||!Object.is(_e[Mt[Ot]],d[Mt[Ot]]))return!1;return!0}function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}var browser$c={exports:{}},process=browser$c.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(_e){if(cachedSetTimeout===setTimeout)return setTimeout(_e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(_e,0);try{return cachedSetTimeout(_e,0)}catch{try{return cachedSetTimeout.call(null,_e,0)}catch{return cachedSetTimeout.call(this,_e,0)}}}function runClearTimeout(_e){if(cachedClearTimeout===clearTimeout)return clearTimeout(_e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(_e);try{return cachedClearTimeout(_e)}catch{try{return cachedClearTimeout.call(null,_e)}catch{return cachedClearTimeout.call(this,_e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var _e=runTimeout(cleanUpNextTick);draining=!0;for(var d=queue.length;d;){for(currentQueue=queue,queue=[];++queueIndex<d;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,d=queue.length}currentQueue=null,draining=!1,runClearTimeout(_e)}}process.nextTick=function(_e){var d=new Array(arguments.length-1);if(arguments.length>1)for(var Mt=1;Mt<arguments.length;Mt++)d[Mt-1]=arguments[Mt];queue.push(new Item(_e,d)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(_e,d){this.fun=_e,this.array=d}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(_e){return[]};process.binding=function(_e){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(_e){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$c.exports;const process$1=getDefaultExportFromCjs(browserExports);var browser$b={exports:{}},safeBuffer$1={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(_e){var d=_e.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Mt=_e.indexOf("=");Mt===-1&&(Mt=d);var Ot=Mt===d?0:4-Mt%4;return[Mt,Ot]}function byteLength(_e){var d=getLens(_e),Mt=d[0],Ot=d[1];return(Mt+Ot)*3/4-Ot}function _byteLength(_e,d,Mt){return(d+Mt)*3/4-Mt}function toByteArray(_e){var d,Mt=getLens(_e),Ot=Mt[0],Ft=Mt[1],Ut=new Arr(_byteLength(_e,Ot,Ft)),Xt=0,jr=Ft>0?Ot-4:Ot,hn;for(hn=0;hn<jr;hn+=4)d=revLookup[_e.charCodeAt(hn)]<<18|revLookup[_e.charCodeAt(hn+1)]<<12|revLookup[_e.charCodeAt(hn+2)]<<6|revLookup[_e.charCodeAt(hn+3)],Ut[Xt++]=d>>16&255,Ut[Xt++]=d>>8&255,Ut[Xt++]=d&255;return Ft===2&&(d=revLookup[_e.charCodeAt(hn)]<<2|revLookup[_e.charCodeAt(hn+1)]>>4,Ut[Xt++]=d&255),Ft===1&&(d=revLookup[_e.charCodeAt(hn)]<<10|revLookup[_e.charCodeAt(hn+1)]<<4|revLookup[_e.charCodeAt(hn+2)]>>2,Ut[Xt++]=d>>8&255,Ut[Xt++]=d&255),Ut}function tripletToBase64(_e){return lookup[_e>>18&63]+lookup[_e>>12&63]+lookup[_e>>6&63]+lookup[_e&63]}function encodeChunk(_e,d,Mt){for(var Ot,Ft=[],Ut=d;Ut<Mt;Ut+=3)Ot=(_e[Ut]<<16&16711680)+(_e[Ut+1]<<8&65280)+(_e[Ut+2]&255),Ft.push(tripletToBase64(Ot));return Ft.join("")}function fromByteArray(_e){for(var d,Mt=_e.length,Ot=Mt%3,Ft=[],Ut=16383,Xt=0,jr=Mt-Ot;Xt<jr;Xt+=Ut)Ft.push(encodeChunk(_e,Xt,Xt+Ut>jr?jr:Xt+Ut));return Ot===1?(d=_e[Mt-1],Ft.push(lookup[d>>2]+lookup[d<<4&63]+"==")):Ot===2&&(d=(_e[Mt-2]<<8)+_e[Mt-1],Ft.push(lookup[d>>10]+lookup[d>>4&63]+lookup[d<<2&63]+"=")),Ft.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(_e,d,Mt,Ot,Ft){var Ut,Xt,jr=Ft*8-Ot-1,hn=(1<<jr)-1,Vr=hn>>1,fn=-7,dn=Mt?Ft-1:0,pn=Mt?-1:1,En=_e[d+dn];for(dn+=pn,Ut=En&(1<<-fn)-1,En>>=-fn,fn+=jr;fn>0;Ut=Ut*256+_e[d+dn],dn+=pn,fn-=8);for(Xt=Ut&(1<<-fn)-1,Ut>>=-fn,fn+=Ot;fn>0;Xt=Xt*256+_e[d+dn],dn+=pn,fn-=8);if(Ut===0)Ut=1-Vr;else{if(Ut===hn)return Xt?NaN:(En?-1:1)*(1/0);Xt=Xt+Math.pow(2,Ot),Ut=Ut-Vr}return(En?-1:1)*Xt*Math.pow(2,Ut-Ot)};ieee754.write=function(_e,d,Mt,Ot,Ft,Ut){var Xt,jr,hn,Vr=Ut*8-Ft-1,fn=(1<<Vr)-1,dn=fn>>1,pn=Ft===23?Math.pow(2,-24)-Math.pow(2,-77):0,En=Ot?0:Ut-1,_n=Ot?1:-1,Dn=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(jr=isNaN(d)?1:0,Xt=fn):(Xt=Math.floor(Math.log(d)/Math.LN2),d*(hn=Math.pow(2,-Xt))<1&&(Xt--,hn*=2),Xt+dn>=1?d+=pn/hn:d+=pn*Math.pow(2,1-dn),d*hn>=2&&(Xt++,hn/=2),Xt+dn>=fn?(jr=0,Xt=fn):Xt+dn>=1?(jr=(d*hn-1)*Math.pow(2,Ft),Xt=Xt+dn):(jr=d*Math.pow(2,dn-1)*Math.pow(2,Ft),Xt=0));Ft>=8;_e[Mt+En]=jr&255,En+=_n,jr/=256,Ft-=8);for(Xt=Xt<<Ft|jr,Vr+=Ft;Vr>0;_e[Mt+En]=Xt&255,En+=_n,Xt/=256,Vr-=8);_e[Mt+En-_n]|=Dn*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(_e){const d=base64Js,Mt=ieee754,Ot=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_e.Buffer=fn,_e.SlowBuffer=Jn,_e.INSPECT_MAX_BYTES=50;const Ft=2147483647;_e.kMaxLength=Ft;const{Uint8Array:Ut,ArrayBuffer:Xt,SharedArrayBuffer:jr}=globalThis;fn.TYPED_ARRAY_SUPPORT=hn(),!fn.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function hn(){try{const to=new Ut(1),Zn={foo:function(){return 42}};return Object.setPrototypeOf(Zn,Ut.prototype),Object.setPrototypeOf(to,Zn),to.foo()===42}catch{return!1}}Object.defineProperty(fn.prototype,"parent",{enumerable:!0,get:function(){if(fn.isBuffer(this))return this.buffer}}),Object.defineProperty(fn.prototype,"offset",{enumerable:!0,get:function(){if(fn.isBuffer(this))return this.byteOffset}});function Vr(to){if(to>Ft)throw new RangeError('The value "'+to+'" is invalid for option "size"');const Zn=new Ut(to);return Object.setPrototypeOf(Zn,fn.prototype),Zn}function fn(to,Zn,Qn){if(typeof to=="number"){if(typeof Zn=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _n(to)}return dn(to,Zn,Qn)}fn.poolSize=8192;function dn(to,Zn,Qn){if(typeof to=="string")return Dn(to,Zn);if(Xt.isView(to))return Pn(to);if(to==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof to);if(Lo(to,Xt)||to&&Lo(to.buffer,Xt)||typeof jr<"u"&&(Lo(to,jr)||to&&Lo(to.buffer,jr)))return qn(to,Zn,Qn);if(typeof to=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const lo=to.valueOf&&to.valueOf();if(lo!=null&&lo!==to)return fn.from(lo,Zn,Qn);const Eo=jn(to);if(Eo)return Eo;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof to[Symbol.toPrimitive]=="function")return fn.from(to[Symbol.toPrimitive]("string"),Zn,Qn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof to)}fn.from=function(to,Zn,Qn){return dn(to,Zn,Qn)},Object.setPrototypeOf(fn.prototype,Ut.prototype),Object.setPrototypeOf(fn,Ut);function pn(to){if(typeof to!="number")throw new TypeError('"size" argument must be of type number');if(to<0)throw new RangeError('The value "'+to+'" is invalid for option "size"')}function En(to,Zn,Qn){return pn(to),to<=0?Vr(to):Zn!==void 0?typeof Qn=="string"?Vr(to).fill(Zn,Qn):Vr(to).fill(Zn):Vr(to)}fn.alloc=function(to,Zn,Qn){return En(to,Zn,Qn)};function _n(to){return pn(to),Vr(to<0?0:Hn(to)|0)}fn.allocUnsafe=function(to){return _n(to)},fn.allocUnsafeSlow=function(to){return _n(to)};function Dn(to,Zn){if((typeof Zn!="string"||Zn==="")&&(Zn="utf8"),!fn.isEncoding(Zn))throw new TypeError("Unknown encoding: "+Zn);const Qn=Gn(to,Zn)|0;let lo=Vr(Qn);const Eo=lo.write(to,Zn);return Eo!==Qn&&(lo=lo.slice(0,Eo)),lo}function Vn(to){const Zn=to.length<0?0:Hn(to.length)|0,Qn=Vr(Zn);for(let lo=0;lo<Zn;lo+=1)Qn[lo]=to[lo]&255;return Qn}function Pn(to){if(Lo(to,Ut)){const Zn=new Ut(to);return qn(Zn.buffer,Zn.byteOffset,Zn.byteLength)}return Vn(to)}function qn(to,Zn,Qn){if(Zn<0||to.byteLength<Zn)throw new RangeError('"offset" is outside of buffer bounds');if(to.byteLength<Zn+(Qn||0))throw new RangeError('"length" is outside of buffer bounds');let lo;return Zn===void 0&&Qn===void 0?lo=new Ut(to):Qn===void 0?lo=new Ut(to,Zn):lo=new Ut(to,Zn,Qn),Object.setPrototypeOf(lo,fn.prototype),lo}function jn(to){if(fn.isBuffer(to)){const Zn=Hn(to.length)|0,Qn=Vr(Zn);return Qn.length===0||to.copy(Qn,0,0,Zn),Qn}if(to.length!==void 0)return typeof to.length!="number"||Po(to.length)?Vr(0):Vn(to);if(to.type==="Buffer"&&Array.isArray(to.data))return Vn(to.data)}function Hn(to){if(to>=Ft)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ft.toString(16)+" bytes");return to|0}function Jn(to){return+to!=to&&(to=0),fn.alloc(+to)}fn.isBuffer=function(Zn){return Zn!=null&&Zn._isBuffer===!0&&Zn!==fn.prototype},fn.compare=function(Zn,Qn){if(Lo(Zn,Ut)&&(Zn=fn.from(Zn,Zn.offset,Zn.byteLength)),Lo(Qn,Ut)&&(Qn=fn.from(Qn,Qn.offset,Qn.byteLength)),!fn.isBuffer(Zn)||!fn.isBuffer(Qn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Zn===Qn)return 0;let lo=Zn.length,Eo=Qn.length;for(let xo=0,_o=Math.min(lo,Eo);xo<_o;++xo)if(Zn[xo]!==Qn[xo]){lo=Zn[xo],Eo=Qn[xo];break}return lo<Eo?-1:Eo<lo?1:0},fn.isEncoding=function(Zn){switch(String(Zn).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},fn.concat=function(Zn,Qn){if(!Array.isArray(Zn))throw new TypeError('"list" argument must be an Array of Buffers');if(Zn.length===0)return fn.alloc(0);let lo;if(Qn===void 0)for(Qn=0,lo=0;lo<Zn.length;++lo)Qn+=Zn[lo].length;const Eo=fn.allocUnsafe(Qn);let xo=0;for(lo=0;lo<Zn.length;++lo){let _o=Zn[lo];if(Lo(_o,Ut))xo+_o.length>Eo.length?(fn.isBuffer(_o)||(_o=fn.from(_o)),_o.copy(Eo,xo)):Ut.prototype.set.call(Eo,_o,xo);else if(fn.isBuffer(_o))_o.copy(Eo,xo);else throw new TypeError('"list" argument must be an Array of Buffers');xo+=_o.length}return Eo};function Gn(to,Zn){if(fn.isBuffer(to))return to.length;if(Xt.isView(to)||Lo(to,Xt))return to.byteLength;if(typeof to!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof to);const Qn=to.length,lo=arguments.length>2&&arguments[2]===!0;if(!lo&&Qn===0)return 0;let Eo=!1;for(;;)switch(Zn){case"ascii":case"latin1":case"binary":return Qn;case"utf8":case"utf-8":return So(to).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qn*2;case"hex":return Qn>>>1;case"base64":return Ro(to).length;default:if(Eo)return lo?-1:So(to).length;Zn=(""+Zn).toLowerCase(),Eo=!0}}fn.byteLength=Gn;function ba(to,Zn,Qn){let lo=!1;if((Zn===void 0||Zn<0)&&(Zn=0),Zn>this.length||((Qn===void 0||Qn>this.length)&&(Qn=this.length),Qn<=0)||(Qn>>>=0,Zn>>>=0,Qn<=Zn))return"";for(to||(to="utf8");;)switch(to){case"hex":return Cn(this,Zn,Qn);case"utf8":case"utf-8":return Ln(this,Zn,Qn);case"ascii":return kn(this,Zn,Qn);case"latin1":case"binary":return Fn(this,Zn,Qn);case"base64":return On(this,Zn,Qn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zn(this,Zn,Qn);default:if(lo)throw new TypeError("Unknown encoding: "+to);to=(to+"").toLowerCase(),lo=!0}}fn.prototype._isBuffer=!0;function eo(to,Zn,Qn){const lo=to[Zn];to[Zn]=to[Qn],to[Qn]=lo}fn.prototype.swap16=function(){const Zn=this.length;if(Zn%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Qn=0;Qn<Zn;Qn+=2)eo(this,Qn,Qn+1);return this},fn.prototype.swap32=function(){const Zn=this.length;if(Zn%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Qn=0;Qn<Zn;Qn+=4)eo(this,Qn,Qn+3),eo(this,Qn+1,Qn+2);return this},fn.prototype.swap64=function(){const Zn=this.length;if(Zn%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Qn=0;Qn<Zn;Qn+=8)eo(this,Qn,Qn+7),eo(this,Qn+1,Qn+6),eo(this,Qn+2,Qn+5),eo(this,Qn+3,Qn+4);return this},fn.prototype.toString=function(){const Zn=this.length;return Zn===0?"":arguments.length===0?Ln(this,0,Zn):ba.apply(this,arguments)},fn.prototype.toLocaleString=fn.prototype.toString,fn.prototype.equals=function(Zn){if(!fn.isBuffer(Zn))throw new TypeError("Argument must be a Buffer");return this===Zn?!0:fn.compare(this,Zn)===0},fn.prototype.inspect=function(){let Zn="";const Qn=_e.INSPECT_MAX_BYTES;return Zn=this.toString("hex",0,Qn).replace(/(.{2})/g,"$1 ").trim(),this.length>Qn&&(Zn+=" ... "),"<Buffer "+Zn+">"},Ot&&(fn.prototype[Ot]=fn.prototype.inspect),fn.prototype.compare=function(Zn,Qn,lo,Eo,xo){if(Lo(Zn,Ut)&&(Zn=fn.from(Zn,Zn.offset,Zn.byteLength)),!fn.isBuffer(Zn))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Zn);if(Qn===void 0&&(Qn=0),lo===void 0&&(lo=Zn?Zn.length:0),Eo===void 0&&(Eo=0),xo===void 0&&(xo=this.length),Qn<0||lo>Zn.length||Eo<0||xo>this.length)throw new RangeError("out of range index");if(Eo>=xo&&Qn>=lo)return 0;if(Eo>=xo)return-1;if(Qn>=lo)return 1;if(Qn>>>=0,lo>>>=0,Eo>>>=0,xo>>>=0,this===Zn)return 0;let _o=xo-Eo,jo=lo-Qn;const Ho=Math.min(_o,jo),Fo=this.slice(Eo,xo),as=Zn.slice(Qn,lo);for(let zo=0;zo<Ho;++zo)if(Fo[zo]!==as[zo]){_o=Fo[zo],jo=as[zo];break}return _o<jo?-1:jo<_o?1:0};function xa(to,Zn,Qn,lo,Eo){if(to.length===0)return-1;if(typeof Qn=="string"?(lo=Qn,Qn=0):Qn>2147483647?Qn=2147483647:Qn<-2147483648&&(Qn=-2147483648),Qn=+Qn,Po(Qn)&&(Qn=Eo?0:to.length-1),Qn<0&&(Qn=to.length+Qn),Qn>=to.length){if(Eo)return-1;Qn=to.length-1}else if(Qn<0)if(Eo)Qn=0;else return-1;if(typeof Zn=="string"&&(Zn=fn.from(Zn,lo)),fn.isBuffer(Zn))return Zn.length===0?-1:Yn(to,Zn,Qn,lo,Eo);if(typeof Zn=="number")return Zn=Zn&255,typeof Ut.prototype.indexOf=="function"?Eo?Ut.prototype.indexOf.call(to,Zn,Qn):Ut.prototype.lastIndexOf.call(to,Zn,Qn):Yn(to,[Zn],Qn,lo,Eo);throw new TypeError("val must be string, number or Buffer")}function Yn(to,Zn,Qn,lo,Eo){let xo=1,_o=to.length,jo=Zn.length;if(lo!==void 0&&(lo=String(lo).toLowerCase(),lo==="ucs2"||lo==="ucs-2"||lo==="utf16le"||lo==="utf-16le")){if(to.length<2||Zn.length<2)return-1;xo=2,_o/=2,jo/=2,Qn/=2}function Ho(as,zo){return xo===1?as[zo]:as.readUInt16BE(zo*xo)}let Fo;if(Eo){let as=-1;for(Fo=Qn;Fo<_o;Fo++)if(Ho(to,Fo)===Ho(Zn,as===-1?0:Fo-as)){if(as===-1&&(as=Fo),Fo-as+1===jo)return as*xo}else as!==-1&&(Fo-=Fo-as),as=-1}else for(Qn+jo>_o&&(Qn=_o-jo),Fo=Qn;Fo>=0;Fo--){let as=!0;for(let zo=0;zo<jo;zo++)if(Ho(to,Fo+zo)!==Ho(Zn,zo)){as=!1;break}if(as)return Fo}return-1}fn.prototype.includes=function(Zn,Qn,lo){return this.indexOf(Zn,Qn,lo)!==-1},fn.prototype.indexOf=function(Zn,Qn,lo){return xa(this,Zn,Qn,lo,!0)},fn.prototype.lastIndexOf=function(Zn,Qn,lo){return xa(this,Zn,Qn,lo,!1)};function Un(to,Zn,Qn,lo){Qn=Number(Qn)||0;const Eo=to.length-Qn;lo?(lo=Number(lo),lo>Eo&&(lo=Eo)):lo=Eo;const xo=Zn.length;lo>xo/2&&(lo=xo/2);let _o;for(_o=0;_o<lo;++_o){const jo=parseInt(Zn.substr(_o*2,2),16);if(Po(jo))return _o;to[Qn+_o]=jo}return _o}function Mn(to,Zn,Qn,lo){return $o(So(Zn,to.length-Qn),to,Qn,lo)}function mn(to,Zn,Qn,lo){return $o(Ao(Zn),to,Qn,lo)}function Xr(to,Zn,Qn,lo){return $o(Ro(Zn),to,Qn,lo)}function gn(to,Zn,Qn,lo){return $o(Co(Zn,to.length-Qn),to,Qn,lo)}fn.prototype.write=function(Zn,Qn,lo,Eo){if(Qn===void 0)Eo="utf8",lo=this.length,Qn=0;else if(lo===void 0&&typeof Qn=="string")Eo=Qn,lo=this.length,Qn=0;else if(isFinite(Qn))Qn=Qn>>>0,isFinite(lo)?(lo=lo>>>0,Eo===void 0&&(Eo="utf8")):(Eo=lo,lo=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xo=this.length-Qn;if((lo===void 0||lo>xo)&&(lo=xo),Zn.length>0&&(lo<0||Qn<0)||Qn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Eo||(Eo="utf8");let _o=!1;for(;;)switch(Eo){case"hex":return Un(this,Zn,Qn,lo);case"utf8":case"utf-8":return Mn(this,Zn,Qn,lo);case"ascii":case"latin1":case"binary":return mn(this,Zn,Qn,lo);case"base64":return Xr(this,Zn,Qn,lo);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gn(this,Zn,Qn,lo);default:if(_o)throw new TypeError("Unknown encoding: "+Eo);Eo=(""+Eo).toLowerCase(),_o=!0}},fn.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function On(to,Zn,Qn){return Zn===0&&Qn===to.length?d.fromByteArray(to):d.fromByteArray(to.slice(Zn,Qn))}function Ln(to,Zn,Qn){Qn=Math.min(to.length,Qn);const lo=[];let Eo=Zn;for(;Eo<Qn;){const xo=to[Eo];let _o=null,jo=xo>239?4:xo>223?3:xo>191?2:1;if(Eo+jo<=Qn){let Ho,Fo,as,zo;switch(jo){case 1:xo<128&&(_o=xo);break;case 2:Ho=to[Eo+1],(Ho&192)===128&&(zo=(xo&31)<<6|Ho&63,zo>127&&(_o=zo));break;case 3:Ho=to[Eo+1],Fo=to[Eo+2],(Ho&192)===128&&(Fo&192)===128&&(zo=(xo&15)<<12|(Ho&63)<<6|Fo&63,zo>2047&&(zo<55296||zo>57343)&&(_o=zo));break;case 4:Ho=to[Eo+1],Fo=to[Eo+2],as=to[Eo+3],(Ho&192)===128&&(Fo&192)===128&&(as&192)===128&&(zo=(xo&15)<<18|(Ho&63)<<12|(Fo&63)<<6|as&63,zo>65535&&zo<1114112&&(_o=zo))}}_o===null?(_o=65533,jo=1):_o>65535&&(_o-=65536,lo.push(_o>>>10&1023|55296),_o=56320|_o&1023),lo.push(_o),Eo+=jo}return yn(lo)}const Rn=4096;function yn(to){const Zn=to.length;if(Zn<=Rn)return String.fromCharCode.apply(String,to);let Qn="",lo=0;for(;lo<Zn;)Qn+=String.fromCharCode.apply(String,to.slice(lo,lo+=Rn));return Qn}function kn(to,Zn,Qn){let lo="";Qn=Math.min(to.length,Qn);for(let Eo=Zn;Eo<Qn;++Eo)lo+=String.fromCharCode(to[Eo]&127);return lo}function Fn(to,Zn,Qn){let lo="";Qn=Math.min(to.length,Qn);for(let Eo=Zn;Eo<Qn;++Eo)lo+=String.fromCharCode(to[Eo]);return lo}function Cn(to,Zn,Qn){const lo=to.length;(!Zn||Zn<0)&&(Zn=0),(!Qn||Qn<0||Qn>lo)&&(Qn=lo);let Eo="";for(let xo=Zn;xo<Qn;++xo)Eo+=No[to[xo]];return Eo}function zn(to,Zn,Qn){const lo=to.slice(Zn,Qn);let Eo="";for(let xo=0;xo<lo.length-1;xo+=2)Eo+=String.fromCharCode(lo[xo]+lo[xo+1]*256);return Eo}fn.prototype.slice=function(Zn,Qn){const lo=this.length;Zn=~~Zn,Qn=Qn===void 0?lo:~~Qn,Zn<0?(Zn+=lo,Zn<0&&(Zn=0)):Zn>lo&&(Zn=lo),Qn<0?(Qn+=lo,Qn<0&&(Qn=0)):Qn>lo&&(Qn=lo),Qn<Zn&&(Qn=Zn);const Eo=this.subarray(Zn,Qn);return Object.setPrototypeOf(Eo,fn.prototype),Eo};function $a(to,Zn,Qn){if(to%1!==0||to<0)throw new RangeError("offset is not uint");if(to+Zn>Qn)throw new RangeError("Trying to access beyond buffer length")}fn.prototype.readUintLE=fn.prototype.readUIntLE=function(Zn,Qn,lo){Zn=Zn>>>0,Qn=Qn>>>0,lo||$a(Zn,Qn,this.length);let Eo=this[Zn],xo=1,_o=0;for(;++_o<Qn&&(xo*=256);)Eo+=this[Zn+_o]*xo;return Eo},fn.prototype.readUintBE=fn.prototype.readUIntBE=function(Zn,Qn,lo){Zn=Zn>>>0,Qn=Qn>>>0,lo||$a(Zn,Qn,this.length);let Eo=this[Zn+--Qn],xo=1;for(;Qn>0&&(xo*=256);)Eo+=this[Zn+--Qn]*xo;return Eo},fn.prototype.readUint8=fn.prototype.readUInt8=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,1,this.length),this[Zn]},fn.prototype.readUint16LE=fn.prototype.readUInt16LE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,2,this.length),this[Zn]|this[Zn+1]<<8},fn.prototype.readUint16BE=fn.prototype.readUInt16BE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,2,this.length),this[Zn]<<8|this[Zn+1]},fn.prototype.readUint32LE=fn.prototype.readUInt32LE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),(this[Zn]|this[Zn+1]<<8|this[Zn+2]<<16)+this[Zn+3]*16777216},fn.prototype.readUint32BE=fn.prototype.readUInt32BE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),this[Zn]*16777216+(this[Zn+1]<<16|this[Zn+2]<<8|this[Zn+3])},fn.prototype.readBigUInt64LE=Go(function(Zn){Zn=Zn>>>0,bo(Zn,"offset");const Qn=this[Zn],lo=this[Zn+7];(Qn===void 0||lo===void 0)&&vo(Zn,this.length-8);const Eo=Qn+this[++Zn]*2**8+this[++Zn]*2**16+this[++Zn]*2**24,xo=this[++Zn]+this[++Zn]*2**8+this[++Zn]*2**16+lo*2**24;return BigInt(Eo)+(BigInt(xo)<<BigInt(32))}),fn.prototype.readBigUInt64BE=Go(function(Zn){Zn=Zn>>>0,bo(Zn,"offset");const Qn=this[Zn],lo=this[Zn+7];(Qn===void 0||lo===void 0)&&vo(Zn,this.length-8);const Eo=Qn*2**24+this[++Zn]*2**16+this[++Zn]*2**8+this[++Zn],xo=this[++Zn]*2**24+this[++Zn]*2**16+this[++Zn]*2**8+lo;return(BigInt(Eo)<<BigInt(32))+BigInt(xo)}),fn.prototype.readIntLE=function(Zn,Qn,lo){Zn=Zn>>>0,Qn=Qn>>>0,lo||$a(Zn,Qn,this.length);let Eo=this[Zn],xo=1,_o=0;for(;++_o<Qn&&(xo*=256);)Eo+=this[Zn+_o]*xo;return xo*=128,Eo>=xo&&(Eo-=Math.pow(2,8*Qn)),Eo},fn.prototype.readIntBE=function(Zn,Qn,lo){Zn=Zn>>>0,Qn=Qn>>>0,lo||$a(Zn,Qn,this.length);let Eo=Qn,xo=1,_o=this[Zn+--Eo];for(;Eo>0&&(xo*=256);)_o+=this[Zn+--Eo]*xo;return xo*=128,_o>=xo&&(_o-=Math.pow(2,8*Qn)),_o},fn.prototype.readInt8=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,1,this.length),this[Zn]&128?(255-this[Zn]+1)*-1:this[Zn]},fn.prototype.readInt16LE=function(Zn,Qn){Zn=Zn>>>0,Qn||$a(Zn,2,this.length);const lo=this[Zn]|this[Zn+1]<<8;return lo&32768?lo|4294901760:lo},fn.prototype.readInt16BE=function(Zn,Qn){Zn=Zn>>>0,Qn||$a(Zn,2,this.length);const lo=this[Zn+1]|this[Zn]<<8;return lo&32768?lo|4294901760:lo},fn.prototype.readInt32LE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),this[Zn]|this[Zn+1]<<8|this[Zn+2]<<16|this[Zn+3]<<24},fn.prototype.readInt32BE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),this[Zn]<<24|this[Zn+1]<<16|this[Zn+2]<<8|this[Zn+3]},fn.prototype.readBigInt64LE=Go(function(Zn){Zn=Zn>>>0,bo(Zn,"offset");const Qn=this[Zn],lo=this[Zn+7];(Qn===void 0||lo===void 0)&&vo(Zn,this.length-8);const Eo=this[Zn+4]+this[Zn+5]*2**8+this[Zn+6]*2**16+(lo<<24);return(BigInt(Eo)<<BigInt(32))+BigInt(Qn+this[++Zn]*2**8+this[++Zn]*2**16+this[++Zn]*2**24)}),fn.prototype.readBigInt64BE=Go(function(Zn){Zn=Zn>>>0,bo(Zn,"offset");const Qn=this[Zn],lo=this[Zn+7];(Qn===void 0||lo===void 0)&&vo(Zn,this.length-8);const Eo=(Qn<<24)+this[++Zn]*2**16+this[++Zn]*2**8+this[++Zn];return(BigInt(Eo)<<BigInt(32))+BigInt(this[++Zn]*2**24+this[++Zn]*2**16+this[++Zn]*2**8+lo)}),fn.prototype.readFloatLE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),Mt.read(this,Zn,!0,23,4)},fn.prototype.readFloatBE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,4,this.length),Mt.read(this,Zn,!1,23,4)},fn.prototype.readDoubleLE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,8,this.length),Mt.read(this,Zn,!0,52,8)},fn.prototype.readDoubleBE=function(Zn,Qn){return Zn=Zn>>>0,Qn||$a(Zn,8,this.length),Mt.read(this,Zn,!1,52,8)};function co(to,Zn,Qn,lo,Eo,xo){if(!fn.isBuffer(to))throw new TypeError('"buffer" argument must be a Buffer instance');if(Zn>Eo||Zn<xo)throw new RangeError('"value" argument is out of bounds');if(Qn+lo>to.length)throw new RangeError("Index out of range")}fn.prototype.writeUintLE=fn.prototype.writeUIntLE=function(Zn,Qn,lo,Eo){if(Zn=+Zn,Qn=Qn>>>0,lo=lo>>>0,!Eo){const jo=Math.pow(2,8*lo)-1;co(this,Zn,Qn,lo,jo,0)}let xo=1,_o=0;for(this[Qn]=Zn&255;++_o<lo&&(xo*=256);)this[Qn+_o]=Zn/xo&255;return Qn+lo},fn.prototype.writeUintBE=fn.prototype.writeUIntBE=function(Zn,Qn,lo,Eo){if(Zn=+Zn,Qn=Qn>>>0,lo=lo>>>0,!Eo){const jo=Math.pow(2,8*lo)-1;co(this,Zn,Qn,lo,jo,0)}let xo=lo-1,_o=1;for(this[Qn+xo]=Zn&255;--xo>=0&&(_o*=256);)this[Qn+xo]=Zn/_o&255;return Qn+lo},fn.prototype.writeUint8=fn.prototype.writeUInt8=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,1,255,0),this[Qn]=Zn&255,Qn+1},fn.prototype.writeUint16LE=fn.prototype.writeUInt16LE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,2,65535,0),this[Qn]=Zn&255,this[Qn+1]=Zn>>>8,Qn+2},fn.prototype.writeUint16BE=fn.prototype.writeUInt16BE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,2,65535,0),this[Qn]=Zn>>>8,this[Qn+1]=Zn&255,Qn+2},fn.prototype.writeUint32LE=fn.prototype.writeUInt32LE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,4,4294967295,0),this[Qn+3]=Zn>>>24,this[Qn+2]=Zn>>>16,this[Qn+1]=Zn>>>8,this[Qn]=Zn&255,Qn+4},fn.prototype.writeUint32BE=fn.prototype.writeUInt32BE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,4,4294967295,0),this[Qn]=Zn>>>24,this[Qn+1]=Zn>>>16,this[Qn+2]=Zn>>>8,this[Qn+3]=Zn&255,Qn+4};function io(to,Zn,Qn,lo,Eo){mo(Zn,lo,Eo,to,Qn,7);let xo=Number(Zn&BigInt(4294967295));to[Qn++]=xo,xo=xo>>8,to[Qn++]=xo,xo=xo>>8,to[Qn++]=xo,xo=xo>>8,to[Qn++]=xo;let _o=Number(Zn>>BigInt(32)&BigInt(4294967295));return to[Qn++]=_o,_o=_o>>8,to[Qn++]=_o,_o=_o>>8,to[Qn++]=_o,_o=_o>>8,to[Qn++]=_o,Qn}function ga(to,Zn,Qn,lo,Eo){mo(Zn,lo,Eo,to,Qn,7);let xo=Number(Zn&BigInt(4294967295));to[Qn+7]=xo,xo=xo>>8,to[Qn+6]=xo,xo=xo>>8,to[Qn+5]=xo,xo=xo>>8,to[Qn+4]=xo;let _o=Number(Zn>>BigInt(32)&BigInt(4294967295));return to[Qn+3]=_o,_o=_o>>8,to[Qn+2]=_o,_o=_o>>8,to[Qn+1]=_o,_o=_o>>8,to[Qn]=_o,Qn+8}fn.prototype.writeBigUInt64LE=Go(function(Zn,Qn=0){return io(this,Zn,Qn,BigInt(0),BigInt("0xffffffffffffffff"))}),fn.prototype.writeBigUInt64BE=Go(function(Zn,Qn=0){return ga(this,Zn,Qn,BigInt(0),BigInt("0xffffffffffffffff"))}),fn.prototype.writeIntLE=function(Zn,Qn,lo,Eo){if(Zn=+Zn,Qn=Qn>>>0,!Eo){const Ho=Math.pow(2,8*lo-1);co(this,Zn,Qn,lo,Ho-1,-Ho)}let xo=0,_o=1,jo=0;for(this[Qn]=Zn&255;++xo<lo&&(_o*=256);)Zn<0&&jo===0&&this[Qn+xo-1]!==0&&(jo=1),this[Qn+xo]=(Zn/_o>>0)-jo&255;return Qn+lo},fn.prototype.writeIntBE=function(Zn,Qn,lo,Eo){if(Zn=+Zn,Qn=Qn>>>0,!Eo){const Ho=Math.pow(2,8*lo-1);co(this,Zn,Qn,lo,Ho-1,-Ho)}let xo=lo-1,_o=1,jo=0;for(this[Qn+xo]=Zn&255;--xo>=0&&(_o*=256);)Zn<0&&jo===0&&this[Qn+xo+1]!==0&&(jo=1),this[Qn+xo]=(Zn/_o>>0)-jo&255;return Qn+lo},fn.prototype.writeInt8=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,1,127,-128),Zn<0&&(Zn=255+Zn+1),this[Qn]=Zn&255,Qn+1},fn.prototype.writeInt16LE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,2,32767,-32768),this[Qn]=Zn&255,this[Qn+1]=Zn>>>8,Qn+2},fn.prototype.writeInt16BE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,2,32767,-32768),this[Qn]=Zn>>>8,this[Qn+1]=Zn&255,Qn+2},fn.prototype.writeInt32LE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,4,2147483647,-2147483648),this[Qn]=Zn&255,this[Qn+1]=Zn>>>8,this[Qn+2]=Zn>>>16,this[Qn+3]=Zn>>>24,Qn+4},fn.prototype.writeInt32BE=function(Zn,Qn,lo){return Zn=+Zn,Qn=Qn>>>0,lo||co(this,Zn,Qn,4,2147483647,-2147483648),Zn<0&&(Zn=4294967295+Zn+1),this[Qn]=Zn>>>24,this[Qn+1]=Zn>>>16,this[Qn+2]=Zn>>>8,this[Qn+3]=Zn&255,Qn+4},fn.prototype.writeBigInt64LE=Go(function(Zn,Qn=0){return io(this,Zn,Qn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),fn.prototype.writeBigInt64BE=Go(function(Zn,Qn=0){return ga(this,Zn,Qn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function na(to,Zn,Qn,lo,Eo,xo){if(Qn+lo>to.length)throw new RangeError("Index out of range");if(Qn<0)throw new RangeError("Index out of range")}function so(to,Zn,Qn,lo,Eo){return Zn=+Zn,Qn=Qn>>>0,Eo||na(to,Zn,Qn,4),Mt.write(to,Zn,Qn,lo,23,4),Qn+4}fn.prototype.writeFloatLE=function(Zn,Qn,lo){return so(this,Zn,Qn,!0,lo)},fn.prototype.writeFloatBE=function(Zn,Qn,lo){return so(this,Zn,Qn,!1,lo)};function _i(to,Zn,Qn,lo,Eo){return Zn=+Zn,Qn=Qn>>>0,Eo||na(to,Zn,Qn,8),Mt.write(to,Zn,Qn,lo,52,8),Qn+8}fn.prototype.writeDoubleLE=function(Zn,Qn,lo){return _i(this,Zn,Qn,!0,lo)},fn.prototype.writeDoubleBE=function(Zn,Qn,lo){return _i(this,Zn,Qn,!1,lo)},fn.prototype.copy=function(Zn,Qn,lo,Eo){if(!fn.isBuffer(Zn))throw new TypeError("argument should be a Buffer");if(lo||(lo=0),!Eo&&Eo!==0&&(Eo=this.length),Qn>=Zn.length&&(Qn=Zn.length),Qn||(Qn=0),Eo>0&&Eo<lo&&(Eo=lo),Eo===lo||Zn.length===0||this.length===0)return 0;if(Qn<0)throw new RangeError("targetStart out of bounds");if(lo<0||lo>=this.length)throw new RangeError("Index out of range");if(Eo<0)throw new RangeError("sourceEnd out of bounds");Eo>this.length&&(Eo=this.length),Zn.length-Qn<Eo-lo&&(Eo=Zn.length-Qn+lo);const xo=Eo-lo;return this===Zn&&typeof Ut.prototype.copyWithin=="function"?this.copyWithin(Qn,lo,Eo):Ut.prototype.set.call(Zn,this.subarray(lo,Eo),Qn),xo},fn.prototype.fill=function(Zn,Qn,lo,Eo){if(typeof Zn=="string"){if(typeof Qn=="string"?(Eo=Qn,Qn=0,lo=this.length):typeof lo=="string"&&(Eo=lo,lo=this.length),Eo!==void 0&&typeof Eo!="string")throw new TypeError("encoding must be a string");if(typeof Eo=="string"&&!fn.isEncoding(Eo))throw new TypeError("Unknown encoding: "+Eo);if(Zn.length===1){const _o=Zn.charCodeAt(0);(Eo==="utf8"&&_o<128||Eo==="latin1")&&(Zn=_o)}}else typeof Zn=="number"?Zn=Zn&255:typeof Zn=="boolean"&&(Zn=Number(Zn));if(Qn<0||this.length<Qn||this.length<lo)throw new RangeError("Out of range index");if(lo<=Qn)return this;Qn=Qn>>>0,lo=lo===void 0?this.length:lo>>>0,Zn||(Zn=0);let xo;if(typeof Zn=="number")for(xo=Qn;xo<lo;++xo)this[xo]=Zn;else{const _o=fn.isBuffer(Zn)?Zn:fn.from(Zn,Eo),jo=_o.length;if(jo===0)throw new TypeError('The value "'+Zn+'" is invalid for argument "value"');for(xo=0;xo<lo-Qn;++xo)this[xo+Qn]=_o[xo%jo]}return this};const Wn={};function Kn(to,Zn,Qn){Wn[to]=class extends Qn{constructor(){super(),Object.defineProperty(this,"message",{value:Zn.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${to}]`,this.stack,delete this.name}get code(){return to}set code(Eo){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Eo,writable:!0})}toString(){return`${this.name} [${to}]: ${this.message}`}}}Kn("ERR_BUFFER_OUT_OF_BOUNDS",function(to){return to?`${to} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Kn("ERR_INVALID_ARG_TYPE",function(to,Zn){return`The "${to}" argument must be of type number. Received type ${typeof Zn}`},TypeError),Kn("ERR_OUT_OF_RANGE",function(to,Zn,Qn){let lo=`The value of "${to}" is out of range.`,Eo=Qn;return Number.isInteger(Qn)&&Math.abs(Qn)>2**32?Eo=ro(String(Qn)):typeof Qn=="bigint"&&(Eo=String(Qn),(Qn>BigInt(2)**BigInt(32)||Qn<-(BigInt(2)**BigInt(32)))&&(Eo=ro(Eo)),Eo+="n"),lo+=` It must be ${Zn}. Received ${Eo}`,lo},RangeError);function ro(to){let Zn="",Qn=to.length;const lo=to[0]==="-"?1:0;for(;Qn>=lo+4;Qn-=3)Zn=`_${to.slice(Qn-3,Qn)}${Zn}`;return`${to.slice(0,Qn)}${Zn}`}function oo(to,Zn,Qn){bo(Zn,"offset"),(to[Zn]===void 0||to[Zn+Qn]===void 0)&&vo(Zn,to.length-(Qn+1))}function mo(to,Zn,Qn,lo,Eo,xo){if(to>Qn||to<Zn){const _o=typeof Zn=="bigint"?"n":"";let jo;throw Zn===0||Zn===BigInt(0)?jo=`>= 0${_o} and < 2${_o} ** ${(xo+1)*8}${_o}`:jo=`>= -(2${_o} ** ${(xo+1)*8-1}${_o}) and < 2 ** ${(xo+1)*8-1}${_o}`,new Wn.ERR_OUT_OF_RANGE("value",jo,to)}oo(lo,Eo,xo)}function bo(to,Zn){if(typeof to!="number")throw new Wn.ERR_INVALID_ARG_TYPE(Zn,"number",to)}function vo(to,Zn,Qn){throw Math.floor(to)!==to?(bo(to,Qn),new Wn.ERR_OUT_OF_RANGE("offset","an integer",to)):Zn<0?new Wn.ERR_BUFFER_OUT_OF_BOUNDS:new Wn.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Zn}`,to)}const wo=/[^+/0-9A-Za-z-_]/g;function go(to){if(to=to.split("=")[0],to=to.trim().replace(wo,""),to.length<2)return"";for(;to.length%4!==0;)to=to+"=";return to}function So(to,Zn){Zn=Zn||1/0;let Qn;const lo=to.length;let Eo=null;const xo=[];for(let _o=0;_o<lo;++_o){if(Qn=to.charCodeAt(_o),Qn>55295&&Qn<57344){if(!Eo){if(Qn>56319){(Zn-=3)>-1&&xo.push(239,191,189);continue}else if(_o+1===lo){(Zn-=3)>-1&&xo.push(239,191,189);continue}Eo=Qn;continue}if(Qn<56320){(Zn-=3)>-1&&xo.push(239,191,189),Eo=Qn;continue}Qn=(Eo-55296<<10|Qn-56320)+65536}else Eo&&(Zn-=3)>-1&&xo.push(239,191,189);if(Eo=null,Qn<128){if((Zn-=1)<0)break;xo.push(Qn)}else if(Qn<2048){if((Zn-=2)<0)break;xo.push(Qn>>6|192,Qn&63|128)}else if(Qn<65536){if((Zn-=3)<0)break;xo.push(Qn>>12|224,Qn>>6&63|128,Qn&63|128)}else if(Qn<1114112){if((Zn-=4)<0)break;xo.push(Qn>>18|240,Qn>>12&63|128,Qn>>6&63|128,Qn&63|128)}else throw new Error("Invalid code point")}return xo}function Ao(to){const Zn=[];for(let Qn=0;Qn<to.length;++Qn)Zn.push(to.charCodeAt(Qn)&255);return Zn}function Co(to,Zn){let Qn,lo,Eo;const xo=[];for(let _o=0;_o<to.length&&!((Zn-=2)<0);++_o)Qn=to.charCodeAt(_o),lo=Qn>>8,Eo=Qn%256,xo.push(Eo),xo.push(lo);return xo}function Ro(to){return d.toByteArray(go(to))}function $o(to,Zn,Qn,lo){let Eo;for(Eo=0;Eo<lo&&!(Eo+Qn>=Zn.length||Eo>=to.length);++Eo)Zn[Eo+Qn]=to[Eo];return Eo}function Lo(to,Zn){return to instanceof Zn||to!=null&&to.constructor!=null&&to.constructor.name!=null&&to.constructor.name===Zn.name}function Po(to){return to!==to}const No=function(){const to="0123456789abcdef",Zn=new Array(256);for(let Qn=0;Qn<16;++Qn){const lo=Qn*16;for(let Eo=0;Eo<16;++Eo)Zn[lo+Eo]=to[Qn]+to[Eo]}return Zn}();function Go(to){return typeof BigInt>"u"?Zo:to}function Zo(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Blob$1=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1=buffer$1.Buffer,File=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$1,BlobOptions,Buffer:Buffer$1,File,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(dist);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(_e,d){var Mt=require$$1$2,Ot=Mt.Buffer;function Ft(Xt,jr){for(var hn in Xt)jr[hn]=Xt[hn]}Ot.from&&Ot.alloc&&Ot.allocUnsafe&&Ot.allocUnsafeSlow?_e.exports=Mt:(Ft(Mt,d),d.Buffer=Ut);function Ut(Xt,jr,hn){return Ot(Xt,jr,hn)}Ut.prototype=Object.create(Ot.prototype),Ft(Ot,Ut),Ut.from=function(Xt,jr,hn){if(typeof Xt=="number")throw new TypeError("Argument must not be a number");return Ot(Xt,jr,hn)},Ut.alloc=function(Xt,jr,hn){if(typeof Xt!="number")throw new TypeError("Argument must be a number");var Vr=Ot(Xt);return jr!==void 0?typeof hn=="string"?Vr.fill(jr,hn):Vr.fill(jr):Vr.fill(0),Vr},Ut.allocUnsafe=function(Xt){if(typeof Xt!="number")throw new TypeError("Argument must be a number");return Ot(Xt)},Ut.allocUnsafeSlow=function(Xt){if(typeof Xt!="number")throw new TypeError("Argument must be a number");return Mt.SlowBuffer(Xt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var _e=65536,d=4294967295;function Mt(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Ot=requireSafeBuffer$1().Buffer,Ft=globalThis.crypto||globalThis.msCrypto;Ft&&Ft.getRandomValues?browser$b.exports=Ut:browser$b.exports=Mt;function Ut(Xt,jr){if(Xt>d)throw new RangeError("requested too many random bytes");var hn=Ot.allocUnsafe(Xt);if(Xt>0)if(Xt>_e)for(var Vr=0;Vr<Xt;Vr+=_e)Ft.getRandomValues(hn.slice(Vr,Vr+_e));else Ft.getRandomValues(hn);return typeof jr=="function"?process$1.nextTick(function(){jr(null,hn)}):hn}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(d,Mt){Mt&&(d.super_=Mt,d.prototype=Object.create(Mt.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(d,Mt){if(Mt){d.super_=Mt;var Ot=function(){};Ot.prototype=Mt.prototype,d.prototype=new Ot,d.prototype.constructor=d}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var _e=typeof Reflect=="object"?Reflect:null,d=_e&&typeof _e.apply=="function"?_e.apply:function(Jn,Gn,ba){return Function.prototype.apply.call(Jn,Gn,ba)},Mt;_e&&typeof _e.ownKeys=="function"?Mt=_e.ownKeys:Object.getOwnPropertySymbols?Mt=function(Jn){return Object.getOwnPropertyNames(Jn).concat(Object.getOwnPropertySymbols(Jn))}:Mt=function(Jn){return Object.getOwnPropertyNames(Jn)};function Ot(Hn){console&&console.warn&&console.warn(Hn)}var Ft=Number.isNaN||function(Jn){return Jn!==Jn};function Ut(){Ut.init.call(this)}events.exports=Ut,events.exports.once=Pn,Ut.EventEmitter=Ut,Ut.prototype._events=void 0,Ut.prototype._eventsCount=0,Ut.prototype._maxListeners=void 0;var Xt=10;function jr(Hn){if(typeof Hn!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Hn)}Object.defineProperty(Ut,"defaultMaxListeners",{enumerable:!0,get:function(){return Xt},set:function(Hn){if(typeof Hn!="number"||Hn<0||Ft(Hn))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Hn+".");Xt=Hn}}),Ut.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ut.prototype.setMaxListeners=function(Jn){if(typeof Jn!="number"||Jn<0||Ft(Jn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Jn+".");return this._maxListeners=Jn,this};function hn(Hn){return Hn._maxListeners===void 0?Ut.defaultMaxListeners:Hn._maxListeners}Ut.prototype.getMaxListeners=function(){return hn(this)},Ut.prototype.emit=function(Jn){for(var Gn=[],ba=1;ba<arguments.length;ba++)Gn.push(arguments[ba]);var eo=Jn==="error",xa=this._events;if(xa!==void 0)eo=eo&&xa.error===void 0;else if(!eo)return!1;if(eo){var Yn;if(Gn.length>0&&(Yn=Gn[0]),Yn instanceof Error)throw Yn;var Un=new Error("Unhandled error."+(Yn?" ("+Yn.message+")":""));throw Un.context=Yn,Un}var Mn=xa[Jn];if(Mn===void 0)return!1;if(typeof Mn=="function")d(Mn,this,Gn);else for(var mn=Mn.length,Xr=_n(Mn,mn),ba=0;ba<mn;++ba)d(Xr[ba],this,Gn);return!0};function Vr(Hn,Jn,Gn,ba){var eo,xa,Yn;if(jr(Gn),xa=Hn._events,xa===void 0?(xa=Hn._events=Object.create(null),Hn._eventsCount=0):(xa.newListener!==void 0&&(Hn.emit("newListener",Jn,Gn.listener?Gn.listener:Gn),xa=Hn._events),Yn=xa[Jn]),Yn===void 0)Yn=xa[Jn]=Gn,++Hn._eventsCount;else if(typeof Yn=="function"?Yn=xa[Jn]=ba?[Gn,Yn]:[Yn,Gn]:ba?Yn.unshift(Gn):Yn.push(Gn),eo=hn(Hn),eo>0&&Yn.length>eo&&!Yn.warned){Yn.warned=!0;var Un=new Error("Possible EventEmitter memory leak detected. "+Yn.length+" "+String(Jn)+" listeners added. Use emitter.setMaxListeners() to increase limit");Un.name="MaxListenersExceededWarning",Un.emitter=Hn,Un.type=Jn,Un.count=Yn.length,Ot(Un)}return Hn}Ut.prototype.addListener=function(Jn,Gn){return Vr(this,Jn,Gn,!1)},Ut.prototype.on=Ut.prototype.addListener,Ut.prototype.prependListener=function(Jn,Gn){return Vr(this,Jn,Gn,!0)};function fn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function dn(Hn,Jn,Gn){var ba={fired:!1,wrapFn:void 0,target:Hn,type:Jn,listener:Gn},eo=fn.bind(ba);return eo.listener=Gn,ba.wrapFn=eo,eo}Ut.prototype.once=function(Jn,Gn){return jr(Gn),this.on(Jn,dn(this,Jn,Gn)),this},Ut.prototype.prependOnceListener=function(Jn,Gn){return jr(Gn),this.prependListener(Jn,dn(this,Jn,Gn)),this},Ut.prototype.removeListener=function(Jn,Gn){var ba,eo,xa,Yn,Un;if(jr(Gn),eo=this._events,eo===void 0)return this;if(ba=eo[Jn],ba===void 0)return this;if(ba===Gn||ba.listener===Gn)--this._eventsCount===0?this._events=Object.create(null):(delete eo[Jn],eo.removeListener&&this.emit("removeListener",Jn,ba.listener||Gn));else if(typeof ba!="function"){for(xa=-1,Yn=ba.length-1;Yn>=0;Yn--)if(ba[Yn]===Gn||ba[Yn].listener===Gn){Un=ba[Yn].listener,xa=Yn;break}if(xa<0)return this;xa===0?ba.shift():Dn(ba,xa),ba.length===1&&(eo[Jn]=ba[0]),eo.removeListener!==void 0&&this.emit("removeListener",Jn,Un||Gn)}return this},Ut.prototype.off=Ut.prototype.removeListener,Ut.prototype.removeAllListeners=function(Jn){var Gn,ba,eo;if(ba=this._events,ba===void 0)return this;if(ba.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ba[Jn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ba[Jn]),this;if(arguments.length===0){var xa=Object.keys(ba),Yn;for(eo=0;eo<xa.length;++eo)Yn=xa[eo],Yn!=="removeListener"&&this.removeAllListeners(Yn);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Gn=ba[Jn],typeof Gn=="function")this.removeListener(Jn,Gn);else if(Gn!==void 0)for(eo=Gn.length-1;eo>=0;eo--)this.removeListener(Jn,Gn[eo]);return this};function pn(Hn,Jn,Gn){var ba=Hn._events;if(ba===void 0)return[];var eo=ba[Jn];return eo===void 0?[]:typeof eo=="function"?Gn?[eo.listener||eo]:[eo]:Gn?Vn(eo):_n(eo,eo.length)}Ut.prototype.listeners=function(Jn){return pn(this,Jn,!0)},Ut.prototype.rawListeners=function(Jn){return pn(this,Jn,!1)},Ut.listenerCount=function(Hn,Jn){return typeof Hn.listenerCount=="function"?Hn.listenerCount(Jn):En.call(Hn,Jn)},Ut.prototype.listenerCount=En;function En(Hn){var Jn=this._events;if(Jn!==void 0){var Gn=Jn[Hn];if(typeof Gn=="function")return 1;if(Gn!==void 0)return Gn.length}return 0}Ut.prototype.eventNames=function(){return this._eventsCount>0?Mt(this._events):[]};function _n(Hn,Jn){for(var Gn=new Array(Jn),ba=0;ba<Jn;++ba)Gn[ba]=Hn[ba];return Gn}function Dn(Hn,Jn){for(;Jn+1<Hn.length;Jn++)Hn[Jn]=Hn[Jn+1];Hn.pop()}function Vn(Hn){for(var Jn=new Array(Hn.length),Gn=0;Gn<Jn.length;++Gn)Jn[Gn]=Hn[Gn].listener||Hn[Gn];return Jn}function Pn(Hn,Jn){return new Promise(function(Gn,ba){function eo(Yn){Hn.removeListener(Jn,xa),ba(Yn)}function xa(){typeof Hn.removeListener=="function"&&Hn.removeListener("error",eo),Gn([].slice.call(arguments))}jn(Hn,Jn,xa,{once:!0}),Jn!=="error"&&qn(Hn,eo,{once:!0})})}function qn(Hn,Jn,Gn){typeof Hn.on=="function"&&jn(Hn,"error",Jn,Gn)}function jn(Hn,Jn,Gn,ba){if(typeof Hn.on=="function")ba.once?Hn.once(Jn,Gn):Hn.on(Jn,Gn);else if(typeof Hn.addEventListener=="function")Hn.addEventListener(Jn,function eo(xa){ba.once&&Hn.removeEventListener(Jn,eo),Gn(xa)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Hn)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types$2={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var d={},Mt=Symbol("test"),Ot=Object(Mt);if(typeof Mt=="string"||Object.prototype.toString.call(Mt)!=="[object Symbol]"||Object.prototype.toString.call(Ot)!=="[object Symbol]")return!1;var Ft=42;d[Mt]=Ft;for(var Ut in d)return!1;if(typeof Object.keys=="function"&&Object.keys(d).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(d).length!==0)return!1;var Xt=Object.getOwnPropertySymbols(d);if(Xt.length!==1||Xt[0]!==Mt||!Object.prototype.propertyIsEnumerable.call(d,Mt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var jr=Object.getOwnPropertyDescriptor(d,Mt);if(jr.value!==Ft||jr.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var _e=requireShams$1();return shams=function(){return _e()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(d){return d!==d}),_isNaN}var sign$2,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$2;hasRequiredSign$1=1;var _e=require_isNaN();return sign$2=function(Mt){return _e(Mt)||Mt===0?Mt:Mt<0?-1:1},sign$2}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var _e=requireGOPD();if(_e)try{_e([],"length")}catch{_e=null}return gopd=_e,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var _e=Object.defineProperty||!1;if(_e)try{_e({},"a",{value:1})}catch{_e=!1}return esDefineProperty=_e,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var _e=typeof Symbol<"u"&&Symbol,d=requireShams$1();return hasSymbols=function(){return typeof _e!="function"||typeof Symbol!="function"||typeof _e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:d()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var _e=requireEsObjectAtoms();return Object_getPrototypeOf=_e.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var _e="Function.prototype.bind called on incompatible ",d=Object.prototype.toString,Mt=Math.max,Ot="[object Function]",Ft=function(hn,Vr){for(var fn=[],dn=0;dn<hn.length;dn+=1)fn[dn]=hn[dn];for(var pn=0;pn<Vr.length;pn+=1)fn[pn+hn.length]=Vr[pn];return fn},Ut=function(hn,Vr){for(var fn=[],dn=Vr,pn=0;dn<hn.length;dn+=1,pn+=1)fn[pn]=hn[dn];return fn},Xt=function(jr,hn){for(var Vr="",fn=0;fn<jr.length;fn+=1)Vr+=jr[fn],fn+1<jr.length&&(Vr+=hn);return Vr};return implementation=function(hn){var Vr=this;if(typeof Vr!="function"||d.apply(Vr)!==Ot)throw new TypeError(_e+Vr);for(var fn=Ut(arguments,1),dn,pn=function(){if(this instanceof dn){var Pn=Vr.apply(this,Ft(fn,arguments));return Object(Pn)===Pn?Pn:this}return Vr.apply(hn,Ft(fn,arguments))},En=Mt(0,Vr.length-fn.length),_n=[],Dn=0;Dn<En;Dn++)_n[Dn]="$"+Dn;if(dn=Function("binder","return function ("+Xt(_n,",")+"){ return binder.apply(this,arguments); }")(pn),Vr.prototype){var Vn=function(){};Vn.prototype=Vr.prototype,dn.prototype=new Vn,Vn.prototype=null}return dn},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var _e=requireImplementation();return functionBind=Function.prototype.bind||_e,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var _e=requireFunctionBind(),d=requireFunctionApply(),Mt=requireFunctionCall(),Ot=requireReflectApply();return actualApply=Ot||_e.call(Mt,d),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var _e=requireFunctionBind(),d=requireType(),Mt=requireFunctionCall(),Ot=requireActualApply();return callBindApplyHelpers=function(Ut){if(Ut.length<1||typeof Ut[0]!="function")throw new d("a function is required");return Ot(_e,Mt,Ut)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var _e=requireCallBindApplyHelpers(),d=requireGopd(),Mt;try{Mt=[].__proto__===Array.prototype}catch(Xt){if(!Xt||typeof Xt!="object"||!("code"in Xt)||Xt.code!=="ERR_PROTO_ACCESS")throw Xt}var Ot=!!Mt&&d&&d(Object.prototype,"__proto__"),Ft=Object,Ut=Ft.getPrototypeOf;return get=Ot&&typeof Ot.get=="function"?_e([Ot.get]):typeof Ut=="function"?function(jr){return Ut(jr==null?jr:Ft(jr))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var _e=requireReflect_getPrototypeOf(),d=requireObject_getPrototypeOf(),Mt=requireGet();return getProto=_e?function(Ft){return _e(Ft)}:d?function(Ft){if(!Ft||typeof Ft!="object"&&typeof Ft!="function")throw new TypeError("getProto: not an object");return d(Ft)}:Mt?function(Ft){return Mt(Ft)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var _e=Function.prototype.call,d=Object.prototype.hasOwnProperty,Mt=requireFunctionBind();return hasown=Mt.call(_e,d),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var _e,d=requireEsObjectAtoms(),Mt=requireEsErrors(),Ot=require_eval(),Ft=requireRange(),Ut=requireRef(),Xt=requireSyntax(),jr=requireType(),hn=requireUri(),Vr=requireAbs(),fn=requireFloor(),dn=requireMax(),pn=requireMin(),En=requirePow(),_n=requireRound(),Dn=requireSign$1(),Vn=Function,Pn=function(so){try{return Vn('"use strict"; return ('+so+").constructor;")()}catch{}},qn=requireGopd(),jn=requireEsDefineProperty(),Hn=function(){throw new jr},Jn=qn?function(){try{return arguments.callee,Hn}catch{try{return qn(arguments,"callee").get}catch{return Hn}}}():Hn,Gn=requireHasSymbols()(),ba=requireGetProto(),eo=requireObject_getPrototypeOf(),xa=requireReflect_getPrototypeOf(),Yn=requireFunctionApply(),Un=requireFunctionCall(),Mn={},mn=typeof Uint8Array>"u"||!ba?_e:ba(Uint8Array),Xr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_e:ArrayBuffer,"%ArrayIteratorPrototype%":Gn&&ba?ba([][Symbol.iterator]()):_e,"%AsyncFromSyncIteratorPrototype%":_e,"%AsyncFunction%":Mn,"%AsyncGenerator%":Mn,"%AsyncGeneratorFunction%":Mn,"%AsyncIteratorPrototype%":Mn,"%Atomics%":typeof Atomics>"u"?_e:Atomics,"%BigInt%":typeof BigInt>"u"?_e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Mt,"%eval%":eval,"%EvalError%":Ot,"%Float16Array%":typeof Float16Array>"u"?_e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_e:FinalizationRegistry,"%Function%":Vn,"%GeneratorFunction%":Mn,"%Int8Array%":typeof Int8Array>"u"?_e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gn&&ba?ba(ba([][Symbol.iterator]())):_e,"%JSON%":typeof JSON=="object"?JSON:_e,"%Map%":typeof Map>"u"?_e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gn||!ba?_e:ba(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":d,"%Object.getOwnPropertyDescriptor%":qn,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_e:Promise,"%Proxy%":typeof Proxy>"u"?_e:Proxy,"%RangeError%":Ft,"%ReferenceError%":Ut,"%Reflect%":typeof Reflect>"u"?_e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gn||!ba?_e:ba(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gn&&ba?ba(""[Symbol.iterator]()):_e,"%Symbol%":Gn?Symbol:_e,"%SyntaxError%":Xt,"%ThrowTypeError%":Jn,"%TypedArray%":mn,"%TypeError%":jr,"%Uint8Array%":typeof Uint8Array>"u"?_e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_e:Uint32Array,"%URIError%":hn,"%WeakMap%":typeof WeakMap>"u"?_e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_e:WeakSet,"%Function.prototype.call%":Un,"%Function.prototype.apply%":Yn,"%Object.defineProperty%":jn,"%Object.getPrototypeOf%":eo,"%Math.abs%":Vr,"%Math.floor%":fn,"%Math.max%":dn,"%Math.min%":pn,"%Math.pow%":En,"%Math.round%":_n,"%Math.sign%":Dn,"%Reflect.getPrototypeOf%":xa};if(ba)try{null.error}catch(so){var gn=ba(ba(so));Xr["%Error.prototype%"]=gn}var On=function so(_i){var Wn;if(_i==="%AsyncFunction%")Wn=Pn("async function () {}");else if(_i==="%GeneratorFunction%")Wn=Pn("function* () {}");else if(_i==="%AsyncGeneratorFunction%")Wn=Pn("async function* () {}");else if(_i==="%AsyncGenerator%"){var Kn=so("%AsyncGeneratorFunction%");Kn&&(Wn=Kn.prototype)}else if(_i==="%AsyncIteratorPrototype%"){var ro=so("%AsyncGenerator%");ro&&ba&&(Wn=ba(ro.prototype))}return Xr[_i]=Wn,Wn},Ln={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Rn=requireFunctionBind(),yn=requireHasown(),kn=Rn.call(Un,Array.prototype.concat),Fn=Rn.call(Yn,Array.prototype.splice),Cn=Rn.call(Un,String.prototype.replace),zn=Rn.call(Un,String.prototype.slice),$a=Rn.call(Un,RegExp.prototype.exec),co=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,io=/\\(\\)?/g,ga=function(_i){var Wn=zn(_i,0,1),Kn=zn(_i,-1);if(Wn==="%"&&Kn!=="%")throw new Xt("invalid intrinsic syntax, expected closing `%`");if(Kn==="%"&&Wn!=="%")throw new Xt("invalid intrinsic syntax, expected opening `%`");var ro=[];return Cn(_i,co,function(oo,mo,bo,vo){ro[ro.length]=bo?Cn(vo,io,"$1"):mo||oo}),ro},na=function(_i,Wn){var Kn=_i,ro;if(yn(Ln,Kn)&&(ro=Ln[Kn],Kn="%"+ro[0]+"%"),yn(Xr,Kn)){var oo=Xr[Kn];if(oo===Mn&&(oo=On(Kn)),typeof oo>"u"&&!Wn)throw new jr("intrinsic "+_i+" exists, but is not available. Please file an issue!");return{alias:ro,name:Kn,value:oo}}throw new Xt("intrinsic "+_i+" does not exist!")};return getIntrinsic=function(_i,Wn){if(typeof _i!="string"||_i.length===0)throw new jr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Wn!="boolean")throw new jr('"allowMissing" argument must be a boolean');if($a(/^%?[^%]*%?$/,_i)===null)throw new Xt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Kn=ga(_i),ro=Kn.length>0?Kn[0]:"",oo=na("%"+ro+"%",Wn),mo=oo.name,bo=oo.value,vo=!1,wo=oo.alias;wo&&(ro=wo[0],Fn(Kn,kn([0,1],wo)));for(var go=1,So=!0;go<Kn.length;go+=1){var Ao=Kn[go],Co=zn(Ao,0,1),Ro=zn(Ao,-1);if((Co==='"'||Co==="'"||Co==="`"||Ro==='"'||Ro==="'"||Ro==="`")&&Co!==Ro)throw new Xt("property names with quotes must have matching quotes");if((Ao==="constructor"||!So)&&(vo=!0),ro+="."+Ao,mo="%"+ro+"%",yn(Xr,mo))bo=Xr[mo];else if(bo!=null){if(!(Ao in bo)){if(!Wn)throw new jr("base intrinsic for "+_i+" exists, but the property is not available.");return}if(qn&&go+1>=Kn.length){var $o=qn(bo,Ao);So=!!$o,So&&"get"in $o&&!("originalValue"in $o.get)?bo=$o.get:bo=bo[Ao]}else So=yn(bo,Ao),bo=bo[Ao];So&&!vo&&(Xr[mo]=bo)}}return bo},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var _e=requireGetIntrinsic(),d=requireCallBindApplyHelpers(),Mt=d([_e("%String.prototype.indexOf%")]);return callBound=function(Ft,Ut){var Xt=_e(Ft,!!Ut);return typeof Xt=="function"&&Mt(Ft,".prototype.")>-1?d([Xt]):Xt},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var _e=requireShams()(),d=requireCallBound(),Mt=d("Object.prototype.toString"),Ot=function(jr){return _e&&jr&&typeof jr=="object"&&Symbol.toStringTag in jr?!1:Mt(jr)==="[object Arguments]"},Ft=function(jr){return Ot(jr)?!0:jr!==null&&typeof jr=="object"&&"length"in jr&&typeof jr.length=="number"&&jr.length>=0&&Mt(jr)!=="[object Array]"&&"callee"in jr&&Mt(jr.callee)==="[object Function]"},Ut=function(){return Ot(arguments)}();return Ot.isLegacyArguments=Ft,isArguments=Ut?Ot:Ft,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var _e=requireCallBound(),d=requireShams()(),Mt=requireHasown(),Ot=requireGopd(),Ft;if(d){var Ut=_e("RegExp.prototype.exec"),Xt={},jr=function(){throw Xt},hn={toString:jr,valueOf:jr};typeof Symbol.toPrimitive=="symbol"&&(hn[Symbol.toPrimitive]=jr),Ft=function(pn){if(!pn||typeof pn!="object")return!1;var En=Ot(pn,"lastIndex"),_n=En&&Mt(En,"value");if(!_n)return!1;try{Ut(pn,hn)}catch(Dn){return Dn===Xt}}}else{var Vr=_e("Object.prototype.toString"),fn="[object RegExp]";Ft=function(pn){return!pn||typeof pn!="object"&&typeof pn!="function"?!1:Vr(pn)===fn}}return isRegex=Ft,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var _e=requireCallBound(),d=requireIsRegex(),Mt=_e("RegExp.prototype.exec"),Ot=requireType();return safeRegexTest=function(Ut){if(!d(Ut))throw new Ot("`regex` must be a RegExp");return function(jr){return Mt(Ut,jr)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var _e=requireCallBound(),d=requireSafeRegexTest(),Mt=d(/^\s*(?:function)?\*/),Ot=requireShams()(),Ft=requireGetProto(),Ut=_e("Object.prototype.toString"),Xt=_e("Function.prototype.toString"),jr=function(){if(!Ot)return!1;try{return Function("return function*() {}")()}catch{}},hn;return isGeneratorFunction=function(fn){if(typeof fn!="function")return!1;if(Mt(Xt(fn)))return!0;if(!Ot){var dn=Ut(fn);return dn==="[object GeneratorFunction]"}if(!Ft)return!1;if(typeof hn>"u"){var pn=jr();hn=pn?Ft(pn):!1}return Ft(fn)===hn},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var _e=Function.prototype.toString,d=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Mt,Ot;if(typeof d=="function"&&typeof Object.defineProperty=="function")try{Mt=Object.defineProperty({},"length",{get:function(){throw Ot}}),Ot={},d(function(){throw 42},null,Mt)}catch(qn){qn!==Ot&&(d=null)}else d=null;var Ft=/^\s*class\b/,Ut=function(jn){try{var Hn=_e.call(jn);return Ft.test(Hn)}catch{return!1}},Xt=function(jn){try{return Ut(jn)?!1:(_e.call(jn),!0)}catch{return!1}},jr=Object.prototype.toString,hn="[object Object]",Vr="[object Function]",fn="[object GeneratorFunction]",dn="[object HTMLAllCollection]",pn="[object HTML document.all class]",En="[object HTMLCollection]",_n=typeof Symbol=="function"&&!!Symbol.toStringTag,Dn=!(0 in[,]),Vn=function(){return!1};if(typeof document=="object"){var Pn=document.all;jr.call(Pn)===jr.call(document.all)&&(Vn=function(jn){if((Dn||!jn)&&(typeof jn>"u"||typeof jn=="object"))try{var Hn=jr.call(jn);return(Hn===dn||Hn===pn||Hn===En||Hn===hn)&&jn("")==null}catch{}return!1})}return isCallable=d?function(jn){if(Vn(jn))return!0;if(!jn||typeof jn!="function"&&typeof jn!="object")return!1;try{d(jn,null,Mt)}catch(Hn){if(Hn!==Ot)return!1}return!Ut(jn)&&Xt(jn)}:function(jn){if(Vn(jn))return!0;if(!jn||typeof jn!="function"&&typeof jn!="object")return!1;if(_n)return Xt(jn);if(Ut(jn))return!1;var Hn=jr.call(jn);return Hn!==Vr&&Hn!==fn&&!/^\[object HTML/.test(Hn)?!1:Xt(jn)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var _e=requireIsCallable(),d=Object.prototype.toString,Mt=Object.prototype.hasOwnProperty,Ot=function(hn,Vr,fn){for(var dn=0,pn=hn.length;dn<pn;dn++)Mt.call(hn,dn)&&(fn==null?Vr(hn[dn],dn,hn):Vr.call(fn,hn[dn],dn,hn))},Ft=function(hn,Vr,fn){for(var dn=0,pn=hn.length;dn<pn;dn++)fn==null?Vr(hn.charAt(dn),dn,hn):Vr.call(fn,hn.charAt(dn),dn,hn)},Ut=function(hn,Vr,fn){for(var dn in hn)Mt.call(hn,dn)&&(fn==null?Vr(hn[dn],dn,hn):Vr.call(fn,hn[dn],dn,hn))};function Xt(jr){return d.call(jr)==="[object Array]"}return forEach=function(hn,Vr,fn){if(!_e(Vr))throw new TypeError("iterator must be a function");var dn;arguments.length>=3&&(dn=fn),Xt(hn)?Ot(hn,Vr,dn):typeof hn=="string"?Ft(hn,Vr,dn):Ut(hn,Vr,dn)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var _e=requirePossibleTypedArrayNames(),d=globalThis;return availableTypedArrays=function(){for(var Ot=[],Ft=0;Ft<_e.length;Ft++)typeof d[_e[Ft]]=="function"&&(Ot[Ot.length]=_e[Ft]);return Ot},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var _e=requireEsDefineProperty(),d=requireSyntax(),Mt=requireType(),Ot=requireGopd();return defineDataProperty=function(Ut,Xt,jr){if(!Ut||typeof Ut!="object"&&typeof Ut!="function")throw new Mt("`obj` must be an object or a function`");if(typeof Xt!="string"&&typeof Xt!="symbol")throw new Mt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mt("`loose`, if provided, must be a boolean");var hn=arguments.length>3?arguments[3]:null,Vr=arguments.length>4?arguments[4]:null,fn=arguments.length>5?arguments[5]:null,dn=arguments.length>6?arguments[6]:!1,pn=!!Ot&&Ot(Ut,Xt);if(_e)_e(Ut,Xt,{configurable:fn===null&&pn?pn.configurable:!fn,enumerable:hn===null&&pn?pn.enumerable:!hn,value:jr,writable:Vr===null&&pn?pn.writable:!Vr});else if(dn||!hn&&!Vr&&!fn)Ut[Xt]=jr;else throw new d("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var _e=requireEsDefineProperty(),d=function(){return!!_e};return d.hasArrayLengthDefineBug=function(){if(!_e)return null;try{return _e([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=d,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var _e=requireGetIntrinsic(),d=requireDefineDataProperty(),Mt=requireHasPropertyDescriptors()(),Ot=requireGopd(),Ft=requireType(),Ut=_e("%Math.floor%");return setFunctionLength=function(jr,hn){if(typeof jr!="function")throw new Ft("`fn` is not a function");if(typeof hn!="number"||hn<0||hn>4294967295||Ut(hn)!==hn)throw new Ft("`length` must be a positive 32-bit integer");var Vr=arguments.length>2&&!!arguments[2],fn=!0,dn=!0;if("length"in jr&&Ot){var pn=Ot(jr,"length");pn&&!pn.configurable&&(fn=!1),pn&&!pn.writable&&(dn=!1)}return(fn||dn||!Vr)&&(Mt?d(jr,"length",hn,!0,!0):d(jr,"length",hn)),jr},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var _e=requireFunctionBind(),d=requireFunctionApply(),Mt=requireActualApply();return applyBind=function(){return Mt(_e,d,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(_e){var d=requireSetFunctionLength(),Mt=requireEsDefineProperty(),Ot=requireCallBindApplyHelpers(),Ft=requireApplyBind();_e.exports=function(Xt){var jr=Ot(arguments),hn=Xt.length-(arguments.length-1);return d(jr,1+(hn>0?hn:0),!0)},Mt?Mt(_e.exports,"apply",{value:Ft}):_e.exports.apply=Ft}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var _e=requireForEach(),d=requireAvailableTypedArrays(),Mt=requireCallBind(),Ot=requireCallBound(),Ft=requireGopd(),Ut=requireGetProto(),Xt=Ot("Object.prototype.toString"),jr=requireShams()(),hn=globalThis,Vr=d(),fn=Ot("String.prototype.slice"),dn=Ot("Array.prototype.indexOf",!0)||function(Vn,Pn){for(var qn=0;qn<Vn.length;qn+=1)if(Vn[qn]===Pn)return qn;return-1},pn={__proto__:null};jr&&Ft&&Ut?_e(Vr,function(Dn){var Vn=new hn[Dn];if(Symbol.toStringTag in Vn&&Ut){var Pn=Ut(Vn),qn=Ft(Pn,Symbol.toStringTag);if(!qn&&Pn){var jn=Ut(Pn);qn=Ft(jn,Symbol.toStringTag)}pn["$"+Dn]=Mt(qn.get)}}):_e(Vr,function(Dn){var Vn=new hn[Dn],Pn=Vn.slice||Vn.set;Pn&&(pn["$"+Dn]=Mt(Pn))});var En=function(Vn){var Pn=!1;return _e(pn,function(qn,jn){if(!Pn)try{"$"+qn(Vn)===jn&&(Pn=fn(jn,1))}catch{}}),Pn},_n=function(Vn){var Pn=!1;return _e(pn,function(qn,jn){if(!Pn)try{qn(Vn),Pn=fn(jn,1)}catch{}}),Pn};return whichTypedArray=function(Vn){if(!Vn||typeof Vn!="object")return!1;if(!jr){var Pn=fn(Xt(Vn),8,-1);return dn(Vr,Pn)>-1?Pn:Pn!=="Object"?!1:_n(Vn)}return Ft?En(Vn):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var _e=requireWhichTypedArray();return isTypedArray=function(Mt){return!!_e(Mt)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(_e){var d=requireIsArguments(),Mt=requireIsGeneratorFunction(),Ot=requireWhichTypedArray(),Ft=requireIsTypedArray();function Ut(go){return go.call.bind(go)}var Xt=typeof BigInt<"u",jr=typeof Symbol<"u",hn=Ut(Object.prototype.toString),Vr=Ut(Number.prototype.valueOf),fn=Ut(String.prototype.valueOf),dn=Ut(Boolean.prototype.valueOf);if(Xt)var pn=Ut(BigInt.prototype.valueOf);if(jr)var En=Ut(Symbol.prototype.valueOf);function _n(go,So){if(typeof go!="object")return!1;try{return So(go),!0}catch{return!1}}_e.isArgumentsObject=d,_e.isGeneratorFunction=Mt,_e.isTypedArray=Ft;function Dn(go){return typeof Promise<"u"&&go instanceof Promise||go!==null&&typeof go=="object"&&typeof go.then=="function"&&typeof go.catch=="function"}_e.isPromise=Dn;function Vn(go){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(go):Ft(go)||zn(go)}_e.isArrayBufferView=Vn;function Pn(go){return Ot(go)==="Uint8Array"}_e.isUint8Array=Pn;function qn(go){return Ot(go)==="Uint8ClampedArray"}_e.isUint8ClampedArray=qn;function jn(go){return Ot(go)==="Uint16Array"}_e.isUint16Array=jn;function Hn(go){return Ot(go)==="Uint32Array"}_e.isUint32Array=Hn;function Jn(go){return Ot(go)==="Int8Array"}_e.isInt8Array=Jn;function Gn(go){return Ot(go)==="Int16Array"}_e.isInt16Array=Gn;function ba(go){return Ot(go)==="Int32Array"}_e.isInt32Array=ba;function eo(go){return Ot(go)==="Float32Array"}_e.isFloat32Array=eo;function xa(go){return Ot(go)==="Float64Array"}_e.isFloat64Array=xa;function Yn(go){return Ot(go)==="BigInt64Array"}_e.isBigInt64Array=Yn;function Un(go){return Ot(go)==="BigUint64Array"}_e.isBigUint64Array=Un;function Mn(go){return hn(go)==="[object Map]"}Mn.working=typeof Map<"u"&&Mn(new Map);function mn(go){return typeof Map>"u"?!1:Mn.working?Mn(go):go instanceof Map}_e.isMap=mn;function Xr(go){return hn(go)==="[object Set]"}Xr.working=typeof Set<"u"&&Xr(new Set);function gn(go){return typeof Set>"u"?!1:Xr.working?Xr(go):go instanceof Set}_e.isSet=gn;function On(go){return hn(go)==="[object WeakMap]"}On.working=typeof WeakMap<"u"&&On(new WeakMap);function Ln(go){return typeof WeakMap>"u"?!1:On.working?On(go):go instanceof WeakMap}_e.isWeakMap=Ln;function Rn(go){return hn(go)==="[object WeakSet]"}Rn.working=typeof WeakSet<"u"&&Rn(new WeakSet);function yn(go){return Rn(go)}_e.isWeakSet=yn;function kn(go){return hn(go)==="[object ArrayBuffer]"}kn.working=typeof ArrayBuffer<"u"&&kn(new ArrayBuffer);function Fn(go){return typeof ArrayBuffer>"u"?!1:kn.working?kn(go):go instanceof ArrayBuffer}_e.isArrayBuffer=Fn;function Cn(go){return hn(go)==="[object DataView]"}Cn.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Cn(new DataView(new ArrayBuffer(1),0,1));function zn(go){return typeof DataView>"u"?!1:Cn.working?Cn(go):go instanceof DataView}_e.isDataView=zn;var $a=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function co(go){return hn(go)==="[object SharedArrayBuffer]"}function io(go){return typeof $a>"u"?!1:(typeof co.working>"u"&&(co.working=co(new $a)),co.working?co(go):go instanceof $a)}_e.isSharedArrayBuffer=io;function ga(go){return hn(go)==="[object AsyncFunction]"}_e.isAsyncFunction=ga;function na(go){return hn(go)==="[object Map Iterator]"}_e.isMapIterator=na;function so(go){return hn(go)==="[object Set Iterator]"}_e.isSetIterator=so;function _i(go){return hn(go)==="[object Generator]"}_e.isGeneratorObject=_i;function Wn(go){return hn(go)==="[object WebAssembly.Module]"}_e.isWebAssemblyCompiledModule=Wn;function Kn(go){return _n(go,Vr)}_e.isNumberObject=Kn;function ro(go){return _n(go,fn)}_e.isStringObject=ro;function oo(go){return _n(go,dn)}_e.isBooleanObject=oo;function mo(go){return Xt&&_n(go,pn)}_e.isBigIntObject=mo;function bo(go){return jr&&_n(go,En)}_e.isSymbolObject=bo;function vo(go){return Kn(go)||ro(go)||oo(go)||mo(go)||bo(go)}_e.isBoxedPrimitive=vo;function wo(go){return typeof Uint8Array<"u"&&(Fn(go)||io(go))}_e.isAnyArrayBuffer=wo,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(go){Object.defineProperty(_e,go,{enumerable:!1,value:function(){throw new Error(go+" is not supported in userland")}})})}(types$2)),types$2}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(_e){var d={},Mt=Object.getOwnPropertyDescriptors||function($a){for(var co=Object.keys($a),io={},ga=0;ga<co.length;ga++)io[co[ga]]=Object.getOwnPropertyDescriptor($a,co[ga]);return io},Ot=/%[sdj%]/g;_e.format=function(zn){if(!Gn(zn)){for(var $a=[],co=0;co<arguments.length;co++)$a.push(jr(arguments[co]));return $a.join(" ")}for(var co=1,io=arguments,ga=io.length,na=String(zn).replace(Ot,function(_i){if(_i==="%%")return"%";if(co>=ga)return _i;switch(_i){case"%s":return String(io[co++]);case"%d":return Number(io[co++]);case"%j":try{return JSON.stringify(io[co++])}catch{return"[Circular]"}default:return _i}}),so=io[co];co<ga;so=io[++co])jn(so)||!Yn(so)?na+=" "+so:na+=" "+jr(so);return na},_e.deprecate=function(zn,$a){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return zn;if(typeof process$1>"u")return function(){return _e.deprecate(zn,$a).apply(this,arguments)};var co=!1;function io(){if(!co){if(process$1.throwDeprecation)throw new Error($a);process$1.traceDeprecation?console.trace($a):console.error($a),co=!0}return zn.apply(this,arguments)}return io};var Ft={},Ut=/^$/;if(d.NODE_DEBUG){var Xt=d.NODE_DEBUG;Xt=Xt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Ut=new RegExp("^"+Xt+"$","i")}_e.debuglog=function(zn){if(zn=zn.toUpperCase(),!Ft[zn])if(Ut.test(zn)){var $a=process$1.pid;Ft[zn]=function(){var co=_e.format.apply(_e,arguments);console.error("%s %d: %s",zn,$a,co)}}else Ft[zn]=function(){};return Ft[zn]};function jr(zn,$a){var co={seen:[],stylize:Vr};return arguments.length>=3&&(co.depth=arguments[2]),arguments.length>=4&&(co.colors=arguments[3]),qn($a)?co.showHidden=$a:$a&&_e._extend(co,$a),eo(co.showHidden)&&(co.showHidden=!1),eo(co.depth)&&(co.depth=2),eo(co.colors)&&(co.colors=!1),eo(co.customInspect)&&(co.customInspect=!0),co.colors&&(co.stylize=hn),dn(co,zn,co.depth)}_e.inspect=jr,jr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},jr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function hn(zn,$a){var co=jr.styles[$a];return co?"\x1B["+jr.colors[co][0]+"m"+zn+"\x1B["+jr.colors[co][1]+"m":zn}function Vr(zn,$a){return zn}function fn(zn){var $a={};return zn.forEach(function(co,io){$a[co]=!0}),$a}function dn(zn,$a,co){if(zn.customInspect&&$a&&mn($a.inspect)&&$a.inspect!==_e.inspect&&!($a.constructor&&$a.constructor.prototype===$a)){var io=$a.inspect(co,zn);return Gn(io)||(io=dn(zn,io,co)),io}var ga=pn(zn,$a);if(ga)return ga;var na=Object.keys($a),so=fn(na);if(zn.showHidden&&(na=Object.getOwnPropertyNames($a)),Mn($a)&&(na.indexOf("message")>=0||na.indexOf("description")>=0))return En($a);if(na.length===0){if(mn($a)){var _i=$a.name?": "+$a.name:"";return zn.stylize("[Function"+_i+"]","special")}if(xa($a))return zn.stylize(RegExp.prototype.toString.call($a),"regexp");if(Un($a))return zn.stylize(Date.prototype.toString.call($a),"date");if(Mn($a))return En($a)}var Wn="",Kn=!1,ro=["{","}"];if(Pn($a)&&(Kn=!0,ro=["[","]"]),mn($a)){var oo=$a.name?": "+$a.name:"";Wn=" [Function"+oo+"]"}if(xa($a)&&(Wn=" "+RegExp.prototype.toString.call($a)),Un($a)&&(Wn=" "+Date.prototype.toUTCString.call($a)),Mn($a)&&(Wn=" "+En($a)),na.length===0&&(!Kn||$a.length==0))return ro[0]+Wn+ro[1];if(co<0)return xa($a)?zn.stylize(RegExp.prototype.toString.call($a),"regexp"):zn.stylize("[Object]","special");zn.seen.push($a);var mo;return Kn?mo=_n(zn,$a,co,so,na):mo=na.map(function(bo){return Dn(zn,$a,co,so,bo,Kn)}),zn.seen.pop(),Vn(mo,Wn,ro)}function pn(zn,$a){if(eo($a))return zn.stylize("undefined","undefined");if(Gn($a)){var co="'"+JSON.stringify($a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return zn.stylize(co,"string")}if(Jn($a))return zn.stylize(""+$a,"number");if(qn($a))return zn.stylize(""+$a,"boolean");if(jn($a))return zn.stylize("null","null")}function En(zn){return"["+Error.prototype.toString.call(zn)+"]"}function _n(zn,$a,co,io,ga){for(var na=[],so=0,_i=$a.length;so<_i;++so)yn($a,String(so))?na.push(Dn(zn,$a,co,io,String(so),!0)):na.push("");return ga.forEach(function(Wn){Wn.match(/^\d+$/)||na.push(Dn(zn,$a,co,io,Wn,!0))}),na}function Dn(zn,$a,co,io,ga,na){var so,_i,Wn;if(Wn=Object.getOwnPropertyDescriptor($a,ga)||{value:$a[ga]},Wn.get?Wn.set?_i=zn.stylize("[Getter/Setter]","special"):_i=zn.stylize("[Getter]","special"):Wn.set&&(_i=zn.stylize("[Setter]","special")),yn(io,ga)||(so="["+ga+"]"),_i||(zn.seen.indexOf(Wn.value)<0?(jn(co)?_i=dn(zn,Wn.value,null):_i=dn(zn,Wn.value,co-1),_i.indexOf(`
`)>-1&&(na?_i=_i.split(`
`).map(function(Kn){return"  "+Kn}).join(`
`).slice(2):_i=`
`+_i.split(`
`).map(function(Kn){return"   "+Kn}).join(`
`))):_i=zn.stylize("[Circular]","special")),eo(so)){if(na&&ga.match(/^\d+$/))return _i;so=JSON.stringify(""+ga),so.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(so=so.slice(1,-1),so=zn.stylize(so,"name")):(so=so.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),so=zn.stylize(so,"string"))}return so+": "+_i}function Vn(zn,$a,co){var io=zn.reduce(function(ga,na){return na.indexOf(`
`)>=0,ga+na.replace(/\u001b\[\d\d?m/g,"").length+1},0);return io>60?co[0]+($a===""?"":$a+`
 `)+" "+zn.join(`,
  `)+" "+co[1]:co[0]+$a+" "+zn.join(", ")+" "+co[1]}_e.types=requireTypes();function Pn(zn){return Array.isArray(zn)}_e.isArray=Pn;function qn(zn){return typeof zn=="boolean"}_e.isBoolean=qn;function jn(zn){return zn===null}_e.isNull=jn;function Hn(zn){return zn==null}_e.isNullOrUndefined=Hn;function Jn(zn){return typeof zn=="number"}_e.isNumber=Jn;function Gn(zn){return typeof zn=="string"}_e.isString=Gn;function ba(zn){return typeof zn=="symbol"}_e.isSymbol=ba;function eo(zn){return zn===void 0}_e.isUndefined=eo;function xa(zn){return Yn(zn)&&gn(zn)==="[object RegExp]"}_e.isRegExp=xa,_e.types.isRegExp=xa;function Yn(zn){return typeof zn=="object"&&zn!==null}_e.isObject=Yn;function Un(zn){return Yn(zn)&&gn(zn)==="[object Date]"}_e.isDate=Un,_e.types.isDate=Un;function Mn(zn){return Yn(zn)&&(gn(zn)==="[object Error]"||zn instanceof Error)}_e.isError=Mn,_e.types.isNativeError=Mn;function mn(zn){return typeof zn=="function"}_e.isFunction=mn;function Xr(zn){return zn===null||typeof zn=="boolean"||typeof zn=="number"||typeof zn=="string"||typeof zn=="symbol"||typeof zn>"u"}_e.isPrimitive=Xr,_e.isBuffer=requireIsBufferBrowser();function gn(zn){return Object.prototype.toString.call(zn)}function On(zn){return zn<10?"0"+zn.toString(10):zn.toString(10)}var Ln=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Rn(){var zn=new Date,$a=[On(zn.getHours()),On(zn.getMinutes()),On(zn.getSeconds())].join(":");return[zn.getDate(),Ln[zn.getMonth()],$a].join(" ")}_e.log=function(){console.log("%s - %s",Rn(),_e.format.apply(_e,arguments))},_e.inherits=requireInherits_browser(),_e._extend=function(zn,$a){if(!$a||!Yn($a))return zn;for(var co=Object.keys($a),io=co.length;io--;)zn[co[io]]=$a[co[io]];return zn};function yn(zn,$a){return Object.prototype.hasOwnProperty.call(zn,$a)}var kn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;_e.promisify=function($a){if(typeof $a!="function")throw new TypeError('The "original" argument must be of type Function');if(kn&&$a[kn]){var co=$a[kn];if(typeof co!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(co,kn,{value:co,enumerable:!1,writable:!1,configurable:!0}),co}function co(){for(var io,ga,na=new Promise(function(Wn,Kn){io=Wn,ga=Kn}),so=[],_i=0;_i<arguments.length;_i++)so.push(arguments[_i]);so.push(function(Wn,Kn){Wn?ga(Wn):io(Kn)});try{$a.apply(this,so)}catch(Wn){ga(Wn)}return na}return Object.setPrototypeOf(co,Object.getPrototypeOf($a)),kn&&Object.defineProperty(co,kn,{value:co,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(co,Mt($a))},_e.promisify.custom=kn;function Fn(zn,$a){if(!zn){var co=new Error("Promise was rejected with a falsy value");co.reason=zn,zn=co}return $a(zn)}function Cn(zn){if(typeof zn!="function")throw new TypeError('The "original" argument must be of type Function');function $a(){for(var co=[],io=0;io<arguments.length;io++)co.push(arguments[io]);var ga=co.pop();if(typeof ga!="function")throw new TypeError("The last argument must be of type Function");var na=this,so=function(){return ga.apply(na,arguments)};zn.apply(this,co).then(function(_i){process$1.nextTick(so.bind(null,null,_i))},function(_i){process$1.nextTick(Fn.bind(null,_i,so))})}return Object.setPrototypeOf($a,Object.getPrototypeOf(zn)),Object.defineProperties($a,Mt(zn)),$a}_e.callbackify=Cn}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function _e(_n,Dn){var Vn=Object.keys(_n);if(Object.getOwnPropertySymbols){var Pn=Object.getOwnPropertySymbols(_n);Dn&&(Pn=Pn.filter(function(qn){return Object.getOwnPropertyDescriptor(_n,qn).enumerable})),Vn.push.apply(Vn,Pn)}return Vn}function d(_n){for(var Dn=1;Dn<arguments.length;Dn++){var Vn=arguments[Dn]!=null?arguments[Dn]:{};Dn%2?_e(Object(Vn),!0).forEach(function(Pn){Mt(_n,Pn,Vn[Pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_n,Object.getOwnPropertyDescriptors(Vn)):_e(Object(Vn)).forEach(function(Pn){Object.defineProperty(_n,Pn,Object.getOwnPropertyDescriptor(Vn,Pn))})}return _n}function Mt(_n,Dn,Vn){return Dn=Xt(Dn),Dn in _n?Object.defineProperty(_n,Dn,{value:Vn,enumerable:!0,configurable:!0,writable:!0}):_n[Dn]=Vn,_n}function Ot(_n,Dn){if(!(_n instanceof Dn))throw new TypeError("Cannot call a class as a function")}function Ft(_n,Dn){for(var Vn=0;Vn<Dn.length;Vn++){var Pn=Dn[Vn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(_n,Xt(Pn.key),Pn)}}function Ut(_n,Dn,Vn){return Dn&&Ft(_n.prototype,Dn),Object.defineProperty(_n,"prototype",{writable:!1}),_n}function Xt(_n){var Dn=jr(_n,"string");return typeof Dn=="symbol"?Dn:String(Dn)}function jr(_n,Dn){if(typeof _n!="object"||_n===null)return _n;var Vn=_n[Symbol.toPrimitive];if(Vn!==void 0){var Pn=Vn.call(_n,Dn);if(typeof Pn!="object")return Pn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_n)}var hn=require$$1$2,Vr=hn.Buffer,fn=requireUtil$1(),dn=fn.inspect,pn=dn&&dn.custom||"inspect";function En(_n,Dn,Vn){Vr.prototype.copy.call(_n,Dn,Vn)}return buffer_list=function(){function _n(){Ot(this,_n),this.head=null,this.tail=null,this.length=0}return Ut(_n,[{key:"push",value:function(Vn){var Pn={data:Vn,next:null};this.length>0?this.tail.next=Pn:this.head=Pn,this.tail=Pn,++this.length}},{key:"unshift",value:function(Vn){var Pn={data:Vn,next:this.head};this.length===0&&(this.tail=Pn),this.head=Pn,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Vn=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Vn}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Vn){if(this.length===0)return"";for(var Pn=this.head,qn=""+Pn.data;Pn=Pn.next;)qn+=Vn+Pn.data;return qn}},{key:"concat",value:function(Vn){if(this.length===0)return Vr.alloc(0);for(var Pn=Vr.allocUnsafe(Vn>>>0),qn=this.head,jn=0;qn;)En(qn.data,Pn,jn),jn+=qn.data.length,qn=qn.next;return Pn}},{key:"consume",value:function(Vn,Pn){var qn;return Vn<this.head.data.length?(qn=this.head.data.slice(0,Vn),this.head.data=this.head.data.slice(Vn)):Vn===this.head.data.length?qn=this.shift():qn=Pn?this._getString(Vn):this._getBuffer(Vn),qn}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Vn){var Pn=this.head,qn=1,jn=Pn.data;for(Vn-=jn.length;Pn=Pn.next;){var Hn=Pn.data,Jn=Vn>Hn.length?Hn.length:Vn;if(Jn===Hn.length?jn+=Hn:jn+=Hn.slice(0,Vn),Vn-=Jn,Vn===0){Jn===Hn.length?(++qn,Pn.next?this.head=Pn.next:this.head=this.tail=null):(this.head=Pn,Pn.data=Hn.slice(Jn));break}++qn}return this.length-=qn,jn}},{key:"_getBuffer",value:function(Vn){var Pn=Vr.allocUnsafe(Vn),qn=this.head,jn=1;for(qn.data.copy(Pn),Vn-=qn.data.length;qn=qn.next;){var Hn=qn.data,Jn=Vn>Hn.length?Hn.length:Vn;if(Hn.copy(Pn,Pn.length-Vn,0,Jn),Vn-=Jn,Vn===0){Jn===Hn.length?(++jn,qn.next?this.head=qn.next:this.head=this.tail=null):(this.head=qn,qn.data=Hn.slice(Jn));break}++jn}return this.length-=jn,Pn}},{key:pn,value:function(Vn,Pn){return dn(this,d(d({},Pn),{},{depth:0,customInspect:!1}))}}]),_n}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function _e(Xt,jr){var hn=this,Vr=this._readableState&&this._readableState.destroyed,fn=this._writableState&&this._writableState.destroyed;return Vr||fn?(jr?jr(Xt):Xt&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(Ft,this,Xt)):process$1.nextTick(Ft,this,Xt)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Xt||null,function(dn){!jr&&dn?hn._writableState?hn._writableState.errorEmitted?process$1.nextTick(Mt,hn):(hn._writableState.errorEmitted=!0,process$1.nextTick(d,hn,dn)):process$1.nextTick(d,hn,dn):jr?(process$1.nextTick(Mt,hn),jr(dn)):process$1.nextTick(Mt,hn)}),this)}function d(Xt,jr){Ft(Xt,jr),Mt(Xt)}function Mt(Xt){Xt._writableState&&!Xt._writableState.emitClose||Xt._readableState&&!Xt._readableState.emitClose||Xt.emit("close")}function Ot(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ft(Xt,jr){Xt.emit("error",jr)}function Ut(Xt,jr){var hn=Xt._readableState,Vr=Xt._writableState;hn&&hn.autoDestroy||Vr&&Vr.autoDestroy?Xt.destroy(jr):Xt.emit("error",jr)}return destroy_1$1={destroy:_e,undestroy:Ot,errorOrDestroy:Ut},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function _e(jr,hn){jr.prototype=Object.create(hn.prototype),jr.prototype.constructor=jr,jr.__proto__=hn}var d={};function Mt(jr,hn,Vr){Vr||(Vr=Error);function fn(pn,En,_n){return typeof hn=="string"?hn:hn(pn,En,_n)}var dn=function(pn){_e(En,pn);function En(_n,Dn,Vn){return pn.call(this,fn(_n,Dn,Vn))||this}return En}(Vr);dn.prototype.name=Vr.name,dn.prototype.code=jr,d[jr]=dn}function Ot(jr,hn){if(Array.isArray(jr)){var Vr=jr.length;return jr=jr.map(function(fn){return String(fn)}),Vr>2?"one of ".concat(hn," ").concat(jr.slice(0,Vr-1).join(", "),", or ")+jr[Vr-1]:Vr===2?"one of ".concat(hn," ").concat(jr[0]," or ").concat(jr[1]):"of ".concat(hn," ").concat(jr[0])}else return"of ".concat(hn," ").concat(String(jr))}function Ft(jr,hn,Vr){return jr.substr(0,hn.length)===hn}function Ut(jr,hn,Vr){return(Vr===void 0||Vr>jr.length)&&(Vr=jr.length),jr.substring(Vr-hn.length,Vr)===hn}function Xt(jr,hn,Vr){return typeof Vr!="number"&&(Vr=0),Vr+hn.length>jr.length?!1:jr.indexOf(hn,Vr)!==-1}return Mt("ERR_INVALID_OPT_VALUE",function(jr,hn){return'The value "'+hn+'" is invalid for option "'+jr+'"'},TypeError),Mt("ERR_INVALID_ARG_TYPE",function(jr,hn,Vr){var fn;typeof hn=="string"&&Ft(hn,"not ")?(fn="must not be",hn=hn.replace(/^not /,"")):fn="must be";var dn;if(Ut(jr," argument"))dn="The ".concat(jr," ").concat(fn," ").concat(Ot(hn,"type"));else{var pn=Xt(jr,".")?"property":"argument";dn='The "'.concat(jr,'" ').concat(pn," ").concat(fn," ").concat(Ot(hn,"type"))}return dn+=". Received type ".concat(typeof Vr),dn},TypeError),Mt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Mt("ERR_METHOD_NOT_IMPLEMENTED",function(jr){return"The "+jr+" method is not implemented"}),Mt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Mt("ERR_STREAM_DESTROYED",function(jr){return"Cannot call "+jr+" after a stream was destroyed"}),Mt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Mt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Mt("ERR_STREAM_WRITE_AFTER_END","write after end"),Mt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Mt("ERR_UNKNOWN_ENCODING",function(jr){return"Unknown encoding: "+jr},TypeError),Mt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=d,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var _e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function d(Ot,Ft,Ut){return Ot.highWaterMark!=null?Ot.highWaterMark:Ft?Ot[Ut]:null}function Mt(Ot,Ft,Ut,Xt){var jr=d(Ft,Xt,Ut);if(jr!=null){if(!(isFinite(jr)&&Math.floor(jr)===jr)||jr<0){var hn=Xt?Ut:"highWaterMark";throw new _e(hn,jr)}return Math.floor(jr)}return Ot.objectMode?16:16*1024}return state={getHighWaterMark:Mt},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=_e;function _e(Mt,Ot){if(d("noDeprecation"))return Mt;var Ft=!1;function Ut(){if(!Ft){if(d("throwDeprecation"))throw new Error(Ot);d("traceDeprecation")?console.trace(Ot):console.warn(Ot),Ft=!0}return Mt.apply(this,arguments)}return Ut}function d(Mt){try{if(!globalThis.localStorage)return!1}catch{return!1}var Ot=globalThis.localStorage[Mt];return Ot==null?!1:String(Ot).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=eo;function _e(io){var ga=this;this.next=null,this.entry=null,this.finish=function(){co(ga,io)}}var d;eo.WritableState=Gn;var Mt={deprecate:requireBrowser$a()},Ot=requireStreamBrowser$1(),Ft=require$$1$2.Buffer,Ut=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Xt(io){return Ft.from(io)}function jr(io){return Ft.isBuffer(io)||io instanceof Ut}var hn=requireDestroy$1(),Vr=requireState(),fn=Vr.getHighWaterMark,dn=requireErrorsBrowser().codes,pn=dn.ERR_INVALID_ARG_TYPE,En=dn.ERR_METHOD_NOT_IMPLEMENTED,_n=dn.ERR_MULTIPLE_CALLBACK,Dn=dn.ERR_STREAM_CANNOT_PIPE,Vn=dn.ERR_STREAM_DESTROYED,Pn=dn.ERR_STREAM_NULL_VALUES,qn=dn.ERR_STREAM_WRITE_AFTER_END,jn=dn.ERR_UNKNOWN_ENCODING,Hn=hn.errorOrDestroy;requireInherits_browser()(eo,Ot);function Jn(){}function Gn(io,ga,na){d=d||require_stream_duplex$1(),io=io||{},typeof na!="boolean"&&(na=ga instanceof d),this.objectMode=!!io.objectMode,na&&(this.objectMode=this.objectMode||!!io.writableObjectMode),this.highWaterMark=fn(this,io,"writableHighWaterMark",na),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var so=io.decodeStrings===!1;this.decodeStrings=!so,this.defaultEncoding=io.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_i){On(ga,_i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=io.emitClose!==!1,this.autoDestroy=!!io.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _e(this)}Gn.prototype.getBuffer=function(){for(var ga=this.bufferedRequest,na=[];ga;)na.push(ga),ga=ga.next;return na},function(){try{Object.defineProperty(Gn.prototype,"buffer",{get:Mt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ba;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ba=Function.prototype[Symbol.hasInstance],Object.defineProperty(eo,Symbol.hasInstance,{value:function(ga){return ba.call(this,ga)?!0:this!==eo?!1:ga&&ga._writableState instanceof Gn}})):ba=function(ga){return ga instanceof this};function eo(io){d=d||require_stream_duplex$1();var ga=this instanceof d;if(!ga&&!ba.call(eo,this))return new eo(io);this._writableState=new Gn(io,this,ga),this.writable=!0,io&&(typeof io.write=="function"&&(this._write=io.write),typeof io.writev=="function"&&(this._writev=io.writev),typeof io.destroy=="function"&&(this._destroy=io.destroy),typeof io.final=="function"&&(this._final=io.final)),Ot.call(this)}eo.prototype.pipe=function(){Hn(this,new Dn)};function xa(io,ga){var na=new qn;Hn(io,na),process$1.nextTick(ga,na)}function Yn(io,ga,na,so){var _i;return na===null?_i=new Pn:typeof na!="string"&&!ga.objectMode&&(_i=new pn("chunk",["string","Buffer"],na)),_i?(Hn(io,_i),process$1.nextTick(so,_i),!1):!0}eo.prototype.write=function(io,ga,na){var so=this._writableState,_i=!1,Wn=!so.objectMode&&jr(io);return Wn&&!Ft.isBuffer(io)&&(io=Xt(io)),typeof ga=="function"&&(na=ga,ga=null),Wn?ga="buffer":ga||(ga=so.defaultEncoding),typeof na!="function"&&(na=Jn),so.ending?xa(this,na):(Wn||Yn(this,so,io,na))&&(so.pendingcb++,_i=Mn(this,so,Wn,io,ga,na)),_i},eo.prototype.cork=function(){this._writableState.corked++},eo.prototype.uncork=function(){var io=this._writableState;io.corked&&(io.corked--,!io.writing&&!io.corked&&!io.bufferProcessing&&io.bufferedRequest&&yn(this,io))},eo.prototype.setDefaultEncoding=function(ga){if(typeof ga=="string"&&(ga=ga.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ga+"").toLowerCase())>-1))throw new jn(ga);return this._writableState.defaultEncoding=ga,this},Object.defineProperty(eo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Un(io,ga,na){return!io.objectMode&&io.decodeStrings!==!1&&typeof ga=="string"&&(ga=Ft.from(ga,na)),ga}Object.defineProperty(eo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Mn(io,ga,na,so,_i,Wn){if(!na){var Kn=Un(ga,so,_i);so!==Kn&&(na=!0,_i="buffer",so=Kn)}var ro=ga.objectMode?1:so.length;ga.length+=ro;var oo=ga.length<ga.highWaterMark;if(oo||(ga.needDrain=!0),ga.writing||ga.corked){var mo=ga.lastBufferedRequest;ga.lastBufferedRequest={chunk:so,encoding:_i,isBuf:na,callback:Wn,next:null},mo?mo.next=ga.lastBufferedRequest:ga.bufferedRequest=ga.lastBufferedRequest,ga.bufferedRequestCount+=1}else mn(io,ga,!1,ro,so,_i,Wn);return oo}function mn(io,ga,na,so,_i,Wn,Kn){ga.writelen=so,ga.writecb=Kn,ga.writing=!0,ga.sync=!0,ga.destroyed?ga.onwrite(new Vn("write")):na?io._writev(_i,ga.onwrite):io._write(_i,Wn,ga.onwrite),ga.sync=!1}function Xr(io,ga,na,so,_i){--ga.pendingcb,na?(process$1.nextTick(_i,so),process$1.nextTick(zn,io,ga),io._writableState.errorEmitted=!0,Hn(io,so)):(_i(so),io._writableState.errorEmitted=!0,Hn(io,so),zn(io,ga))}function gn(io){io.writing=!1,io.writecb=null,io.length-=io.writelen,io.writelen=0}function On(io,ga){var na=io._writableState,so=na.sync,_i=na.writecb;if(typeof _i!="function")throw new _n;if(gn(na),ga)Xr(io,na,so,ga,_i);else{var Wn=kn(na)||io.destroyed;!Wn&&!na.corked&&!na.bufferProcessing&&na.bufferedRequest&&yn(io,na),so?process$1.nextTick(Ln,io,na,Wn,_i):Ln(io,na,Wn,_i)}}function Ln(io,ga,na,so){na||Rn(io,ga),ga.pendingcb--,so(),zn(io,ga)}function Rn(io,ga){ga.length===0&&ga.needDrain&&(ga.needDrain=!1,io.emit("drain"))}function yn(io,ga){ga.bufferProcessing=!0;var na=ga.bufferedRequest;if(io._writev&&na&&na.next){var so=ga.bufferedRequestCount,_i=new Array(so),Wn=ga.corkedRequestsFree;Wn.entry=na;for(var Kn=0,ro=!0;na;)_i[Kn]=na,na.isBuf||(ro=!1),na=na.next,Kn+=1;_i.allBuffers=ro,mn(io,ga,!0,ga.length,_i,"",Wn.finish),ga.pendingcb++,ga.lastBufferedRequest=null,Wn.next?(ga.corkedRequestsFree=Wn.next,Wn.next=null):ga.corkedRequestsFree=new _e(ga),ga.bufferedRequestCount=0}else{for(;na;){var oo=na.chunk,mo=na.encoding,bo=na.callback,vo=ga.objectMode?1:oo.length;if(mn(io,ga,!1,vo,oo,mo,bo),na=na.next,ga.bufferedRequestCount--,ga.writing)break}na===null&&(ga.lastBufferedRequest=null)}ga.bufferedRequest=na,ga.bufferProcessing=!1}eo.prototype._write=function(io,ga,na){na(new En("_write()"))},eo.prototype._writev=null,eo.prototype.end=function(io,ga,na){var so=this._writableState;return typeof io=="function"?(na=io,io=null,ga=null):typeof ga=="function"&&(na=ga,ga=null),io!=null&&this.write(io,ga),so.corked&&(so.corked=1,this.uncork()),so.ending||$a(this,so,na),this},Object.defineProperty(eo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function kn(io){return io.ending&&io.length===0&&io.bufferedRequest===null&&!io.finished&&!io.writing}function Fn(io,ga){io._final(function(na){ga.pendingcb--,na&&Hn(io,na),ga.prefinished=!0,io.emit("prefinish"),zn(io,ga)})}function Cn(io,ga){!ga.prefinished&&!ga.finalCalled&&(typeof io._final=="function"&&!ga.destroyed?(ga.pendingcb++,ga.finalCalled=!0,process$1.nextTick(Fn,io,ga)):(ga.prefinished=!0,io.emit("prefinish")))}function zn(io,ga){var na=kn(ga);if(na&&(Cn(io,ga),ga.pendingcb===0&&(ga.finished=!0,io.emit("finish"),ga.autoDestroy))){var so=io._readableState;(!so||so.autoDestroy&&so.endEmitted)&&io.destroy()}return na}function $a(io,ga,na){ga.ending=!0,zn(io,ga),na&&(ga.finished?process$1.nextTick(na):io.once("finish",na)),ga.ended=!0,io.writable=!1}function co(io,ga,na){var so=io.entry;for(io.entry=null;so;){var _i=so.callback;ga.pendingcb--,_i(na),so=so.next}ga.corkedRequestsFree.next=io}return Object.defineProperty(eo.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ga){this._writableState&&(this._writableState.destroyed=ga)}}),eo.prototype.destroy=hn.destroy,eo.prototype._undestroy=hn.undestroy,eo.prototype._destroy=function(io,ga){ga(io)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var _e=Object.keys||function(Vr){var fn=[];for(var dn in Vr)fn.push(dn);return fn};_stream_duplex$1=Xt;var d=require_stream_readable$1(),Mt=require_stream_writable$1();requireInherits_browser()(Xt,d);for(var Ot=_e(Mt.prototype),Ft=0;Ft<Ot.length;Ft++){var Ut=Ot[Ft];Xt.prototype[Ut]||(Xt.prototype[Ut]=Mt.prototype[Ut])}function Xt(Vr){if(!(this instanceof Xt))return new Xt(Vr);d.call(this,Vr),Mt.call(this,Vr),this.allowHalfOpen=!0,Vr&&(Vr.readable===!1&&(this.readable=!1),Vr.writable===!1&&(this.writable=!1),Vr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",jr)))}Object.defineProperty(Xt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Xt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Xt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jr(){this._writableState.ended||process$1.nextTick(hn,this)}function hn(Vr){Vr.end()}return Object.defineProperty(Xt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(fn){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=fn,this._writableState.destroyed=fn)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var _e=requireSafeBuffer$1().Buffer,d=_e.isEncoding||function(Pn){switch(Pn=""+Pn,Pn&&Pn.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Mt(Pn){if(!Pn)return"utf8";for(var qn;;)switch(Pn){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Pn;default:if(qn)return;Pn=(""+Pn).toLowerCase(),qn=!0}}function Ot(Pn){var qn=Mt(Pn);if(typeof qn!="string"&&(_e.isEncoding===d||!d(Pn)))throw new Error("Unknown encoding: "+Pn);return qn||Pn}string_decoder.StringDecoder=Ft;function Ft(Pn){this.encoding=Ot(Pn);var qn;switch(this.encoding){case"utf16le":this.text=dn,this.end=pn,qn=4;break;case"utf8":this.fillLast=hn,qn=4;break;case"base64":this.text=En,this.end=_n,qn=3;break;default:this.write=Dn,this.end=Vn;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=_e.allocUnsafe(qn)}Ft.prototype.write=function(Pn){if(Pn.length===0)return"";var qn,jn;if(this.lastNeed){if(qn=this.fillLast(Pn),qn===void 0)return"";jn=this.lastNeed,this.lastNeed=0}else jn=0;return jn<Pn.length?qn?qn+this.text(Pn,jn):this.text(Pn,jn):qn||""},Ft.prototype.end=fn,Ft.prototype.text=Vr,Ft.prototype.fillLast=function(Pn){if(this.lastNeed<=Pn.length)return Pn.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Pn.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Pn.length),this.lastNeed-=Pn.length};function Ut(Pn){return Pn<=127?0:Pn>>5===6?2:Pn>>4===14?3:Pn>>3===30?4:Pn>>6===2?-1:-2}function Xt(Pn,qn,jn){var Hn=qn.length-1;if(Hn<jn)return 0;var Jn=Ut(qn[Hn]);return Jn>=0?(Jn>0&&(Pn.lastNeed=Jn-1),Jn):--Hn<jn||Jn===-2?0:(Jn=Ut(qn[Hn]),Jn>=0?(Jn>0&&(Pn.lastNeed=Jn-2),Jn):--Hn<jn||Jn===-2?0:(Jn=Ut(qn[Hn]),Jn>=0?(Jn>0&&(Jn===2?Jn=0:Pn.lastNeed=Jn-3),Jn):0))}function jr(Pn,qn,jn){if((qn[0]&192)!==128)return Pn.lastNeed=0,"";if(Pn.lastNeed>1&&qn.length>1){if((qn[1]&192)!==128)return Pn.lastNeed=1,"";if(Pn.lastNeed>2&&qn.length>2&&(qn[2]&192)!==128)return Pn.lastNeed=2,""}}function hn(Pn){var qn=this.lastTotal-this.lastNeed,jn=jr(this,Pn);if(jn!==void 0)return jn;if(this.lastNeed<=Pn.length)return Pn.copy(this.lastChar,qn,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Pn.copy(this.lastChar,qn,0,Pn.length),this.lastNeed-=Pn.length}function Vr(Pn,qn){var jn=Xt(this,Pn,qn);if(!this.lastNeed)return Pn.toString("utf8",qn);this.lastTotal=jn;var Hn=Pn.length-(jn-this.lastNeed);return Pn.copy(this.lastChar,0,Hn),Pn.toString("utf8",qn,Hn)}function fn(Pn){var qn=Pn&&Pn.length?this.write(Pn):"";return this.lastNeed?qn+"":qn}function dn(Pn,qn){if((Pn.length-qn)%2===0){var jn=Pn.toString("utf16le",qn);if(jn){var Hn=jn.charCodeAt(jn.length-1);if(Hn>=55296&&Hn<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Pn[Pn.length-2],this.lastChar[1]=Pn[Pn.length-1],jn.slice(0,-1)}return jn}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Pn[Pn.length-1],Pn.toString("utf16le",qn,Pn.length-1)}function pn(Pn){var qn=Pn&&Pn.length?this.write(Pn):"";if(this.lastNeed){var jn=this.lastTotal-this.lastNeed;return qn+this.lastChar.toString("utf16le",0,jn)}return qn}function En(Pn,qn){var jn=(Pn.length-qn)%3;return jn===0?Pn.toString("base64",qn):(this.lastNeed=3-jn,this.lastTotal=3,jn===1?this.lastChar[0]=Pn[Pn.length-1]:(this.lastChar[0]=Pn[Pn.length-2],this.lastChar[1]=Pn[Pn.length-1]),Pn.toString("base64",qn,Pn.length-jn))}function _n(Pn){var qn=Pn&&Pn.length?this.write(Pn):"";return this.lastNeed?qn+this.lastChar.toString("base64",0,3-this.lastNeed):qn}function Dn(Pn){return Pn.toString(this.encoding)}function Vn(Pn){return Pn&&Pn.length?this.write(Pn):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var _e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function d(Ut){var Xt=!1;return function(){if(!Xt){Xt=!0;for(var jr=arguments.length,hn=new Array(jr),Vr=0;Vr<jr;Vr++)hn[Vr]=arguments[Vr];Ut.apply(this,hn)}}}function Mt(){}function Ot(Ut){return Ut.setHeader&&typeof Ut.abort=="function"}function Ft(Ut,Xt,jr){if(typeof Xt=="function")return Ft(Ut,null,Xt);Xt||(Xt={}),jr=d(jr||Mt);var hn=Xt.readable||Xt.readable!==!1&&Ut.readable,Vr=Xt.writable||Xt.writable!==!1&&Ut.writable,fn=function(){Ut.writable||pn()},dn=Ut._writableState&&Ut._writableState.finished,pn=function(){Vr=!1,dn=!0,hn||jr.call(Ut)},En=Ut._readableState&&Ut._readableState.endEmitted,_n=function(){hn=!1,En=!0,Vr||jr.call(Ut)},Dn=function(jn){jr.call(Ut,jn)},Vn=function(){var jn;if(hn&&!En)return(!Ut._readableState||!Ut._readableState.ended)&&(jn=new _e),jr.call(Ut,jn);if(Vr&&!dn)return(!Ut._writableState||!Ut._writableState.ended)&&(jn=new _e),jr.call(Ut,jn)},Pn=function(){Ut.req.on("finish",pn)};return Ot(Ut)?(Ut.on("complete",pn),Ut.on("abort",Vn),Ut.req?Pn():Ut.on("request",Pn)):Vr&&!Ut._writableState&&(Ut.on("end",fn),Ut.on("close",fn)),Ut.on("end",_n),Ut.on("finish",pn),Xt.error!==!1&&Ut.on("error",Dn),Ut.on("close",Vn),function(){Ut.removeListener("complete",pn),Ut.removeListener("abort",Vn),Ut.removeListener("request",Pn),Ut.req&&Ut.req.removeListener("finish",pn),Ut.removeListener("end",fn),Ut.removeListener("close",fn),Ut.removeListener("finish",pn),Ut.removeListener("end",_n),Ut.removeListener("error",Dn),Ut.removeListener("close",Vn)}}return endOfStream=Ft,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var _e;function d(jn,Hn,Jn){return Hn=Mt(Hn),Hn in jn?Object.defineProperty(jn,Hn,{value:Jn,enumerable:!0,configurable:!0,writable:!0}):jn[Hn]=Jn,jn}function Mt(jn){var Hn=Ot(jn,"string");return typeof Hn=="symbol"?Hn:String(Hn)}function Ot(jn,Hn){if(typeof jn!="object"||jn===null)return jn;var Jn=jn[Symbol.toPrimitive];if(Jn!==void 0){var Gn=Jn.call(jn,Hn);if(typeof Gn!="object")return Gn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Hn==="string"?String:Number)(jn)}var Ft=requireEndOfStream(),Ut=Symbol("lastResolve"),Xt=Symbol("lastReject"),jr=Symbol("error"),hn=Symbol("ended"),Vr=Symbol("lastPromise"),fn=Symbol("handlePromise"),dn=Symbol("stream");function pn(jn,Hn){return{value:jn,done:Hn}}function En(jn){var Hn=jn[Ut];if(Hn!==null){var Jn=jn[dn].read();Jn!==null&&(jn[Vr]=null,jn[Ut]=null,jn[Xt]=null,Hn(pn(Jn,!1)))}}function _n(jn){process$1.nextTick(En,jn)}function Dn(jn,Hn){return function(Jn,Gn){jn.then(function(){if(Hn[hn]){Jn(pn(void 0,!0));return}Hn[fn](Jn,Gn)},Gn)}}var Vn=Object.getPrototypeOf(function(){}),Pn=Object.setPrototypeOf((_e={get stream(){return this[dn]},next:function(){var Hn=this,Jn=this[jr];if(Jn!==null)return Promise.reject(Jn);if(this[hn])return Promise.resolve(pn(void 0,!0));if(this[dn].destroyed)return new Promise(function(xa,Yn){process$1.nextTick(function(){Hn[jr]?Yn(Hn[jr]):xa(pn(void 0,!0))})});var Gn=this[Vr],ba;if(Gn)ba=new Promise(Dn(Gn,this));else{var eo=this[dn].read();if(eo!==null)return Promise.resolve(pn(eo,!1));ba=new Promise(this[fn])}return this[Vr]=ba,ba}},d(_e,Symbol.asyncIterator,function(){return this}),d(_e,"return",function(){var Hn=this;return new Promise(function(Jn,Gn){Hn[dn].destroy(null,function(ba){if(ba){Gn(ba);return}Jn(pn(void 0,!0))})})}),_e),Vn),qn=function(Hn){var Jn,Gn=Object.create(Pn,(Jn={},d(Jn,dn,{value:Hn,writable:!0}),d(Jn,Ut,{value:null,writable:!0}),d(Jn,Xt,{value:null,writable:!0}),d(Jn,jr,{value:null,writable:!0}),d(Jn,hn,{value:Hn._readableState.endEmitted,writable:!0}),d(Jn,fn,{value:function(eo,xa){var Yn=Gn[dn].read();Yn?(Gn[Vr]=null,Gn[Ut]=null,Gn[Xt]=null,eo(pn(Yn,!1))):(Gn[Ut]=eo,Gn[Xt]=xa)},writable:!0}),Jn));return Gn[Vr]=null,Ft(Hn,function(ba){if(ba&&ba.code!=="ERR_STREAM_PREMATURE_CLOSE"){var eo=Gn[Xt];eo!==null&&(Gn[Vr]=null,Gn[Ut]=null,Gn[Xt]=null,eo(ba)),Gn[jr]=ba;return}var xa=Gn[Ut];xa!==null&&(Gn[Vr]=null,Gn[Ut]=null,Gn[Xt]=null,xa(pn(void 0,!0))),Gn[hn]=!0}),Hn.on("readable",_n.bind(null,Gn)),Gn};return async_iterator=qn,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=xa;var _e;xa.ReadableState=eo,requireEvents().EventEmitter;var d=function(Kn,ro){return Kn.listeners(ro).length},Mt=requireStreamBrowser$1(),Ot=require$$1$2.Buffer,Ft=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ut(Wn){return Ot.from(Wn)}function Xt(Wn){return Ot.isBuffer(Wn)||Wn instanceof Ft}var jr=requireUtil$1(),hn;jr&&jr.debuglog?hn=jr.debuglog("stream"):hn=function(){};var Vr=requireBuffer_list(),fn=requireDestroy$1(),dn=requireState(),pn=dn.getHighWaterMark,En=requireErrorsBrowser().codes,_n=En.ERR_INVALID_ARG_TYPE,Dn=En.ERR_STREAM_PUSH_AFTER_EOF,Vn=En.ERR_METHOD_NOT_IMPLEMENTED,Pn=En.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,qn,jn,Hn;requireInherits_browser()(xa,Mt);var Jn=fn.errorOrDestroy,Gn=["error","close","destroy","pause","resume"];function ba(Wn,Kn,ro){if(typeof Wn.prependListener=="function")return Wn.prependListener(Kn,ro);!Wn._events||!Wn._events[Kn]?Wn.on(Kn,ro):Array.isArray(Wn._events[Kn])?Wn._events[Kn].unshift(ro):Wn._events[Kn]=[ro,Wn._events[Kn]]}function eo(Wn,Kn,ro){_e=_e||require_stream_duplex$1(),Wn=Wn||{},typeof ro!="boolean"&&(ro=Kn instanceof _e),this.objectMode=!!Wn.objectMode,ro&&(this.objectMode=this.objectMode||!!Wn.readableObjectMode),this.highWaterMark=pn(this,Wn,"readableHighWaterMark",ro),this.buffer=new Vr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Wn.emitClose!==!1,this.autoDestroy=!!Wn.autoDestroy,this.destroyed=!1,this.defaultEncoding=Wn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Wn.encoding&&(qn||(qn=requireString_decoder().StringDecoder),this.decoder=new qn(Wn.encoding),this.encoding=Wn.encoding)}function xa(Wn){if(_e=_e||require_stream_duplex$1(),!(this instanceof xa))return new xa(Wn);var Kn=this instanceof _e;this._readableState=new eo(Wn,this,Kn),this.readable=!0,Wn&&(typeof Wn.read=="function"&&(this._read=Wn.read),typeof Wn.destroy=="function"&&(this._destroy=Wn.destroy)),Mt.call(this)}Object.defineProperty(xa.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Kn){this._readableState&&(this._readableState.destroyed=Kn)}}),xa.prototype.destroy=fn.destroy,xa.prototype._undestroy=fn.undestroy,xa.prototype._destroy=function(Wn,Kn){Kn(Wn)},xa.prototype.push=function(Wn,Kn){var ro=this._readableState,oo;return ro.objectMode?oo=!0:typeof Wn=="string"&&(Kn=Kn||ro.defaultEncoding,Kn!==ro.encoding&&(Wn=Ot.from(Wn,Kn),Kn=""),oo=!0),Yn(this,Wn,Kn,!1,oo)},xa.prototype.unshift=function(Wn){return Yn(this,Wn,null,!0,!1)};function Yn(Wn,Kn,ro,oo,mo){hn("readableAddChunk",Kn);var bo=Wn._readableState;if(Kn===null)bo.reading=!1,On(Wn,bo);else{var vo;if(mo||(vo=Mn(bo,Kn)),vo)Jn(Wn,vo);else if(bo.objectMode||Kn&&Kn.length>0)if(typeof Kn!="string"&&!bo.objectMode&&Object.getPrototypeOf(Kn)!==Ot.prototype&&(Kn=Ut(Kn)),oo)bo.endEmitted?Jn(Wn,new Pn):Un(Wn,bo,Kn,!0);else if(bo.ended)Jn(Wn,new Dn);else{if(bo.destroyed)return!1;bo.reading=!1,bo.decoder&&!ro?(Kn=bo.decoder.write(Kn),bo.objectMode||Kn.length!==0?Un(Wn,bo,Kn,!1):yn(Wn,bo)):Un(Wn,bo,Kn,!1)}else oo||(bo.reading=!1,yn(Wn,bo))}return!bo.ended&&(bo.length<bo.highWaterMark||bo.length===0)}function Un(Wn,Kn,ro,oo){Kn.flowing&&Kn.length===0&&!Kn.sync?(Kn.awaitDrain=0,Wn.emit("data",ro)):(Kn.length+=Kn.objectMode?1:ro.length,oo?Kn.buffer.unshift(ro):Kn.buffer.push(ro),Kn.needReadable&&Ln(Wn)),yn(Wn,Kn)}function Mn(Wn,Kn){var ro;return!Xt(Kn)&&typeof Kn!="string"&&Kn!==void 0&&!Wn.objectMode&&(ro=new _n("chunk",["string","Buffer","Uint8Array"],Kn)),ro}xa.prototype.isPaused=function(){return this._readableState.flowing===!1},xa.prototype.setEncoding=function(Wn){qn||(qn=requireString_decoder().StringDecoder);var Kn=new qn(Wn);this._readableState.decoder=Kn,this._readableState.encoding=this._readableState.decoder.encoding;for(var ro=this._readableState.buffer.head,oo="";ro!==null;)oo+=Kn.write(ro.data),ro=ro.next;return this._readableState.buffer.clear(),oo!==""&&this._readableState.buffer.push(oo),this._readableState.length=oo.length,this};var mn=1073741824;function Xr(Wn){return Wn>=mn?Wn=mn:(Wn--,Wn|=Wn>>>1,Wn|=Wn>>>2,Wn|=Wn>>>4,Wn|=Wn>>>8,Wn|=Wn>>>16,Wn++),Wn}function gn(Wn,Kn){return Wn<=0||Kn.length===0&&Kn.ended?0:Kn.objectMode?1:Wn!==Wn?Kn.flowing&&Kn.length?Kn.buffer.head.data.length:Kn.length:(Wn>Kn.highWaterMark&&(Kn.highWaterMark=Xr(Wn)),Wn<=Kn.length?Wn:Kn.ended?Kn.length:(Kn.needReadable=!0,0))}xa.prototype.read=function(Wn){hn("read",Wn),Wn=parseInt(Wn,10);var Kn=this._readableState,ro=Wn;if(Wn!==0&&(Kn.emittedReadable=!1),Wn===0&&Kn.needReadable&&((Kn.highWaterMark!==0?Kn.length>=Kn.highWaterMark:Kn.length>0)||Kn.ended))return hn("read: emitReadable",Kn.length,Kn.ended),Kn.length===0&&Kn.ended?na(this):Ln(this),null;if(Wn=gn(Wn,Kn),Wn===0&&Kn.ended)return Kn.length===0&&na(this),null;var oo=Kn.needReadable;hn("need readable",oo),(Kn.length===0||Kn.length-Wn<Kn.highWaterMark)&&(oo=!0,hn("length less than watermark",oo)),Kn.ended||Kn.reading?(oo=!1,hn("reading or ended",oo)):oo&&(hn("do read"),Kn.reading=!0,Kn.sync=!0,Kn.length===0&&(Kn.needReadable=!0),this._read(Kn.highWaterMark),Kn.sync=!1,Kn.reading||(Wn=gn(ro,Kn)));var mo;return Wn>0?mo=ga(Wn,Kn):mo=null,mo===null?(Kn.needReadable=Kn.length<=Kn.highWaterMark,Wn=0):(Kn.length-=Wn,Kn.awaitDrain=0),Kn.length===0&&(Kn.ended||(Kn.needReadable=!0),ro!==Wn&&Kn.ended&&na(this)),mo!==null&&this.emit("data",mo),mo};function On(Wn,Kn){if(hn("onEofChunk"),!Kn.ended){if(Kn.decoder){var ro=Kn.decoder.end();ro&&ro.length&&(Kn.buffer.push(ro),Kn.length+=Kn.objectMode?1:ro.length)}Kn.ended=!0,Kn.sync?Ln(Wn):(Kn.needReadable=!1,Kn.emittedReadable||(Kn.emittedReadable=!0,Rn(Wn)))}}function Ln(Wn){var Kn=Wn._readableState;hn("emitReadable",Kn.needReadable,Kn.emittedReadable),Kn.needReadable=!1,Kn.emittedReadable||(hn("emitReadable",Kn.flowing),Kn.emittedReadable=!0,process$1.nextTick(Rn,Wn))}function Rn(Wn){var Kn=Wn._readableState;hn("emitReadable_",Kn.destroyed,Kn.length,Kn.ended),!Kn.destroyed&&(Kn.length||Kn.ended)&&(Wn.emit("readable"),Kn.emittedReadable=!1),Kn.needReadable=!Kn.flowing&&!Kn.ended&&Kn.length<=Kn.highWaterMark,io(Wn)}function yn(Wn,Kn){Kn.readingMore||(Kn.readingMore=!0,process$1.nextTick(kn,Wn,Kn))}function kn(Wn,Kn){for(;!Kn.reading&&!Kn.ended&&(Kn.length<Kn.highWaterMark||Kn.flowing&&Kn.length===0);){var ro=Kn.length;if(hn("maybeReadMore read 0"),Wn.read(0),ro===Kn.length)break}Kn.readingMore=!1}xa.prototype._read=function(Wn){Jn(this,new Vn("_read()"))},xa.prototype.pipe=function(Wn,Kn){var ro=this,oo=this._readableState;switch(oo.pipesCount){case 0:oo.pipes=Wn;break;case 1:oo.pipes=[oo.pipes,Wn];break;default:oo.pipes.push(Wn);break}oo.pipesCount+=1,hn("pipe count=%d opts=%j",oo.pipesCount,Kn);var mo=(!Kn||Kn.end!==!1)&&Wn!==process$1.stdout&&Wn!==process$1.stderr,bo=mo?wo:Po;oo.endEmitted?process$1.nextTick(bo):ro.once("end",bo),Wn.on("unpipe",vo);function vo(No,Go){hn("onunpipe"),No===ro&&Go&&Go.hasUnpiped===!1&&(Go.hasUnpiped=!0,Ao())}function wo(){hn("onend"),Wn.end()}var go=Fn(ro);Wn.on("drain",go);var So=!1;function Ao(){hn("cleanup"),Wn.removeListener("close",$o),Wn.removeListener("finish",Lo),Wn.removeListener("drain",go),Wn.removeListener("error",Ro),Wn.removeListener("unpipe",vo),ro.removeListener("end",wo),ro.removeListener("end",Po),ro.removeListener("data",Co),So=!0,oo.awaitDrain&&(!Wn._writableState||Wn._writableState.needDrain)&&go()}ro.on("data",Co);function Co(No){hn("ondata");var Go=Wn.write(No);hn("dest.write",Go),Go===!1&&((oo.pipesCount===1&&oo.pipes===Wn||oo.pipesCount>1&&_i(oo.pipes,Wn)!==-1)&&!So&&(hn("false write response, pause",oo.awaitDrain),oo.awaitDrain++),ro.pause())}function Ro(No){hn("onerror",No),Po(),Wn.removeListener("error",Ro),d(Wn,"error")===0&&Jn(Wn,No)}ba(Wn,"error",Ro);function $o(){Wn.removeListener("finish",Lo),Po()}Wn.once("close",$o);function Lo(){hn("onfinish"),Wn.removeListener("close",$o),Po()}Wn.once("finish",Lo);function Po(){hn("unpipe"),ro.unpipe(Wn)}return Wn.emit("pipe",ro),oo.flowing||(hn("pipe resume"),ro.resume()),Wn};function Fn(Wn){return function(){var ro=Wn._readableState;hn("pipeOnDrain",ro.awaitDrain),ro.awaitDrain&&ro.awaitDrain--,ro.awaitDrain===0&&d(Wn,"data")&&(ro.flowing=!0,io(Wn))}}xa.prototype.unpipe=function(Wn){var Kn=this._readableState,ro={hasUnpiped:!1};if(Kn.pipesCount===0)return this;if(Kn.pipesCount===1)return Wn&&Wn!==Kn.pipes?this:(Wn||(Wn=Kn.pipes),Kn.pipes=null,Kn.pipesCount=0,Kn.flowing=!1,Wn&&Wn.emit("unpipe",this,ro),this);if(!Wn){var oo=Kn.pipes,mo=Kn.pipesCount;Kn.pipes=null,Kn.pipesCount=0,Kn.flowing=!1;for(var bo=0;bo<mo;bo++)oo[bo].emit("unpipe",this,{hasUnpiped:!1});return this}var vo=_i(Kn.pipes,Wn);return vo===-1?this:(Kn.pipes.splice(vo,1),Kn.pipesCount-=1,Kn.pipesCount===1&&(Kn.pipes=Kn.pipes[0]),Wn.emit("unpipe",this,ro),this)},xa.prototype.on=function(Wn,Kn){var ro=Mt.prototype.on.call(this,Wn,Kn),oo=this._readableState;return Wn==="data"?(oo.readableListening=this.listenerCount("readable")>0,oo.flowing!==!1&&this.resume()):Wn==="readable"&&!oo.endEmitted&&!oo.readableListening&&(oo.readableListening=oo.needReadable=!0,oo.flowing=!1,oo.emittedReadable=!1,hn("on readable",oo.length,oo.reading),oo.length?Ln(this):oo.reading||process$1.nextTick(zn,this)),ro},xa.prototype.addListener=xa.prototype.on,xa.prototype.removeListener=function(Wn,Kn){var ro=Mt.prototype.removeListener.call(this,Wn,Kn);return Wn==="readable"&&process$1.nextTick(Cn,this),ro},xa.prototype.removeAllListeners=function(Wn){var Kn=Mt.prototype.removeAllListeners.apply(this,arguments);return(Wn==="readable"||Wn===void 0)&&process$1.nextTick(Cn,this),Kn};function Cn(Wn){var Kn=Wn._readableState;Kn.readableListening=Wn.listenerCount("readable")>0,Kn.resumeScheduled&&!Kn.paused?Kn.flowing=!0:Wn.listenerCount("data")>0&&Wn.resume()}function zn(Wn){hn("readable nexttick read 0"),Wn.read(0)}xa.prototype.resume=function(){var Wn=this._readableState;return Wn.flowing||(hn("resume"),Wn.flowing=!Wn.readableListening,$a(this,Wn)),Wn.paused=!1,this};function $a(Wn,Kn){Kn.resumeScheduled||(Kn.resumeScheduled=!0,process$1.nextTick(co,Wn,Kn))}function co(Wn,Kn){hn("resume",Kn.reading),Kn.reading||Wn.read(0),Kn.resumeScheduled=!1,Wn.emit("resume"),io(Wn),Kn.flowing&&!Kn.reading&&Wn.read(0)}xa.prototype.pause=function(){return hn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(hn("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function io(Wn){var Kn=Wn._readableState;for(hn("flow",Kn.flowing);Kn.flowing&&Wn.read()!==null;);}xa.prototype.wrap=function(Wn){var Kn=this,ro=this._readableState,oo=!1;Wn.on("end",function(){if(hn("wrapped end"),ro.decoder&&!ro.ended){var vo=ro.decoder.end();vo&&vo.length&&Kn.push(vo)}Kn.push(null)}),Wn.on("data",function(vo){if(hn("wrapped data"),ro.decoder&&(vo=ro.decoder.write(vo)),!(ro.objectMode&&vo==null)&&!(!ro.objectMode&&(!vo||!vo.length))){var wo=Kn.push(vo);wo||(oo=!0,Wn.pause())}});for(var mo in Wn)this[mo]===void 0&&typeof Wn[mo]=="function"&&(this[mo]=function(wo){return function(){return Wn[wo].apply(Wn,arguments)}}(mo));for(var bo=0;bo<Gn.length;bo++)Wn.on(Gn[bo],this.emit.bind(this,Gn[bo]));return this._read=function(vo){hn("wrapped _read",vo),oo&&(oo=!1,Wn.resume())},this},typeof Symbol=="function"&&(xa.prototype[Symbol.asyncIterator]=function(){return jn===void 0&&(jn=requireAsync_iterator()),jn(this)}),Object.defineProperty(xa.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(xa.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(xa.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Kn){this._readableState&&(this._readableState.flowing=Kn)}}),xa._fromList=ga,Object.defineProperty(xa.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ga(Wn,Kn){if(Kn.length===0)return null;var ro;return Kn.objectMode?ro=Kn.buffer.shift():!Wn||Wn>=Kn.length?(Kn.decoder?ro=Kn.buffer.join(""):Kn.buffer.length===1?ro=Kn.buffer.first():ro=Kn.buffer.concat(Kn.length),Kn.buffer.clear()):ro=Kn.buffer.consume(Wn,Kn.decoder),ro}function na(Wn){var Kn=Wn._readableState;hn("endReadable",Kn.endEmitted),Kn.endEmitted||(Kn.ended=!0,process$1.nextTick(so,Kn,Wn))}function so(Wn,Kn){if(hn("endReadableNT",Wn.endEmitted,Wn.length),!Wn.endEmitted&&Wn.length===0&&(Wn.endEmitted=!0,Kn.readable=!1,Kn.emit("end"),Wn.autoDestroy)){var ro=Kn._writableState;(!ro||ro.autoDestroy&&ro.finished)&&Kn.destroy()}}typeof Symbol=="function"&&(xa.from=function(Wn,Kn){return Hn===void 0&&(Hn=requireFromBrowser()),Hn(xa,Wn,Kn)});function _i(Wn,Kn){for(var ro=0,oo=Wn.length;ro<oo;ro++)if(Wn[ro]===Kn)return ro;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=jr;var _e=requireErrorsBrowser().codes,d=_e.ERR_METHOD_NOT_IMPLEMENTED,Mt=_e.ERR_MULTIPLE_CALLBACK,Ot=_e.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ft=_e.ERR_TRANSFORM_WITH_LENGTH_0,Ut=require_stream_duplex$1();requireInherits_browser()(jr,Ut);function Xt(fn,dn){var pn=this._transformState;pn.transforming=!1;var En=pn.writecb;if(En===null)return this.emit("error",new Mt);pn.writechunk=null,pn.writecb=null,dn!=null&&this.push(dn),En(fn);var _n=this._readableState;_n.reading=!1,(_n.needReadable||_n.length<_n.highWaterMark)&&this._read(_n.highWaterMark)}function jr(fn){if(!(this instanceof jr))return new jr(fn);Ut.call(this,fn),this._transformState={afterTransform:Xt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,fn&&(typeof fn.transform=="function"&&(this._transform=fn.transform),typeof fn.flush=="function"&&(this._flush=fn.flush)),this.on("prefinish",hn)}function hn(){var fn=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(dn,pn){Vr(fn,dn,pn)}):Vr(this,null,null)}jr.prototype.push=function(fn,dn){return this._transformState.needTransform=!1,Ut.prototype.push.call(this,fn,dn)},jr.prototype._transform=function(fn,dn,pn){pn(new d("_transform()"))},jr.prototype._write=function(fn,dn,pn){var En=this._transformState;if(En.writecb=pn,En.writechunk=fn,En.writeencoding=dn,!En.transforming){var _n=this._readableState;(En.needTransform||_n.needReadable||_n.length<_n.highWaterMark)&&this._read(_n.highWaterMark)}},jr.prototype._read=function(fn){var dn=this._transformState;dn.writechunk!==null&&!dn.transforming?(dn.transforming=!0,this._transform(dn.writechunk,dn.writeencoding,dn.afterTransform)):dn.needTransform=!0},jr.prototype._destroy=function(fn,dn){Ut.prototype._destroy.call(this,fn,function(pn){dn(pn)})};function Vr(fn,dn,pn){if(dn)return fn.emit("error",dn);if(pn!=null&&fn.push(pn),fn._writableState.length)throw new Ft;if(fn._transformState.transforming)throw new Ot;return fn.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=d;var _e=require_stream_transform$1();requireInherits_browser()(d,_e);function d(Mt){if(!(this instanceof d))return new d(Mt);_e.call(this,Mt)}return d.prototype._transform=function(Mt,Ot,Ft){Ft(null,Mt)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var _e;function d(pn){var En=!1;return function(){En||(En=!0,pn.apply(void 0,arguments))}}var Mt=requireErrorsBrowser().codes,Ot=Mt.ERR_MISSING_ARGS,Ft=Mt.ERR_STREAM_DESTROYED;function Ut(pn){if(pn)throw pn}function Xt(pn){return pn.setHeader&&typeof pn.abort=="function"}function jr(pn,En,_n,Dn){Dn=d(Dn);var Vn=!1;pn.on("close",function(){Vn=!0}),_e===void 0&&(_e=requireEndOfStream()),_e(pn,{readable:En,writable:_n},function(qn){if(qn)return Dn(qn);Vn=!0,Dn()});var Pn=!1;return function(qn){if(!Vn&&!Pn){if(Pn=!0,Xt(pn))return pn.abort();if(typeof pn.destroy=="function")return pn.destroy();Dn(qn||new Ft("pipe"))}}}function hn(pn){pn()}function Vr(pn,En){return pn.pipe(En)}function fn(pn){return!pn.length||typeof pn[pn.length-1]!="function"?Ut:pn.pop()}function dn(){for(var pn=arguments.length,En=new Array(pn),_n=0;_n<pn;_n++)En[_n]=arguments[_n];var Dn=fn(En);if(Array.isArray(En[0])&&(En=En[0]),En.length<2)throw new Ot("streams");var Vn,Pn=En.map(function(qn,jn){var Hn=jn<En.length-1,Jn=jn>0;return jr(qn,Hn,Jn,function(Gn){Vn||(Vn=Gn),Gn&&Pn.forEach(hn),!Hn&&(Pn.forEach(hn),Dn(Vn))})});return En.reduce(Vr)}return pipeline_1=dn,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=Mt;var _e=requireEvents().EventEmitter,d=requireInherits_browser();d(Mt,_e),Mt.Readable=require_stream_readable$1(),Mt.Writable=require_stream_writable$1(),Mt.Duplex=require_stream_duplex$1(),Mt.Transform=require_stream_transform$1(),Mt.PassThrough=require_stream_passthrough$1(),Mt.finished=requireEndOfStream(),Mt.pipeline=requirePipeline(),Mt.Stream=Mt;function Mt(){_e.call(this)}return Mt.prototype.pipe=function(Ot,Ft){var Ut=this;function Xt(En){Ot.writable&&Ot.write(En)===!1&&Ut.pause&&Ut.pause()}Ut.on("data",Xt);function jr(){Ut.readable&&Ut.resume&&Ut.resume()}Ot.on("drain",jr),!Ot._isStdio&&(!Ft||Ft.end!==!1)&&(Ut.on("end",Vr),Ut.on("close",fn));var hn=!1;function Vr(){hn||(hn=!0,Ot.end())}function fn(){hn||(hn=!0,typeof Ot.destroy=="function"&&Ot.destroy())}function dn(En){if(pn(),_e.listenerCount(this,"error")===0)throw En}Ut.on("error",dn),Ot.on("error",dn);function pn(){Ut.removeListener("data",Xt),Ot.removeListener("drain",jr),Ut.removeListener("end",Vr),Ut.removeListener("close",fn),Ut.removeListener("error",dn),Ot.removeListener("error",dn),Ut.removeListener("end",pn),Ut.removeListener("close",pn),Ot.removeListener("close",pn)}return Ut.on("end",pn),Ut.on("close",pn),Ot.on("close",pn),Ot.emit("pipe",Ut),Ot},streamBrowserify}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var _e=requireSafeBuffer$1().Buffer,d=requireStreamBrowserify().Transform,Mt=requireInherits_browser();function Ot(jr){d.call(this),this._block=_e.allocUnsafe(jr),this._blockSize=jr,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Mt(Ot,d),Ot.prototype._transform=function(jr,hn,Vr){var fn=null;try{this.update(jr,hn)}catch(dn){fn=dn}Vr(fn)},Ot.prototype._flush=function(jr){var hn=null;try{this.push(this.digest())}catch(Vr){hn=Vr}jr(hn)};var Ft=typeof Uint8Array<"u",Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(_e.prototype instanceof Uint8Array||_e.TYPED_ARRAY_SUPPORT);function Xt(jr,hn){if(jr instanceof _e)return jr;if(typeof jr=="string")return _e.from(jr,hn);if(Ut&&ArrayBuffer.isView(jr)){if(jr.byteLength===0)return _e.alloc(0);var Vr=_e.from(jr.buffer,jr.byteOffset,jr.byteLength);if(Vr.byteLength===jr.byteLength)return Vr}if(Ft&&jr instanceof Uint8Array||_e.isBuffer(jr)&&jr.constructor&&typeof jr.constructor.isBuffer=="function"&&jr.constructor.isBuffer(jr))return _e.from(jr);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return Ot.prototype.update=function(jr,hn){if(this._finalized)throw new Error("Digest already called");jr=Xt(jr,hn);for(var Vr=this._block,fn=0;this._blockOffset+jr.length-fn>=this._blockSize;){for(var dn=this._blockOffset;dn<this._blockSize;)Vr[dn++]=jr[fn++];this._update(),this._blockOffset=0}for(;fn<jr.length;)Vr[this._blockOffset++]=jr[fn++];for(var pn=0,En=jr.length*8;En>0;++pn)this._length[pn]+=En,En=this._length[pn]/4294967296|0,En>0&&(this._length[pn]-=4294967296*En);return this},Ot.prototype._update=function(){throw new Error("_update is not implemented")},Ot.prototype.digest=function(jr){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var hn=this._digest();jr!==void 0&&(hn=hn.toString(jr)),this._block.fill(0),this._blockOffset=0;for(var Vr=0;Vr<4;++Vr)this._length[Vr]=0;return hn},Ot.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=Ot,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var _e=requireInherits_browser(),d=requireHashBase$1(),Mt=requireSafeBuffer$1().Buffer,Ot=new Array(16);function Ft(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_e(Ft,d),Ft.prototype._update=function(){for(var fn=Ot,dn=0;dn<16;++dn)fn[dn]=this._block.readInt32LE(dn*4);var pn=this._a,En=this._b,_n=this._c,Dn=this._d;pn=Xt(pn,En,_n,Dn,fn[0],3614090360,7),Dn=Xt(Dn,pn,En,_n,fn[1],3905402710,12),_n=Xt(_n,Dn,pn,En,fn[2],606105819,17),En=Xt(En,_n,Dn,pn,fn[3],3250441966,22),pn=Xt(pn,En,_n,Dn,fn[4],4118548399,7),Dn=Xt(Dn,pn,En,_n,fn[5],1200080426,12),_n=Xt(_n,Dn,pn,En,fn[6],2821735955,17),En=Xt(En,_n,Dn,pn,fn[7],4249261313,22),pn=Xt(pn,En,_n,Dn,fn[8],1770035416,7),Dn=Xt(Dn,pn,En,_n,fn[9],2336552879,12),_n=Xt(_n,Dn,pn,En,fn[10],4294925233,17),En=Xt(En,_n,Dn,pn,fn[11],2304563134,22),pn=Xt(pn,En,_n,Dn,fn[12],1804603682,7),Dn=Xt(Dn,pn,En,_n,fn[13],4254626195,12),_n=Xt(_n,Dn,pn,En,fn[14],2792965006,17),En=Xt(En,_n,Dn,pn,fn[15],1236535329,22),pn=jr(pn,En,_n,Dn,fn[1],4129170786,5),Dn=jr(Dn,pn,En,_n,fn[6],3225465664,9),_n=jr(_n,Dn,pn,En,fn[11],643717713,14),En=jr(En,_n,Dn,pn,fn[0],3921069994,20),pn=jr(pn,En,_n,Dn,fn[5],3593408605,5),Dn=jr(Dn,pn,En,_n,fn[10],38016083,9),_n=jr(_n,Dn,pn,En,fn[15],3634488961,14),En=jr(En,_n,Dn,pn,fn[4],3889429448,20),pn=jr(pn,En,_n,Dn,fn[9],568446438,5),Dn=jr(Dn,pn,En,_n,fn[14],3275163606,9),_n=jr(_n,Dn,pn,En,fn[3],4107603335,14),En=jr(En,_n,Dn,pn,fn[8],1163531501,20),pn=jr(pn,En,_n,Dn,fn[13],2850285829,5),Dn=jr(Dn,pn,En,_n,fn[2],4243563512,9),_n=jr(_n,Dn,pn,En,fn[7],1735328473,14),En=jr(En,_n,Dn,pn,fn[12],2368359562,20),pn=hn(pn,En,_n,Dn,fn[5],4294588738,4),Dn=hn(Dn,pn,En,_n,fn[8],2272392833,11),_n=hn(_n,Dn,pn,En,fn[11],1839030562,16),En=hn(En,_n,Dn,pn,fn[14],4259657740,23),pn=hn(pn,En,_n,Dn,fn[1],2763975236,4),Dn=hn(Dn,pn,En,_n,fn[4],1272893353,11),_n=hn(_n,Dn,pn,En,fn[7],4139469664,16),En=hn(En,_n,Dn,pn,fn[10],3200236656,23),pn=hn(pn,En,_n,Dn,fn[13],681279174,4),Dn=hn(Dn,pn,En,_n,fn[0],3936430074,11),_n=hn(_n,Dn,pn,En,fn[3],3572445317,16),En=hn(En,_n,Dn,pn,fn[6],76029189,23),pn=hn(pn,En,_n,Dn,fn[9],3654602809,4),Dn=hn(Dn,pn,En,_n,fn[12],3873151461,11),_n=hn(_n,Dn,pn,En,fn[15],530742520,16),En=hn(En,_n,Dn,pn,fn[2],3299628645,23),pn=Vr(pn,En,_n,Dn,fn[0],4096336452,6),Dn=Vr(Dn,pn,En,_n,fn[7],1126891415,10),_n=Vr(_n,Dn,pn,En,fn[14],2878612391,15),En=Vr(En,_n,Dn,pn,fn[5],4237533241,21),pn=Vr(pn,En,_n,Dn,fn[12],1700485571,6),Dn=Vr(Dn,pn,En,_n,fn[3],2399980690,10),_n=Vr(_n,Dn,pn,En,fn[10],4293915773,15),En=Vr(En,_n,Dn,pn,fn[1],2240044497,21),pn=Vr(pn,En,_n,Dn,fn[8],1873313359,6),Dn=Vr(Dn,pn,En,_n,fn[15],4264355552,10),_n=Vr(_n,Dn,pn,En,fn[6],2734768916,15),En=Vr(En,_n,Dn,pn,fn[13],1309151649,21),pn=Vr(pn,En,_n,Dn,fn[4],4149444226,6),Dn=Vr(Dn,pn,En,_n,fn[11],3174756917,10),_n=Vr(_n,Dn,pn,En,fn[2],718787259,15),En=Vr(En,_n,Dn,pn,fn[9],3951481745,21),this._a=this._a+pn|0,this._b=this._b+En|0,this._c=this._c+_n|0,this._d=this._d+Dn|0},Ft.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var fn=Mt.allocUnsafe(16);return fn.writeInt32LE(this._a,0),fn.writeInt32LE(this._b,4),fn.writeInt32LE(this._c,8),fn.writeInt32LE(this._d,12),fn};function Ut(fn,dn){return fn<<dn|fn>>>32-dn}function Xt(fn,dn,pn,En,_n,Dn,Vn){return Ut(fn+(dn&pn|~dn&En)+_n+Dn|0,Vn)+dn|0}function jr(fn,dn,pn,En,_n,Dn,Vn){return Ut(fn+(dn&En|pn&~En)+_n+Dn|0,Vn)+dn|0}function hn(fn,dn,pn,En,_n,Dn,Vn){return Ut(fn+(dn^pn^En)+_n+Dn|0,Vn)+dn|0}function Vr(fn,dn,pn,En,_n,Dn,Vn){return Ut(fn+(pn^(dn|~En))+_n+Dn|0,Vn)+dn|0}return md5_js=Ft,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var _e=require$$1$2.Buffer,d=requireInherits_browser(),Mt=requireHashBase$1(),Ot=new Array(16),Ft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ut=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Xt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hn=[0,1518500249,1859775393,2400959708,2840853838],Vr=[1352829926,1548603684,1836072691,2053994217,0];function fn(){Mt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}d(fn,Mt),fn.prototype._update=function(){for(var Pn=Ot,qn=0;qn<16;++qn)Pn[qn]=this._block.readInt32LE(qn*4);for(var jn=this._a|0,Hn=this._b|0,Jn=this._c|0,Gn=this._d|0,ba=this._e|0,eo=this._a|0,xa=this._b|0,Yn=this._c|0,Un=this._d|0,Mn=this._e|0,mn=0;mn<80;mn+=1){var Xr,gn;mn<16?(Xr=pn(jn,Hn,Jn,Gn,ba,Pn[Ft[mn]],hn[0],Xt[mn]),gn=Vn(eo,xa,Yn,Un,Mn,Pn[Ut[mn]],Vr[0],jr[mn])):mn<32?(Xr=En(jn,Hn,Jn,Gn,ba,Pn[Ft[mn]],hn[1],Xt[mn]),gn=Dn(eo,xa,Yn,Un,Mn,Pn[Ut[mn]],Vr[1],jr[mn])):mn<48?(Xr=_n(jn,Hn,Jn,Gn,ba,Pn[Ft[mn]],hn[2],Xt[mn]),gn=_n(eo,xa,Yn,Un,Mn,Pn[Ut[mn]],Vr[2],jr[mn])):mn<64?(Xr=Dn(jn,Hn,Jn,Gn,ba,Pn[Ft[mn]],hn[3],Xt[mn]),gn=En(eo,xa,Yn,Un,Mn,Pn[Ut[mn]],Vr[3],jr[mn])):(Xr=Vn(jn,Hn,Jn,Gn,ba,Pn[Ft[mn]],hn[4],Xt[mn]),gn=pn(eo,xa,Yn,Un,Mn,Pn[Ut[mn]],Vr[4],jr[mn])),jn=ba,ba=Gn,Gn=dn(Jn,10),Jn=Hn,Hn=Xr,eo=Mn,Mn=Un,Un=dn(Yn,10),Yn=xa,xa=gn}var On=this._b+Jn+Un|0;this._b=this._c+Gn+Mn|0,this._c=this._d+ba+eo|0,this._d=this._e+jn+xa|0,this._e=this._a+Hn+Yn|0,this._a=On},fn.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Pn=_e.alloc?_e.alloc(20):new _e(20);return Pn.writeInt32LE(this._a,0),Pn.writeInt32LE(this._b,4),Pn.writeInt32LE(this._c,8),Pn.writeInt32LE(this._d,12),Pn.writeInt32LE(this._e,16),Pn};function dn(Pn,qn){return Pn<<qn|Pn>>>32-qn}function pn(Pn,qn,jn,Hn,Jn,Gn,ba,eo){return dn(Pn+(qn^jn^Hn)+Gn+ba|0,eo)+Jn|0}function En(Pn,qn,jn,Hn,Jn,Gn,ba,eo){return dn(Pn+(qn&jn|~qn&Hn)+Gn+ba|0,eo)+Jn|0}function _n(Pn,qn,jn,Hn,Jn,Gn,ba,eo){return dn(Pn+((qn|~jn)^Hn)+Gn+ba|0,eo)+Jn|0}function Dn(Pn,qn,jn,Hn,Jn,Gn,ba,eo){return dn(Pn+(qn&Hn|jn&~Hn)+Gn+ba|0,eo)+Jn|0}function Vn(Pn,qn,jn,Hn,Jn,Gn,ba,eo){return dn(Pn+(qn^(jn|~Hn))+Gn+ba|0,eo)+Jn|0}return ripemd160$1=fn,ripemd160$1}var sha_js={exports:{}},isarray$1,hasRequiredIsarray$1;function requireIsarray$1(){if(hasRequiredIsarray$1)return isarray$1;hasRequiredIsarray$1=1;var _e={}.toString;return isarray$1=Array.isArray||function(d){return _e.call(d)=="[object Array]"},isarray$1}var typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var _e=requireType(),d=requireCallBound(),Mt=d("TypedArray.prototype.buffer",!0),Ot=requireIsTypedArray();return typedArrayBuffer=Mt||function(Ut){if(!Ot(Ut))throw new _e("Not a Typed Array");return Ut.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer$1;function requireToBuffer$1(){if(hasRequiredToBuffer$1)return toBuffer;hasRequiredToBuffer$1=1;var _e=requireSafeBuffer$1().Buffer,d=requireIsarray$1(),Mt=requireTypedArrayBuffer(),Ot=ArrayBuffer.isView||function(hn){try{return Mt(hn),!0}catch{return!1}},Ft=typeof Uint8Array<"u",Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Xt=Ut&&(_e.prototype instanceof Uint8Array||_e.TYPED_ARRAY_SUPPORT);return toBuffer=function(hn,Vr){if(hn instanceof _e)return hn;if(typeof hn=="string")return _e.from(hn,Vr);if(Ut&&Ot(hn)){if(hn.byteLength===0)return _e.alloc(0);if(Xt){var fn=_e.from(hn.buffer,hn.byteOffset,hn.byteLength);if(fn.byteLength===hn.byteLength)return fn}var dn=hn instanceof Uint8Array?hn:new Uint8Array(hn.buffer,hn.byteOffset,hn.byteLength),pn=_e.from(dn);if(pn.length===hn.byteLength)return pn}if(Ft&&hn instanceof Uint8Array)return _e.from(hn);var En=d(hn);if(En)for(var _n=0;_n<hn.length;_n+=1){var Dn=hn[_n];if(typeof Dn!="number"||Dn<0||Dn>255||~~Dn!==Dn)throw new RangeError("Array items must be numbers in the range 0-255.")}if(En||_e.isBuffer(hn)&&hn.constructor&&typeof hn.constructor.isBuffer=="function"&&hn.constructor.isBuffer(hn))return _e.from(hn);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var _e=requireSafeBuffer$1().Buffer,d=requireToBuffer$1();function Mt(Ot,Ft){this._block=_e.alloc(Ot),this._finalSize=Ft,this._blockSize=Ot,this._len=0}return Mt.prototype.update=function(Ot,Ft){Ot=d(Ot,Ft||"utf8");for(var Ut=this._block,Xt=this._blockSize,jr=Ot.length,hn=this._len,Vr=0;Vr<jr;){for(var fn=hn%Xt,dn=Math.min(jr-Vr,Xt-fn),pn=0;pn<dn;pn++)Ut[fn+pn]=Ot[Vr+pn];hn+=dn,Vr+=dn,hn%Xt===0&&this._update(Ut)}return this._len+=jr,this},Mt.prototype.digest=function(Ot){var Ft=this._len%this._blockSize;this._block[Ft]=128,this._block.fill(0,Ft+1),Ft>=this._finalSize&&(this._update(this._block),this._block.fill(0));var Ut=this._len*8;if(Ut<=4294967295)this._block.writeUInt32BE(Ut,this._blockSize-4);else{var Xt=(Ut&4294967295)>>>0,jr=(Ut-Xt)/4294967296;this._block.writeUInt32BE(jr,this._blockSize-8),this._block.writeUInt32BE(Xt,this._blockSize-4)}this._update(this._block);var hn=this._hash();return Ot?hn.toString(Ot):hn},Mt.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=Mt,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var _e=requireInherits_browser(),d=requireHash$1(),Mt=requireSafeBuffer$1().Buffer,Ot=[1518500249,1859775393,-1894007588,-899497514],Ft=new Array(80);function Ut(){this.init(),this._w=Ft,d.call(this,64,56)}_e(Ut,d),Ut.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xt(Vr){return Vr<<5|Vr>>>27}function jr(Vr){return Vr<<30|Vr>>>2}function hn(Vr,fn,dn,pn){return Vr===0?fn&dn|~fn&pn:Vr===2?fn&dn|fn&pn|dn&pn:fn^dn^pn}return Ut.prototype._update=function(Vr){for(var fn=this._w,dn=this._a|0,pn=this._b|0,En=this._c|0,_n=this._d|0,Dn=this._e|0,Vn=0;Vn<16;++Vn)fn[Vn]=Vr.readInt32BE(Vn*4);for(;Vn<80;++Vn)fn[Vn]=fn[Vn-3]^fn[Vn-8]^fn[Vn-14]^fn[Vn-16];for(var Pn=0;Pn<80;++Pn){var qn=~~(Pn/20),jn=Xt(dn)+hn(qn,pn,En,_n)+Dn+fn[Pn]+Ot[qn]|0;Dn=_n,_n=En,En=jr(pn),pn=dn,dn=jn}this._a=dn+this._a|0,this._b=pn+this._b|0,this._c=En+this._c|0,this._d=_n+this._d|0,this._e=Dn+this._e|0},Ut.prototype._hash=function(){var Vr=Mt.allocUnsafe(20);return Vr.writeInt32BE(this._a|0,0),Vr.writeInt32BE(this._b|0,4),Vr.writeInt32BE(this._c|0,8),Vr.writeInt32BE(this._d|0,12),Vr.writeInt32BE(this._e|0,16),Vr},sha$1=Ut,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var _e=requireInherits_browser(),d=requireHash$1(),Mt=requireSafeBuffer$1().Buffer,Ot=[1518500249,1859775393,-1894007588,-899497514],Ft=new Array(80);function Ut(){this.init(),this._w=Ft,d.call(this,64,56)}_e(Ut,d),Ut.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xt(fn){return fn<<1|fn>>>31}function jr(fn){return fn<<5|fn>>>27}function hn(fn){return fn<<30|fn>>>2}function Vr(fn,dn,pn,En){return fn===0?dn&pn|~dn&En:fn===2?dn&pn|dn&En|pn&En:dn^pn^En}return Ut.prototype._update=function(fn){for(var dn=this._w,pn=this._a|0,En=this._b|0,_n=this._c|0,Dn=this._d|0,Vn=this._e|0,Pn=0;Pn<16;++Pn)dn[Pn]=fn.readInt32BE(Pn*4);for(;Pn<80;++Pn)dn[Pn]=Xt(dn[Pn-3]^dn[Pn-8]^dn[Pn-14]^dn[Pn-16]);for(var qn=0;qn<80;++qn){var jn=~~(qn/20),Hn=jr(pn)+Vr(jn,En,_n,Dn)+Vn+dn[qn]+Ot[jn]|0;Vn=Dn,Dn=_n,_n=hn(En),En=pn,pn=Hn}this._a=pn+this._a|0,this._b=En+this._b|0,this._c=_n+this._c|0,this._d=Dn+this._d|0,this._e=Vn+this._e|0},Ut.prototype._hash=function(){var fn=Mt.allocUnsafe(20);return fn.writeInt32BE(this._a|0,0),fn.writeInt32BE(this._b|0,4),fn.writeInt32BE(this._c|0,8),fn.writeInt32BE(this._d|0,12),fn.writeInt32BE(this._e|0,16),fn},sha1=Ut,sha1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var _e=requireInherits_browser(),d=requireHash$1(),Mt=requireSafeBuffer$1().Buffer,Ot=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ft=new Array(64);function Ut(){this.init(),this._w=Ft,d.call(this,64,56)}_e(Ut,d),Ut.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Xt(pn,En,_n){return _n^pn&(En^_n)}function jr(pn,En,_n){return pn&En|_n&(pn|En)}function hn(pn){return(pn>>>2|pn<<30)^(pn>>>13|pn<<19)^(pn>>>22|pn<<10)}function Vr(pn){return(pn>>>6|pn<<26)^(pn>>>11|pn<<21)^(pn>>>25|pn<<7)}function fn(pn){return(pn>>>7|pn<<25)^(pn>>>18|pn<<14)^pn>>>3}function dn(pn){return(pn>>>17|pn<<15)^(pn>>>19|pn<<13)^pn>>>10}return Ut.prototype._update=function(pn){for(var En=this._w,_n=this._a|0,Dn=this._b|0,Vn=this._c|0,Pn=this._d|0,qn=this._e|0,jn=this._f|0,Hn=this._g|0,Jn=this._h|0,Gn=0;Gn<16;++Gn)En[Gn]=pn.readInt32BE(Gn*4);for(;Gn<64;++Gn)En[Gn]=dn(En[Gn-2])+En[Gn-7]+fn(En[Gn-15])+En[Gn-16]|0;for(var ba=0;ba<64;++ba){var eo=Jn+Vr(qn)+Xt(qn,jn,Hn)+Ot[ba]+En[ba]|0,xa=hn(_n)+jr(_n,Dn,Vn)|0;Jn=Hn,Hn=jn,jn=qn,qn=Pn+eo|0,Pn=Vn,Vn=Dn,Dn=_n,_n=eo+xa|0}this._a=_n+this._a|0,this._b=Dn+this._b|0,this._c=Vn+this._c|0,this._d=Pn+this._d|0,this._e=qn+this._e|0,this._f=jn+this._f|0,this._g=Hn+this._g|0,this._h=Jn+this._h|0},Ut.prototype._hash=function(){var pn=Mt.allocUnsafe(32);return pn.writeInt32BE(this._a,0),pn.writeInt32BE(this._b,4),pn.writeInt32BE(this._c,8),pn.writeInt32BE(this._d,12),pn.writeInt32BE(this._e,16),pn.writeInt32BE(this._f,20),pn.writeInt32BE(this._g,24),pn.writeInt32BE(this._h,28),pn},sha256$1=Ut,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var _e=requireInherits_browser(),d=requireSha256(),Mt=requireHash$1(),Ot=requireSafeBuffer$1().Buffer,Ft=new Array(64);function Ut(){this.init(),this._w=Ft,Mt.call(this,64,56)}return _e(Ut,d),Ut.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Ut.prototype._hash=function(){var Xt=Ot.allocUnsafe(28);return Xt.writeInt32BE(this._a,0),Xt.writeInt32BE(this._b,4),Xt.writeInt32BE(this._c,8),Xt.writeInt32BE(this._d,12),Xt.writeInt32BE(this._e,16),Xt.writeInt32BE(this._f,20),Xt.writeInt32BE(this._g,24),Xt},sha224$1=Ut,sha224$1}var sha512$4,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$4;hasRequiredSha512=1;var _e=requireInherits_browser(),d=requireHash$1(),Mt=requireSafeBuffer$1().Buffer,Ot=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Ft=new Array(160);function Ut(){this.init(),this._w=Ft,d.call(this,128,112)}_e(Ut,d),Ut.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Xt(Dn,Vn,Pn){return Pn^Dn&(Vn^Pn)}function jr(Dn,Vn,Pn){return Dn&Vn|Pn&(Dn|Vn)}function hn(Dn,Vn){return(Dn>>>28|Vn<<4)^(Vn>>>2|Dn<<30)^(Vn>>>7|Dn<<25)}function Vr(Dn,Vn){return(Dn>>>14|Vn<<18)^(Dn>>>18|Vn<<14)^(Vn>>>9|Dn<<23)}function fn(Dn,Vn){return(Dn>>>1|Vn<<31)^(Dn>>>8|Vn<<24)^Dn>>>7}function dn(Dn,Vn){return(Dn>>>1|Vn<<31)^(Dn>>>8|Vn<<24)^(Dn>>>7|Vn<<25)}function pn(Dn,Vn){return(Dn>>>19|Vn<<13)^(Vn>>>29|Dn<<3)^Dn>>>6}function En(Dn,Vn){return(Dn>>>19|Vn<<13)^(Vn>>>29|Dn<<3)^(Dn>>>6|Vn<<26)}function _n(Dn,Vn){return Dn>>>0<Vn>>>0?1:0}return Ut.prototype._update=function(Dn){for(var Vn=this._w,Pn=this._ah|0,qn=this._bh|0,jn=this._ch|0,Hn=this._dh|0,Jn=this._eh|0,Gn=this._fh|0,ba=this._gh|0,eo=this._hh|0,xa=this._al|0,Yn=this._bl|0,Un=this._cl|0,Mn=this._dl|0,mn=this._el|0,Xr=this._fl|0,gn=this._gl|0,On=this._hl|0,Ln=0;Ln<32;Ln+=2)Vn[Ln]=Dn.readInt32BE(Ln*4),Vn[Ln+1]=Dn.readInt32BE(Ln*4+4);for(;Ln<160;Ln+=2){var Rn=Vn[Ln-30],yn=Vn[Ln-15*2+1],kn=fn(Rn,yn),Fn=dn(yn,Rn);Rn=Vn[Ln-2*2],yn=Vn[Ln-2*2+1];var Cn=pn(Rn,yn),zn=En(yn,Rn),$a=Vn[Ln-7*2],co=Vn[Ln-7*2+1],io=Vn[Ln-16*2],ga=Vn[Ln-16*2+1],na=Fn+co|0,so=kn+$a+_n(na,Fn)|0;na=na+zn|0,so=so+Cn+_n(na,zn)|0,na=na+ga|0,so=so+io+_n(na,ga)|0,Vn[Ln]=so,Vn[Ln+1]=na}for(var _i=0;_i<160;_i+=2){so=Vn[_i],na=Vn[_i+1];var Wn=jr(Pn,qn,jn),Kn=jr(xa,Yn,Un),ro=hn(Pn,xa),oo=hn(xa,Pn),mo=Vr(Jn,mn),bo=Vr(mn,Jn),vo=Ot[_i],wo=Ot[_i+1],go=Xt(Jn,Gn,ba),So=Xt(mn,Xr,gn),Ao=On+bo|0,Co=eo+mo+_n(Ao,On)|0;Ao=Ao+So|0,Co=Co+go+_n(Ao,So)|0,Ao=Ao+wo|0,Co=Co+vo+_n(Ao,wo)|0,Ao=Ao+na|0,Co=Co+so+_n(Ao,na)|0;var Ro=oo+Kn|0,$o=ro+Wn+_n(Ro,oo)|0;eo=ba,On=gn,ba=Gn,gn=Xr,Gn=Jn,Xr=mn,mn=Mn+Ao|0,Jn=Hn+Co+_n(mn,Mn)|0,Hn=jn,Mn=Un,jn=qn,Un=Yn,qn=Pn,Yn=xa,xa=Ao+Ro|0,Pn=Co+$o+_n(xa,Ao)|0}this._al=this._al+xa|0,this._bl=this._bl+Yn|0,this._cl=this._cl+Un|0,this._dl=this._dl+Mn|0,this._el=this._el+mn|0,this._fl=this._fl+Xr|0,this._gl=this._gl+gn|0,this._hl=this._hl+On|0,this._ah=this._ah+Pn+_n(this._al,xa)|0,this._bh=this._bh+qn+_n(this._bl,Yn)|0,this._ch=this._ch+jn+_n(this._cl,Un)|0,this._dh=this._dh+Hn+_n(this._dl,Mn)|0,this._eh=this._eh+Jn+_n(this._el,mn)|0,this._fh=this._fh+Gn+_n(this._fl,Xr)|0,this._gh=this._gh+ba+_n(this._gl,gn)|0,this._hh=this._hh+eo+_n(this._hl,On)|0},Ut.prototype._hash=function(){var Dn=Mt.allocUnsafe(64);function Vn(Pn,qn,jn){Dn.writeInt32BE(Pn,jn),Dn.writeInt32BE(qn,jn+4)}return Vn(this._ah,this._al,0),Vn(this._bh,this._bl,8),Vn(this._ch,this._cl,16),Vn(this._dh,this._dl,24),Vn(this._eh,this._el,32),Vn(this._fh,this._fl,40),Vn(this._gh,this._gl,48),Vn(this._hh,this._hl,56),Dn},sha512$4=Ut,sha512$4}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var _e=requireInherits_browser(),d=requireSha512(),Mt=requireHash$1(),Ot=requireSafeBuffer$1().Buffer,Ft=new Array(160);function Ut(){this.init(),this._w=Ft,Mt.call(this,128,112)}return _e(Ut,d),Ut.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Ut.prototype._hash=function(){var Xt=Ot.allocUnsafe(48);function jr(hn,Vr,fn){Xt.writeInt32BE(hn,fn),Xt.writeInt32BE(Vr,fn+4)}return jr(this._ah,this._al,0),jr(this._bh,this._bl,8),jr(this._ch,this._cl,16),jr(this._dh,this._dl,24),jr(this._eh,this._el,32),jr(this._fh,this._fl,40),Xt},sha384$1=Ut,sha384$1}var hasRequiredSha_js;function requireSha_js(){return hasRequiredSha_js||(hasRequiredSha_js=1,function(_e){_e.exports=function(Mt){var Ot=Mt.toLowerCase(),Ft=_e.exports[Ot];if(!Ft)throw new Error(Ot+" is not supported (we accept pull requests)");return new Ft},_e.exports.sha=requireSha$1(),_e.exports.sha1=requireSha1(),_e.exports.sha224=requireSha224(),_e.exports.sha256=requireSha256(),_e.exports.sha384=requireSha384(),_e.exports.sha512=requireSha512()}(sha_js)),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var _e=requireSafeBuffer$1().Buffer,d=requireStreamBrowserify().Transform,Mt=requireString_decoder().StringDecoder,Ot=requireInherits_browser();function Ft(hn){d.call(this),this.hashMode=typeof hn=="string",this.hashMode?this[hn]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Ot(Ft,d);var Ut=typeof Uint8Array<"u",Xt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(_e.prototype instanceof Uint8Array||_e.TYPED_ARRAY_SUPPORT);function jr(hn,Vr){if(hn instanceof _e)return hn;if(typeof hn=="string")return _e.from(hn,Vr);if(Xt&&ArrayBuffer.isView(hn)){if(hn.byteLength===0)return _e.alloc(0);var fn=_e.from(hn.buffer,hn.byteOffset,hn.byteLength);if(fn.byteLength===hn.byteLength)return fn}if(Ut&&hn instanceof Uint8Array||_e.isBuffer(hn)&&hn.constructor&&typeof hn.constructor.isBuffer=="function"&&hn.constructor.isBuffer(hn))return _e.from(hn);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return Ft.prototype.update=function(hn,Vr,fn){var dn=jr(hn,Vr),pn=this._update(dn);return this.hashMode?this:(fn&&(pn=this._toString(pn,fn)),pn)},Ft.prototype.setAutoPadding=function(){},Ft.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},Ft.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},Ft.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},Ft.prototype._transform=function(hn,Vr,fn){var dn;try{this.hashMode?this._update(hn):this.push(this._update(hn))}catch(pn){dn=pn}finally{fn(dn)}},Ft.prototype._flush=function(hn){var Vr;try{this.push(this.__final())}catch(fn){Vr=fn}hn(Vr)},Ft.prototype._finalOrDigest=function(hn){var Vr=this.__final()||_e.alloc(0);return hn&&(Vr=this._toString(Vr,hn,!0)),Vr},Ft.prototype._toString=function(hn,Vr,fn){if(this._decoder||(this._decoder=new Mt(Vr),this._encoding=Vr),this._encoding!==Vr)throw new Error("cant switch encodings");var dn=this._decoder.write(hn);return fn&&(dn+=this._decoder.end()),dn},cipherBase=Ft,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var _e=requireInherits_browser(),d=requireMd5_js(),Mt=requireRipemd160$1(),Ot=requireSha_js(),Ft=requireCipherBase();function Ut(Xt){Ft.call(this,"digest"),this._hash=Xt}return _e(Ut,Ft),Ut.prototype._update=function(Xt){this._hash.update(Xt)},Ut.prototype._final=function(){return this._hash.digest()},browser$9=function(jr){return jr=jr.toLowerCase(),jr==="md5"?new d:jr==="rmd160"||jr==="ripemd160"?new Mt:new Ut(Ot(jr))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var _e=requireInherits_browser(),d=requireSafeBuffer$1().Buffer,Mt=requireCipherBase(),Ot=d.alloc(128),Ft=64;function Ut(Xt,jr){Mt.call(this,"digest"),typeof jr=="string"&&(jr=d.from(jr)),this._alg=Xt,this._key=jr,jr.length>Ft?jr=Xt(jr):jr.length<Ft&&(jr=d.concat([jr,Ot],Ft));for(var hn=this._ipad=d.allocUnsafe(Ft),Vr=this._opad=d.allocUnsafe(Ft),fn=0;fn<Ft;fn++)hn[fn]=jr[fn]^54,Vr[fn]=jr[fn]^92;this._hash=[hn]}return _e(Ut,Mt),Ut.prototype._update=function(Xt){this._hash.push(Xt)},Ut.prototype._final=function(){var Xt=this._alg(d.concat(this._hash));return this._alg(d.concat([this._opad,Xt]))},legacy=Ut,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var _e=requireMd5_js();return md5$1=function(d){return new _e().update(d).digest()},md5$1}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var _e=requireInherits_browser(),d=requireLegacy(),Mt=requireCipherBase(),Ot=requireSafeBuffer$1().Buffer,Ft=requireMd5$1(),Ut=requireRipemd160$1(),Xt=requireSha_js(),jr=Ot.alloc(128);function hn(Vr,fn){Mt.call(this,"digest"),typeof fn=="string"&&(fn=Ot.from(fn));var dn=Vr==="sha512"||Vr==="sha384"?128:64;if(this._alg=Vr,this._key=fn,fn.length>dn){var pn=Vr==="rmd160"?new Ut:Xt(Vr);fn=pn.update(fn).digest()}else fn.length<dn&&(fn=Ot.concat([fn,jr],dn));for(var En=this._ipad=Ot.allocUnsafe(dn),_n=this._opad=Ot.allocUnsafe(dn),Dn=0;Dn<dn;Dn++)En[Dn]=fn[Dn]^54,_n[Dn]=fn[Dn]^92;this._hash=Vr==="rmd160"?new Ut:Xt(Vr),this._hash.update(En)}return _e(hn,Mt),hn.prototype._update=function(Vr){this._hash.update(Vr)},hn.prototype._final=function(){var Vr=this._hash.digest(),fn=this._alg==="rmd160"?new Ut:Xt(this._alg);return fn.update(this._opad).update(Vr).digest()},browser$8=function(fn,dn){return fn=fn.toLowerCase(),fn==="rmd160"||fn==="ripemd160"?new hn("rmd160",dn):fn==="md5"?new d(Ft,dn):new hn(fn,dn)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$3={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512:sha512$3,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var _e=Math.pow(2,30)-1;return precondition=function(d,Mt){if(typeof d!="number")throw new TypeError("Iterations not a number");if(d<0)throw new TypeError("Bad iterations");if(typeof Mt!="number")throw new TypeError("Key length not a number");if(Mt<0||Mt>_e||Mt!==Mt)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var _e;if(globalThis.process&&globalThis.process.browser)_e="utf-8";else if(globalThis.process&&globalThis.process.version){var d=parseInt(process$1.version.split(".")[0].slice(1),10);_e=d>=6?"utf-8":"binary"}else _e="utf-8";return defaultEncoding_1=_e,defaultEncoding_1}var makeHash,hasRequiredMakeHash;function requireMakeHash(){if(hasRequiredMakeHash)return makeHash;hasRequiredMakeHash=1;var _e=4,d=new Buffer(_e);d.fill(0);var Mt=8,Ot=16;function Ft(Ut){if(Ut.length%_e!==0){var Xt=Ut.length+(_e-Ut.length%_e);Ut=Buffer.concat([Ut,d],Xt)}for(var jr=new Array(Ut.length>>>2),hn=0,Vr=0;hn<Ut.length;hn+=_e,Vr++)jr[Vr]=Ut.readInt32LE(hn);return jr}return makeHash=function(Xt,jr){var hn=jr(Ft(Xt),Xt.length*Mt);Xt=new Buffer(Ot);for(var Vr=0;Vr<hn.length;Vr++)Xt.writeInt32LE(hn[Vr],Vr<<2,!0);return Xt},makeHash}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var _e=requireMakeHash();function d(Vr,fn){Vr[fn>>5]|=128<<fn%32,Vr[(fn+64>>>9<<4)+14]=fn;for(var dn=1732584193,pn=-271733879,En=-1732584194,_n=271733878,Dn=0;Dn<Vr.length;Dn+=16){var Vn=dn,Pn=pn,qn=En,jn=_n;dn=Ot(dn,pn,En,_n,Vr[Dn+0],7,-680876936),_n=Ot(_n,dn,pn,En,Vr[Dn+1],12,-389564586),En=Ot(En,_n,dn,pn,Vr[Dn+2],17,606105819),pn=Ot(pn,En,_n,dn,Vr[Dn+3],22,-1044525330),dn=Ot(dn,pn,En,_n,Vr[Dn+4],7,-176418897),_n=Ot(_n,dn,pn,En,Vr[Dn+5],12,1200080426),En=Ot(En,_n,dn,pn,Vr[Dn+6],17,-1473231341),pn=Ot(pn,En,_n,dn,Vr[Dn+7],22,-45705983),dn=Ot(dn,pn,En,_n,Vr[Dn+8],7,1770035416),_n=Ot(_n,dn,pn,En,Vr[Dn+9],12,-1958414417),En=Ot(En,_n,dn,pn,Vr[Dn+10],17,-42063),pn=Ot(pn,En,_n,dn,Vr[Dn+11],22,-1990404162),dn=Ot(dn,pn,En,_n,Vr[Dn+12],7,1804603682),_n=Ot(_n,dn,pn,En,Vr[Dn+13],12,-40341101),En=Ot(En,_n,dn,pn,Vr[Dn+14],17,-1502002290),pn=Ot(pn,En,_n,dn,Vr[Dn+15],22,1236535329),dn=Ft(dn,pn,En,_n,Vr[Dn+1],5,-165796510),_n=Ft(_n,dn,pn,En,Vr[Dn+6],9,-1069501632),En=Ft(En,_n,dn,pn,Vr[Dn+11],14,643717713),pn=Ft(pn,En,_n,dn,Vr[Dn+0],20,-373897302),dn=Ft(dn,pn,En,_n,Vr[Dn+5],5,-701558691),_n=Ft(_n,dn,pn,En,Vr[Dn+10],9,38016083),En=Ft(En,_n,dn,pn,Vr[Dn+15],14,-660478335),pn=Ft(pn,En,_n,dn,Vr[Dn+4],20,-405537848),dn=Ft(dn,pn,En,_n,Vr[Dn+9],5,568446438),_n=Ft(_n,dn,pn,En,Vr[Dn+14],9,-1019803690),En=Ft(En,_n,dn,pn,Vr[Dn+3],14,-187363961),pn=Ft(pn,En,_n,dn,Vr[Dn+8],20,1163531501),dn=Ft(dn,pn,En,_n,Vr[Dn+13],5,-1444681467),_n=Ft(_n,dn,pn,En,Vr[Dn+2],9,-51403784),En=Ft(En,_n,dn,pn,Vr[Dn+7],14,1735328473),pn=Ft(pn,En,_n,dn,Vr[Dn+12],20,-1926607734),dn=Ut(dn,pn,En,_n,Vr[Dn+5],4,-378558),_n=Ut(_n,dn,pn,En,Vr[Dn+8],11,-2022574463),En=Ut(En,_n,dn,pn,Vr[Dn+11],16,1839030562),pn=Ut(pn,En,_n,dn,Vr[Dn+14],23,-35309556),dn=Ut(dn,pn,En,_n,Vr[Dn+1],4,-1530992060),_n=Ut(_n,dn,pn,En,Vr[Dn+4],11,1272893353),En=Ut(En,_n,dn,pn,Vr[Dn+7],16,-155497632),pn=Ut(pn,En,_n,dn,Vr[Dn+10],23,-1094730640),dn=Ut(dn,pn,En,_n,Vr[Dn+13],4,681279174),_n=Ut(_n,dn,pn,En,Vr[Dn+0],11,-358537222),En=Ut(En,_n,dn,pn,Vr[Dn+3],16,-722521979),pn=Ut(pn,En,_n,dn,Vr[Dn+6],23,76029189),dn=Ut(dn,pn,En,_n,Vr[Dn+9],4,-640364487),_n=Ut(_n,dn,pn,En,Vr[Dn+12],11,-421815835),En=Ut(En,_n,dn,pn,Vr[Dn+15],16,530742520),pn=Ut(pn,En,_n,dn,Vr[Dn+2],23,-995338651),dn=Xt(dn,pn,En,_n,Vr[Dn+0],6,-198630844),_n=Xt(_n,dn,pn,En,Vr[Dn+7],10,1126891415),En=Xt(En,_n,dn,pn,Vr[Dn+14],15,-1416354905),pn=Xt(pn,En,_n,dn,Vr[Dn+5],21,-57434055),dn=Xt(dn,pn,En,_n,Vr[Dn+12],6,1700485571),_n=Xt(_n,dn,pn,En,Vr[Dn+3],10,-1894986606),En=Xt(En,_n,dn,pn,Vr[Dn+10],15,-1051523),pn=Xt(pn,En,_n,dn,Vr[Dn+1],21,-2054922799),dn=Xt(dn,pn,En,_n,Vr[Dn+8],6,1873313359),_n=Xt(_n,dn,pn,En,Vr[Dn+15],10,-30611744),En=Xt(En,_n,dn,pn,Vr[Dn+6],15,-1560198380),pn=Xt(pn,En,_n,dn,Vr[Dn+13],21,1309151649),dn=Xt(dn,pn,En,_n,Vr[Dn+4],6,-145523070),_n=Xt(_n,dn,pn,En,Vr[Dn+11],10,-1120210379),En=Xt(En,_n,dn,pn,Vr[Dn+2],15,718787259),pn=Xt(pn,En,_n,dn,Vr[Dn+9],21,-343485551),dn=jr(dn,Vn),pn=jr(pn,Pn),En=jr(En,qn),_n=jr(_n,jn)}return[dn,pn,En,_n]}function Mt(Vr,fn,dn,pn,En,_n){return jr(hn(jr(jr(fn,Vr),jr(pn,_n)),En),dn)}function Ot(Vr,fn,dn,pn,En,_n,Dn){return Mt(fn&dn|~fn&pn,Vr,fn,En,_n,Dn)}function Ft(Vr,fn,dn,pn,En,_n,Dn){return Mt(fn&pn|dn&~pn,Vr,fn,En,_n,Dn)}function Ut(Vr,fn,dn,pn,En,_n,Dn){return Mt(fn^dn^pn,Vr,fn,En,_n,Dn)}function Xt(Vr,fn,dn,pn,En,_n,Dn){return Mt(dn^(fn|~pn),Vr,fn,En,_n,Dn)}function jr(Vr,fn){var dn=(Vr&65535)+(fn&65535),pn=(Vr>>16)+(fn>>16)+(dn>>16);return pn<<16|dn&65535}function hn(Vr,fn){return Vr<<fn|Vr>>>32-fn}return md5=function(fn){return _e(fn,d)},md5}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var _e=requireStreamBrowserify().Transform,d=requireInherits_browser();function Mt(Ot){_e.call(this),this._block=new Buffer(Ot),this._blockSize=Ot,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return d(Mt,_e),Mt.prototype._transform=function(Ot,Ft,Ut){var Xt=null;try{Ft!=="buffer"&&(Ot=new Buffer(Ot,Ft)),this.update(Ot)}catch(jr){Xt=jr}Ut(Xt)},Mt.prototype._flush=function(Ot){var Ft=null;try{this.push(this._digest())}catch(Ut){Ft=Ut}Ot(Ft)},Mt.prototype.update=function(Ot,Ft){if(!Buffer.isBuffer(Ot)&&typeof Ot!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(Ot)||(Ot=new Buffer(Ot,Ft||"binary"));for(var Ut=this._block,Xt=0;this._blockOffset+Ot.length-Xt>=this._blockSize;){for(var jr=this._blockOffset;jr<this._blockSize;)Ut[jr++]=Ot[Xt++];this._update(),this._blockOffset=0}for(;Xt<Ot.length;)Ut[this._blockOffset++]=Ot[Xt++];for(var hn=0,Vr=Ot.length*8;Vr>0;++hn)this._length[hn]+=Vr,Vr=this._length[hn]/4294967296|0,Vr>0&&(this._length[hn]-=4294967296*Vr);return this},Mt.prototype._update=function(Ot){throw new Error("_update is not implemented")},Mt.prototype.digest=function(Ot){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Ft=this._digest();return Ot!==void 0&&(Ft=Ft.toString(Ot)),Ft},Mt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=Mt,hashBase}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var _e=requireInherits_browser(),d=requireHashBase();function Mt(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}_e(Mt,d),Mt.prototype._update=function(){for(var Vr=new Array(16),fn=0;fn<16;++fn)Vr[fn]=this._block.readInt32LE(fn*4);var dn=this._a,pn=this._b,En=this._c,_n=this._d,Dn=this._e;dn=Ft(dn,pn,En,_n,Dn,Vr[0],0,11),En=Ot(En,10),Dn=Ft(Dn,dn,pn,En,_n,Vr[1],0,14),pn=Ot(pn,10),_n=Ft(_n,Dn,dn,pn,En,Vr[2],0,15),dn=Ot(dn,10),En=Ft(En,_n,Dn,dn,pn,Vr[3],0,12),Dn=Ot(Dn,10),pn=Ft(pn,En,_n,Dn,dn,Vr[4],0,5),_n=Ot(_n,10),dn=Ft(dn,pn,En,_n,Dn,Vr[5],0,8),En=Ot(En,10),Dn=Ft(Dn,dn,pn,En,_n,Vr[6],0,7),pn=Ot(pn,10),_n=Ft(_n,Dn,dn,pn,En,Vr[7],0,9),dn=Ot(dn,10),En=Ft(En,_n,Dn,dn,pn,Vr[8],0,11),Dn=Ot(Dn,10),pn=Ft(pn,En,_n,Dn,dn,Vr[9],0,13),_n=Ot(_n,10),dn=Ft(dn,pn,En,_n,Dn,Vr[10],0,14),En=Ot(En,10),Dn=Ft(Dn,dn,pn,En,_n,Vr[11],0,15),pn=Ot(pn,10),_n=Ft(_n,Dn,dn,pn,En,Vr[12],0,6),dn=Ot(dn,10),En=Ft(En,_n,Dn,dn,pn,Vr[13],0,7),Dn=Ot(Dn,10),pn=Ft(pn,En,_n,Dn,dn,Vr[14],0,9),_n=Ot(_n,10),dn=Ft(dn,pn,En,_n,Dn,Vr[15],0,8),En=Ot(En,10),Dn=Ut(Dn,dn,pn,En,_n,Vr[7],1518500249,7),pn=Ot(pn,10),_n=Ut(_n,Dn,dn,pn,En,Vr[4],1518500249,6),dn=Ot(dn,10),En=Ut(En,_n,Dn,dn,pn,Vr[13],1518500249,8),Dn=Ot(Dn,10),pn=Ut(pn,En,_n,Dn,dn,Vr[1],1518500249,13),_n=Ot(_n,10),dn=Ut(dn,pn,En,_n,Dn,Vr[10],1518500249,11),En=Ot(En,10),Dn=Ut(Dn,dn,pn,En,_n,Vr[6],1518500249,9),pn=Ot(pn,10),_n=Ut(_n,Dn,dn,pn,En,Vr[15],1518500249,7),dn=Ot(dn,10),En=Ut(En,_n,Dn,dn,pn,Vr[3],1518500249,15),Dn=Ot(Dn,10),pn=Ut(pn,En,_n,Dn,dn,Vr[12],1518500249,7),_n=Ot(_n,10),dn=Ut(dn,pn,En,_n,Dn,Vr[0],1518500249,12),En=Ot(En,10),Dn=Ut(Dn,dn,pn,En,_n,Vr[9],1518500249,15),pn=Ot(pn,10),_n=Ut(_n,Dn,dn,pn,En,Vr[5],1518500249,9),dn=Ot(dn,10),En=Ut(En,_n,Dn,dn,pn,Vr[2],1518500249,11),Dn=Ot(Dn,10),pn=Ut(pn,En,_n,Dn,dn,Vr[14],1518500249,7),_n=Ot(_n,10),dn=Ut(dn,pn,En,_n,Dn,Vr[11],1518500249,13),En=Ot(En,10),Dn=Ut(Dn,dn,pn,En,_n,Vr[8],1518500249,12),pn=Ot(pn,10),_n=Xt(_n,Dn,dn,pn,En,Vr[3],1859775393,11),dn=Ot(dn,10),En=Xt(En,_n,Dn,dn,pn,Vr[10],1859775393,13),Dn=Ot(Dn,10),pn=Xt(pn,En,_n,Dn,dn,Vr[14],1859775393,6),_n=Ot(_n,10),dn=Xt(dn,pn,En,_n,Dn,Vr[4],1859775393,7),En=Ot(En,10),Dn=Xt(Dn,dn,pn,En,_n,Vr[9],1859775393,14),pn=Ot(pn,10),_n=Xt(_n,Dn,dn,pn,En,Vr[15],1859775393,9),dn=Ot(dn,10),En=Xt(En,_n,Dn,dn,pn,Vr[8],1859775393,13),Dn=Ot(Dn,10),pn=Xt(pn,En,_n,Dn,dn,Vr[1],1859775393,15),_n=Ot(_n,10),dn=Xt(dn,pn,En,_n,Dn,Vr[2],1859775393,14),En=Ot(En,10),Dn=Xt(Dn,dn,pn,En,_n,Vr[7],1859775393,8),pn=Ot(pn,10),_n=Xt(_n,Dn,dn,pn,En,Vr[0],1859775393,13),dn=Ot(dn,10),En=Xt(En,_n,Dn,dn,pn,Vr[6],1859775393,6),Dn=Ot(Dn,10),pn=Xt(pn,En,_n,Dn,dn,Vr[13],1859775393,5),_n=Ot(_n,10),dn=Xt(dn,pn,En,_n,Dn,Vr[11],1859775393,12),En=Ot(En,10),Dn=Xt(Dn,dn,pn,En,_n,Vr[5],1859775393,7),pn=Ot(pn,10),_n=Xt(_n,Dn,dn,pn,En,Vr[12],1859775393,5),dn=Ot(dn,10),En=jr(En,_n,Dn,dn,pn,Vr[1],2400959708,11),Dn=Ot(Dn,10),pn=jr(pn,En,_n,Dn,dn,Vr[9],2400959708,12),_n=Ot(_n,10),dn=jr(dn,pn,En,_n,Dn,Vr[11],2400959708,14),En=Ot(En,10),Dn=jr(Dn,dn,pn,En,_n,Vr[10],2400959708,15),pn=Ot(pn,10),_n=jr(_n,Dn,dn,pn,En,Vr[0],2400959708,14),dn=Ot(dn,10),En=jr(En,_n,Dn,dn,pn,Vr[8],2400959708,15),Dn=Ot(Dn,10),pn=jr(pn,En,_n,Dn,dn,Vr[12],2400959708,9),_n=Ot(_n,10),dn=jr(dn,pn,En,_n,Dn,Vr[4],2400959708,8),En=Ot(En,10),Dn=jr(Dn,dn,pn,En,_n,Vr[13],2400959708,9),pn=Ot(pn,10),_n=jr(_n,Dn,dn,pn,En,Vr[3],2400959708,14),dn=Ot(dn,10),En=jr(En,_n,Dn,dn,pn,Vr[7],2400959708,5),Dn=Ot(Dn,10),pn=jr(pn,En,_n,Dn,dn,Vr[15],2400959708,6),_n=Ot(_n,10),dn=jr(dn,pn,En,_n,Dn,Vr[14],2400959708,8),En=Ot(En,10),Dn=jr(Dn,dn,pn,En,_n,Vr[5],2400959708,6),pn=Ot(pn,10),_n=jr(_n,Dn,dn,pn,En,Vr[6],2400959708,5),dn=Ot(dn,10),En=jr(En,_n,Dn,dn,pn,Vr[2],2400959708,12),Dn=Ot(Dn,10),pn=hn(pn,En,_n,Dn,dn,Vr[4],2840853838,9),_n=Ot(_n,10),dn=hn(dn,pn,En,_n,Dn,Vr[0],2840853838,15),En=Ot(En,10),Dn=hn(Dn,dn,pn,En,_n,Vr[5],2840853838,5),pn=Ot(pn,10),_n=hn(_n,Dn,dn,pn,En,Vr[9],2840853838,11),dn=Ot(dn,10),En=hn(En,_n,Dn,dn,pn,Vr[7],2840853838,6),Dn=Ot(Dn,10),pn=hn(pn,En,_n,Dn,dn,Vr[12],2840853838,8),_n=Ot(_n,10),dn=hn(dn,pn,En,_n,Dn,Vr[2],2840853838,13),En=Ot(En,10),Dn=hn(Dn,dn,pn,En,_n,Vr[10],2840853838,12),pn=Ot(pn,10),_n=hn(_n,Dn,dn,pn,En,Vr[14],2840853838,5),dn=Ot(dn,10),En=hn(En,_n,Dn,dn,pn,Vr[1],2840853838,12),Dn=Ot(Dn,10),pn=hn(pn,En,_n,Dn,dn,Vr[3],2840853838,13),_n=Ot(_n,10),dn=hn(dn,pn,En,_n,Dn,Vr[8],2840853838,14),En=Ot(En,10),Dn=hn(Dn,dn,pn,En,_n,Vr[11],2840853838,11),pn=Ot(pn,10),_n=hn(_n,Dn,dn,pn,En,Vr[6],2840853838,8),dn=Ot(dn,10),En=hn(En,_n,Dn,dn,pn,Vr[15],2840853838,5),Dn=Ot(Dn,10),pn=hn(pn,En,_n,Dn,dn,Vr[13],2840853838,6),_n=Ot(_n,10);var Vn=this._a,Pn=this._b,qn=this._c,jn=this._d,Hn=this._e;Vn=hn(Vn,Pn,qn,jn,Hn,Vr[5],1352829926,8),qn=Ot(qn,10),Hn=hn(Hn,Vn,Pn,qn,jn,Vr[14],1352829926,9),Pn=Ot(Pn,10),jn=hn(jn,Hn,Vn,Pn,qn,Vr[7],1352829926,9),Vn=Ot(Vn,10),qn=hn(qn,jn,Hn,Vn,Pn,Vr[0],1352829926,11),Hn=Ot(Hn,10),Pn=hn(Pn,qn,jn,Hn,Vn,Vr[9],1352829926,13),jn=Ot(jn,10),Vn=hn(Vn,Pn,qn,jn,Hn,Vr[2],1352829926,15),qn=Ot(qn,10),Hn=hn(Hn,Vn,Pn,qn,jn,Vr[11],1352829926,15),Pn=Ot(Pn,10),jn=hn(jn,Hn,Vn,Pn,qn,Vr[4],1352829926,5),Vn=Ot(Vn,10),qn=hn(qn,jn,Hn,Vn,Pn,Vr[13],1352829926,7),Hn=Ot(Hn,10),Pn=hn(Pn,qn,jn,Hn,Vn,Vr[6],1352829926,7),jn=Ot(jn,10),Vn=hn(Vn,Pn,qn,jn,Hn,Vr[15],1352829926,8),qn=Ot(qn,10),Hn=hn(Hn,Vn,Pn,qn,jn,Vr[8],1352829926,11),Pn=Ot(Pn,10),jn=hn(jn,Hn,Vn,Pn,qn,Vr[1],1352829926,14),Vn=Ot(Vn,10),qn=hn(qn,jn,Hn,Vn,Pn,Vr[10],1352829926,14),Hn=Ot(Hn,10),Pn=hn(Pn,qn,jn,Hn,Vn,Vr[3],1352829926,12),jn=Ot(jn,10),Vn=hn(Vn,Pn,qn,jn,Hn,Vr[12],1352829926,6),qn=Ot(qn,10),Hn=jr(Hn,Vn,Pn,qn,jn,Vr[6],1548603684,9),Pn=Ot(Pn,10),jn=jr(jn,Hn,Vn,Pn,qn,Vr[11],1548603684,13),Vn=Ot(Vn,10),qn=jr(qn,jn,Hn,Vn,Pn,Vr[3],1548603684,15),Hn=Ot(Hn,10),Pn=jr(Pn,qn,jn,Hn,Vn,Vr[7],1548603684,7),jn=Ot(jn,10),Vn=jr(Vn,Pn,qn,jn,Hn,Vr[0],1548603684,12),qn=Ot(qn,10),Hn=jr(Hn,Vn,Pn,qn,jn,Vr[13],1548603684,8),Pn=Ot(Pn,10),jn=jr(jn,Hn,Vn,Pn,qn,Vr[5],1548603684,9),Vn=Ot(Vn,10),qn=jr(qn,jn,Hn,Vn,Pn,Vr[10],1548603684,11),Hn=Ot(Hn,10),Pn=jr(Pn,qn,jn,Hn,Vn,Vr[14],1548603684,7),jn=Ot(jn,10),Vn=jr(Vn,Pn,qn,jn,Hn,Vr[15],1548603684,7),qn=Ot(qn,10),Hn=jr(Hn,Vn,Pn,qn,jn,Vr[8],1548603684,12),Pn=Ot(Pn,10),jn=jr(jn,Hn,Vn,Pn,qn,Vr[12],1548603684,7),Vn=Ot(Vn,10),qn=jr(qn,jn,Hn,Vn,Pn,Vr[4],1548603684,6),Hn=Ot(Hn,10),Pn=jr(Pn,qn,jn,Hn,Vn,Vr[9],1548603684,15),jn=Ot(jn,10),Vn=jr(Vn,Pn,qn,jn,Hn,Vr[1],1548603684,13),qn=Ot(qn,10),Hn=jr(Hn,Vn,Pn,qn,jn,Vr[2],1548603684,11),Pn=Ot(Pn,10),jn=Xt(jn,Hn,Vn,Pn,qn,Vr[15],1836072691,9),Vn=Ot(Vn,10),qn=Xt(qn,jn,Hn,Vn,Pn,Vr[5],1836072691,7),Hn=Ot(Hn,10),Pn=Xt(Pn,qn,jn,Hn,Vn,Vr[1],1836072691,15),jn=Ot(jn,10),Vn=Xt(Vn,Pn,qn,jn,Hn,Vr[3],1836072691,11),qn=Ot(qn,10),Hn=Xt(Hn,Vn,Pn,qn,jn,Vr[7],1836072691,8),Pn=Ot(Pn,10),jn=Xt(jn,Hn,Vn,Pn,qn,Vr[14],1836072691,6),Vn=Ot(Vn,10),qn=Xt(qn,jn,Hn,Vn,Pn,Vr[6],1836072691,6),Hn=Ot(Hn,10),Pn=Xt(Pn,qn,jn,Hn,Vn,Vr[9],1836072691,14),jn=Ot(jn,10),Vn=Xt(Vn,Pn,qn,jn,Hn,Vr[11],1836072691,12),qn=Ot(qn,10),Hn=Xt(Hn,Vn,Pn,qn,jn,Vr[8],1836072691,13),Pn=Ot(Pn,10),jn=Xt(jn,Hn,Vn,Pn,qn,Vr[12],1836072691,5),Vn=Ot(Vn,10),qn=Xt(qn,jn,Hn,Vn,Pn,Vr[2],1836072691,14),Hn=Ot(Hn,10),Pn=Xt(Pn,qn,jn,Hn,Vn,Vr[10],1836072691,13),jn=Ot(jn,10),Vn=Xt(Vn,Pn,qn,jn,Hn,Vr[0],1836072691,13),qn=Ot(qn,10),Hn=Xt(Hn,Vn,Pn,qn,jn,Vr[4],1836072691,7),Pn=Ot(Pn,10),jn=Xt(jn,Hn,Vn,Pn,qn,Vr[13],1836072691,5),Vn=Ot(Vn,10),qn=Ut(qn,jn,Hn,Vn,Pn,Vr[8],2053994217,15),Hn=Ot(Hn,10),Pn=Ut(Pn,qn,jn,Hn,Vn,Vr[6],2053994217,5),jn=Ot(jn,10),Vn=Ut(Vn,Pn,qn,jn,Hn,Vr[4],2053994217,8),qn=Ot(qn,10),Hn=Ut(Hn,Vn,Pn,qn,jn,Vr[1],2053994217,11),Pn=Ot(Pn,10),jn=Ut(jn,Hn,Vn,Pn,qn,Vr[3],2053994217,14),Vn=Ot(Vn,10),qn=Ut(qn,jn,Hn,Vn,Pn,Vr[11],2053994217,14),Hn=Ot(Hn,10),Pn=Ut(Pn,qn,jn,Hn,Vn,Vr[15],2053994217,6),jn=Ot(jn,10),Vn=Ut(Vn,Pn,qn,jn,Hn,Vr[0],2053994217,14),qn=Ot(qn,10),Hn=Ut(Hn,Vn,Pn,qn,jn,Vr[5],2053994217,6),Pn=Ot(Pn,10),jn=Ut(jn,Hn,Vn,Pn,qn,Vr[12],2053994217,9),Vn=Ot(Vn,10),qn=Ut(qn,jn,Hn,Vn,Pn,Vr[2],2053994217,12),Hn=Ot(Hn,10),Pn=Ut(Pn,qn,jn,Hn,Vn,Vr[13],2053994217,9),jn=Ot(jn,10),Vn=Ut(Vn,Pn,qn,jn,Hn,Vr[9],2053994217,12),qn=Ot(qn,10),Hn=Ut(Hn,Vn,Pn,qn,jn,Vr[7],2053994217,5),Pn=Ot(Pn,10),jn=Ut(jn,Hn,Vn,Pn,qn,Vr[10],2053994217,15),Vn=Ot(Vn,10),qn=Ut(qn,jn,Hn,Vn,Pn,Vr[14],2053994217,8),Hn=Ot(Hn,10),Pn=Ft(Pn,qn,jn,Hn,Vn,Vr[12],0,8),jn=Ot(jn,10),Vn=Ft(Vn,Pn,qn,jn,Hn,Vr[15],0,5),qn=Ot(qn,10),Hn=Ft(Hn,Vn,Pn,qn,jn,Vr[10],0,12),Pn=Ot(Pn,10),jn=Ft(jn,Hn,Vn,Pn,qn,Vr[4],0,9),Vn=Ot(Vn,10),qn=Ft(qn,jn,Hn,Vn,Pn,Vr[1],0,12),Hn=Ot(Hn,10),Pn=Ft(Pn,qn,jn,Hn,Vn,Vr[5],0,5),jn=Ot(jn,10),Vn=Ft(Vn,Pn,qn,jn,Hn,Vr[8],0,14),qn=Ot(qn,10),Hn=Ft(Hn,Vn,Pn,qn,jn,Vr[7],0,6),Pn=Ot(Pn,10),jn=Ft(jn,Hn,Vn,Pn,qn,Vr[6],0,8),Vn=Ot(Vn,10),qn=Ft(qn,jn,Hn,Vn,Pn,Vr[2],0,13),Hn=Ot(Hn,10),Pn=Ft(Pn,qn,jn,Hn,Vn,Vr[13],0,6),jn=Ot(jn,10),Vn=Ft(Vn,Pn,qn,jn,Hn,Vr[14],0,5),qn=Ot(qn,10),Hn=Ft(Hn,Vn,Pn,qn,jn,Vr[0],0,15),Pn=Ot(Pn,10),jn=Ft(jn,Hn,Vn,Pn,qn,Vr[3],0,13),Vn=Ot(Vn,10),qn=Ft(qn,jn,Hn,Vn,Pn,Vr[9],0,11),Hn=Ot(Hn,10),Pn=Ft(Pn,qn,jn,Hn,Vn,Vr[11],0,11),jn=Ot(jn,10);var Jn=this._b+En+jn|0;this._b=this._c+_n+Hn|0,this._c=this._d+Dn+Vn|0,this._d=this._e+dn+Pn|0,this._e=this._a+pn+qn|0,this._a=Jn},Mt.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Vr=new Buffer(20);return Vr.writeInt32LE(this._a,0),Vr.writeInt32LE(this._b,4),Vr.writeInt32LE(this._c,8),Vr.writeInt32LE(this._d,12),Vr.writeInt32LE(this._e,16),Vr};function Ot(Vr,fn){return Vr<<fn|Vr>>>32-fn}function Ft(Vr,fn,dn,pn,En,_n,Dn,Vn){return Ot(Vr+(fn^dn^pn)+_n+Dn|0,Vn)+En|0}function Ut(Vr,fn,dn,pn,En,_n,Dn,Vn){return Ot(Vr+(fn&dn|~fn&pn)+_n+Dn|0,Vn)+En|0}function Xt(Vr,fn,dn,pn,En,_n,Dn,Vn){return Ot(Vr+((fn|~dn)^pn)+_n+Dn|0,Vn)+En|0}function jr(Vr,fn,dn,pn,En,_n,Dn,Vn){return Ot(Vr+(fn&pn|dn&~pn)+_n+Dn|0,Vn)+En|0}function hn(Vr,fn,dn,pn,En,_n,Dn,Vn){return Ot(Vr+(fn^(dn|~pn))+_n+Dn|0,Vn)+En|0}return ripemd160=Mt,ripemd160}var toBuffer_1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer_1;hasRequiredToBuffer=1;var _e=requireSafeBuffer$1().Buffer,d=requireToBuffer$1(),Mt=typeof Uint8Array<"u",Ot=Mt&&typeof ArrayBuffer<"u",Ft=Ot&&ArrayBuffer.isView;return toBuffer_1=function(Ut,Xt,jr){if(typeof Ut=="string"||_e.isBuffer(Ut)||Mt&&Ut instanceof Uint8Array||Ft&&Ft(Ut))return d(Ut,Xt);throw new TypeError(jr+" must be a string, a Buffer, a Uint8Array, or a DataView")},toBuffer_1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var _e=requireMd5(),d=requireRipemd160(),Mt=requireSha_js(),Ot=requireSafeBuffer$1().Buffer,Ft=requirePrecondition(),Ut=requireDefaultEncoding(),Xt=requireToBuffer(),jr=Ot.alloc(128),hn={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},Vr={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function fn(_n){return new d().update(_n).digest()}function dn(_n){function Dn(Vn){return Mt(_n).update(Vn).digest()}return _n==="rmd160"||_n==="ripemd160"?fn:_n==="md5"?_e:Dn}function pn(_n,Dn,Vn){var Pn=dn(_n),qn=_n==="sha512"||_n==="sha384"?128:64;Dn.length>qn?Dn=Pn(Dn):Dn.length<qn&&(Dn=Ot.concat([Dn,jr],qn));for(var jn=Ot.allocUnsafe(qn+hn[_n]),Hn=Ot.allocUnsafe(qn+hn[_n]),Jn=0;Jn<qn;Jn++)jn[Jn]=Dn[Jn]^54,Hn[Jn]=Dn[Jn]^92;var Gn=Ot.allocUnsafe(qn+Vn+4);jn.copy(Gn,0,0,qn),this.ipad1=Gn,this.ipad2=jn,this.opad=Hn,this.alg=_n,this.blocksize=qn,this.hash=Pn,this.size=hn[_n]}pn.prototype.run=function(_n,Dn){_n.copy(Dn,this.blocksize);var Vn=this.hash(Dn);return Vn.copy(this.opad,this.blocksize),this.hash(this.opad)};function En(_n,Dn,Vn,Pn,qn){Ft(Vn,Pn),_n=Xt(_n,Ut,"Password"),Dn=Xt(Dn,Ut,"Salt");var jn=(qn||"sha1").toLowerCase(),Hn=Vr[jn]||jn,Jn=hn[Hn];if(typeof Jn!="number"||!Jn)throw new TypeError("Digest algorithm not supported: "+qn);var Gn=new pn(Hn,_n,Dn.length),ba=Ot.allocUnsafe(Pn),eo=Ot.allocUnsafe(Dn.length+4);Dn.copy(eo,0,0,Dn.length);for(var xa=0,Yn=Jn,Un=Math.ceil(Pn/Yn),Mn=1;Mn<=Un;Mn++){eo.writeUInt32BE(Mn,Dn.length);for(var mn=Gn.run(eo,Gn.ipad1),Xr=mn,gn=1;gn<Vn;gn++){Xr=Gn.run(Xr,Gn.ipad2);for(var On=0;On<Yn;On++)mn[On]^=Xr[On]}mn.copy(ba,xa),xa+=Yn}return ba}return syncBrowser=En,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var _e=requireSafeBuffer$1().Buffer,d=requirePrecondition(),Mt=requireDefaultEncoding(),Ot=requireSyncBrowser(),Ft=requireToBuffer(),Ut,Xt=globalThis.crypto&&globalThis.crypto.subtle,jr={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},hn=[],Vr;function fn(){return Vr||(globalThis.process&&globalThis.process.nextTick?Vr=globalThis.process.nextTick:globalThis.queueMicrotask?Vr=globalThis.queueMicrotask:globalThis.setImmediate?Vr=globalThis.setImmediate:Vr=globalThis.setTimeout,Vr)}function dn(_n,Dn,Vn,Pn,qn){return Xt.importKey("raw",_n,{name:"PBKDF2"},!1,["deriveBits"]).then(function(jn){return Xt.deriveBits({name:"PBKDF2",salt:Dn,iterations:Vn,hash:{name:qn}},jn,Pn<<3)}).then(function(jn){return _e.from(jn)})}function pn(_n){if(globalThis.process&&!globalThis.process.browser||!Xt||!Xt.importKey||!Xt.deriveBits)return Promise.resolve(!1);if(hn[_n]!==void 0)return hn[_n];Ut=Ut||_e.alloc(8);var Dn=dn(Ut,Ut,10,128,_n).then(function(){return!0},function(){return!1});return hn[_n]=Dn,Dn}function En(_n,Dn){_n.then(function(Vn){fn()(function(){Dn(null,Vn)})},function(Vn){fn()(function(){Dn(Vn)})})}return async=function(_n,Dn,Vn,Pn,qn,jn){typeof qn=="function"&&(jn=qn,qn=void 0),qn=qn||"sha1";var Hn=jr[qn.toLowerCase()];if(!Hn||typeof globalThis.Promise!="function"){fn()(function(){var Jn;try{Jn=Ot(_n,Dn,Vn,Pn,qn)}catch(Gn){jn(Gn);return}jn(null,Jn)});return}if(d(Vn,Pn),_n=Ft(_n,Mt,"Password"),Dn=Ft(Dn,Mt,"Salt"),typeof jn!="function")throw new Error("No callback provided to pbkdf2");En(pn(Hn).then(function(Jn){return Jn?dn(_n,Dn,Vn,Pn,Hn):Ot(_n,Dn,Vn,Pn,qn)}),jn)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(Ft,Ut){var Xt=Ft[0+Ut]<<24|Ft[1+Ut]<<16|Ft[2+Ut]<<8|Ft[3+Ut];return Xt>>>0},utils$3.writeUInt32BE=function(Ft,Ut,Xt){Ft[0+Xt]=Ut>>>24,Ft[1+Xt]=Ut>>>16&255,Ft[2+Xt]=Ut>>>8&255,Ft[3+Xt]=Ut&255},utils$3.ip=function(Ft,Ut,Xt,jr){for(var hn=0,Vr=0,fn=6;fn>=0;fn-=2){for(var dn=0;dn<=24;dn+=8)hn<<=1,hn|=Ut>>>dn+fn&1;for(var dn=0;dn<=24;dn+=8)hn<<=1,hn|=Ft>>>dn+fn&1}for(var fn=6;fn>=0;fn-=2){for(var dn=1;dn<=25;dn+=8)Vr<<=1,Vr|=Ut>>>dn+fn&1;for(var dn=1;dn<=25;dn+=8)Vr<<=1,Vr|=Ft>>>dn+fn&1}Xt[jr+0]=hn>>>0,Xt[jr+1]=Vr>>>0},utils$3.rip=function(Ft,Ut,Xt,jr){for(var hn=0,Vr=0,fn=0;fn<4;fn++)for(var dn=24;dn>=0;dn-=8)hn<<=1,hn|=Ut>>>dn+fn&1,hn<<=1,hn|=Ft>>>dn+fn&1;for(var fn=4;fn<8;fn++)for(var dn=24;dn>=0;dn-=8)Vr<<=1,Vr|=Ut>>>dn+fn&1,Vr<<=1,Vr|=Ft>>>dn+fn&1;Xt[jr+0]=hn>>>0,Xt[jr+1]=Vr>>>0},utils$3.pc1=function(Ft,Ut,Xt,jr){for(var hn=0,Vr=0,fn=7;fn>=5;fn--){for(var dn=0;dn<=24;dn+=8)hn<<=1,hn|=Ut>>dn+fn&1;for(var dn=0;dn<=24;dn+=8)hn<<=1,hn|=Ft>>dn+fn&1}for(var dn=0;dn<=24;dn+=8)hn<<=1,hn|=Ut>>dn+fn&1;for(var fn=1;fn<=3;fn++){for(var dn=0;dn<=24;dn+=8)Vr<<=1,Vr|=Ut>>dn+fn&1;for(var dn=0;dn<=24;dn+=8)Vr<<=1,Vr|=Ft>>dn+fn&1}for(var dn=0;dn<=24;dn+=8)Vr<<=1,Vr|=Ft>>dn+fn&1;Xt[jr+0]=hn>>>0,Xt[jr+1]=Vr>>>0},utils$3.r28shl=function(Ft,Ut){return Ft<<Ut&268435455|Ft>>>28-Ut};var _e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(Ft,Ut,Xt,jr){for(var hn=0,Vr=0,fn=_e.length>>>1,dn=0;dn<fn;dn++)hn<<=1,hn|=Ft>>>_e[dn]&1;for(var dn=fn;dn<_e.length;dn++)Vr<<=1,Vr|=Ut>>>_e[dn]&1;Xt[jr+0]=hn>>>0,Xt[jr+1]=Vr>>>0},utils$3.expand=function(Ft,Ut,Xt){var jr=0,hn=0;jr=(Ft&1)<<5|Ft>>>27;for(var Vr=23;Vr>=15;Vr-=4)jr<<=6,jr|=Ft>>>Vr&63;for(var Vr=11;Vr>=3;Vr-=4)hn|=Ft>>>Vr&63,hn<<=6;hn|=(Ft&31)<<1|Ft>>>31,Ut[Xt+0]=jr>>>0,Ut[Xt+1]=hn>>>0};var d=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(Ft,Ut){for(var Xt=0,jr=0;jr<4;jr++){var hn=Ft>>>18-jr*6&63,Vr=d[jr*64+hn];Xt<<=4,Xt|=Vr}for(var jr=0;jr<4;jr++){var hn=Ut>>>18-jr*6&63,Vr=d[4*64+jr*64+hn];Xt<<=4,Xt|=Vr}return Xt>>>0};var Mt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(Ft){for(var Ut=0,Xt=0;Xt<Mt.length;Xt++)Ut<<=1,Ut|=Ft>>>Mt[Xt]&1;return Ut>>>0},utils$3.padSplit=function(Ft,Ut,Xt){for(var jr=Ft.toString(2);jr.length<Ut;)jr="0"+jr;for(var hn=[],Vr=0;Vr<Ut;Vr+=Xt)hn.push(jr.slice(Vr,Vr+Xt));return hn.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=_e;function _e(d,Mt){if(!d)throw new Error(Mt||"Assertion failed")}return _e.equal=function(Mt,Ot,Ft){if(Mt!=Ot)throw new Error(Ft||"Assertion failed: "+Mt+" != "+Ot)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var _e=requireMinimalisticAssert();function d(Mt){this.options=Mt,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=Mt.padding!==!1}return cipher=d,d.prototype._init=function(){},d.prototype.update=function(Ot){return Ot.length===0?[]:this.type==="decrypt"?this._updateDecrypt(Ot):this._updateEncrypt(Ot)},d.prototype._buffer=function(Ot,Ft){for(var Ut=Math.min(this.buffer.length-this.bufferOff,Ot.length-Ft),Xt=0;Xt<Ut;Xt++)this.buffer[this.bufferOff+Xt]=Ot[Ft+Xt];return this.bufferOff+=Ut,Ut},d.prototype._flushBuffer=function(Ot,Ft){return this._update(this.buffer,0,Ot,Ft),this.bufferOff=0,this.blockSize},d.prototype._updateEncrypt=function(Ot){var Ft=0,Ut=0,Xt=(this.bufferOff+Ot.length)/this.blockSize|0,jr=new Array(Xt*this.blockSize);this.bufferOff!==0&&(Ft+=this._buffer(Ot,Ft),this.bufferOff===this.buffer.length&&(Ut+=this._flushBuffer(jr,Ut)));for(var hn=Ot.length-(Ot.length-Ft)%this.blockSize;Ft<hn;Ft+=this.blockSize)this._update(Ot,Ft,jr,Ut),Ut+=this.blockSize;for(;Ft<Ot.length;Ft++,this.bufferOff++)this.buffer[this.bufferOff]=Ot[Ft];return jr},d.prototype._updateDecrypt=function(Ot){for(var Ft=0,Ut=0,Xt=Math.ceil((this.bufferOff+Ot.length)/this.blockSize)-1,jr=new Array(Xt*this.blockSize);Xt>0;Xt--)Ft+=this._buffer(Ot,Ft),Ut+=this._flushBuffer(jr,Ut);return Ft+=this._buffer(Ot,Ft),jr},d.prototype.final=function(Ot){var Ft;Ot&&(Ft=this.update(Ot));var Ut;return this.type==="encrypt"?Ut=this._finalEncrypt():Ut=this._finalDecrypt(),Ft?Ft.concat(Ut):Ut},d.prototype._pad=function(Ot,Ft){if(Ft===0)return!1;for(;Ft<Ot.length;)Ot[Ft++]=0;return!0},d.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var Ot=new Array(this.blockSize);return this._update(this.buffer,0,Ot,0),Ot},d.prototype._unpad=function(Ot){return Ot},d.prototype._finalDecrypt=function(){_e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var Ot=new Array(this.blockSize);return this._flushBuffer(Ot,0),this._unpad(Ot)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var _e=requireMinimalisticAssert(),d=requireInherits_browser(),Mt=requireUtils$3(),Ot=requireCipher();function Ft(){this.tmp=new Array(2),this.keys=null}function Ut(jr){Ot.call(this,jr);var hn=new Ft;this._desState=hn,this.deriveKeys(hn,jr.key)}d(Ut,Ot),des=Ut,Ut.create=function(hn){return new Ut(hn)};var Xt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return Ut.prototype.deriveKeys=function(hn,Vr){hn.keys=new Array(16*2),_e.equal(Vr.length,this.blockSize,"Invalid key length");var fn=Mt.readUInt32BE(Vr,0),dn=Mt.readUInt32BE(Vr,4);Mt.pc1(fn,dn,hn.tmp,0),fn=hn.tmp[0],dn=hn.tmp[1];for(var pn=0;pn<hn.keys.length;pn+=2){var En=Xt[pn>>>1];fn=Mt.r28shl(fn,En),dn=Mt.r28shl(dn,En),Mt.pc2(fn,dn,hn.keys,pn)}},Ut.prototype._update=function(hn,Vr,fn,dn){var pn=this._desState,En=Mt.readUInt32BE(hn,Vr),_n=Mt.readUInt32BE(hn,Vr+4);Mt.ip(En,_n,pn.tmp,0),En=pn.tmp[0],_n=pn.tmp[1],this.type==="encrypt"?this._encrypt(pn,En,_n,pn.tmp,0):this._decrypt(pn,En,_n,pn.tmp,0),En=pn.tmp[0],_n=pn.tmp[1],Mt.writeUInt32BE(fn,En,dn),Mt.writeUInt32BE(fn,_n,dn+4)},Ut.prototype._pad=function(hn,Vr){if(this.padding===!1)return!1;for(var fn=hn.length-Vr,dn=Vr;dn<hn.length;dn++)hn[dn]=fn;return!0},Ut.prototype._unpad=function(hn){if(this.padding===!1)return hn;for(var Vr=hn[hn.length-1],fn=hn.length-Vr;fn<hn.length;fn++)_e.equal(hn[fn],Vr);return hn.slice(0,hn.length-Vr)},Ut.prototype._encrypt=function(hn,Vr,fn,dn,pn){for(var En=Vr,_n=fn,Dn=0;Dn<hn.keys.length;Dn+=2){var Vn=hn.keys[Dn],Pn=hn.keys[Dn+1];Mt.expand(_n,hn.tmp,0),Vn^=hn.tmp[0],Pn^=hn.tmp[1];var qn=Mt.substitute(Vn,Pn),jn=Mt.permute(qn),Hn=_n;_n=(En^jn)>>>0,En=Hn}Mt.rip(_n,En,dn,pn)},Ut.prototype._decrypt=function(hn,Vr,fn,dn,pn){for(var En=fn,_n=Vr,Dn=hn.keys.length-2;Dn>=0;Dn-=2){var Vn=hn.keys[Dn],Pn=hn.keys[Dn+1];Mt.expand(En,hn.tmp,0),Vn^=hn.tmp[0],Pn^=hn.tmp[1];var qn=Mt.substitute(Vn,Pn),jn=Mt.permute(qn),Hn=En;En=(_n^jn)>>>0,_n=Hn}Mt.rip(En,_n,dn,pn)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var _e=requireMinimalisticAssert(),d=requireInherits_browser(),Mt={};function Ot(Ut){_e.equal(Ut.length,8,"Invalid IV length"),this.iv=new Array(8);for(var Xt=0;Xt<this.iv.length;Xt++)this.iv[Xt]=Ut[Xt]}function Ft(Ut){function Xt(fn){Ut.call(this,fn),this._cbcInit()}d(Xt,Ut);for(var jr=Object.keys(Mt),hn=0;hn<jr.length;hn++){var Vr=jr[hn];Xt.prototype[Vr]=Mt[Vr]}return Xt.create=function(dn){return new Xt(dn)},Xt}return cbc$1.instantiate=Ft,Mt._cbcInit=function(){var Xt=new Ot(this.options.iv);this._cbcState=Xt},Mt._update=function(Xt,jr,hn,Vr){var fn=this._cbcState,dn=this.constructor.super_.prototype,pn=fn.iv;if(this.type==="encrypt"){for(var En=0;En<this.blockSize;En++)pn[En]^=Xt[jr+En];dn._update.call(this,pn,0,hn,Vr);for(var En=0;En<this.blockSize;En++)pn[En]=hn[Vr+En]}else{dn._update.call(this,Xt,jr,hn,Vr);for(var En=0;En<this.blockSize;En++)hn[Vr+En]^=pn[En];for(var En=0;En<this.blockSize;En++)pn[En]=Xt[jr+En]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var _e=requireMinimalisticAssert(),d=requireInherits_browser(),Mt=requireCipher(),Ot=requireDes$1();function Ft(Xt,jr){_e.equal(jr.length,24,"Invalid key length");var hn=jr.slice(0,8),Vr=jr.slice(8,16),fn=jr.slice(16,24);Xt==="encrypt"?this.ciphers=[Ot.create({type:"encrypt",key:hn}),Ot.create({type:"decrypt",key:Vr}),Ot.create({type:"encrypt",key:fn})]:this.ciphers=[Ot.create({type:"decrypt",key:fn}),Ot.create({type:"encrypt",key:Vr}),Ot.create({type:"decrypt",key:hn})]}function Ut(Xt){Mt.call(this,Xt);var jr=new Ft(this.type,this.options.key);this._edeState=jr}return d(Ut,Mt),ede=Ut,Ut.create=function(jr){return new Ut(jr)},Ut.prototype._update=function(jr,hn,Vr,fn){var dn=this._edeState;dn.ciphers[0]._update(jr,hn,Vr,fn),dn.ciphers[1]._update(Vr,fn,Vr,fn),dn.ciphers[2]._update(Vr,fn,Vr,fn)},Ut.prototype._pad=Ot.prototype._pad,Ut.prototype._unpad=Ot.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var _e=requireCipherBase(),d=requireDes(),Mt=requireInherits_browser(),Ot=requireSafeBuffer$1().Buffer,Ft={"des-ede3-cbc":d.CBC.instantiate(d.EDE),"des-ede3":d.EDE,"des-ede-cbc":d.CBC.instantiate(d.EDE),"des-ede":d.EDE,"des-cbc":d.CBC.instantiate(d.DES),"des-ecb":d.DES};Ft.des=Ft["des-cbc"],Ft.des3=Ft["des-ede3-cbc"],browserifyDes=Ut,Mt(Ut,_e);function Ut(Xt){_e.call(this);var jr=Xt.mode.toLowerCase(),hn=Ft[jr],Vr;Xt.decrypt?Vr="decrypt":Vr="encrypt";var fn=Xt.key;Ot.isBuffer(fn)||(fn=Ot.from(fn)),(jr==="des-ede"||jr==="des-ede-cbc")&&(fn=Ot.concat([fn,fn.slice(0,8)]));var dn=Xt.iv;Ot.isBuffer(dn)||(dn=Ot.from(dn)),this._des=hn.create({key:fn,iv:dn,type:Vr})}return Ut.prototype._update=function(Xt){return Ot.from(this._des.update(Xt))},Ut.prototype._final=function(){return Ot.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(_e,d){return _e._cipher.encryptBlock(d)},ecb.decrypt=function(_e,d){return _e._cipher.decryptBlock(d)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(d,Mt){for(var Ot=Math.min(d.length,Mt.length),Ft=new Buffer(Ot),Ut=0;Ut<Ot;++Ut)Ft[Ut]=d[Ut]^Mt[Ut];return Ft}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var _e=requireBufferXor();return cbc.encrypt=function(d,Mt){var Ot=_e(Mt,d._prev);return d._prev=d._cipher.encryptBlock(Ot),d._prev},cbc.decrypt=function(d,Mt){var Ot=d._prev;d._prev=Mt;var Ft=d._cipher.decryptBlock(Mt);return _e(Ft,Ot)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var _e=requireSafeBuffer$1().Buffer,d=requireBufferXor();function Mt(Ot,Ft,Ut){var Xt=Ft.length,jr=d(Ft,Ot._cache);return Ot._cache=Ot._cache.slice(Xt),Ot._prev=_e.concat([Ot._prev,Ut?Ft:jr]),jr}return cfb.encrypt=function(Ot,Ft,Ut){for(var Xt=_e.allocUnsafe(0),jr;Ft.length;)if(Ot._cache.length===0&&(Ot._cache=Ot._cipher.encryptBlock(Ot._prev),Ot._prev=_e.allocUnsafe(0)),Ot._cache.length<=Ft.length)jr=Ot._cache.length,Xt=_e.concat([Xt,Mt(Ot,Ft.slice(0,jr),Ut)]),Ft=Ft.slice(jr);else{Xt=_e.concat([Xt,Mt(Ot,Ft,Ut)]);break}return Xt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var _e=requireSafeBuffer$1().Buffer;function d(Mt,Ot,Ft){var Ut=Mt._cipher.encryptBlock(Mt._prev),Xt=Ut[0]^Ot;return Mt._prev=_e.concat([Mt._prev.slice(1),_e.from([Ft?Ot:Xt])]),Xt}return cfb8.encrypt=function(Mt,Ot,Ft){for(var Ut=Ot.length,Xt=_e.allocUnsafe(Ut),jr=-1;++jr<Ut;)Xt[jr]=d(Mt,Ot[jr],Ft);return Xt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var _e=requireSafeBuffer$1().Buffer;function d(Ot,Ft,Ut){for(var Xt,jr=-1,hn=8,Vr=0,fn,dn;++jr<hn;)Xt=Ot._cipher.encryptBlock(Ot._prev),fn=Ft&1<<7-jr?128:0,dn=Xt[0]^fn,Vr+=(dn&128)>>jr%8,Ot._prev=Mt(Ot._prev,Ut?fn:dn);return Vr}function Mt(Ot,Ft){var Ut=Ot.length,Xt=-1,jr=_e.allocUnsafe(Ot.length);for(Ot=_e.concat([Ot,_e.from([Ft])]);++Xt<Ut;)jr[Xt]=Ot[Xt]<<1|Ot[Xt+1]>>7;return jr}return cfb1.encrypt=function(Ot,Ft,Ut){for(var Xt=Ft.length,jr=_e.allocUnsafe(Xt),hn=-1;++hn<Xt;)jr[hn]=d(Ot,Ft[hn],Ut);return jr},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var _e=requireBufferXor();function d(Mt){return Mt._prev=Mt._cipher.encryptBlock(Mt._prev),Mt._prev}return ofb.encrypt=function(Mt,Ot){for(;Mt._cache.length<Ot.length;)Mt._cache=Buffer.concat([Mt._cache,d(Mt)]);var Ft=Mt._cache.slice(0,Ot.length);return Mt._cache=Mt._cache.slice(Ot.length),_e(Ot,Ft)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function _e(d){for(var Mt=d.length,Ot;Mt--;)if(Ot=d.readUInt8(Mt),Ot===255)d.writeUInt8(0,Mt);else{Ot++,d.writeUInt8(Ot,Mt);break}}return incr32_1=_e,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var _e=requireBufferXor(),d=requireSafeBuffer$1().Buffer,Mt=requireIncr32();function Ot(Ut){var Xt=Ut._cipher.encryptBlockRaw(Ut._prev);return Mt(Ut._prev),Xt}var Ft=16;return ctr.encrypt=function(Ut,Xt){var jr=Math.ceil(Xt.length/Ft),hn=Ut._cache.length;Ut._cache=d.concat([Ut._cache,d.allocUnsafe(jr*Ft)]);for(var Vr=0;Vr<jr;Vr++){var fn=Ot(Ut),dn=hn+Vr*Ft;Ut._cache.writeUInt32BE(fn[0],dn+0),Ut._cache.writeUInt32BE(fn[1],dn+4),Ut._cache.writeUInt32BE(fn[2],dn+8),Ut._cache.writeUInt32BE(fn[3],dn+12)}var pn=Ut._cache.slice(0,Xt.length);return Ut._cache=Ut._cache.slice(Xt.length),_e(Xt,pn)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var _e={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},d=require$$2;for(var Mt in d)d[Mt].module=_e[d[Mt].mode];return modes_1=d,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var _e=requireSafeBuffer$1().Buffer;function d(jr){_e.isBuffer(jr)||(jr=_e.from(jr));for(var hn=jr.length/4|0,Vr=new Array(hn),fn=0;fn<hn;fn++)Vr[fn]=jr.readUInt32BE(fn*4);return Vr}function Mt(jr){for(var hn=0;hn<jr.length;jr++)jr[hn]=0}function Ot(jr,hn,Vr,fn,dn){for(var pn=Vr[0],En=Vr[1],_n=Vr[2],Dn=Vr[3],Vn=jr[0]^hn[0],Pn=jr[1]^hn[1],qn=jr[2]^hn[2],jn=jr[3]^hn[3],Hn,Jn,Gn,ba,eo=4,xa=1;xa<dn;xa++)Hn=pn[Vn>>>24]^En[Pn>>>16&255]^_n[qn>>>8&255]^Dn[jn&255]^hn[eo++],Jn=pn[Pn>>>24]^En[qn>>>16&255]^_n[jn>>>8&255]^Dn[Vn&255]^hn[eo++],Gn=pn[qn>>>24]^En[jn>>>16&255]^_n[Vn>>>8&255]^Dn[Pn&255]^hn[eo++],ba=pn[jn>>>24]^En[Vn>>>16&255]^_n[Pn>>>8&255]^Dn[qn&255]^hn[eo++],Vn=Hn,Pn=Jn,qn=Gn,jn=ba;return Hn=(fn[Vn>>>24]<<24|fn[Pn>>>16&255]<<16|fn[qn>>>8&255]<<8|fn[jn&255])^hn[eo++],Jn=(fn[Pn>>>24]<<24|fn[qn>>>16&255]<<16|fn[jn>>>8&255]<<8|fn[Vn&255])^hn[eo++],Gn=(fn[qn>>>24]<<24|fn[jn>>>16&255]<<16|fn[Vn>>>8&255]<<8|fn[Pn&255])^hn[eo++],ba=(fn[jn>>>24]<<24|fn[Vn>>>16&255]<<16|fn[Pn>>>8&255]<<8|fn[qn&255])^hn[eo++],Hn=Hn>>>0,Jn=Jn>>>0,Gn=Gn>>>0,ba=ba>>>0,[Hn,Jn,Gn,ba]}var Ft=[0,1,2,4,8,16,32,64,128,27,54],Ut=function(){for(var jr=new Array(256),hn=0;hn<256;hn++)hn<128?jr[hn]=hn<<1:jr[hn]=hn<<1^283;for(var Vr=[],fn=[],dn=[[],[],[],[]],pn=[[],[],[],[]],En=0,_n=0,Dn=0;Dn<256;++Dn){var Vn=_n^_n<<1^_n<<2^_n<<3^_n<<4;Vn=Vn>>>8^Vn&255^99,Vr[En]=Vn,fn[Vn]=En;var Pn=jr[En],qn=jr[Pn],jn=jr[qn],Hn=jr[Vn]*257^Vn*16843008;dn[0][En]=Hn<<24|Hn>>>8,dn[1][En]=Hn<<16|Hn>>>16,dn[2][En]=Hn<<8|Hn>>>24,dn[3][En]=Hn,Hn=jn*16843009^qn*65537^Pn*257^En*16843008,pn[0][Vn]=Hn<<24|Hn>>>8,pn[1][Vn]=Hn<<16|Hn>>>16,pn[2][Vn]=Hn<<8|Hn>>>24,pn[3][Vn]=Hn,En===0?En=_n=1:(En=Pn^jr[jr[jr[jn^Pn]]],_n^=jr[jr[_n]])}return{SBOX:Vr,INV_SBOX:fn,SUB_MIX:dn,INV_SUB_MIX:pn}}();function Xt(jr){this._key=d(jr),this._reset()}return Xt.blockSize=4*4,Xt.keySize=256/8,Xt.prototype.blockSize=Xt.blockSize,Xt.prototype.keySize=Xt.keySize,Xt.prototype._reset=function(){for(var jr=this._key,hn=jr.length,Vr=hn+6,fn=(Vr+1)*4,dn=[],pn=0;pn<hn;pn++)dn[pn]=jr[pn];for(pn=hn;pn<fn;pn++){var En=dn[pn-1];pn%hn===0?(En=En<<8|En>>>24,En=Ut.SBOX[En>>>24]<<24|Ut.SBOX[En>>>16&255]<<16|Ut.SBOX[En>>>8&255]<<8|Ut.SBOX[En&255],En^=Ft[pn/hn|0]<<24):hn>6&&pn%hn===4&&(En=Ut.SBOX[En>>>24]<<24|Ut.SBOX[En>>>16&255]<<16|Ut.SBOX[En>>>8&255]<<8|Ut.SBOX[En&255]),dn[pn]=dn[pn-hn]^En}for(var _n=[],Dn=0;Dn<fn;Dn++){var Vn=fn-Dn,Pn=dn[Vn-(Dn%4?0:4)];Dn<4||Vn<=4?_n[Dn]=Pn:_n[Dn]=Ut.INV_SUB_MIX[0][Ut.SBOX[Pn>>>24]]^Ut.INV_SUB_MIX[1][Ut.SBOX[Pn>>>16&255]]^Ut.INV_SUB_MIX[2][Ut.SBOX[Pn>>>8&255]]^Ut.INV_SUB_MIX[3][Ut.SBOX[Pn&255]]}this._nRounds=Vr,this._keySchedule=dn,this._invKeySchedule=_n},Xt.prototype.encryptBlockRaw=function(jr){return jr=d(jr),Ot(jr,this._keySchedule,Ut.SUB_MIX,Ut.SBOX,this._nRounds)},Xt.prototype.encryptBlock=function(jr){var hn=this.encryptBlockRaw(jr),Vr=_e.allocUnsafe(16);return Vr.writeUInt32BE(hn[0],0),Vr.writeUInt32BE(hn[1],4),Vr.writeUInt32BE(hn[2],8),Vr.writeUInt32BE(hn[3],12),Vr},Xt.prototype.decryptBlock=function(jr){jr=d(jr);var hn=jr[1];jr[1]=jr[3],jr[3]=hn;var Vr=Ot(jr,this._invKeySchedule,Ut.INV_SUB_MIX,Ut.INV_SBOX,this._nRounds),fn=_e.allocUnsafe(16);return fn.writeUInt32BE(Vr[0],0),fn.writeUInt32BE(Vr[3],4),fn.writeUInt32BE(Vr[2],8),fn.writeUInt32BE(Vr[1],12),fn},Xt.prototype.scrub=function(){Mt(this._keySchedule),Mt(this._invKeySchedule),Mt(this._key)},aes.AES=Xt,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var _e=requireSafeBuffer$1().Buffer,d=_e.alloc(16,0);function Mt(Ut){return[Ut.readUInt32BE(0),Ut.readUInt32BE(4),Ut.readUInt32BE(8),Ut.readUInt32BE(12)]}function Ot(Ut){var Xt=_e.allocUnsafe(16);return Xt.writeUInt32BE(Ut[0]>>>0,0),Xt.writeUInt32BE(Ut[1]>>>0,4),Xt.writeUInt32BE(Ut[2]>>>0,8),Xt.writeUInt32BE(Ut[3]>>>0,12),Xt}function Ft(Ut){this.h=Ut,this.state=_e.alloc(16,0),this.cache=_e.allocUnsafe(0)}return Ft.prototype.ghash=function(Ut){for(var Xt=-1;++Xt<Ut.length;)this.state[Xt]^=Ut[Xt];this._multiply()},Ft.prototype._multiply=function(){for(var Ut=Mt(this.h),Xt=[0,0,0,0],jr,hn,Vr,fn=-1;++fn<128;){for(hn=(this.state[~~(fn/8)]&1<<7-fn%8)!==0,hn&&(Xt[0]^=Ut[0],Xt[1]^=Ut[1],Xt[2]^=Ut[2],Xt[3]^=Ut[3]),Vr=(Ut[3]&1)!==0,jr=3;jr>0;jr--)Ut[jr]=Ut[jr]>>>1|(Ut[jr-1]&1)<<31;Ut[0]=Ut[0]>>>1,Vr&&(Ut[0]=Ut[0]^225<<24)}this.state=Ot(Xt)},Ft.prototype.update=function(Ut){this.cache=_e.concat([this.cache,Ut]);for(var Xt;this.cache.length>=16;)Xt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(Xt)},Ft.prototype.final=function(Ut,Xt){return this.cache.length&&this.ghash(_e.concat([this.cache,d],16)),this.ghash(Ot([0,Ut,0,Xt])),this.state},ghash=Ft,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var _e=requireAes(),d=requireSafeBuffer$1().Buffer,Mt=requireCipherBase(),Ot=requireInherits_browser(),Ft=requireGhash(),Ut=requireBufferXor(),Xt=requireIncr32();function jr(fn,dn){var pn=0;fn.length!==dn.length&&pn++;for(var En=Math.min(fn.length,dn.length),_n=0;_n<En;++_n)pn+=fn[_n]^dn[_n];return pn}function hn(fn,dn,pn){if(dn.length===12)return fn._finID=d.concat([dn,d.from([0,0,0,1])]),d.concat([dn,d.from([0,0,0,2])]);var En=new Ft(pn),_n=dn.length,Dn=_n%16;En.update(dn),Dn&&(Dn=16-Dn,En.update(d.alloc(Dn,0))),En.update(d.alloc(8,0));var Vn=_n*8,Pn=d.alloc(8);Pn.writeUIntBE(Vn,0,8),En.update(Pn),fn._finID=En.state;var qn=d.from(fn._finID);return Xt(qn),qn}function Vr(fn,dn,pn,En){Mt.call(this);var _n=d.alloc(4,0);this._cipher=new _e.AES(dn);var Dn=this._cipher.encryptBlock(_n);this._ghash=new Ft(Dn),pn=hn(this,pn,Dn),this._prev=d.from(pn),this._cache=d.allocUnsafe(0),this._secCache=d.allocUnsafe(0),this._decrypt=En,this._alen=0,this._len=0,this._mode=fn,this._authTag=null,this._called=!1}return Ot(Vr,Mt),Vr.prototype._update=function(fn){if(!this._called&&this._alen){var dn=16-this._alen%16;dn<16&&(dn=d.alloc(dn,0),this._ghash.update(dn))}this._called=!0;var pn=this._mode.encrypt(this,fn);return this._decrypt?this._ghash.update(fn):this._ghash.update(pn),this._len+=fn.length,pn},Vr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var fn=Ut(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&jr(fn,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=fn,this._cipher.scrub()},Vr.prototype.getAuthTag=function(){if(this._decrypt||!d.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Vr.prototype.setAuthTag=function(dn){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=dn},Vr.prototype.setAAD=function(dn){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(dn),this._alen+=dn.length},authCipher=Vr,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var _e=requireAes(),d=requireSafeBuffer$1().Buffer,Mt=requireCipherBase(),Ot=requireInherits_browser();function Ft(Ut,Xt,jr,hn){Mt.call(this),this._cipher=new _e.AES(Xt),this._prev=d.from(jr),this._cache=d.allocUnsafe(0),this._secCache=d.allocUnsafe(0),this._decrypt=hn,this._mode=Ut}return Ot(Ft,Mt),Ft.prototype._update=function(Ut){return this._mode.encrypt(this,Ut,this._decrypt)},Ft.prototype._final=function(){this._cipher.scrub()},streamCipher=Ft,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var _e=requireSafeBuffer$1().Buffer,d=requireMd5_js();function Mt(Ot,Ft,Ut,Xt){if(_e.isBuffer(Ot)||(Ot=_e.from(Ot,"binary")),Ft&&(_e.isBuffer(Ft)||(Ft=_e.from(Ft,"binary")),Ft.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var jr=Ut/8,hn=_e.alloc(jr),Vr=_e.alloc(Xt||0),fn=_e.alloc(0);jr>0||Xt>0;){var dn=new d;dn.update(fn),dn.update(Ot),Ft&&dn.update(Ft),fn=dn.digest();var pn=0;if(jr>0){var En=hn.length-jr;pn=Math.min(jr,fn.length),fn.copy(hn,En,0,pn),jr-=pn}if(pn<fn.length&&Xt>0){var _n=Vr.length-Xt,Dn=Math.min(Xt,fn.length-pn);fn.copy(Vr,_n,pn,pn+Dn),Xt-=Dn}}return fn.fill(0),{key:hn,iv:Vr}}return evp_bytestokey=Mt,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var _e=requireModes$1(),d=requireAuthCipher(),Mt=requireSafeBuffer$1().Buffer,Ot=requireStreamCipher(),Ft=requireCipherBase(),Ut=requireAes(),Xt=requireEvp_bytestokey(),jr=requireInherits_browser();function hn(En,_n,Dn){Ft.call(this),this._cache=new fn,this._cipher=new Ut.AES(_n),this._prev=Mt.from(Dn),this._mode=En,this._autopadding=!0}jr(hn,Ft),hn.prototype._update=function(En){this._cache.add(En);for(var _n,Dn,Vn=[];_n=this._cache.get();)Dn=this._mode.encrypt(this,_n),Vn.push(Dn);return Mt.concat(Vn)};var Vr=Mt.alloc(16,16);hn.prototype._final=function(){var En=this._cache.flush();if(this._autopadding)return En=this._mode.encrypt(this,En),this._cipher.scrub(),En;if(!En.equals(Vr))throw this._cipher.scrub(),new Error("data not multiple of block length")},hn.prototype.setAutoPadding=function(En){return this._autopadding=!!En,this};function fn(){this.cache=Mt.allocUnsafe(0)}fn.prototype.add=function(En){this.cache=Mt.concat([this.cache,En])},fn.prototype.get=function(){if(this.cache.length>15){var En=this.cache.slice(0,16);return this.cache=this.cache.slice(16),En}return null},fn.prototype.flush=function(){for(var En=16-this.cache.length,_n=Mt.allocUnsafe(En),Dn=-1;++Dn<En;)_n.writeUInt8(En,Dn);return Mt.concat([this.cache,_n])};function dn(En,_n,Dn){var Vn=_e[En.toLowerCase()];if(!Vn)throw new TypeError("invalid suite type");if(typeof _n=="string"&&(_n=Mt.from(_n)),_n.length!==Vn.key/8)throw new TypeError("invalid key length "+_n.length);if(typeof Dn=="string"&&(Dn=Mt.from(Dn)),Vn.mode!=="GCM"&&Dn.length!==Vn.iv)throw new TypeError("invalid iv length "+Dn.length);return Vn.type==="stream"?new Ot(Vn.module,_n,Dn):Vn.type==="auth"?new d(Vn.module,_n,Dn):new hn(Vn.module,_n,Dn)}function pn(En,_n){var Dn=_e[En.toLowerCase()];if(!Dn)throw new TypeError("invalid suite type");var Vn=Xt(_n,!1,Dn.key,Dn.iv);return dn(En,Vn.key,Vn.iv)}return encrypter.createCipheriv=dn,encrypter.createCipher=pn,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var _e=requireAuthCipher(),d=requireSafeBuffer$1().Buffer,Mt=requireModes$1(),Ot=requireStreamCipher(),Ft=requireCipherBase(),Ut=requireAes(),Xt=requireEvp_bytestokey(),jr=requireInherits_browser();function hn(En,_n,Dn){Ft.call(this),this._cache=new Vr,this._last=void 0,this._cipher=new Ut.AES(_n),this._prev=d.from(Dn),this._mode=En,this._autopadding=!0}jr(hn,Ft),hn.prototype._update=function(En){this._cache.add(En);for(var _n,Dn,Vn=[];_n=this._cache.get(this._autopadding);)Dn=this._mode.decrypt(this,_n),Vn.push(Dn);return d.concat(Vn)},hn.prototype._final=function(){var En=this._cache.flush();if(this._autopadding)return fn(this._mode.decrypt(this,En));if(En)throw new Error("data not multiple of block length")},hn.prototype.setAutoPadding=function(En){return this._autopadding=!!En,this};function Vr(){this.cache=d.allocUnsafe(0)}Vr.prototype.add=function(En){this.cache=d.concat([this.cache,En])},Vr.prototype.get=function(En){var _n;if(En){if(this.cache.length>16)return _n=this.cache.slice(0,16),this.cache=this.cache.slice(16),_n}else if(this.cache.length>=16)return _n=this.cache.slice(0,16),this.cache=this.cache.slice(16),_n;return null},Vr.prototype.flush=function(){if(this.cache.length)return this.cache};function fn(En){var _n=En[15];if(_n<1||_n>16)throw new Error("unable to decrypt data");for(var Dn=-1;++Dn<_n;)if(En[Dn+(16-_n)]!==_n)throw new Error("unable to decrypt data");if(_n!==16)return En.slice(0,16-_n)}function dn(En,_n,Dn){var Vn=Mt[En.toLowerCase()];if(!Vn)throw new TypeError("invalid suite type");if(typeof Dn=="string"&&(Dn=d.from(Dn)),Vn.mode!=="GCM"&&Dn.length!==Vn.iv)throw new TypeError("invalid iv length "+Dn.length);if(typeof _n=="string"&&(_n=d.from(_n)),_n.length!==Vn.key/8)throw new TypeError("invalid key length "+_n.length);return Vn.type==="stream"?new Ot(Vn.module,_n,Dn,!0):Vn.type==="auth"?new _e(Vn.module,_n,Dn,!0):new hn(Vn.module,_n,Dn)}function pn(En,_n){var Dn=Mt[En.toLowerCase()];if(!Dn)throw new TypeError("invalid suite type");var Vn=Xt(_n,!1,Dn.key,Dn.iv);return dn(En,Vn.key,Vn.iv)}return decrypter.createDecipher=pn,decrypter.createDecipheriv=dn,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var _e=requireEncrypter(),d=requireDecrypter(),Mt=require$$2;function Ot(){return Object.keys(Mt)}return browser$5.createCipher=browser$5.Cipher=_e.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=_e.createCipheriv,browser$5.createDecipher=browser$5.Decipher=d.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=d.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=Ot,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(_e){_e["des-ecb"]={key:8,iv:0},_e["des-cbc"]=_e.des={key:8,iv:8},_e["des-ede3-cbc"]=_e.des3={key:24,iv:8},_e["des-ede3"]={key:24,iv:0},_e["des-ede-cbc"]={key:16,iv:8},_e["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var _e=requireBrowserifyDes(),d=requireBrowser$6(),Mt=requireModes$1(),Ot=requireModes(),Ft=requireEvp_bytestokey();function Ut(fn,dn){fn=fn.toLowerCase();var pn,En;if(Mt[fn])pn=Mt[fn].key,En=Mt[fn].iv;else if(Ot[fn])pn=Ot[fn].key*8,En=Ot[fn].iv;else throw new TypeError("invalid suite type");var _n=Ft(dn,!1,pn,En);return jr(fn,_n.key,_n.iv)}function Xt(fn,dn){fn=fn.toLowerCase();var pn,En;if(Mt[fn])pn=Mt[fn].key,En=Mt[fn].iv;else if(Ot[fn])pn=Ot[fn].key*8,En=Ot[fn].iv;else throw new TypeError("invalid suite type");var _n=Ft(dn,!1,pn,En);return hn(fn,_n.key,_n.iv)}function jr(fn,dn,pn){if(fn=fn.toLowerCase(),Mt[fn])return d.createCipheriv(fn,dn,pn);if(Ot[fn])return new _e({key:dn,iv:pn,mode:fn});throw new TypeError("invalid suite type")}function hn(fn,dn,pn){if(fn=fn.toLowerCase(),Mt[fn])return d.createDecipheriv(fn,dn,pn);if(Ot[fn])return new _e({key:dn,iv:pn,mode:fn,decrypt:!0});throw new TypeError("invalid suite type")}function Vr(){return Object.keys(Ot).concat(d.getCiphers())}return browser$6.createCipher=browser$6.Cipher=Ut,browser$6.createCipheriv=browser$6.Cipheriv=jr,browser$6.createDecipher=browser$6.Decipher=Xt,browser$6.createDecipheriv=browser$6.Decipheriv=hn,browser$6.listCiphers=browser$6.getCiphers=Vr,browser$6}var browser$4={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(_e){(function(d,Mt){function Ot(Yn,Un){if(!Yn)throw new Error(Un||"Assertion failed")}function Ft(Yn,Un){Yn.super_=Un;var Mn=function(){};Mn.prototype=Un.prototype,Yn.prototype=new Mn,Yn.prototype.constructor=Yn}function Ut(Yn,Un,Mn){if(Ut.isBN(Yn))return Yn;this.negative=0,this.words=null,this.length=0,this.red=null,Yn!==null&&((Un==="le"||Un==="be")&&(Mn=Un,Un=10),this._init(Yn||0,Un||10,Mn||"be"))}typeof d=="object"?d.exports=Ut:Mt.BN=Ut,Ut.BN=Ut,Ut.wordSize=26;var Xt;try{Xt=require$$1$2.Buffer}catch{}Ut.isBN=function(Un){return Un instanceof Ut?!0:Un!==null&&typeof Un=="object"&&Un.constructor.wordSize===Ut.wordSize&&Array.isArray(Un.words)},Ut.max=function(Un,Mn){return Un.cmp(Mn)>0?Un:Mn},Ut.min=function(Un,Mn){return Un.cmp(Mn)<0?Un:Mn},Ut.prototype._init=function(Un,Mn,mn){if(typeof Un=="number")return this._initNumber(Un,Mn,mn);if(typeof Un=="object")return this._initArray(Un,Mn,mn);Mn==="hex"&&(Mn=16),Ot(Mn===(Mn|0)&&Mn>=2&&Mn<=36),Un=Un.toString().replace(/\s+/g,"");var Xr=0;Un[0]==="-"&&Xr++,Mn===16?this._parseHex(Un,Xr):this._parseBase(Un,Mn,Xr),Un[0]==="-"&&(this.negative=1),this.strip(),mn==="le"&&this._initArray(this.toArray(),Mn,mn)},Ut.prototype._initNumber=function(Un,Mn,mn){Un<0&&(this.negative=1,Un=-Un),Un<67108864?(this.words=[Un&67108863],this.length=1):Un<4503599627370496?(this.words=[Un&67108863,Un/67108864&67108863],this.length=2):(Ot(Un<9007199254740992),this.words=[Un&67108863,Un/67108864&67108863,1],this.length=3),mn==="le"&&this._initArray(this.toArray(),Mn,mn)},Ut.prototype._initArray=function(Un,Mn,mn){if(Ot(typeof Un.length=="number"),Un.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Un.length/3),this.words=new Array(this.length);for(var Xr=0;Xr<this.length;Xr++)this.words[Xr]=0;var gn,On,Ln=0;if(mn==="be")for(Xr=Un.length-1,gn=0;Xr>=0;Xr-=3)On=Un[Xr]|Un[Xr-1]<<8|Un[Xr-2]<<16,this.words[gn]|=On<<Ln&67108863,this.words[gn+1]=On>>>26-Ln&67108863,Ln+=24,Ln>=26&&(Ln-=26,gn++);else if(mn==="le")for(Xr=0,gn=0;Xr<Un.length;Xr+=3)On=Un[Xr]|Un[Xr+1]<<8|Un[Xr+2]<<16,this.words[gn]|=On<<Ln&67108863,this.words[gn+1]=On>>>26-Ln&67108863,Ln+=24,Ln>=26&&(Ln-=26,gn++);return this.strip()};function jr(Yn,Un,Mn){for(var mn=0,Xr=Math.min(Yn.length,Mn),gn=Un;gn<Xr;gn++){var On=Yn.charCodeAt(gn)-48;mn<<=4,On>=49&&On<=54?mn|=On-49+10:On>=17&&On<=22?mn|=On-17+10:mn|=On&15}return mn}Ut.prototype._parseHex=function(Un,Mn){this.length=Math.ceil((Un.length-Mn)/6),this.words=new Array(this.length);for(var mn=0;mn<this.length;mn++)this.words[mn]=0;var Xr,gn,On=0;for(mn=Un.length-6,Xr=0;mn>=Mn;mn-=6)gn=jr(Un,mn,mn+6),this.words[Xr]|=gn<<On&67108863,this.words[Xr+1]|=gn>>>26-On&4194303,On+=24,On>=26&&(On-=26,Xr++);mn+6!==Mn&&(gn=jr(Un,Mn,mn+6),this.words[Xr]|=gn<<On&67108863,this.words[Xr+1]|=gn>>>26-On&4194303),this.strip()};function hn(Yn,Un,Mn,mn){for(var Xr=0,gn=Math.min(Yn.length,Mn),On=Un;On<gn;On++){var Ln=Yn.charCodeAt(On)-48;Xr*=mn,Ln>=49?Xr+=Ln-49+10:Ln>=17?Xr+=Ln-17+10:Xr+=Ln}return Xr}Ut.prototype._parseBase=function(Un,Mn,mn){this.words=[0],this.length=1;for(var Xr=0,gn=1;gn<=67108863;gn*=Mn)Xr++;Xr--,gn=gn/Mn|0;for(var On=Un.length-mn,Ln=On%Xr,Rn=Math.min(On,On-Ln)+mn,yn=0,kn=mn;kn<Rn;kn+=Xr)yn=hn(Un,kn,kn+Xr,Mn),this.imuln(gn),this.words[0]+yn<67108864?this.words[0]+=yn:this._iaddn(yn);if(Ln!==0){var Fn=1;for(yn=hn(Un,kn,Un.length,Mn),kn=0;kn<Ln;kn++)Fn*=Mn;this.imuln(Fn),this.words[0]+yn<67108864?this.words[0]+=yn:this._iaddn(yn)}},Ut.prototype.copy=function(Un){Un.words=new Array(this.length);for(var Mn=0;Mn<this.length;Mn++)Un.words[Mn]=this.words[Mn];Un.length=this.length,Un.negative=this.negative,Un.red=this.red},Ut.prototype.clone=function(){var Un=new Ut(null);return this.copy(Un),Un},Ut.prototype._expand=function(Un){for(;this.length<Un;)this.words[this.length++]=0;return this},Ut.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ut.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ut.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Vr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fn=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],dn=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ut.prototype.toString=function(Un,Mn){Un=Un||10,Mn=Mn|0||1;var mn;if(Un===16||Un==="hex"){mn="";for(var Xr=0,gn=0,On=0;On<this.length;On++){var Ln=this.words[On],Rn=((Ln<<Xr|gn)&16777215).toString(16);gn=Ln>>>24-Xr&16777215,gn!==0||On!==this.length-1?mn=Vr[6-Rn.length]+Rn+mn:mn=Rn+mn,Xr+=2,Xr>=26&&(Xr-=26,On--)}for(gn!==0&&(mn=gn.toString(16)+mn);mn.length%Mn!==0;)mn="0"+mn;return this.negative!==0&&(mn="-"+mn),mn}if(Un===(Un|0)&&Un>=2&&Un<=36){var yn=fn[Un],kn=dn[Un];mn="";var Fn=this.clone();for(Fn.negative=0;!Fn.isZero();){var Cn=Fn.modn(kn).toString(Un);Fn=Fn.idivn(kn),Fn.isZero()?mn=Cn+mn:mn=Vr[yn-Cn.length]+Cn+mn}for(this.isZero()&&(mn="0"+mn);mn.length%Mn!==0;)mn="0"+mn;return this.negative!==0&&(mn="-"+mn),mn}Ot(!1,"Base should be between 2 and 36")},Ut.prototype.toNumber=function(){var Un=this.words[0];return this.length===2?Un+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Un+=4503599627370496+this.words[1]*67108864:this.length>2&&Ot(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Un:Un},Ut.prototype.toJSON=function(){return this.toString(16)},Ut.prototype.toBuffer=function(Un,Mn){return Ot(typeof Xt<"u"),this.toArrayLike(Xt,Un,Mn)},Ut.prototype.toArray=function(Un,Mn){return this.toArrayLike(Array,Un,Mn)},Ut.prototype.toArrayLike=function(Un,Mn,mn){var Xr=this.byteLength(),gn=mn||Math.max(1,Xr);Ot(Xr<=gn,"byte array longer than desired length"),Ot(gn>0,"Requested array length <= 0"),this.strip();var On=Mn==="le",Ln=new Un(gn),Rn,yn,kn=this.clone();if(On){for(yn=0;!kn.isZero();yn++)Rn=kn.andln(255),kn.iushrn(8),Ln[yn]=Rn;for(;yn<gn;yn++)Ln[yn]=0}else{for(yn=0;yn<gn-Xr;yn++)Ln[yn]=0;for(yn=0;!kn.isZero();yn++)Rn=kn.andln(255),kn.iushrn(8),Ln[gn-yn-1]=Rn}return Ln},Math.clz32?Ut.prototype._countBits=function(Un){return 32-Math.clz32(Un)}:Ut.prototype._countBits=function(Un){var Mn=Un,mn=0;return Mn>=4096&&(mn+=13,Mn>>>=13),Mn>=64&&(mn+=7,Mn>>>=7),Mn>=8&&(mn+=4,Mn>>>=4),Mn>=2&&(mn+=2,Mn>>>=2),mn+Mn},Ut.prototype._zeroBits=function(Un){if(Un===0)return 26;var Mn=Un,mn=0;return Mn&8191||(mn+=13,Mn>>>=13),Mn&127||(mn+=7,Mn>>>=7),Mn&15||(mn+=4,Mn>>>=4),Mn&3||(mn+=2,Mn>>>=2),Mn&1||mn++,mn},Ut.prototype.bitLength=function(){var Un=this.words[this.length-1],Mn=this._countBits(Un);return(this.length-1)*26+Mn};function pn(Yn){for(var Un=new Array(Yn.bitLength()),Mn=0;Mn<Un.length;Mn++){var mn=Mn/26|0,Xr=Mn%26;Un[Mn]=(Yn.words[mn]&1<<Xr)>>>Xr}return Un}Ut.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Un=0,Mn=0;Mn<this.length;Mn++){var mn=this._zeroBits(this.words[Mn]);if(Un+=mn,mn!==26)break}return Un},Ut.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ut.prototype.toTwos=function(Un){return this.negative!==0?this.abs().inotn(Un).iaddn(1):this.clone()},Ut.prototype.fromTwos=function(Un){return this.testn(Un-1)?this.notn(Un).iaddn(1).ineg():this.clone()},Ut.prototype.isNeg=function(){return this.negative!==0},Ut.prototype.neg=function(){return this.clone().ineg()},Ut.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ut.prototype.iuor=function(Un){for(;this.length<Un.length;)this.words[this.length++]=0;for(var Mn=0;Mn<Un.length;Mn++)this.words[Mn]=this.words[Mn]|Un.words[Mn];return this.strip()},Ut.prototype.ior=function(Un){return Ot((this.negative|Un.negative)===0),this.iuor(Un)},Ut.prototype.or=function(Un){return this.length>Un.length?this.clone().ior(Un):Un.clone().ior(this)},Ut.prototype.uor=function(Un){return this.length>Un.length?this.clone().iuor(Un):Un.clone().iuor(this)},Ut.prototype.iuand=function(Un){var Mn;this.length>Un.length?Mn=Un:Mn=this;for(var mn=0;mn<Mn.length;mn++)this.words[mn]=this.words[mn]&Un.words[mn];return this.length=Mn.length,this.strip()},Ut.prototype.iand=function(Un){return Ot((this.negative|Un.negative)===0),this.iuand(Un)},Ut.prototype.and=function(Un){return this.length>Un.length?this.clone().iand(Un):Un.clone().iand(this)},Ut.prototype.uand=function(Un){return this.length>Un.length?this.clone().iuand(Un):Un.clone().iuand(this)},Ut.prototype.iuxor=function(Un){var Mn,mn;this.length>Un.length?(Mn=this,mn=Un):(Mn=Un,mn=this);for(var Xr=0;Xr<mn.length;Xr++)this.words[Xr]=Mn.words[Xr]^mn.words[Xr];if(this!==Mn)for(;Xr<Mn.length;Xr++)this.words[Xr]=Mn.words[Xr];return this.length=Mn.length,this.strip()},Ut.prototype.ixor=function(Un){return Ot((this.negative|Un.negative)===0),this.iuxor(Un)},Ut.prototype.xor=function(Un){return this.length>Un.length?this.clone().ixor(Un):Un.clone().ixor(this)},Ut.prototype.uxor=function(Un){return this.length>Un.length?this.clone().iuxor(Un):Un.clone().iuxor(this)},Ut.prototype.inotn=function(Un){Ot(typeof Un=="number"&&Un>=0);var Mn=Math.ceil(Un/26)|0,mn=Un%26;this._expand(Mn),mn>0&&Mn--;for(var Xr=0;Xr<Mn;Xr++)this.words[Xr]=~this.words[Xr]&67108863;return mn>0&&(this.words[Xr]=~this.words[Xr]&67108863>>26-mn),this.strip()},Ut.prototype.notn=function(Un){return this.clone().inotn(Un)},Ut.prototype.setn=function(Un,Mn){Ot(typeof Un=="number"&&Un>=0);var mn=Un/26|0,Xr=Un%26;return this._expand(mn+1),Mn?this.words[mn]=this.words[mn]|1<<Xr:this.words[mn]=this.words[mn]&~(1<<Xr),this.strip()},Ut.prototype.iadd=function(Un){var Mn;if(this.negative!==0&&Un.negative===0)return this.negative=0,Mn=this.isub(Un),this.negative^=1,this._normSign();if(this.negative===0&&Un.negative!==0)return Un.negative=0,Mn=this.isub(Un),Un.negative=1,Mn._normSign();var mn,Xr;this.length>Un.length?(mn=this,Xr=Un):(mn=Un,Xr=this);for(var gn=0,On=0;On<Xr.length;On++)Mn=(mn.words[On]|0)+(Xr.words[On]|0)+gn,this.words[On]=Mn&67108863,gn=Mn>>>26;for(;gn!==0&&On<mn.length;On++)Mn=(mn.words[On]|0)+gn,this.words[On]=Mn&67108863,gn=Mn>>>26;if(this.length=mn.length,gn!==0)this.words[this.length]=gn,this.length++;else if(mn!==this)for(;On<mn.length;On++)this.words[On]=mn.words[On];return this},Ut.prototype.add=function(Un){var Mn;return Un.negative!==0&&this.negative===0?(Un.negative=0,Mn=this.sub(Un),Un.negative^=1,Mn):Un.negative===0&&this.negative!==0?(this.negative=0,Mn=Un.sub(this),this.negative=1,Mn):this.length>Un.length?this.clone().iadd(Un):Un.clone().iadd(this)},Ut.prototype.isub=function(Un){if(Un.negative!==0){Un.negative=0;var Mn=this.iadd(Un);return Un.negative=1,Mn._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Un),this.negative=1,this._normSign();var mn=this.cmp(Un);if(mn===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Xr,gn;mn>0?(Xr=this,gn=Un):(Xr=Un,gn=this);for(var On=0,Ln=0;Ln<gn.length;Ln++)Mn=(Xr.words[Ln]|0)-(gn.words[Ln]|0)+On,On=Mn>>26,this.words[Ln]=Mn&67108863;for(;On!==0&&Ln<Xr.length;Ln++)Mn=(Xr.words[Ln]|0)+On,On=Mn>>26,this.words[Ln]=Mn&67108863;if(On===0&&Ln<Xr.length&&Xr!==this)for(;Ln<Xr.length;Ln++)this.words[Ln]=Xr.words[Ln];return this.length=Math.max(this.length,Ln),Xr!==this&&(this.negative=1),this.strip()},Ut.prototype.sub=function(Un){return this.clone().isub(Un)};function En(Yn,Un,Mn){Mn.negative=Un.negative^Yn.negative;var mn=Yn.length+Un.length|0;Mn.length=mn,mn=mn-1|0;var Xr=Yn.words[0]|0,gn=Un.words[0]|0,On=Xr*gn,Ln=On&67108863,Rn=On/67108864|0;Mn.words[0]=Ln;for(var yn=1;yn<mn;yn++){for(var kn=Rn>>>26,Fn=Rn&67108863,Cn=Math.min(yn,Un.length-1),zn=Math.max(0,yn-Yn.length+1);zn<=Cn;zn++){var $a=yn-zn|0;Xr=Yn.words[$a]|0,gn=Un.words[zn]|0,On=Xr*gn+Fn,kn+=On/67108864|0,Fn=On&67108863}Mn.words[yn]=Fn|0,Rn=kn|0}return Rn!==0?Mn.words[yn]=Rn|0:Mn.length--,Mn.strip()}var _n=function(Un,Mn,mn){var Xr=Un.words,gn=Mn.words,On=mn.words,Ln=0,Rn,yn,kn,Fn=Xr[0]|0,Cn=Fn&8191,zn=Fn>>>13,$a=Xr[1]|0,co=$a&8191,io=$a>>>13,ga=Xr[2]|0,na=ga&8191,so=ga>>>13,_i=Xr[3]|0,Wn=_i&8191,Kn=_i>>>13,ro=Xr[4]|0,oo=ro&8191,mo=ro>>>13,bo=Xr[5]|0,vo=bo&8191,wo=bo>>>13,go=Xr[6]|0,So=go&8191,Ao=go>>>13,Co=Xr[7]|0,Ro=Co&8191,$o=Co>>>13,Lo=Xr[8]|0,Po=Lo&8191,No=Lo>>>13,Go=Xr[9]|0,Zo=Go&8191,to=Go>>>13,Zn=gn[0]|0,Qn=Zn&8191,lo=Zn>>>13,Eo=gn[1]|0,xo=Eo&8191,_o=Eo>>>13,jo=gn[2]|0,Ho=jo&8191,Fo=jo>>>13,as=gn[3]|0,zo=as&8191,Qo=as>>>13,Ss=gn[4]|0,ss=Ss&8191,rs=Ss>>>13,Ts=gn[5]|0,ys=Ts&8191,us=Ts>>>13,Cs=gn[6]|0,vs=Cs&8191,ns=Cs>>>13,Os=gn[7]|0,_a=Os&8191,ao=Os>>>13,fo=gn[8]|0,Xn=fo&8191,uo=fo>>>13,Bo=gn[9]|0,Mo=Bo&8191,Do=Bo>>>13;mn.negative=Un.negative^Mn.negative,mn.length=19,Rn=Math.imul(Cn,Qn),yn=Math.imul(Cn,lo),yn=yn+Math.imul(zn,Qn)|0,kn=Math.imul(zn,lo);var Xo=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,Rn=Math.imul(co,Qn),yn=Math.imul(co,lo),yn=yn+Math.imul(io,Qn)|0,kn=Math.imul(io,lo),Rn=Rn+Math.imul(Cn,xo)|0,yn=yn+Math.imul(Cn,_o)|0,yn=yn+Math.imul(zn,xo)|0,kn=kn+Math.imul(zn,_o)|0;var es=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(es>>>26)|0,es&=67108863,Rn=Math.imul(na,Qn),yn=Math.imul(na,lo),yn=yn+Math.imul(so,Qn)|0,kn=Math.imul(so,lo),Rn=Rn+Math.imul(co,xo)|0,yn=yn+Math.imul(co,_o)|0,yn=yn+Math.imul(io,xo)|0,kn=kn+Math.imul(io,_o)|0,Rn=Rn+Math.imul(Cn,Ho)|0,yn=yn+Math.imul(Cn,Fo)|0,yn=yn+Math.imul(zn,Ho)|0,kn=kn+Math.imul(zn,Fo)|0;var Jo=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,Rn=Math.imul(Wn,Qn),yn=Math.imul(Wn,lo),yn=yn+Math.imul(Kn,Qn)|0,kn=Math.imul(Kn,lo),Rn=Rn+Math.imul(na,xo)|0,yn=yn+Math.imul(na,_o)|0,yn=yn+Math.imul(so,xo)|0,kn=kn+Math.imul(so,_o)|0,Rn=Rn+Math.imul(co,Ho)|0,yn=yn+Math.imul(co,Fo)|0,yn=yn+Math.imul(io,Ho)|0,kn=kn+Math.imul(io,Fo)|0,Rn=Rn+Math.imul(Cn,zo)|0,yn=yn+Math.imul(Cn,Qo)|0,yn=yn+Math.imul(zn,zo)|0,kn=kn+Math.imul(zn,Qo)|0;var Rs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Rn=Math.imul(oo,Qn),yn=Math.imul(oo,lo),yn=yn+Math.imul(mo,Qn)|0,kn=Math.imul(mo,lo),Rn=Rn+Math.imul(Wn,xo)|0,yn=yn+Math.imul(Wn,_o)|0,yn=yn+Math.imul(Kn,xo)|0,kn=kn+Math.imul(Kn,_o)|0,Rn=Rn+Math.imul(na,Ho)|0,yn=yn+Math.imul(na,Fo)|0,yn=yn+Math.imul(so,Ho)|0,kn=kn+Math.imul(so,Fo)|0,Rn=Rn+Math.imul(co,zo)|0,yn=yn+Math.imul(co,Qo)|0,yn=yn+Math.imul(io,zo)|0,kn=kn+Math.imul(io,Qo)|0,Rn=Rn+Math.imul(Cn,ss)|0,yn=yn+Math.imul(Cn,rs)|0,yn=yn+Math.imul(zn,ss)|0,kn=kn+Math.imul(zn,rs)|0;var hs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(hs>>>26)|0,hs&=67108863,Rn=Math.imul(vo,Qn),yn=Math.imul(vo,lo),yn=yn+Math.imul(wo,Qn)|0,kn=Math.imul(wo,lo),Rn=Rn+Math.imul(oo,xo)|0,yn=yn+Math.imul(oo,_o)|0,yn=yn+Math.imul(mo,xo)|0,kn=kn+Math.imul(mo,_o)|0,Rn=Rn+Math.imul(Wn,Ho)|0,yn=yn+Math.imul(Wn,Fo)|0,yn=yn+Math.imul(Kn,Ho)|0,kn=kn+Math.imul(Kn,Fo)|0,Rn=Rn+Math.imul(na,zo)|0,yn=yn+Math.imul(na,Qo)|0,yn=yn+Math.imul(so,zo)|0,kn=kn+Math.imul(so,Qo)|0,Rn=Rn+Math.imul(co,ss)|0,yn=yn+Math.imul(co,rs)|0,yn=yn+Math.imul(io,ss)|0,kn=kn+Math.imul(io,rs)|0,Rn=Rn+Math.imul(Cn,ys)|0,yn=yn+Math.imul(Cn,us)|0,yn=yn+Math.imul(zn,ys)|0,kn=kn+Math.imul(zn,us)|0;var bs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(bs>>>26)|0,bs&=67108863,Rn=Math.imul(So,Qn),yn=Math.imul(So,lo),yn=yn+Math.imul(Ao,Qn)|0,kn=Math.imul(Ao,lo),Rn=Rn+Math.imul(vo,xo)|0,yn=yn+Math.imul(vo,_o)|0,yn=yn+Math.imul(wo,xo)|0,kn=kn+Math.imul(wo,_o)|0,Rn=Rn+Math.imul(oo,Ho)|0,yn=yn+Math.imul(oo,Fo)|0,yn=yn+Math.imul(mo,Ho)|0,kn=kn+Math.imul(mo,Fo)|0,Rn=Rn+Math.imul(Wn,zo)|0,yn=yn+Math.imul(Wn,Qo)|0,yn=yn+Math.imul(Kn,zo)|0,kn=kn+Math.imul(Kn,Qo)|0,Rn=Rn+Math.imul(na,ss)|0,yn=yn+Math.imul(na,rs)|0,yn=yn+Math.imul(so,ss)|0,kn=kn+Math.imul(so,rs)|0,Rn=Rn+Math.imul(co,ys)|0,yn=yn+Math.imul(co,us)|0,yn=yn+Math.imul(io,ys)|0,kn=kn+Math.imul(io,us)|0,Rn=Rn+Math.imul(Cn,vs)|0,yn=yn+Math.imul(Cn,ns)|0,yn=yn+Math.imul(zn,vs)|0,kn=kn+Math.imul(zn,ns)|0;var As=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(As>>>26)|0,As&=67108863,Rn=Math.imul(Ro,Qn),yn=Math.imul(Ro,lo),yn=yn+Math.imul($o,Qn)|0,kn=Math.imul($o,lo),Rn=Rn+Math.imul(So,xo)|0,yn=yn+Math.imul(So,_o)|0,yn=yn+Math.imul(Ao,xo)|0,kn=kn+Math.imul(Ao,_o)|0,Rn=Rn+Math.imul(vo,Ho)|0,yn=yn+Math.imul(vo,Fo)|0,yn=yn+Math.imul(wo,Ho)|0,kn=kn+Math.imul(wo,Fo)|0,Rn=Rn+Math.imul(oo,zo)|0,yn=yn+Math.imul(oo,Qo)|0,yn=yn+Math.imul(mo,zo)|0,kn=kn+Math.imul(mo,Qo)|0,Rn=Rn+Math.imul(Wn,ss)|0,yn=yn+Math.imul(Wn,rs)|0,yn=yn+Math.imul(Kn,ss)|0,kn=kn+Math.imul(Kn,rs)|0,Rn=Rn+Math.imul(na,ys)|0,yn=yn+Math.imul(na,us)|0,yn=yn+Math.imul(so,ys)|0,kn=kn+Math.imul(so,us)|0,Rn=Rn+Math.imul(co,vs)|0,yn=yn+Math.imul(co,ns)|0,yn=yn+Math.imul(io,vs)|0,kn=kn+Math.imul(io,ns)|0,Rn=Rn+Math.imul(Cn,_a)|0,yn=yn+Math.imul(Cn,ao)|0,yn=yn+Math.imul(zn,_a)|0,kn=kn+Math.imul(zn,ao)|0;var ks=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(ks>>>26)|0,ks&=67108863,Rn=Math.imul(Po,Qn),yn=Math.imul(Po,lo),yn=yn+Math.imul(No,Qn)|0,kn=Math.imul(No,lo),Rn=Rn+Math.imul(Ro,xo)|0,yn=yn+Math.imul(Ro,_o)|0,yn=yn+Math.imul($o,xo)|0,kn=kn+Math.imul($o,_o)|0,Rn=Rn+Math.imul(So,Ho)|0,yn=yn+Math.imul(So,Fo)|0,yn=yn+Math.imul(Ao,Ho)|0,kn=kn+Math.imul(Ao,Fo)|0,Rn=Rn+Math.imul(vo,zo)|0,yn=yn+Math.imul(vo,Qo)|0,yn=yn+Math.imul(wo,zo)|0,kn=kn+Math.imul(wo,Qo)|0,Rn=Rn+Math.imul(oo,ss)|0,yn=yn+Math.imul(oo,rs)|0,yn=yn+Math.imul(mo,ss)|0,kn=kn+Math.imul(mo,rs)|0,Rn=Rn+Math.imul(Wn,ys)|0,yn=yn+Math.imul(Wn,us)|0,yn=yn+Math.imul(Kn,ys)|0,kn=kn+Math.imul(Kn,us)|0,Rn=Rn+Math.imul(na,vs)|0,yn=yn+Math.imul(na,ns)|0,yn=yn+Math.imul(so,vs)|0,kn=kn+Math.imul(so,ns)|0,Rn=Rn+Math.imul(co,_a)|0,yn=yn+Math.imul(co,ao)|0,yn=yn+Math.imul(io,_a)|0,kn=kn+Math.imul(io,ao)|0,Rn=Rn+Math.imul(Cn,Xn)|0,yn=yn+Math.imul(Cn,uo)|0,yn=yn+Math.imul(zn,Xn)|0,kn=kn+Math.imul(zn,uo)|0;var Ms=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,Rn=Math.imul(Zo,Qn),yn=Math.imul(Zo,lo),yn=yn+Math.imul(to,Qn)|0,kn=Math.imul(to,lo),Rn=Rn+Math.imul(Po,xo)|0,yn=yn+Math.imul(Po,_o)|0,yn=yn+Math.imul(No,xo)|0,kn=kn+Math.imul(No,_o)|0,Rn=Rn+Math.imul(Ro,Ho)|0,yn=yn+Math.imul(Ro,Fo)|0,yn=yn+Math.imul($o,Ho)|0,kn=kn+Math.imul($o,Fo)|0,Rn=Rn+Math.imul(So,zo)|0,yn=yn+Math.imul(So,Qo)|0,yn=yn+Math.imul(Ao,zo)|0,kn=kn+Math.imul(Ao,Qo)|0,Rn=Rn+Math.imul(vo,ss)|0,yn=yn+Math.imul(vo,rs)|0,yn=yn+Math.imul(wo,ss)|0,kn=kn+Math.imul(wo,rs)|0,Rn=Rn+Math.imul(oo,ys)|0,yn=yn+Math.imul(oo,us)|0,yn=yn+Math.imul(mo,ys)|0,kn=kn+Math.imul(mo,us)|0,Rn=Rn+Math.imul(Wn,vs)|0,yn=yn+Math.imul(Wn,ns)|0,yn=yn+Math.imul(Kn,vs)|0,kn=kn+Math.imul(Kn,ns)|0,Rn=Rn+Math.imul(na,_a)|0,yn=yn+Math.imul(na,ao)|0,yn=yn+Math.imul(so,_a)|0,kn=kn+Math.imul(so,ao)|0,Rn=Rn+Math.imul(co,Xn)|0,yn=yn+Math.imul(co,uo)|0,yn=yn+Math.imul(io,Xn)|0,kn=kn+Math.imul(io,uo)|0,Rn=Rn+Math.imul(Cn,Mo)|0,yn=yn+Math.imul(Cn,Do)|0,yn=yn+Math.imul(zn,Mo)|0,kn=kn+Math.imul(zn,Do)|0;var Es=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(Es>>>26)|0,Es&=67108863,Rn=Math.imul(Zo,xo),yn=Math.imul(Zo,_o),yn=yn+Math.imul(to,xo)|0,kn=Math.imul(to,_o),Rn=Rn+Math.imul(Po,Ho)|0,yn=yn+Math.imul(Po,Fo)|0,yn=yn+Math.imul(No,Ho)|0,kn=kn+Math.imul(No,Fo)|0,Rn=Rn+Math.imul(Ro,zo)|0,yn=yn+Math.imul(Ro,Qo)|0,yn=yn+Math.imul($o,zo)|0,kn=kn+Math.imul($o,Qo)|0,Rn=Rn+Math.imul(So,ss)|0,yn=yn+Math.imul(So,rs)|0,yn=yn+Math.imul(Ao,ss)|0,kn=kn+Math.imul(Ao,rs)|0,Rn=Rn+Math.imul(vo,ys)|0,yn=yn+Math.imul(vo,us)|0,yn=yn+Math.imul(wo,ys)|0,kn=kn+Math.imul(wo,us)|0,Rn=Rn+Math.imul(oo,vs)|0,yn=yn+Math.imul(oo,ns)|0,yn=yn+Math.imul(mo,vs)|0,kn=kn+Math.imul(mo,ns)|0,Rn=Rn+Math.imul(Wn,_a)|0,yn=yn+Math.imul(Wn,ao)|0,yn=yn+Math.imul(Kn,_a)|0,kn=kn+Math.imul(Kn,ao)|0,Rn=Rn+Math.imul(na,Xn)|0,yn=yn+Math.imul(na,uo)|0,yn=yn+Math.imul(so,Xn)|0,kn=kn+Math.imul(so,uo)|0,Rn=Rn+Math.imul(co,Mo)|0,yn=yn+Math.imul(co,Do)|0,yn=yn+Math.imul(io,Mo)|0,kn=kn+Math.imul(io,Do)|0;var ws=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(ws>>>26)|0,ws&=67108863,Rn=Math.imul(Zo,Ho),yn=Math.imul(Zo,Fo),yn=yn+Math.imul(to,Ho)|0,kn=Math.imul(to,Fo),Rn=Rn+Math.imul(Po,zo)|0,yn=yn+Math.imul(Po,Qo)|0,yn=yn+Math.imul(No,zo)|0,kn=kn+Math.imul(No,Qo)|0,Rn=Rn+Math.imul(Ro,ss)|0,yn=yn+Math.imul(Ro,rs)|0,yn=yn+Math.imul($o,ss)|0,kn=kn+Math.imul($o,rs)|0,Rn=Rn+Math.imul(So,ys)|0,yn=yn+Math.imul(So,us)|0,yn=yn+Math.imul(Ao,ys)|0,kn=kn+Math.imul(Ao,us)|0,Rn=Rn+Math.imul(vo,vs)|0,yn=yn+Math.imul(vo,ns)|0,yn=yn+Math.imul(wo,vs)|0,kn=kn+Math.imul(wo,ns)|0,Rn=Rn+Math.imul(oo,_a)|0,yn=yn+Math.imul(oo,ao)|0,yn=yn+Math.imul(mo,_a)|0,kn=kn+Math.imul(mo,ao)|0,Rn=Rn+Math.imul(Wn,Xn)|0,yn=yn+Math.imul(Wn,uo)|0,yn=yn+Math.imul(Kn,Xn)|0,kn=kn+Math.imul(Kn,uo)|0,Rn=Rn+Math.imul(na,Mo)|0,yn=yn+Math.imul(na,Do)|0,yn=yn+Math.imul(so,Mo)|0,kn=kn+Math.imul(so,Do)|0;var xs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(xs>>>26)|0,xs&=67108863,Rn=Math.imul(Zo,zo),yn=Math.imul(Zo,Qo),yn=yn+Math.imul(to,zo)|0,kn=Math.imul(to,Qo),Rn=Rn+Math.imul(Po,ss)|0,yn=yn+Math.imul(Po,rs)|0,yn=yn+Math.imul(No,ss)|0,kn=kn+Math.imul(No,rs)|0,Rn=Rn+Math.imul(Ro,ys)|0,yn=yn+Math.imul(Ro,us)|0,yn=yn+Math.imul($o,ys)|0,kn=kn+Math.imul($o,us)|0,Rn=Rn+Math.imul(So,vs)|0,yn=yn+Math.imul(So,ns)|0,yn=yn+Math.imul(Ao,vs)|0,kn=kn+Math.imul(Ao,ns)|0,Rn=Rn+Math.imul(vo,_a)|0,yn=yn+Math.imul(vo,ao)|0,yn=yn+Math.imul(wo,_a)|0,kn=kn+Math.imul(wo,ao)|0,Rn=Rn+Math.imul(oo,Xn)|0,yn=yn+Math.imul(oo,uo)|0,yn=yn+Math.imul(mo,Xn)|0,kn=kn+Math.imul(mo,uo)|0,Rn=Rn+Math.imul(Wn,Mo)|0,yn=yn+Math.imul(Wn,Do)|0,yn=yn+Math.imul(Kn,Mo)|0,kn=kn+Math.imul(Kn,Do)|0;var fs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(fs>>>26)|0,fs&=67108863,Rn=Math.imul(Zo,ss),yn=Math.imul(Zo,rs),yn=yn+Math.imul(to,ss)|0,kn=Math.imul(to,rs),Rn=Rn+Math.imul(Po,ys)|0,yn=yn+Math.imul(Po,us)|0,yn=yn+Math.imul(No,ys)|0,kn=kn+Math.imul(No,us)|0,Rn=Rn+Math.imul(Ro,vs)|0,yn=yn+Math.imul(Ro,ns)|0,yn=yn+Math.imul($o,vs)|0,kn=kn+Math.imul($o,ns)|0,Rn=Rn+Math.imul(So,_a)|0,yn=yn+Math.imul(So,ao)|0,yn=yn+Math.imul(Ao,_a)|0,kn=kn+Math.imul(Ao,ao)|0,Rn=Rn+Math.imul(vo,Xn)|0,yn=yn+Math.imul(vo,uo)|0,yn=yn+Math.imul(wo,Xn)|0,kn=kn+Math.imul(wo,uo)|0,Rn=Rn+Math.imul(oo,Mo)|0,yn=yn+Math.imul(oo,Do)|0,yn=yn+Math.imul(mo,Mo)|0,kn=kn+Math.imul(mo,Do)|0;var gs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(gs>>>26)|0,gs&=67108863,Rn=Math.imul(Zo,ys),yn=Math.imul(Zo,us),yn=yn+Math.imul(to,ys)|0,kn=Math.imul(to,us),Rn=Rn+Math.imul(Po,vs)|0,yn=yn+Math.imul(Po,ns)|0,yn=yn+Math.imul(No,vs)|0,kn=kn+Math.imul(No,ns)|0,Rn=Rn+Math.imul(Ro,_a)|0,yn=yn+Math.imul(Ro,ao)|0,yn=yn+Math.imul($o,_a)|0,kn=kn+Math.imul($o,ao)|0,Rn=Rn+Math.imul(So,Xn)|0,yn=yn+Math.imul(So,uo)|0,yn=yn+Math.imul(Ao,Xn)|0,kn=kn+Math.imul(Ao,uo)|0,Rn=Rn+Math.imul(vo,Mo)|0,yn=yn+Math.imul(vo,Do)|0,yn=yn+Math.imul(wo,Mo)|0,kn=kn+Math.imul(wo,Do)|0;var cs=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(cs>>>26)|0,cs&=67108863,Rn=Math.imul(Zo,vs),yn=Math.imul(Zo,ns),yn=yn+Math.imul(to,vs)|0,kn=Math.imul(to,ns),Rn=Rn+Math.imul(Po,_a)|0,yn=yn+Math.imul(Po,ao)|0,yn=yn+Math.imul(No,_a)|0,kn=kn+Math.imul(No,ao)|0,Rn=Rn+Math.imul(Ro,Xn)|0,yn=yn+Math.imul(Ro,uo)|0,yn=yn+Math.imul($o,Xn)|0,kn=kn+Math.imul($o,uo)|0,Rn=Rn+Math.imul(So,Mo)|0,yn=yn+Math.imul(So,Do)|0,yn=yn+Math.imul(Ao,Mo)|0,kn=kn+Math.imul(Ao,Do)|0;var ds=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(ds>>>26)|0,ds&=67108863,Rn=Math.imul(Zo,_a),yn=Math.imul(Zo,ao),yn=yn+Math.imul(to,_a)|0,kn=Math.imul(to,ao),Rn=Rn+Math.imul(Po,Xn)|0,yn=yn+Math.imul(Po,uo)|0,yn=yn+Math.imul(No,Xn)|0,kn=kn+Math.imul(No,uo)|0,Rn=Rn+Math.imul(Ro,Mo)|0,yn=yn+Math.imul(Ro,Do)|0,yn=yn+Math.imul($o,Mo)|0,kn=kn+Math.imul($o,Do)|0;var ps=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(ps>>>26)|0,ps&=67108863,Rn=Math.imul(Zo,Xn),yn=Math.imul(Zo,uo),yn=yn+Math.imul(to,Xn)|0,kn=Math.imul(to,uo),Rn=Rn+Math.imul(Po,Mo)|0,yn=yn+Math.imul(Po,Do)|0,yn=yn+Math.imul(No,Mo)|0,kn=kn+Math.imul(No,Do)|0;var ls=(Ln+Rn|0)+((yn&8191)<<13)|0;Ln=(kn+(yn>>>13)|0)+(ls>>>26)|0,ls&=67108863,Rn=Math.imul(Zo,Mo),yn=Math.imul(Zo,Do),yn=yn+Math.imul(to,Mo)|0,kn=Math.imul(to,Do);var qo=(Ln+Rn|0)+((yn&8191)<<13)|0;return Ln=(kn+(yn>>>13)|0)+(qo>>>26)|0,qo&=67108863,On[0]=Xo,On[1]=es,On[2]=Jo,On[3]=Rs,On[4]=hs,On[5]=bs,On[6]=As,On[7]=ks,On[8]=Ms,On[9]=Es,On[10]=ws,On[11]=xs,On[12]=fs,On[13]=gs,On[14]=cs,On[15]=ds,On[16]=ps,On[17]=ls,On[18]=qo,Ln!==0&&(On[19]=Ln,mn.length++),mn};Math.imul||(_n=En);function Dn(Yn,Un,Mn){Mn.negative=Un.negative^Yn.negative,Mn.length=Yn.length+Un.length;for(var mn=0,Xr=0,gn=0;gn<Mn.length-1;gn++){var On=Xr;Xr=0;for(var Ln=mn&67108863,Rn=Math.min(gn,Un.length-1),yn=Math.max(0,gn-Yn.length+1);yn<=Rn;yn++){var kn=gn-yn,Fn=Yn.words[kn]|0,Cn=Un.words[yn]|0,zn=Fn*Cn,$a=zn&67108863;On=On+(zn/67108864|0)|0,$a=$a+Ln|0,Ln=$a&67108863,On=On+($a>>>26)|0,Xr+=On>>>26,On&=67108863}Mn.words[gn]=Ln,mn=On,On=Xr}return mn!==0?Mn.words[gn]=mn:Mn.length--,Mn.strip()}function Vn(Yn,Un,Mn){var mn=new Pn;return mn.mulp(Yn,Un,Mn)}Ut.prototype.mulTo=function(Un,Mn){var mn,Xr=this.length+Un.length;return this.length===10&&Un.length===10?mn=_n(this,Un,Mn):Xr<63?mn=En(this,Un,Mn):Xr<1024?mn=Dn(this,Un,Mn):mn=Vn(this,Un,Mn),mn};function Pn(Yn,Un){this.x=Yn,this.y=Un}Pn.prototype.makeRBT=function(Un){for(var Mn=new Array(Un),mn=Ut.prototype._countBits(Un)-1,Xr=0;Xr<Un;Xr++)Mn[Xr]=this.revBin(Xr,mn,Un);return Mn},Pn.prototype.revBin=function(Un,Mn,mn){if(Un===0||Un===mn-1)return Un;for(var Xr=0,gn=0;gn<Mn;gn++)Xr|=(Un&1)<<Mn-gn-1,Un>>=1;return Xr},Pn.prototype.permute=function(Un,Mn,mn,Xr,gn,On){for(var Ln=0;Ln<On;Ln++)Xr[Ln]=Mn[Un[Ln]],gn[Ln]=mn[Un[Ln]]},Pn.prototype.transform=function(Un,Mn,mn,Xr,gn,On){this.permute(On,Un,Mn,mn,Xr,gn);for(var Ln=1;Ln<gn;Ln<<=1)for(var Rn=Ln<<1,yn=Math.cos(2*Math.PI/Rn),kn=Math.sin(2*Math.PI/Rn),Fn=0;Fn<gn;Fn+=Rn)for(var Cn=yn,zn=kn,$a=0;$a<Ln;$a++){var co=mn[Fn+$a],io=Xr[Fn+$a],ga=mn[Fn+$a+Ln],na=Xr[Fn+$a+Ln],so=Cn*ga-zn*na;na=Cn*na+zn*ga,ga=so,mn[Fn+$a]=co+ga,Xr[Fn+$a]=io+na,mn[Fn+$a+Ln]=co-ga,Xr[Fn+$a+Ln]=io-na,$a!==Rn&&(so=yn*Cn-kn*zn,zn=yn*zn+kn*Cn,Cn=so)}},Pn.prototype.guessLen13b=function(Un,Mn){var mn=Math.max(Mn,Un)|1,Xr=mn&1,gn=0;for(mn=mn/2|0;mn;mn=mn>>>1)gn++;return 1<<gn+1+Xr},Pn.prototype.conjugate=function(Un,Mn,mn){if(!(mn<=1))for(var Xr=0;Xr<mn/2;Xr++){var gn=Un[Xr];Un[Xr]=Un[mn-Xr-1],Un[mn-Xr-1]=gn,gn=Mn[Xr],Mn[Xr]=-Mn[mn-Xr-1],Mn[mn-Xr-1]=-gn}},Pn.prototype.normalize13b=function(Un,Mn){for(var mn=0,Xr=0;Xr<Mn/2;Xr++){var gn=Math.round(Un[2*Xr+1]/Mn)*8192+Math.round(Un[2*Xr]/Mn)+mn;Un[Xr]=gn&67108863,gn<67108864?mn=0:mn=gn/67108864|0}return Un},Pn.prototype.convert13b=function(Un,Mn,mn,Xr){for(var gn=0,On=0;On<Mn;On++)gn=gn+(Un[On]|0),mn[2*On]=gn&8191,gn=gn>>>13,mn[2*On+1]=gn&8191,gn=gn>>>13;for(On=2*Mn;On<Xr;++On)mn[On]=0;Ot(gn===0),Ot((gn&-8192)===0)},Pn.prototype.stub=function(Un){for(var Mn=new Array(Un),mn=0;mn<Un;mn++)Mn[mn]=0;return Mn},Pn.prototype.mulp=function(Un,Mn,mn){var Xr=2*this.guessLen13b(Un.length,Mn.length),gn=this.makeRBT(Xr),On=this.stub(Xr),Ln=new Array(Xr),Rn=new Array(Xr),yn=new Array(Xr),kn=new Array(Xr),Fn=new Array(Xr),Cn=new Array(Xr),zn=mn.words;zn.length=Xr,this.convert13b(Un.words,Un.length,Ln,Xr),this.convert13b(Mn.words,Mn.length,kn,Xr),this.transform(Ln,On,Rn,yn,Xr,gn),this.transform(kn,On,Fn,Cn,Xr,gn);for(var $a=0;$a<Xr;$a++){var co=Rn[$a]*Fn[$a]-yn[$a]*Cn[$a];yn[$a]=Rn[$a]*Cn[$a]+yn[$a]*Fn[$a],Rn[$a]=co}return this.conjugate(Rn,yn,Xr),this.transform(Rn,yn,zn,On,Xr,gn),this.conjugate(zn,On,Xr),this.normalize13b(zn,Xr),mn.negative=Un.negative^Mn.negative,mn.length=Un.length+Mn.length,mn.strip()},Ut.prototype.mul=function(Un){var Mn=new Ut(null);return Mn.words=new Array(this.length+Un.length),this.mulTo(Un,Mn)},Ut.prototype.mulf=function(Un){var Mn=new Ut(null);return Mn.words=new Array(this.length+Un.length),Vn(this,Un,Mn)},Ut.prototype.imul=function(Un){return this.clone().mulTo(Un,this)},Ut.prototype.imuln=function(Un){Ot(typeof Un=="number"),Ot(Un<67108864);for(var Mn=0,mn=0;mn<this.length;mn++){var Xr=(this.words[mn]|0)*Un,gn=(Xr&67108863)+(Mn&67108863);Mn>>=26,Mn+=Xr/67108864|0,Mn+=gn>>>26,this.words[mn]=gn&67108863}return Mn!==0&&(this.words[mn]=Mn,this.length++),this},Ut.prototype.muln=function(Un){return this.clone().imuln(Un)},Ut.prototype.sqr=function(){return this.mul(this)},Ut.prototype.isqr=function(){return this.imul(this.clone())},Ut.prototype.pow=function(Un){var Mn=pn(Un);if(Mn.length===0)return new Ut(1);for(var mn=this,Xr=0;Xr<Mn.length&&Mn[Xr]===0;Xr++,mn=mn.sqr());if(++Xr<Mn.length)for(var gn=mn.sqr();Xr<Mn.length;Xr++,gn=gn.sqr())Mn[Xr]!==0&&(mn=mn.mul(gn));return mn},Ut.prototype.iushln=function(Un){Ot(typeof Un=="number"&&Un>=0);var Mn=Un%26,mn=(Un-Mn)/26,Xr=67108863>>>26-Mn<<26-Mn,gn;if(Mn!==0){var On=0;for(gn=0;gn<this.length;gn++){var Ln=this.words[gn]&Xr,Rn=(this.words[gn]|0)-Ln<<Mn;this.words[gn]=Rn|On,On=Ln>>>26-Mn}On&&(this.words[gn]=On,this.length++)}if(mn!==0){for(gn=this.length-1;gn>=0;gn--)this.words[gn+mn]=this.words[gn];for(gn=0;gn<mn;gn++)this.words[gn]=0;this.length+=mn}return this.strip()},Ut.prototype.ishln=function(Un){return Ot(this.negative===0),this.iushln(Un)},Ut.prototype.iushrn=function(Un,Mn,mn){Ot(typeof Un=="number"&&Un>=0);var Xr;Mn?Xr=(Mn-Mn%26)/26:Xr=0;var gn=Un%26,On=Math.min((Un-gn)/26,this.length),Ln=67108863^67108863>>>gn<<gn,Rn=mn;if(Xr-=On,Xr=Math.max(0,Xr),Rn){for(var yn=0;yn<On;yn++)Rn.words[yn]=this.words[yn];Rn.length=On}if(On!==0)if(this.length>On)for(this.length-=On,yn=0;yn<this.length;yn++)this.words[yn]=this.words[yn+On];else this.words[0]=0,this.length=1;var kn=0;for(yn=this.length-1;yn>=0&&(kn!==0||yn>=Xr);yn--){var Fn=this.words[yn]|0;this.words[yn]=kn<<26-gn|Fn>>>gn,kn=Fn&Ln}return Rn&&kn!==0&&(Rn.words[Rn.length++]=kn),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ut.prototype.ishrn=function(Un,Mn,mn){return Ot(this.negative===0),this.iushrn(Un,Mn,mn)},Ut.prototype.shln=function(Un){return this.clone().ishln(Un)},Ut.prototype.ushln=function(Un){return this.clone().iushln(Un)},Ut.prototype.shrn=function(Un){return this.clone().ishrn(Un)},Ut.prototype.ushrn=function(Un){return this.clone().iushrn(Un)},Ut.prototype.testn=function(Un){Ot(typeof Un=="number"&&Un>=0);var Mn=Un%26,mn=(Un-Mn)/26,Xr=1<<Mn;if(this.length<=mn)return!1;var gn=this.words[mn];return!!(gn&Xr)},Ut.prototype.imaskn=function(Un){Ot(typeof Un=="number"&&Un>=0);var Mn=Un%26,mn=(Un-Mn)/26;if(Ot(this.negative===0,"imaskn works only with positive numbers"),this.length<=mn)return this;if(Mn!==0&&mn++,this.length=Math.min(mn,this.length),Mn!==0){var Xr=67108863^67108863>>>Mn<<Mn;this.words[this.length-1]&=Xr}return this.strip()},Ut.prototype.maskn=function(Un){return this.clone().imaskn(Un)},Ut.prototype.iaddn=function(Un){return Ot(typeof Un=="number"),Ot(Un<67108864),Un<0?this.isubn(-Un):this.negative!==0?this.length===1&&(this.words[0]|0)<Un?(this.words[0]=Un-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Un),this.negative=1,this):this._iaddn(Un)},Ut.prototype._iaddn=function(Un){this.words[0]+=Un;for(var Mn=0;Mn<this.length&&this.words[Mn]>=67108864;Mn++)this.words[Mn]-=67108864,Mn===this.length-1?this.words[Mn+1]=1:this.words[Mn+1]++;return this.length=Math.max(this.length,Mn+1),this},Ut.prototype.isubn=function(Un){if(Ot(typeof Un=="number"),Ot(Un<67108864),Un<0)return this.iaddn(-Un);if(this.negative!==0)return this.negative=0,this.iaddn(Un),this.negative=1,this;if(this.words[0]-=Un,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Mn=0;Mn<this.length&&this.words[Mn]<0;Mn++)this.words[Mn]+=67108864,this.words[Mn+1]-=1;return this.strip()},Ut.prototype.addn=function(Un){return this.clone().iaddn(Un)},Ut.prototype.subn=function(Un){return this.clone().isubn(Un)},Ut.prototype.iabs=function(){return this.negative=0,this},Ut.prototype.abs=function(){return this.clone().iabs()},Ut.prototype._ishlnsubmul=function(Un,Mn,mn){var Xr=Un.length+mn,gn;this._expand(Xr);var On,Ln=0;for(gn=0;gn<Un.length;gn++){On=(this.words[gn+mn]|0)+Ln;var Rn=(Un.words[gn]|0)*Mn;On-=Rn&67108863,Ln=(On>>26)-(Rn/67108864|0),this.words[gn+mn]=On&67108863}for(;gn<this.length-mn;gn++)On=(this.words[gn+mn]|0)+Ln,Ln=On>>26,this.words[gn+mn]=On&67108863;if(Ln===0)return this.strip();for(Ot(Ln===-1),Ln=0,gn=0;gn<this.length;gn++)On=-(this.words[gn]|0)+Ln,Ln=On>>26,this.words[gn]=On&67108863;return this.negative=1,this.strip()},Ut.prototype._wordDiv=function(Un,Mn){var mn=this.length-Un.length,Xr=this.clone(),gn=Un,On=gn.words[gn.length-1]|0,Ln=this._countBits(On);mn=26-Ln,mn!==0&&(gn=gn.ushln(mn),Xr.iushln(mn),On=gn.words[gn.length-1]|0);var Rn=Xr.length-gn.length,yn;if(Mn!=="mod"){yn=new Ut(null),yn.length=Rn+1,yn.words=new Array(yn.length);for(var kn=0;kn<yn.length;kn++)yn.words[kn]=0}var Fn=Xr.clone()._ishlnsubmul(gn,1,Rn);Fn.negative===0&&(Xr=Fn,yn&&(yn.words[Rn]=1));for(var Cn=Rn-1;Cn>=0;Cn--){var zn=(Xr.words[gn.length+Cn]|0)*67108864+(Xr.words[gn.length+Cn-1]|0);for(zn=Math.min(zn/On|0,67108863),Xr._ishlnsubmul(gn,zn,Cn);Xr.negative!==0;)zn--,Xr.negative=0,Xr._ishlnsubmul(gn,1,Cn),Xr.isZero()||(Xr.negative^=1);yn&&(yn.words[Cn]=zn)}return yn&&yn.strip(),Xr.strip(),Mn!=="div"&&mn!==0&&Xr.iushrn(mn),{div:yn||null,mod:Xr}},Ut.prototype.divmod=function(Un,Mn,mn){if(Ot(!Un.isZero()),this.isZero())return{div:new Ut(0),mod:new Ut(0)};var Xr,gn,On;return this.negative!==0&&Un.negative===0?(On=this.neg().divmod(Un,Mn),Mn!=="mod"&&(Xr=On.div.neg()),Mn!=="div"&&(gn=On.mod.neg(),mn&&gn.negative!==0&&gn.iadd(Un)),{div:Xr,mod:gn}):this.negative===0&&Un.negative!==0?(On=this.divmod(Un.neg(),Mn),Mn!=="mod"&&(Xr=On.div.neg()),{div:Xr,mod:On.mod}):this.negative&Un.negative?(On=this.neg().divmod(Un.neg(),Mn),Mn!=="div"&&(gn=On.mod.neg(),mn&&gn.negative!==0&&gn.isub(Un)),{div:On.div,mod:gn}):Un.length>this.length||this.cmp(Un)<0?{div:new Ut(0),mod:this}:Un.length===1?Mn==="div"?{div:this.divn(Un.words[0]),mod:null}:Mn==="mod"?{div:null,mod:new Ut(this.modn(Un.words[0]))}:{div:this.divn(Un.words[0]),mod:new Ut(this.modn(Un.words[0]))}:this._wordDiv(Un,Mn)},Ut.prototype.div=function(Un){return this.divmod(Un,"div",!1).div},Ut.prototype.mod=function(Un){return this.divmod(Un,"mod",!1).mod},Ut.prototype.umod=function(Un){return this.divmod(Un,"mod",!0).mod},Ut.prototype.divRound=function(Un){var Mn=this.divmod(Un);if(Mn.mod.isZero())return Mn.div;var mn=Mn.div.negative!==0?Mn.mod.isub(Un):Mn.mod,Xr=Un.ushrn(1),gn=Un.andln(1),On=mn.cmp(Xr);return On<0||gn===1&&On===0?Mn.div:Mn.div.negative!==0?Mn.div.isubn(1):Mn.div.iaddn(1)},Ut.prototype.modn=function(Un){Ot(Un<=67108863);for(var Mn=(1<<26)%Un,mn=0,Xr=this.length-1;Xr>=0;Xr--)mn=(Mn*mn+(this.words[Xr]|0))%Un;return mn},Ut.prototype.idivn=function(Un){Ot(Un<=67108863);for(var Mn=0,mn=this.length-1;mn>=0;mn--){var Xr=(this.words[mn]|0)+Mn*67108864;this.words[mn]=Xr/Un|0,Mn=Xr%Un}return this.strip()},Ut.prototype.divn=function(Un){return this.clone().idivn(Un)},Ut.prototype.egcd=function(Un){Ot(Un.negative===0),Ot(!Un.isZero());var Mn=this,mn=Un.clone();Mn.negative!==0?Mn=Mn.umod(Un):Mn=Mn.clone();for(var Xr=new Ut(1),gn=new Ut(0),On=new Ut(0),Ln=new Ut(1),Rn=0;Mn.isEven()&&mn.isEven();)Mn.iushrn(1),mn.iushrn(1),++Rn;for(var yn=mn.clone(),kn=Mn.clone();!Mn.isZero();){for(var Fn=0,Cn=1;!(Mn.words[0]&Cn)&&Fn<26;++Fn,Cn<<=1);if(Fn>0)for(Mn.iushrn(Fn);Fn-- >0;)(Xr.isOdd()||gn.isOdd())&&(Xr.iadd(yn),gn.isub(kn)),Xr.iushrn(1),gn.iushrn(1);for(var zn=0,$a=1;!(mn.words[0]&$a)&&zn<26;++zn,$a<<=1);if(zn>0)for(mn.iushrn(zn);zn-- >0;)(On.isOdd()||Ln.isOdd())&&(On.iadd(yn),Ln.isub(kn)),On.iushrn(1),Ln.iushrn(1);Mn.cmp(mn)>=0?(Mn.isub(mn),Xr.isub(On),gn.isub(Ln)):(mn.isub(Mn),On.isub(Xr),Ln.isub(gn))}return{a:On,b:Ln,gcd:mn.iushln(Rn)}},Ut.prototype._invmp=function(Un){Ot(Un.negative===0),Ot(!Un.isZero());var Mn=this,mn=Un.clone();Mn.negative!==0?Mn=Mn.umod(Un):Mn=Mn.clone();for(var Xr=new Ut(1),gn=new Ut(0),On=mn.clone();Mn.cmpn(1)>0&&mn.cmpn(1)>0;){for(var Ln=0,Rn=1;!(Mn.words[0]&Rn)&&Ln<26;++Ln,Rn<<=1);if(Ln>0)for(Mn.iushrn(Ln);Ln-- >0;)Xr.isOdd()&&Xr.iadd(On),Xr.iushrn(1);for(var yn=0,kn=1;!(mn.words[0]&kn)&&yn<26;++yn,kn<<=1);if(yn>0)for(mn.iushrn(yn);yn-- >0;)gn.isOdd()&&gn.iadd(On),gn.iushrn(1);Mn.cmp(mn)>=0?(Mn.isub(mn),Xr.isub(gn)):(mn.isub(Mn),gn.isub(Xr))}var Fn;return Mn.cmpn(1)===0?Fn=Xr:Fn=gn,Fn.cmpn(0)<0&&Fn.iadd(Un),Fn},Ut.prototype.gcd=function(Un){if(this.isZero())return Un.abs();if(Un.isZero())return this.abs();var Mn=this.clone(),mn=Un.clone();Mn.negative=0,mn.negative=0;for(var Xr=0;Mn.isEven()&&mn.isEven();Xr++)Mn.iushrn(1),mn.iushrn(1);do{for(;Mn.isEven();)Mn.iushrn(1);for(;mn.isEven();)mn.iushrn(1);var gn=Mn.cmp(mn);if(gn<0){var On=Mn;Mn=mn,mn=On}else if(gn===0||mn.cmpn(1)===0)break;Mn.isub(mn)}while(!0);return mn.iushln(Xr)},Ut.prototype.invm=function(Un){return this.egcd(Un).a.umod(Un)},Ut.prototype.isEven=function(){return(this.words[0]&1)===0},Ut.prototype.isOdd=function(){return(this.words[0]&1)===1},Ut.prototype.andln=function(Un){return this.words[0]&Un},Ut.prototype.bincn=function(Un){Ot(typeof Un=="number");var Mn=Un%26,mn=(Un-Mn)/26,Xr=1<<Mn;if(this.length<=mn)return this._expand(mn+1),this.words[mn]|=Xr,this;for(var gn=Xr,On=mn;gn!==0&&On<this.length;On++){var Ln=this.words[On]|0;Ln+=gn,gn=Ln>>>26,Ln&=67108863,this.words[On]=Ln}return gn!==0&&(this.words[On]=gn,this.length++),this},Ut.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ut.prototype.cmpn=function(Un){var Mn=Un<0;if(this.negative!==0&&!Mn)return-1;if(this.negative===0&&Mn)return 1;this.strip();var mn;if(this.length>1)mn=1;else{Mn&&(Un=-Un),Ot(Un<=67108863,"Number is too big");var Xr=this.words[0]|0;mn=Xr===Un?0:Xr<Un?-1:1}return this.negative!==0?-mn|0:mn},Ut.prototype.cmp=function(Un){if(this.negative!==0&&Un.negative===0)return-1;if(this.negative===0&&Un.negative!==0)return 1;var Mn=this.ucmp(Un);return this.negative!==0?-Mn|0:Mn},Ut.prototype.ucmp=function(Un){if(this.length>Un.length)return 1;if(this.length<Un.length)return-1;for(var Mn=0,mn=this.length-1;mn>=0;mn--){var Xr=this.words[mn]|0,gn=Un.words[mn]|0;if(Xr!==gn){Xr<gn?Mn=-1:Xr>gn&&(Mn=1);break}}return Mn},Ut.prototype.gtn=function(Un){return this.cmpn(Un)===1},Ut.prototype.gt=function(Un){return this.cmp(Un)===1},Ut.prototype.gten=function(Un){return this.cmpn(Un)>=0},Ut.prototype.gte=function(Un){return this.cmp(Un)>=0},Ut.prototype.ltn=function(Un){return this.cmpn(Un)===-1},Ut.prototype.lt=function(Un){return this.cmp(Un)===-1},Ut.prototype.lten=function(Un){return this.cmpn(Un)<=0},Ut.prototype.lte=function(Un){return this.cmp(Un)<=0},Ut.prototype.eqn=function(Un){return this.cmpn(Un)===0},Ut.prototype.eq=function(Un){return this.cmp(Un)===0},Ut.red=function(Un){return new eo(Un)},Ut.prototype.toRed=function(Un){return Ot(!this.red,"Already a number in reduction context"),Ot(this.negative===0,"red works only with positives"),Un.convertTo(this)._forceRed(Un)},Ut.prototype.fromRed=function(){return Ot(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ut.prototype._forceRed=function(Un){return this.red=Un,this},Ut.prototype.forceRed=function(Un){return Ot(!this.red,"Already a number in reduction context"),this._forceRed(Un)},Ut.prototype.redAdd=function(Un){return Ot(this.red,"redAdd works only with red numbers"),this.red.add(this,Un)},Ut.prototype.redIAdd=function(Un){return Ot(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Un)},Ut.prototype.redSub=function(Un){return Ot(this.red,"redSub works only with red numbers"),this.red.sub(this,Un)},Ut.prototype.redISub=function(Un){return Ot(this.red,"redISub works only with red numbers"),this.red.isub(this,Un)},Ut.prototype.redShl=function(Un){return Ot(this.red,"redShl works only with red numbers"),this.red.shl(this,Un)},Ut.prototype.redMul=function(Un){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Un),this.red.mul(this,Un)},Ut.prototype.redIMul=function(Un){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Un),this.red.imul(this,Un)},Ut.prototype.redSqr=function(){return Ot(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ut.prototype.redISqr=function(){return Ot(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ut.prototype.redSqrt=function(){return Ot(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ut.prototype.redInvm=function(){return Ot(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ut.prototype.redNeg=function(){return Ot(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ut.prototype.redPow=function(Un){return Ot(this.red&&!Un.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Un)};var qn={k256:null,p224:null,p192:null,p25519:null};function jn(Yn,Un){this.name=Yn,this.p=new Ut(Un,16),this.n=this.p.bitLength(),this.k=new Ut(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}jn.prototype._tmp=function(){var Un=new Ut(null);return Un.words=new Array(Math.ceil(this.n/13)),Un},jn.prototype.ireduce=function(Un){var Mn=Un,mn;do this.split(Mn,this.tmp),Mn=this.imulK(Mn),Mn=Mn.iadd(this.tmp),mn=Mn.bitLength();while(mn>this.n);var Xr=mn<this.n?-1:Mn.ucmp(this.p);return Xr===0?(Mn.words[0]=0,Mn.length=1):Xr>0?Mn.isub(this.p):Mn.strip(),Mn},jn.prototype.split=function(Un,Mn){Un.iushrn(this.n,0,Mn)},jn.prototype.imulK=function(Un){return Un.imul(this.k)};function Hn(){jn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ft(Hn,jn),Hn.prototype.split=function(Un,Mn){for(var mn=4194303,Xr=Math.min(Un.length,9),gn=0;gn<Xr;gn++)Mn.words[gn]=Un.words[gn];if(Mn.length=Xr,Un.length<=9){Un.words[0]=0,Un.length=1;return}var On=Un.words[9];for(Mn.words[Mn.length++]=On&mn,gn=10;gn<Un.length;gn++){var Ln=Un.words[gn]|0;Un.words[gn-10]=(Ln&mn)<<4|On>>>22,On=Ln}On>>>=22,Un.words[gn-10]=On,On===0&&Un.length>10?Un.length-=10:Un.length-=9},Hn.prototype.imulK=function(Un){Un.words[Un.length]=0,Un.words[Un.length+1]=0,Un.length+=2;for(var Mn=0,mn=0;mn<Un.length;mn++){var Xr=Un.words[mn]|0;Mn+=Xr*977,Un.words[mn]=Mn&67108863,Mn=Xr*64+(Mn/67108864|0)}return Un.words[Un.length-1]===0&&(Un.length--,Un.words[Un.length-1]===0&&Un.length--),Un};function Jn(){jn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ft(Jn,jn);function Gn(){jn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ft(Gn,jn);function ba(){jn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ft(ba,jn),ba.prototype.imulK=function(Un){for(var Mn=0,mn=0;mn<Un.length;mn++){var Xr=(Un.words[mn]|0)*19+Mn,gn=Xr&67108863;Xr>>>=26,Un.words[mn]=gn,Mn=Xr}return Mn!==0&&(Un.words[Un.length++]=Mn),Un},Ut._prime=function(Un){if(qn[Un])return qn[Un];var Mn;if(Un==="k256")Mn=new Hn;else if(Un==="p224")Mn=new Jn;else if(Un==="p192")Mn=new Gn;else if(Un==="p25519")Mn=new ba;else throw new Error("Unknown prime "+Un);return qn[Un]=Mn,Mn};function eo(Yn){if(typeof Yn=="string"){var Un=Ut._prime(Yn);this.m=Un.p,this.prime=Un}else Ot(Yn.gtn(1),"modulus must be greater than 1"),this.m=Yn,this.prime=null}eo.prototype._verify1=function(Un){Ot(Un.negative===0,"red works only with positives"),Ot(Un.red,"red works only with red numbers")},eo.prototype._verify2=function(Un,Mn){Ot((Un.negative|Mn.negative)===0,"red works only with positives"),Ot(Un.red&&Un.red===Mn.red,"red works only with red numbers")},eo.prototype.imod=function(Un){return this.prime?this.prime.ireduce(Un)._forceRed(this):Un.umod(this.m)._forceRed(this)},eo.prototype.neg=function(Un){return Un.isZero()?Un.clone():this.m.sub(Un)._forceRed(this)},eo.prototype.add=function(Un,Mn){this._verify2(Un,Mn);var mn=Un.add(Mn);return mn.cmp(this.m)>=0&&mn.isub(this.m),mn._forceRed(this)},eo.prototype.iadd=function(Un,Mn){this._verify2(Un,Mn);var mn=Un.iadd(Mn);return mn.cmp(this.m)>=0&&mn.isub(this.m),mn},eo.prototype.sub=function(Un,Mn){this._verify2(Un,Mn);var mn=Un.sub(Mn);return mn.cmpn(0)<0&&mn.iadd(this.m),mn._forceRed(this)},eo.prototype.isub=function(Un,Mn){this._verify2(Un,Mn);var mn=Un.isub(Mn);return mn.cmpn(0)<0&&mn.iadd(this.m),mn},eo.prototype.shl=function(Un,Mn){return this._verify1(Un),this.imod(Un.ushln(Mn))},eo.prototype.imul=function(Un,Mn){return this._verify2(Un,Mn),this.imod(Un.imul(Mn))},eo.prototype.mul=function(Un,Mn){return this._verify2(Un,Mn),this.imod(Un.mul(Mn))},eo.prototype.isqr=function(Un){return this.imul(Un,Un.clone())},eo.prototype.sqr=function(Un){return this.mul(Un,Un)},eo.prototype.sqrt=function(Un){if(Un.isZero())return Un.clone();var Mn=this.m.andln(3);if(Ot(Mn%2===1),Mn===3){var mn=this.m.add(new Ut(1)).iushrn(2);return this.pow(Un,mn)}for(var Xr=this.m.subn(1),gn=0;!Xr.isZero()&&Xr.andln(1)===0;)gn++,Xr.iushrn(1);Ot(!Xr.isZero());var On=new Ut(1).toRed(this),Ln=On.redNeg(),Rn=this.m.subn(1).iushrn(1),yn=this.m.bitLength();for(yn=new Ut(2*yn*yn).toRed(this);this.pow(yn,Rn).cmp(Ln)!==0;)yn.redIAdd(Ln);for(var kn=this.pow(yn,Xr),Fn=this.pow(Un,Xr.addn(1).iushrn(1)),Cn=this.pow(Un,Xr),zn=gn;Cn.cmp(On)!==0;){for(var $a=Cn,co=0;$a.cmp(On)!==0;co++)$a=$a.redSqr();Ot(co<zn);var io=this.pow(kn,new Ut(1).iushln(zn-co-1));Fn=Fn.redMul(io),kn=io.redSqr(),Cn=Cn.redMul(kn),zn=co}return Fn},eo.prototype.invm=function(Un){var Mn=Un._invmp(this.m);return Mn.negative!==0?(Mn.negative=0,this.imod(Mn).redNeg()):this.imod(Mn)},eo.prototype.pow=function(Un,Mn){if(Mn.isZero())return new Ut(1).toRed(this);if(Mn.cmpn(1)===0)return Un.clone();var mn=4,Xr=new Array(1<<mn);Xr[0]=new Ut(1).toRed(this),Xr[1]=Un;for(var gn=2;gn<Xr.length;gn++)Xr[gn]=this.mul(Xr[gn-1],Un);var On=Xr[0],Ln=0,Rn=0,yn=Mn.bitLength()%26;for(yn===0&&(yn=26),gn=Mn.length-1;gn>=0;gn--){for(var kn=Mn.words[gn],Fn=yn-1;Fn>=0;Fn--){var Cn=kn>>Fn&1;if(On!==Xr[0]&&(On=this.sqr(On)),Cn===0&&Ln===0){Rn=0;continue}Ln<<=1,Ln|=Cn,Rn++,!(Rn!==mn&&(gn!==0||Fn!==0))&&(On=this.mul(On,Xr[Ln]),Rn=0,Ln=0)}yn=26}return On},eo.prototype.convertTo=function(Un){var Mn=Un.umod(this.m);return Mn===Un?Mn.clone():Mn},eo.prototype.convertFrom=function(Un){var Mn=Un.clone();return Mn.red=null,Mn},Ut.mont=function(Un){return new xa(Un)};function xa(Yn){eo.call(this,Yn),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ut(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ft(xa,eo),xa.prototype.convertTo=function(Un){return this.imod(Un.ushln(this.shift))},xa.prototype.convertFrom=function(Un){var Mn=this.imod(Un.mul(this.rinv));return Mn.red=null,Mn},xa.prototype.imul=function(Un,Mn){if(Un.isZero()||Mn.isZero())return Un.words[0]=0,Un.length=1,Un;var mn=Un.imul(Mn),Xr=mn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),gn=mn.isub(Xr).iushrn(this.shift),On=gn;return gn.cmp(this.m)>=0?On=gn.isub(this.m):gn.cmpn(0)<0&&(On=gn.iadd(this.m)),On._forceRed(this)},xa.prototype.mul=function(Un,Mn){if(Un.isZero()||Mn.isZero())return new Ut(0)._forceRed(this);var mn=Un.mul(Mn),Xr=mn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),gn=mn.isub(Xr).iushrn(this.shift),On=gn;return gn.cmp(this.m)>=0?On=gn.isub(this.m):gn.cmpn(0)<0&&(On=gn.iadd(this.m)),On._forceRed(this)},xa.prototype.invm=function(Un){var Mn=this.imod(Un._invmp(this.m).mul(this.r2));return Mn._forceRed(this)}})(_e,commonjsGlobal)}(bn$4)),bn$4.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var _e;brorand.exports=function(Ft){return _e||(_e=new d(null)),_e.generate(Ft)};function d(Ot){this.rand=Ot}if(brorand.exports.Rand=d,d.prototype.generate=function(Ft){return this._rand(Ft)},d.prototype._rand=function(Ft){if(this.rand.getBytes)return this.rand.getBytes(Ft);for(var Ut=new Uint8Array(Ft),Xt=0;Xt<Ut.length;Xt++)Ut[Xt]=this.rand.getByte();return Ut},typeof self=="object")self.crypto&&self.crypto.getRandomValues?d.prototype._rand=function(Ft){var Ut=new Uint8Array(Ft);return self.crypto.getRandomValues(Ut),Ut}:self.msCrypto&&self.msCrypto.getRandomValues?d.prototype._rand=function(Ft){var Ut=new Uint8Array(Ft);return self.msCrypto.getRandomValues(Ut),Ut}:typeof window=="object"&&(d.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Mt=requireCryptoBrowserify();if(typeof Mt.randomBytes!="function")throw new Error("Not supported");d.prototype._rand=function(Ft){return Mt.randomBytes(Ft)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var _e=requireBn$3(),d=requireBrorand();function Mt(Ot){this.rand=Ot||new d.Rand}return mr$1=Mt,Mt.create=function(Ft){return new Mt(Ft)},Mt.prototype._randbelow=function(Ft){var Ut=Ft.bitLength(),Xt=Math.ceil(Ut/8);do var jr=new _e(this.rand.generate(Xt));while(jr.cmp(Ft)>=0);return jr},Mt.prototype._randrange=function(Ft,Ut){var Xt=Ut.sub(Ft);return Ft.add(this._randbelow(Xt))},Mt.prototype.test=function(Ft,Ut,Xt){var jr=Ft.bitLength(),hn=_e.mont(Ft),Vr=new _e(1).toRed(hn);Ut||(Ut=Math.max(1,jr/48|0));for(var fn=Ft.subn(1),dn=0;!fn.testn(dn);dn++);for(var pn=Ft.shrn(dn),En=fn.toRed(hn),_n=!0;Ut>0;Ut--){var Dn=this._randrange(new _e(2),fn);Xt&&Xt(Dn);var Vn=Dn.toRed(hn).redPow(pn);if(!(Vn.cmp(Vr)===0||Vn.cmp(En)===0)){for(var Pn=1;Pn<dn;Pn++){if(Vn=Vn.redSqr(),Vn.cmp(Vr)===0)return!1;if(Vn.cmp(En)===0)break}if(Pn===dn)return!1}}return _n},Mt.prototype.getDivisor=function(Ft,Ut){var Xt=Ft.bitLength(),jr=_e.mont(Ft),hn=new _e(1).toRed(jr);Ut||(Ut=Math.max(1,Xt/48|0));for(var Vr=Ft.subn(1),fn=0;!Vr.testn(fn);fn++);for(var dn=Ft.shrn(fn),pn=Vr.toRed(jr);Ut>0;Ut--){var En=this._randrange(new _e(2),Vr),_n=Ft.gcd(En);if(_n.cmpn(1)!==0)return _n;var Dn=En.toRed(jr).redPow(dn);if(!(Dn.cmp(hn)===0||Dn.cmp(pn)===0)){for(var Vn=1;Vn<fn;Vn++){if(Dn=Dn.redSqr(),Dn.cmp(hn)===0)return Dn.fromRed().subn(1).gcd(Ft);if(Dn.cmp(pn)===0)break}if(Vn===fn)return Dn=Dn.redSqr(),Dn.fromRed().subn(1).gcd(Ft)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var _e=requireBrowser$b();generatePrime=Vn,Vn.simpleSieve=_n,Vn.fermatTest=Dn;var d=requireBn$3(),Mt=new d(24),Ot=requireMr(),Ft=new Ot,Ut=new d(1),Xt=new d(2),jr=new d(5);new d(16),new d(8);var hn=new d(10),Vr=new d(3);new d(7);var fn=new d(11),dn=new d(4);new d(12);var pn=null;function En(){if(pn!==null)return pn;var Pn=1048576,qn=[];qn[0]=2;for(var jn=1,Hn=3;Hn<Pn;Hn+=2){for(var Jn=Math.ceil(Math.sqrt(Hn)),Gn=0;Gn<jn&&qn[Gn]<=Jn&&Hn%qn[Gn]!==0;Gn++);jn!==Gn&&qn[Gn]<=Jn||(qn[jn++]=Hn)}return pn=qn,qn}function _n(Pn){for(var qn=En(),jn=0;jn<qn.length;jn++)if(Pn.modn(qn[jn])===0)return Pn.cmpn(qn[jn])===0;return!0}function Dn(Pn){var qn=d.mont(Pn);return Xt.toRed(qn).redPow(Pn.subn(1)).fromRed().cmpn(1)===0}function Vn(Pn,qn){if(Pn<16)return qn===2||qn===5?new d([140,123]):new d([140,39]);qn=new d(qn);for(var jn,Hn;;){for(jn=new d(_e(Math.ceil(Pn/8)));jn.bitLength()>Pn;)jn.ishrn(1);if(jn.isEven()&&jn.iadd(Ut),jn.testn(1)||jn.iadd(Xt),qn.cmp(Xt)){if(!qn.cmp(jr))for(;jn.mod(hn).cmp(Vr);)jn.iadd(dn)}else for(;jn.mod(Mt).cmp(fn);)jn.iadd(dn);if(Hn=jn.shrn(1),_n(Hn)&&_n(jn)&&Dn(Hn)&&Dn(jn)&&Ft.test(Hn)&&Ft.test(jn))return jn}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var _e=requireBn$3(),d=requireMr(),Mt=new d,Ot=new _e(24),Ft=new _e(11),Ut=new _e(10),Xt=new _e(3),jr=new _e(7),hn=requireGeneratePrime(),Vr=requireBrowser$b();dh=_n;function fn(Vn,Pn){return Pn=Pn||"utf8",Buffer.isBuffer(Vn)||(Vn=new Buffer(Vn,Pn)),this._pub=new _e(Vn),this}function dn(Vn,Pn){return Pn=Pn||"utf8",Buffer.isBuffer(Vn)||(Vn=new Buffer(Vn,Pn)),this._priv=new _e(Vn),this}var pn={};function En(Vn,Pn){var qn=Pn.toString("hex"),jn=[qn,Vn.toString(16)].join("_");if(jn in pn)return pn[jn];var Hn=0;if(Vn.isEven()||!hn.simpleSieve||!hn.fermatTest(Vn)||!Mt.test(Vn))return Hn+=1,qn==="02"||qn==="05"?Hn+=8:Hn+=4,pn[jn]=Hn,Hn;Mt.test(Vn.shrn(1))||(Hn+=2);var Jn;switch(qn){case"02":Vn.mod(Ot).cmp(Ft)&&(Hn+=8);break;case"05":Jn=Vn.mod(Ut),Jn.cmp(Xt)&&Jn.cmp(jr)&&(Hn+=8);break;default:Hn+=4}return pn[jn]=Hn,Hn}function _n(Vn,Pn,qn){this.setGenerator(Pn),this.__prime=new _e(Vn),this._prime=_e.mont(this.__prime),this._primeLen=Vn.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,qn?(this.setPublicKey=fn,this.setPrivateKey=dn):this._primeCode=8}Object.defineProperty(_n.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=En(this.__prime,this.__gen)),this._primeCode}}),_n.prototype.generateKeys=function(){return this._priv||(this._priv=new _e(Vr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_n.prototype.computeSecret=function(Vn){Vn=new _e(Vn),Vn=Vn.toRed(this._prime);var Pn=Vn.redPow(this._priv).fromRed(),qn=new Buffer(Pn.toArray()),jn=this.getPrime();if(qn.length<jn.length){var Hn=new Buffer(jn.length-qn.length);Hn.fill(0),qn=Buffer.concat([Hn,qn])}return qn},_n.prototype.getPublicKey=function(Pn){return Dn(this._pub,Pn)},_n.prototype.getPrivateKey=function(Pn){return Dn(this._priv,Pn)},_n.prototype.getPrime=function(Vn){return Dn(this.__prime,Vn)},_n.prototype.getGenerator=function(Vn){return Dn(this._gen,Vn)},_n.prototype.setGenerator=function(Vn,Pn){return Pn=Pn||"utf8",Buffer.isBuffer(Vn)||(Vn=new Buffer(Vn,Pn)),this.__gen=Vn,this._gen=new _e(Vn),this};function Dn(Vn,Pn){var qn=new Buffer(Vn.toArray());return Pn?qn.toString(Pn):qn}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var _e=requireGeneratePrime(),d=require$$1$1,Mt=requireDh();function Ot(Xt){var jr=new Buffer(d[Xt].prime,"hex"),hn=new Buffer(d[Xt].gen,"hex");return new Mt(jr,hn)}var Ft={binary:!0,hex:!0,base64:!0};function Ut(Xt,jr,hn,Vr){return Buffer.isBuffer(jr)||Ft[jr]===void 0?Ut(Xt,"binary",jr,hn):(jr=jr||"binary",Vr=Vr||"binary",hn=hn||new Buffer([2]),Buffer.isBuffer(hn)||(hn=new Buffer(hn,Vr)),typeof Xt=="number"?new Mt(_e(Xt,hn),hn,!0):(Buffer.isBuffer(Xt)||(Xt=new Buffer(Xt,jr)),new Mt(Xt,hn,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=Ot,browser$4.createDiffieHellman=browser$4.DiffieHellman=Ut,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:_e}:processNextickArgs.exports=process$1;function _e(d,Mt,Ot,Ft){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var Ut=arguments.length,Xt,jr;switch(Ut){case 0:case 1:return process$1.nextTick(d);case 2:return process$1.nextTick(function(){d.call(null,Mt)});case 3:return process$1.nextTick(function(){d.call(null,Mt,Ot)});case 4:return process$1.nextTick(function(){d.call(null,Mt,Ot,Ft)});default:for(Xt=new Array(Ut-1),jr=0;jr<Xt.length;)Xt[jr++]=arguments[jr];return process$1.nextTick(function(){d.apply(null,Xt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var _e={}.toString;return isarray=Array.isArray||function(d){return _e.call(d)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(_e,d){var Mt=require$$1$2,Ot=Mt.Buffer;function Ft(Xt,jr){for(var hn in Xt)jr[hn]=Xt[hn]}Ot.from&&Ot.alloc&&Ot.allocUnsafe&&Ot.allocUnsafeSlow?_e.exports=Mt:(Ft(Mt,d),d.Buffer=Ut);function Ut(Xt,jr,hn){return Ot(Xt,jr,hn)}Ft(Ot,Ut),Ut.from=function(Xt,jr,hn){if(typeof Xt=="number")throw new TypeError("Argument must not be a number");return Ot(Xt,jr,hn)},Ut.alloc=function(Xt,jr,hn){if(typeof Xt!="number")throw new TypeError("Argument must be a number");var Vr=Ot(Xt);return jr!==void 0?typeof hn=="string"?Vr.fill(jr,hn):Vr.fill(jr):Vr.fill(0),Vr},Ut.allocUnsafe=function(Xt){if(typeof Xt!="number")throw new TypeError("Argument must be a number");return Ot(Xt)},Ut.allocUnsafeSlow=function(Xt){if(typeof Xt!="number")throw new TypeError("Argument must be a number");return Mt.SlowBuffer(Xt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function _e(Dn){return Array.isArray?Array.isArray(Dn):_n(Dn)==="[object Array]"}util.isArray=_e;function d(Dn){return typeof Dn=="boolean"}util.isBoolean=d;function Mt(Dn){return Dn===null}util.isNull=Mt;function Ot(Dn){return Dn==null}util.isNullOrUndefined=Ot;function Ft(Dn){return typeof Dn=="number"}util.isNumber=Ft;function Ut(Dn){return typeof Dn=="string"}util.isString=Ut;function Xt(Dn){return typeof Dn=="symbol"}util.isSymbol=Xt;function jr(Dn){return Dn===void 0}util.isUndefined=jr;function hn(Dn){return _n(Dn)==="[object RegExp]"}util.isRegExp=hn;function Vr(Dn){return typeof Dn=="object"&&Dn!==null}util.isObject=Vr;function fn(Dn){return _n(Dn)==="[object Date]"}util.isDate=fn;function dn(Dn){return _n(Dn)==="[object Error]"||Dn instanceof Error}util.isError=dn;function pn(Dn){return typeof Dn=="function"}util.isFunction=pn;function En(Dn){return Dn===null||typeof Dn=="boolean"||typeof Dn=="number"||typeof Dn=="string"||typeof Dn=="symbol"||typeof Dn>"u"}util.isPrimitive=En,util.isBuffer=require$$1$2.Buffer.isBuffer;function _n(Dn){return Object.prototype.toString.call(Dn)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(_e){function d(Ut,Xt){if(!(Ut instanceof Xt))throw new TypeError("Cannot call a class as a function")}var Mt=requireSafeBuffer().Buffer,Ot=requireUtil$1();function Ft(Ut,Xt,jr){Ut.copy(Xt,jr)}_e.exports=function(){function Ut(){d(this,Ut),this.head=null,this.tail=null,this.length=0}return Ut.prototype.push=function(jr){var hn={data:jr,next:null};this.length>0?this.tail.next=hn:this.head=hn,this.tail=hn,++this.length},Ut.prototype.unshift=function(jr){var hn={data:jr,next:this.head};this.length===0&&(this.tail=hn),this.head=hn,++this.length},Ut.prototype.shift=function(){if(this.length!==0){var jr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,jr}},Ut.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ut.prototype.join=function(jr){if(this.length===0)return"";for(var hn=this.head,Vr=""+hn.data;hn=hn.next;)Vr+=jr+hn.data;return Vr},Ut.prototype.concat=function(jr){if(this.length===0)return Mt.alloc(0);for(var hn=Mt.allocUnsafe(jr>>>0),Vr=this.head,fn=0;Vr;)Ft(Vr.data,hn,fn),fn+=Vr.data.length,Vr=Vr.next;return hn},Ut}(),Ot&&Ot.inspect&&Ot.inspect.custom&&(_e.exports.prototype[Ot.inspect.custom]=function(){var Ut=Ot.inspect({length:this.length});return this.constructor.name+" "+Ut})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var _e=requireProcessNextickArgs();function d(Ft,Ut){var Xt=this,jr=this._readableState&&this._readableState.destroyed,hn=this._writableState&&this._writableState.destroyed;return jr||hn?(Ut?Ut(Ft):Ft&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,_e.nextTick(Ot,this,Ft)):_e.nextTick(Ot,this,Ft)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Ft||null,function(Vr){!Ut&&Vr?Xt._writableState?Xt._writableState.errorEmitted||(Xt._writableState.errorEmitted=!0,_e.nextTick(Ot,Xt,Vr)):_e.nextTick(Ot,Xt,Vr):Ut&&Ut(Vr)}),this)}function Mt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ot(Ft,Ut){Ft.emit("error",Ut)}return destroy_1={destroy:d,undestroy:Mt},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var _e=requireProcessNextickArgs();_stream_writable=Dn;function d(Ln){var Rn=this;this.next=null,this.entry=null,this.finish=function(){On(Rn,Ln)}}var Mt=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:_e.nextTick,Ot;Dn.WritableState=En;var Ft=Object.create(requireUtil());Ft.inherits=requireInherits_browser();var Ut={deprecate:requireBrowser$a()},Xt=requireStreamBrowser(),jr=requireSafeBuffer().Buffer,hn=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Vr(Ln){return jr.from(Ln)}function fn(Ln){return jr.isBuffer(Ln)||Ln instanceof hn}var dn=requireDestroy();Ft.inherits(Dn,Xt);function pn(){}function En(Ln,Rn){Ot=Ot||require_stream_duplex(),Ln=Ln||{};var yn=Rn instanceof Ot;this.objectMode=!!Ln.objectMode,yn&&(this.objectMode=this.objectMode||!!Ln.writableObjectMode);var kn=Ln.highWaterMark,Fn=Ln.writableHighWaterMark,Cn=this.objectMode?16:16*1024;kn||kn===0?this.highWaterMark=kn:yn&&(Fn||Fn===0)?this.highWaterMark=Fn:this.highWaterMark=Cn,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var zn=Ln.decodeStrings===!1;this.decodeStrings=!zn,this.defaultEncoding=Ln.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($a){ba(Rn,$a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}En.prototype.getBuffer=function(){for(var Rn=this.bufferedRequest,yn=[];Rn;)yn.push(Rn),Rn=Rn.next;return yn},function(){try{Object.defineProperty(En.prototype,"buffer",{get:Ut.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _n;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_n=Function.prototype[Symbol.hasInstance],Object.defineProperty(Dn,Symbol.hasInstance,{value:function(Ln){return _n.call(this,Ln)?!0:this!==Dn?!1:Ln&&Ln._writableState instanceof En}})):_n=function(Ln){return Ln instanceof this};function Dn(Ln){if(Ot=Ot||require_stream_duplex(),!_n.call(Dn,this)&&!(this instanceof Ot))return new Dn(Ln);this._writableState=new En(Ln,this),this.writable=!0,Ln&&(typeof Ln.write=="function"&&(this._write=Ln.write),typeof Ln.writev=="function"&&(this._writev=Ln.writev),typeof Ln.destroy=="function"&&(this._destroy=Ln.destroy),typeof Ln.final=="function"&&(this._final=Ln.final)),Xt.call(this)}Dn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Vn(Ln,Rn){var yn=new Error("write after end");Ln.emit("error",yn),_e.nextTick(Rn,yn)}function Pn(Ln,Rn,yn,kn){var Fn=!0,Cn=!1;return yn===null?Cn=new TypeError("May not write null values to stream"):typeof yn!="string"&&yn!==void 0&&!Rn.objectMode&&(Cn=new TypeError("Invalid non-string/buffer chunk")),Cn&&(Ln.emit("error",Cn),_e.nextTick(kn,Cn),Fn=!1),Fn}Dn.prototype.write=function(Ln,Rn,yn){var kn=this._writableState,Fn=!1,Cn=!kn.objectMode&&fn(Ln);return Cn&&!jr.isBuffer(Ln)&&(Ln=Vr(Ln)),typeof Rn=="function"&&(yn=Rn,Rn=null),Cn?Rn="buffer":Rn||(Rn=kn.defaultEncoding),typeof yn!="function"&&(yn=pn),kn.ended?Vn(this,yn):(Cn||Pn(this,kn,Ln,yn))&&(kn.pendingcb++,Fn=jn(this,kn,Cn,Ln,Rn,yn)),Fn},Dn.prototype.cork=function(){var Ln=this._writableState;Ln.corked++},Dn.prototype.uncork=function(){var Ln=this._writableState;Ln.corked&&(Ln.corked--,!Ln.writing&&!Ln.corked&&!Ln.bufferProcessing&&Ln.bufferedRequest&&Yn(this,Ln))},Dn.prototype.setDefaultEncoding=function(Rn){if(typeof Rn=="string"&&(Rn=Rn.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Rn+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Rn);return this._writableState.defaultEncoding=Rn,this};function qn(Ln,Rn,yn){return!Ln.objectMode&&Ln.decodeStrings!==!1&&typeof Rn=="string"&&(Rn=jr.from(Rn,yn)),Rn}Object.defineProperty(Dn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function jn(Ln,Rn,yn,kn,Fn,Cn){if(!yn){var zn=qn(Rn,kn,Fn);kn!==zn&&(yn=!0,Fn="buffer",kn=zn)}var $a=Rn.objectMode?1:kn.length;Rn.length+=$a;var co=Rn.length<Rn.highWaterMark;if(co||(Rn.needDrain=!0),Rn.writing||Rn.corked){var io=Rn.lastBufferedRequest;Rn.lastBufferedRequest={chunk:kn,encoding:Fn,isBuf:yn,callback:Cn,next:null},io?io.next=Rn.lastBufferedRequest:Rn.bufferedRequest=Rn.lastBufferedRequest,Rn.bufferedRequestCount+=1}else Hn(Ln,Rn,!1,$a,kn,Fn,Cn);return co}function Hn(Ln,Rn,yn,kn,Fn,Cn,zn){Rn.writelen=kn,Rn.writecb=zn,Rn.writing=!0,Rn.sync=!0,yn?Ln._writev(Fn,Rn.onwrite):Ln._write(Fn,Cn,Rn.onwrite),Rn.sync=!1}function Jn(Ln,Rn,yn,kn,Fn){--Rn.pendingcb,yn?(_e.nextTick(Fn,kn),_e.nextTick(Xr,Ln,Rn),Ln._writableState.errorEmitted=!0,Ln.emit("error",kn)):(Fn(kn),Ln._writableState.errorEmitted=!0,Ln.emit("error",kn),Xr(Ln,Rn))}function Gn(Ln){Ln.writing=!1,Ln.writecb=null,Ln.length-=Ln.writelen,Ln.writelen=0}function ba(Ln,Rn){var yn=Ln._writableState,kn=yn.sync,Fn=yn.writecb;if(Gn(yn),Rn)Jn(Ln,yn,kn,Rn,Fn);else{var Cn=Un(yn);!Cn&&!yn.corked&&!yn.bufferProcessing&&yn.bufferedRequest&&Yn(Ln,yn),kn?Mt(eo,Ln,yn,Cn,Fn):eo(Ln,yn,Cn,Fn)}}function eo(Ln,Rn,yn,kn){yn||xa(Ln,Rn),Rn.pendingcb--,kn(),Xr(Ln,Rn)}function xa(Ln,Rn){Rn.length===0&&Rn.needDrain&&(Rn.needDrain=!1,Ln.emit("drain"))}function Yn(Ln,Rn){Rn.bufferProcessing=!0;var yn=Rn.bufferedRequest;if(Ln._writev&&yn&&yn.next){var kn=Rn.bufferedRequestCount,Fn=new Array(kn),Cn=Rn.corkedRequestsFree;Cn.entry=yn;for(var zn=0,$a=!0;yn;)Fn[zn]=yn,yn.isBuf||($a=!1),yn=yn.next,zn+=1;Fn.allBuffers=$a,Hn(Ln,Rn,!0,Rn.length,Fn,"",Cn.finish),Rn.pendingcb++,Rn.lastBufferedRequest=null,Cn.next?(Rn.corkedRequestsFree=Cn.next,Cn.next=null):Rn.corkedRequestsFree=new d(Rn),Rn.bufferedRequestCount=0}else{for(;yn;){var co=yn.chunk,io=yn.encoding,ga=yn.callback,na=Rn.objectMode?1:co.length;if(Hn(Ln,Rn,!1,na,co,io,ga),yn=yn.next,Rn.bufferedRequestCount--,Rn.writing)break}yn===null&&(Rn.lastBufferedRequest=null)}Rn.bufferedRequest=yn,Rn.bufferProcessing=!1}Dn.prototype._write=function(Ln,Rn,yn){yn(new Error("_write() is not implemented"))},Dn.prototype._writev=null,Dn.prototype.end=function(Ln,Rn,yn){var kn=this._writableState;typeof Ln=="function"?(yn=Ln,Ln=null,Rn=null):typeof Rn=="function"&&(yn=Rn,Rn=null),Ln!=null&&this.write(Ln,Rn),kn.corked&&(kn.corked=1,this.uncork()),kn.ending||gn(this,kn,yn)};function Un(Ln){return Ln.ending&&Ln.length===0&&Ln.bufferedRequest===null&&!Ln.finished&&!Ln.writing}function Mn(Ln,Rn){Ln._final(function(yn){Rn.pendingcb--,yn&&Ln.emit("error",yn),Rn.prefinished=!0,Ln.emit("prefinish"),Xr(Ln,Rn)})}function mn(Ln,Rn){!Rn.prefinished&&!Rn.finalCalled&&(typeof Ln._final=="function"?(Rn.pendingcb++,Rn.finalCalled=!0,_e.nextTick(Mn,Ln,Rn)):(Rn.prefinished=!0,Ln.emit("prefinish")))}function Xr(Ln,Rn){var yn=Un(Rn);return yn&&(mn(Ln,Rn),Rn.pendingcb===0&&(Rn.finished=!0,Ln.emit("finish"))),yn}function gn(Ln,Rn,yn){Rn.ending=!0,Xr(Ln,Rn),yn&&(Rn.finished?_e.nextTick(yn):Ln.once("finish",yn)),Rn.ended=!0,Ln.writable=!1}function On(Ln,Rn,yn){var kn=Ln.entry;for(Ln.entry=null;kn;){var Fn=kn.callback;Rn.pendingcb--,Fn(yn),kn=kn.next}Rn.corkedRequestsFree.next=Ln}return Object.defineProperty(Dn.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ln){this._writableState&&(this._writableState.destroyed=Ln)}}),Dn.prototype.destroy=dn.destroy,Dn.prototype._undestroy=dn.undestroy,Dn.prototype._destroy=function(Ln,Rn){this.end(),Rn(Ln)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var _e=requireProcessNextickArgs(),d=Object.keys||function(dn){var pn=[];for(var En in dn)pn.push(En);return pn};_stream_duplex=hn;var Mt=Object.create(requireUtil());Mt.inherits=requireInherits_browser();var Ot=require_stream_readable(),Ft=require_stream_writable();Mt.inherits(hn,Ot);for(var Ut=d(Ft.prototype),Xt=0;Xt<Ut.length;Xt++){var jr=Ut[Xt];hn.prototype[jr]||(hn.prototype[jr]=Ft.prototype[jr])}function hn(dn){if(!(this instanceof hn))return new hn(dn);Ot.call(this,dn),Ft.call(this,dn),dn&&dn.readable===!1&&(this.readable=!1),dn&&dn.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,dn&&dn.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Vr)}Object.defineProperty(hn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Vr(){this.allowHalfOpen||this._writableState.ended||_e.nextTick(fn,this)}function fn(dn){dn.end()}return Object.defineProperty(hn.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(dn){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=dn,this._writableState.destroyed=dn)}}),hn.prototype._destroy=function(dn,pn){this.push(null),this.end(),_e.nextTick(pn,dn)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var _e=requireProcessNextickArgs();_stream_readable=qn;var d=requireIsarray(),Mt;qn.ReadableState=Pn,requireEvents().EventEmitter;var Ot=function(ga,na){return ga.listeners(na).length},Ft=requireStreamBrowser(),Ut=requireSafeBuffer().Buffer,Xt=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function jr(ga){return Ut.from(ga)}function hn(ga){return Ut.isBuffer(ga)||ga instanceof Xt}var Vr=Object.create(requireUtil());Vr.inherits=requireInherits_browser();var fn=requireUtil$1(),dn=void 0;fn&&fn.debuglog?dn=fn.debuglog("stream"):dn=function(){};var pn=requireBufferList(),En=requireDestroy(),_n;Vr.inherits(qn,Ft);var Dn=["error","close","destroy","pause","resume"];function Vn(ga,na,so){if(typeof ga.prependListener=="function")return ga.prependListener(na,so);!ga._events||!ga._events[na]?ga.on(na,so):d(ga._events[na])?ga._events[na].unshift(so):ga._events[na]=[so,ga._events[na]]}function Pn(ga,na){Mt=Mt||require_stream_duplex(),ga=ga||{};var so=na instanceof Mt;this.objectMode=!!ga.objectMode,so&&(this.objectMode=this.objectMode||!!ga.readableObjectMode);var _i=ga.highWaterMark,Wn=ga.readableHighWaterMark,Kn=this.objectMode?16:16*1024;_i||_i===0?this.highWaterMark=_i:so&&(Wn||Wn===0)?this.highWaterMark=Wn:this.highWaterMark=Kn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new pn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ga.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ga.encoding&&(_n||(_n=requireString_decoder().StringDecoder),this.decoder=new _n(ga.encoding),this.encoding=ga.encoding)}function qn(ga){if(Mt=Mt||require_stream_duplex(),!(this instanceof qn))return new qn(ga);this._readableState=new Pn(ga,this),this.readable=!0,ga&&(typeof ga.read=="function"&&(this._read=ga.read),typeof ga.destroy=="function"&&(this._destroy=ga.destroy)),Ft.call(this)}Object.defineProperty(qn.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ga){this._readableState&&(this._readableState.destroyed=ga)}}),qn.prototype.destroy=En.destroy,qn.prototype._undestroy=En.undestroy,qn.prototype._destroy=function(ga,na){this.push(null),na(ga)},qn.prototype.push=function(ga,na){var so=this._readableState,_i;return so.objectMode?_i=!0:typeof ga=="string"&&(na=na||so.defaultEncoding,na!==so.encoding&&(ga=Ut.from(ga,na),na=""),_i=!0),jn(this,ga,na,!1,_i)},qn.prototype.unshift=function(ga){return jn(this,ga,null,!0,!1)};function jn(ga,na,so,_i,Wn){var Kn=ga._readableState;if(na===null)Kn.reading=!1,Yn(ga,Kn);else{var ro;Wn||(ro=Jn(Kn,na)),ro?ga.emit("error",ro):Kn.objectMode||na&&na.length>0?(typeof na!="string"&&!Kn.objectMode&&Object.getPrototypeOf(na)!==Ut.prototype&&(na=jr(na)),_i?Kn.endEmitted?ga.emit("error",new Error("stream.unshift() after end event")):Hn(ga,Kn,na,!0):Kn.ended?ga.emit("error",new Error("stream.push() after EOF")):(Kn.reading=!1,Kn.decoder&&!so?(na=Kn.decoder.write(na),Kn.objectMode||na.length!==0?Hn(ga,Kn,na,!1):mn(ga,Kn)):Hn(ga,Kn,na,!1))):_i||(Kn.reading=!1)}return Gn(Kn)}function Hn(ga,na,so,_i){na.flowing&&na.length===0&&!na.sync?(ga.emit("data",so),ga.read(0)):(na.length+=na.objectMode?1:so.length,_i?na.buffer.unshift(so):na.buffer.push(so),na.needReadable&&Un(ga)),mn(ga,na)}function Jn(ga,na){var so;return!hn(na)&&typeof na!="string"&&na!==void 0&&!ga.objectMode&&(so=new TypeError("Invalid non-string/buffer chunk")),so}function Gn(ga){return!ga.ended&&(ga.needReadable||ga.length<ga.highWaterMark||ga.length===0)}qn.prototype.isPaused=function(){return this._readableState.flowing===!1},qn.prototype.setEncoding=function(ga){return _n||(_n=requireString_decoder().StringDecoder),this._readableState.decoder=new _n(ga),this._readableState.encoding=ga,this};var ba=8388608;function eo(ga){return ga>=ba?ga=ba:(ga--,ga|=ga>>>1,ga|=ga>>>2,ga|=ga>>>4,ga|=ga>>>8,ga|=ga>>>16,ga++),ga}function xa(ga,na){return ga<=0||na.length===0&&na.ended?0:na.objectMode?1:ga!==ga?na.flowing&&na.length?na.buffer.head.data.length:na.length:(ga>na.highWaterMark&&(na.highWaterMark=eo(ga)),ga<=na.length?ga:na.ended?na.length:(na.needReadable=!0,0))}qn.prototype.read=function(ga){dn("read",ga),ga=parseInt(ga,10);var na=this._readableState,so=ga;if(ga!==0&&(na.emittedReadable=!1),ga===0&&na.needReadable&&(na.length>=na.highWaterMark||na.ended))return dn("read: emitReadable",na.length,na.ended),na.length===0&&na.ended?$a(this):Un(this),null;if(ga=xa(ga,na),ga===0&&na.ended)return na.length===0&&$a(this),null;var _i=na.needReadable;dn("need readable",_i),(na.length===0||na.length-ga<na.highWaterMark)&&(_i=!0,dn("length less than watermark",_i)),na.ended||na.reading?(_i=!1,dn("reading or ended",_i)):_i&&(dn("do read"),na.reading=!0,na.sync=!0,na.length===0&&(na.needReadable=!0),this._read(na.highWaterMark),na.sync=!1,na.reading||(ga=xa(so,na)));var Wn;return ga>0?Wn=kn(ga,na):Wn=null,Wn===null?(na.needReadable=!0,ga=0):na.length-=ga,na.length===0&&(na.ended||(na.needReadable=!0),so!==ga&&na.ended&&$a(this)),Wn!==null&&this.emit("data",Wn),Wn};function Yn(ga,na){if(!na.ended){if(na.decoder){var so=na.decoder.end();so&&so.length&&(na.buffer.push(so),na.length+=na.objectMode?1:so.length)}na.ended=!0,Un(ga)}}function Un(ga){var na=ga._readableState;na.needReadable=!1,na.emittedReadable||(dn("emitReadable",na.flowing),na.emittedReadable=!0,na.sync?_e.nextTick(Mn,ga):Mn(ga))}function Mn(ga){dn("emit readable"),ga.emit("readable"),yn(ga)}function mn(ga,na){na.readingMore||(na.readingMore=!0,_e.nextTick(Xr,ga,na))}function Xr(ga,na){for(var so=na.length;!na.reading&&!na.flowing&&!na.ended&&na.length<na.highWaterMark&&(dn("maybeReadMore read 0"),ga.read(0),so!==na.length);)so=na.length;na.readingMore=!1}qn.prototype._read=function(ga){this.emit("error",new Error("_read() is not implemented"))},qn.prototype.pipe=function(ga,na){var so=this,_i=this._readableState;switch(_i.pipesCount){case 0:_i.pipes=ga;break;case 1:_i.pipes=[_i.pipes,ga];break;default:_i.pipes.push(ga);break}_i.pipesCount+=1,dn("pipe count=%d opts=%j",_i.pipesCount,na);var Wn=(!na||na.end!==!1)&&ga!==process$1.stdout&&ga!==process$1.stderr,Kn=Wn?oo:Ro;_i.endEmitted?_e.nextTick(Kn):so.once("end",Kn),ga.on("unpipe",ro);function ro($o,Lo){dn("onunpipe"),$o===so&&Lo&&Lo.hasUnpiped===!1&&(Lo.hasUnpiped=!0,vo())}function oo(){dn("onend"),ga.end()}var mo=gn(so);ga.on("drain",mo);var bo=!1;function vo(){dn("cleanup"),ga.removeListener("close",Ao),ga.removeListener("finish",Co),ga.removeListener("drain",mo),ga.removeListener("error",So),ga.removeListener("unpipe",ro),so.removeListener("end",oo),so.removeListener("end",Ro),so.removeListener("data",go),bo=!0,_i.awaitDrain&&(!ga._writableState||ga._writableState.needDrain)&&mo()}var wo=!1;so.on("data",go);function go($o){dn("ondata"),wo=!1;var Lo=ga.write($o);Lo===!1&&!wo&&((_i.pipesCount===1&&_i.pipes===ga||_i.pipesCount>1&&io(_i.pipes,ga)!==-1)&&!bo&&(dn("false write response, pause",_i.awaitDrain),_i.awaitDrain++,wo=!0),so.pause())}function So($o){dn("onerror",$o),Ro(),ga.removeListener("error",So),Ot(ga,"error")===0&&ga.emit("error",$o)}Vn(ga,"error",So);function Ao(){ga.removeListener("finish",Co),Ro()}ga.once("close",Ao);function Co(){dn("onfinish"),ga.removeListener("close",Ao),Ro()}ga.once("finish",Co);function Ro(){dn("unpipe"),so.unpipe(ga)}return ga.emit("pipe",so),_i.flowing||(dn("pipe resume"),so.resume()),ga};function gn(ga){return function(){var na=ga._readableState;dn("pipeOnDrain",na.awaitDrain),na.awaitDrain&&na.awaitDrain--,na.awaitDrain===0&&Ot(ga,"data")&&(na.flowing=!0,yn(ga))}}qn.prototype.unpipe=function(ga){var na=this._readableState,so={hasUnpiped:!1};if(na.pipesCount===0)return this;if(na.pipesCount===1)return ga&&ga!==na.pipes?this:(ga||(ga=na.pipes),na.pipes=null,na.pipesCount=0,na.flowing=!1,ga&&ga.emit("unpipe",this,so),this);if(!ga){var _i=na.pipes,Wn=na.pipesCount;na.pipes=null,na.pipesCount=0,na.flowing=!1;for(var Kn=0;Kn<Wn;Kn++)_i[Kn].emit("unpipe",this,{hasUnpiped:!1});return this}var ro=io(na.pipes,ga);return ro===-1?this:(na.pipes.splice(ro,1),na.pipesCount-=1,na.pipesCount===1&&(na.pipes=na.pipes[0]),ga.emit("unpipe",this,so),this)},qn.prototype.on=function(ga,na){var so=Ft.prototype.on.call(this,ga,na);if(ga==="data")this._readableState.flowing!==!1&&this.resume();else if(ga==="readable"){var _i=this._readableState;!_i.endEmitted&&!_i.readableListening&&(_i.readableListening=_i.needReadable=!0,_i.emittedReadable=!1,_i.reading?_i.length&&Un(this):_e.nextTick(On,this))}return so},qn.prototype.addListener=qn.prototype.on;function On(ga){dn("readable nexttick read 0"),ga.read(0)}qn.prototype.resume=function(){var ga=this._readableState;return ga.flowing||(dn("resume"),ga.flowing=!0,Ln(this,ga)),this};function Ln(ga,na){na.resumeScheduled||(na.resumeScheduled=!0,_e.nextTick(Rn,ga,na))}function Rn(ga,na){na.reading||(dn("resume read 0"),ga.read(0)),na.resumeScheduled=!1,na.awaitDrain=0,ga.emit("resume"),yn(ga),na.flowing&&!na.reading&&ga.read(0)}qn.prototype.pause=function(){return dn("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(dn("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function yn(ga){var na=ga._readableState;for(dn("flow",na.flowing);na.flowing&&ga.read()!==null;);}qn.prototype.wrap=function(ga){var na=this,so=this._readableState,_i=!1;ga.on("end",function(){if(dn("wrapped end"),so.decoder&&!so.ended){var ro=so.decoder.end();ro&&ro.length&&na.push(ro)}na.push(null)}),ga.on("data",function(ro){if(dn("wrapped data"),so.decoder&&(ro=so.decoder.write(ro)),!(so.objectMode&&ro==null)&&!(!so.objectMode&&(!ro||!ro.length))){var oo=na.push(ro);oo||(_i=!0,ga.pause())}});for(var Wn in ga)this[Wn]===void 0&&typeof ga[Wn]=="function"&&(this[Wn]=function(ro){return function(){return ga[ro].apply(ga,arguments)}}(Wn));for(var Kn=0;Kn<Dn.length;Kn++)ga.on(Dn[Kn],this.emit.bind(this,Dn[Kn]));return this._read=function(ro){dn("wrapped _read",ro),_i&&(_i=!1,ga.resume())},this},Object.defineProperty(qn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),qn._fromList=kn;function kn(ga,na){if(na.length===0)return null;var so;return na.objectMode?so=na.buffer.shift():!ga||ga>=na.length?(na.decoder?so=na.buffer.join(""):na.buffer.length===1?so=na.buffer.head.data:so=na.buffer.concat(na.length),na.buffer.clear()):so=Fn(ga,na.buffer,na.decoder),so}function Fn(ga,na,so){var _i;return ga<na.head.data.length?(_i=na.head.data.slice(0,ga),na.head.data=na.head.data.slice(ga)):ga===na.head.data.length?_i=na.shift():_i=so?Cn(ga,na):zn(ga,na),_i}function Cn(ga,na){var so=na.head,_i=1,Wn=so.data;for(ga-=Wn.length;so=so.next;){var Kn=so.data,ro=ga>Kn.length?Kn.length:ga;if(ro===Kn.length?Wn+=Kn:Wn+=Kn.slice(0,ga),ga-=ro,ga===0){ro===Kn.length?(++_i,so.next?na.head=so.next:na.head=na.tail=null):(na.head=so,so.data=Kn.slice(ro));break}++_i}return na.length-=_i,Wn}function zn(ga,na){var so=Ut.allocUnsafe(ga),_i=na.head,Wn=1;for(_i.data.copy(so),ga-=_i.data.length;_i=_i.next;){var Kn=_i.data,ro=ga>Kn.length?Kn.length:ga;if(Kn.copy(so,so.length-ga,0,ro),ga-=ro,ga===0){ro===Kn.length?(++Wn,_i.next?na.head=_i.next:na.head=na.tail=null):(na.head=_i,_i.data=Kn.slice(ro));break}++Wn}return na.length-=Wn,so}function $a(ga){var na=ga._readableState;if(na.length>0)throw new Error('"endReadable()" called on non-empty stream');na.endEmitted||(na.ended=!0,_e.nextTick(co,na,ga))}function co(ga,na){!ga.endEmitted&&ga.length===0&&(ga.endEmitted=!0,na.readable=!1,na.emit("end"))}function io(ga,na){for(var so=0,_i=ga.length;so<_i;so++)if(ga[so]===na)return so;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=Ot;var _e=require_stream_duplex(),d=Object.create(requireUtil());d.inherits=requireInherits_browser(),d.inherits(Ot,_e);function Mt(Xt,jr){var hn=this._transformState;hn.transforming=!1;var Vr=hn.writecb;if(!Vr)return this.emit("error",new Error("write callback called multiple times"));hn.writechunk=null,hn.writecb=null,jr!=null&&this.push(jr),Vr(Xt);var fn=this._readableState;fn.reading=!1,(fn.needReadable||fn.length<fn.highWaterMark)&&this._read(fn.highWaterMark)}function Ot(Xt){if(!(this instanceof Ot))return new Ot(Xt);_e.call(this,Xt),this._transformState={afterTransform:Mt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Xt&&(typeof Xt.transform=="function"&&(this._transform=Xt.transform),typeof Xt.flush=="function"&&(this._flush=Xt.flush)),this.on("prefinish",Ft)}function Ft(){var Xt=this;typeof this._flush=="function"?this._flush(function(jr,hn){Ut(Xt,jr,hn)}):Ut(this,null,null)}Ot.prototype.push=function(Xt,jr){return this._transformState.needTransform=!1,_e.prototype.push.call(this,Xt,jr)},Ot.prototype._transform=function(Xt,jr,hn){throw new Error("_transform() is not implemented")},Ot.prototype._write=function(Xt,jr,hn){var Vr=this._transformState;if(Vr.writecb=hn,Vr.writechunk=Xt,Vr.writeencoding=jr,!Vr.transforming){var fn=this._readableState;(Vr.needTransform||fn.needReadable||fn.length<fn.highWaterMark)&&this._read(fn.highWaterMark)}},Ot.prototype._read=function(Xt){var jr=this._transformState;jr.writechunk!==null&&jr.writecb&&!jr.transforming?(jr.transforming=!0,this._transform(jr.writechunk,jr.writeencoding,jr.afterTransform)):jr.needTransform=!0},Ot.prototype._destroy=function(Xt,jr){var hn=this;_e.prototype._destroy.call(this,Xt,function(Vr){jr(Vr),hn.emit("close")})};function Ut(Xt,jr,hn){if(jr)return Xt.emit("error",jr);if(hn!=null&&Xt.push(hn),Xt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Xt._transformState.transforming)throw new Error("Calling transform done when still transforming");return Xt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=Mt;var _e=require_stream_transform(),d=Object.create(requireUtil());d.inherits=requireInherits_browser(),d.inherits(Mt,_e);function Mt(Ot){if(!(this instanceof Mt))return new Mt(Ot);_e.call(this,Ot)}return Mt.prototype._transform=function(Ot,Ft,Ut){Ut(null,Ot)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(_e,d){d=_e.exports=require_stream_readable(),d.Stream=d,d.Readable=d,d.Writable=require_stream_writable(),d.Duplex=require_stream_duplex(),d.Transform=require_stream_transform(),d.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(_e){(function(d,Mt){function Ot(mn,Xr){if(!mn)throw new Error(Xr||"Assertion failed")}function Ft(mn,Xr){mn.super_=Xr;var gn=function(){};gn.prototype=Xr.prototype,mn.prototype=new gn,mn.prototype.constructor=mn}function Ut(mn,Xr,gn){if(Ut.isBN(mn))return mn;this.negative=0,this.words=null,this.length=0,this.red=null,mn!==null&&((Xr==="le"||Xr==="be")&&(gn=Xr,Xr=10),this._init(mn||0,Xr||10,gn||"be"))}typeof d=="object"?d.exports=Ut:Mt.BN=Ut,Ut.BN=Ut,Ut.wordSize=26;var Xt;try{typeof window<"u"&&typeof window.Buffer<"u"?Xt=window.Buffer:Xt=require$$1$2.Buffer}catch{}Ut.isBN=function(Xr){return Xr instanceof Ut?!0:Xr!==null&&typeof Xr=="object"&&Xr.constructor.wordSize===Ut.wordSize&&Array.isArray(Xr.words)},Ut.max=function(Xr,gn){return Xr.cmp(gn)>0?Xr:gn},Ut.min=function(Xr,gn){return Xr.cmp(gn)<0?Xr:gn},Ut.prototype._init=function(Xr,gn,On){if(typeof Xr=="number")return this._initNumber(Xr,gn,On);if(typeof Xr=="object")return this._initArray(Xr,gn,On);gn==="hex"&&(gn=16),Ot(gn===(gn|0)&&gn>=2&&gn<=36),Xr=Xr.toString().replace(/\s+/g,"");var Ln=0;Xr[0]==="-"&&(Ln++,this.negative=1),Ln<Xr.length&&(gn===16?this._parseHex(Xr,Ln,On):(this._parseBase(Xr,gn,Ln),On==="le"&&this._initArray(this.toArray(),gn,On)))},Ut.prototype._initNumber=function(Xr,gn,On){Xr<0&&(this.negative=1,Xr=-Xr),Xr<67108864?(this.words=[Xr&67108863],this.length=1):Xr<4503599627370496?(this.words=[Xr&67108863,Xr/67108864&67108863],this.length=2):(Ot(Xr<9007199254740992),this.words=[Xr&67108863,Xr/67108864&67108863,1],this.length=3),On==="le"&&this._initArray(this.toArray(),gn,On)},Ut.prototype._initArray=function(Xr,gn,On){if(Ot(typeof Xr.length=="number"),Xr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Xr.length/3),this.words=new Array(this.length);for(var Ln=0;Ln<this.length;Ln++)this.words[Ln]=0;var Rn,yn,kn=0;if(On==="be")for(Ln=Xr.length-1,Rn=0;Ln>=0;Ln-=3)yn=Xr[Ln]|Xr[Ln-1]<<8|Xr[Ln-2]<<16,this.words[Rn]|=yn<<kn&67108863,this.words[Rn+1]=yn>>>26-kn&67108863,kn+=24,kn>=26&&(kn-=26,Rn++);else if(On==="le")for(Ln=0,Rn=0;Ln<Xr.length;Ln+=3)yn=Xr[Ln]|Xr[Ln+1]<<8|Xr[Ln+2]<<16,this.words[Rn]|=yn<<kn&67108863,this.words[Rn+1]=yn>>>26-kn&67108863,kn+=24,kn>=26&&(kn-=26,Rn++);return this._strip()};function jr(mn,Xr){var gn=mn.charCodeAt(Xr);if(gn>=48&&gn<=57)return gn-48;if(gn>=65&&gn<=70)return gn-55;if(gn>=97&&gn<=102)return gn-87;Ot(!1,"Invalid character in "+mn)}function hn(mn,Xr,gn){var On=jr(mn,gn);return gn-1>=Xr&&(On|=jr(mn,gn-1)<<4),On}Ut.prototype._parseHex=function(Xr,gn,On){this.length=Math.ceil((Xr.length-gn)/6),this.words=new Array(this.length);for(var Ln=0;Ln<this.length;Ln++)this.words[Ln]=0;var Rn=0,yn=0,kn;if(On==="be")for(Ln=Xr.length-1;Ln>=gn;Ln-=2)kn=hn(Xr,gn,Ln)<<Rn,this.words[yn]|=kn&67108863,Rn>=18?(Rn-=18,yn+=1,this.words[yn]|=kn>>>26):Rn+=8;else{var Fn=Xr.length-gn;for(Ln=Fn%2===0?gn+1:gn;Ln<Xr.length;Ln+=2)kn=hn(Xr,gn,Ln)<<Rn,this.words[yn]|=kn&67108863,Rn>=18?(Rn-=18,yn+=1,this.words[yn]|=kn>>>26):Rn+=8}this._strip()};function Vr(mn,Xr,gn,On){for(var Ln=0,Rn=0,yn=Math.min(mn.length,gn),kn=Xr;kn<yn;kn++){var Fn=mn.charCodeAt(kn)-48;Ln*=On,Fn>=49?Rn=Fn-49+10:Fn>=17?Rn=Fn-17+10:Rn=Fn,Ot(Fn>=0&&Rn<On,"Invalid character"),Ln+=Rn}return Ln}Ut.prototype._parseBase=function(Xr,gn,On){this.words=[0],this.length=1;for(var Ln=0,Rn=1;Rn<=67108863;Rn*=gn)Ln++;Ln--,Rn=Rn/gn|0;for(var yn=Xr.length-On,kn=yn%Ln,Fn=Math.min(yn,yn-kn)+On,Cn=0,zn=On;zn<Fn;zn+=Ln)Cn=Vr(Xr,zn,zn+Ln,gn),this.imuln(Rn),this.words[0]+Cn<67108864?this.words[0]+=Cn:this._iaddn(Cn);if(kn!==0){var $a=1;for(Cn=Vr(Xr,zn,Xr.length,gn),zn=0;zn<kn;zn++)$a*=gn;this.imuln($a),this.words[0]+Cn<67108864?this.words[0]+=Cn:this._iaddn(Cn)}this._strip()},Ut.prototype.copy=function(Xr){Xr.words=new Array(this.length);for(var gn=0;gn<this.length;gn++)Xr.words[gn]=this.words[gn];Xr.length=this.length,Xr.negative=this.negative,Xr.red=this.red};function fn(mn,Xr){mn.words=Xr.words,mn.length=Xr.length,mn.negative=Xr.negative,mn.red=Xr.red}if(Ut.prototype._move=function(Xr){fn(Xr,this)},Ut.prototype.clone=function(){var Xr=new Ut(null);return this.copy(Xr),Xr},Ut.prototype._expand=function(Xr){for(;this.length<Xr;)this.words[this.length++]=0;return this},Ut.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ut.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=dn}catch{Ut.prototype.inspect=dn}else Ut.prototype.inspect=dn;function dn(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],En=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_n=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ut.prototype.toString=function(Xr,gn){Xr=Xr||10,gn=gn|0||1;var On;if(Xr===16||Xr==="hex"){On="";for(var Ln=0,Rn=0,yn=0;yn<this.length;yn++){var kn=this.words[yn],Fn=((kn<<Ln|Rn)&16777215).toString(16);Rn=kn>>>24-Ln&16777215,Ln+=2,Ln>=26&&(Ln-=26,yn--),Rn!==0||yn!==this.length-1?On=pn[6-Fn.length]+Fn+On:On=Fn+On}for(Rn!==0&&(On=Rn.toString(16)+On);On.length%gn!==0;)On="0"+On;return this.negative!==0&&(On="-"+On),On}if(Xr===(Xr|0)&&Xr>=2&&Xr<=36){var Cn=En[Xr],zn=_n[Xr];On="";var $a=this.clone();for($a.negative=0;!$a.isZero();){var co=$a.modrn(zn).toString(Xr);$a=$a.idivn(zn),$a.isZero()?On=co+On:On=pn[Cn-co.length]+co+On}for(this.isZero()&&(On="0"+On);On.length%gn!==0;)On="0"+On;return this.negative!==0&&(On="-"+On),On}Ot(!1,"Base should be between 2 and 36")},Ut.prototype.toNumber=function(){var Xr=this.words[0];return this.length===2?Xr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Xr+=4503599627370496+this.words[1]*67108864:this.length>2&&Ot(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Xr:Xr},Ut.prototype.toJSON=function(){return this.toString(16,2)},Xt&&(Ut.prototype.toBuffer=function(Xr,gn){return this.toArrayLike(Xt,Xr,gn)}),Ut.prototype.toArray=function(Xr,gn){return this.toArrayLike(Array,Xr,gn)};var Dn=function(Xr,gn){return Xr.allocUnsafe?Xr.allocUnsafe(gn):new Xr(gn)};Ut.prototype.toArrayLike=function(Xr,gn,On){this._strip();var Ln=this.byteLength(),Rn=On||Math.max(1,Ln);Ot(Ln<=Rn,"byte array longer than desired length"),Ot(Rn>0,"Requested array length <= 0");var yn=Dn(Xr,Rn),kn=gn==="le"?"LE":"BE";return this["_toArrayLike"+kn](yn,Ln),yn},Ut.prototype._toArrayLikeLE=function(Xr,gn){for(var On=0,Ln=0,Rn=0,yn=0;Rn<this.length;Rn++){var kn=this.words[Rn]<<yn|Ln;Xr[On++]=kn&255,On<Xr.length&&(Xr[On++]=kn>>8&255),On<Xr.length&&(Xr[On++]=kn>>16&255),yn===6?(On<Xr.length&&(Xr[On++]=kn>>24&255),Ln=0,yn=0):(Ln=kn>>>24,yn+=2)}if(On<Xr.length)for(Xr[On++]=Ln;On<Xr.length;)Xr[On++]=0},Ut.prototype._toArrayLikeBE=function(Xr,gn){for(var On=Xr.length-1,Ln=0,Rn=0,yn=0;Rn<this.length;Rn++){var kn=this.words[Rn]<<yn|Ln;Xr[On--]=kn&255,On>=0&&(Xr[On--]=kn>>8&255),On>=0&&(Xr[On--]=kn>>16&255),yn===6?(On>=0&&(Xr[On--]=kn>>24&255),Ln=0,yn=0):(Ln=kn>>>24,yn+=2)}if(On>=0)for(Xr[On--]=Ln;On>=0;)Xr[On--]=0},Math.clz32?Ut.prototype._countBits=function(Xr){return 32-Math.clz32(Xr)}:Ut.prototype._countBits=function(Xr){var gn=Xr,On=0;return gn>=4096&&(On+=13,gn>>>=13),gn>=64&&(On+=7,gn>>>=7),gn>=8&&(On+=4,gn>>>=4),gn>=2&&(On+=2,gn>>>=2),On+gn},Ut.prototype._zeroBits=function(Xr){if(Xr===0)return 26;var gn=Xr,On=0;return gn&8191||(On+=13,gn>>>=13),gn&127||(On+=7,gn>>>=7),gn&15||(On+=4,gn>>>=4),gn&3||(On+=2,gn>>>=2),gn&1||On++,On},Ut.prototype.bitLength=function(){var Xr=this.words[this.length-1],gn=this._countBits(Xr);return(this.length-1)*26+gn};function Vn(mn){for(var Xr=new Array(mn.bitLength()),gn=0;gn<Xr.length;gn++){var On=gn/26|0,Ln=gn%26;Xr[gn]=mn.words[On]>>>Ln&1}return Xr}Ut.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Xr=0,gn=0;gn<this.length;gn++){var On=this._zeroBits(this.words[gn]);if(Xr+=On,On!==26)break}return Xr},Ut.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ut.prototype.toTwos=function(Xr){return this.negative!==0?this.abs().inotn(Xr).iaddn(1):this.clone()},Ut.prototype.fromTwos=function(Xr){return this.testn(Xr-1)?this.notn(Xr).iaddn(1).ineg():this.clone()},Ut.prototype.isNeg=function(){return this.negative!==0},Ut.prototype.neg=function(){return this.clone().ineg()},Ut.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ut.prototype.iuor=function(Xr){for(;this.length<Xr.length;)this.words[this.length++]=0;for(var gn=0;gn<Xr.length;gn++)this.words[gn]=this.words[gn]|Xr.words[gn];return this._strip()},Ut.prototype.ior=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuor(Xr)},Ut.prototype.or=function(Xr){return this.length>Xr.length?this.clone().ior(Xr):Xr.clone().ior(this)},Ut.prototype.uor=function(Xr){return this.length>Xr.length?this.clone().iuor(Xr):Xr.clone().iuor(this)},Ut.prototype.iuand=function(Xr){var gn;this.length>Xr.length?gn=Xr:gn=this;for(var On=0;On<gn.length;On++)this.words[On]=this.words[On]&Xr.words[On];return this.length=gn.length,this._strip()},Ut.prototype.iand=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuand(Xr)},Ut.prototype.and=function(Xr){return this.length>Xr.length?this.clone().iand(Xr):Xr.clone().iand(this)},Ut.prototype.uand=function(Xr){return this.length>Xr.length?this.clone().iuand(Xr):Xr.clone().iuand(this)},Ut.prototype.iuxor=function(Xr){var gn,On;this.length>Xr.length?(gn=this,On=Xr):(gn=Xr,On=this);for(var Ln=0;Ln<On.length;Ln++)this.words[Ln]=gn.words[Ln]^On.words[Ln];if(this!==gn)for(;Ln<gn.length;Ln++)this.words[Ln]=gn.words[Ln];return this.length=gn.length,this._strip()},Ut.prototype.ixor=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuxor(Xr)},Ut.prototype.xor=function(Xr){return this.length>Xr.length?this.clone().ixor(Xr):Xr.clone().ixor(this)},Ut.prototype.uxor=function(Xr){return this.length>Xr.length?this.clone().iuxor(Xr):Xr.clone().iuxor(this)},Ut.prototype.inotn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Math.ceil(Xr/26)|0,On=Xr%26;this._expand(gn),On>0&&gn--;for(var Ln=0;Ln<gn;Ln++)this.words[Ln]=~this.words[Ln]&67108863;return On>0&&(this.words[Ln]=~this.words[Ln]&67108863>>26-On),this._strip()},Ut.prototype.notn=function(Xr){return this.clone().inotn(Xr)},Ut.prototype.setn=function(Xr,gn){Ot(typeof Xr=="number"&&Xr>=0);var On=Xr/26|0,Ln=Xr%26;return this._expand(On+1),gn?this.words[On]=this.words[On]|1<<Ln:this.words[On]=this.words[On]&~(1<<Ln),this._strip()},Ut.prototype.iadd=function(Xr){var gn;if(this.negative!==0&&Xr.negative===0)return this.negative=0,gn=this.isub(Xr),this.negative^=1,this._normSign();if(this.negative===0&&Xr.negative!==0)return Xr.negative=0,gn=this.isub(Xr),Xr.negative=1,gn._normSign();var On,Ln;this.length>Xr.length?(On=this,Ln=Xr):(On=Xr,Ln=this);for(var Rn=0,yn=0;yn<Ln.length;yn++)gn=(On.words[yn]|0)+(Ln.words[yn]|0)+Rn,this.words[yn]=gn&67108863,Rn=gn>>>26;for(;Rn!==0&&yn<On.length;yn++)gn=(On.words[yn]|0)+Rn,this.words[yn]=gn&67108863,Rn=gn>>>26;if(this.length=On.length,Rn!==0)this.words[this.length]=Rn,this.length++;else if(On!==this)for(;yn<On.length;yn++)this.words[yn]=On.words[yn];return this},Ut.prototype.add=function(Xr){var gn;return Xr.negative!==0&&this.negative===0?(Xr.negative=0,gn=this.sub(Xr),Xr.negative^=1,gn):Xr.negative===0&&this.negative!==0?(this.negative=0,gn=Xr.sub(this),this.negative=1,gn):this.length>Xr.length?this.clone().iadd(Xr):Xr.clone().iadd(this)},Ut.prototype.isub=function(Xr){if(Xr.negative!==0){Xr.negative=0;var gn=this.iadd(Xr);return Xr.negative=1,gn._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Xr),this.negative=1,this._normSign();var On=this.cmp(Xr);if(On===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ln,Rn;On>0?(Ln=this,Rn=Xr):(Ln=Xr,Rn=this);for(var yn=0,kn=0;kn<Rn.length;kn++)gn=(Ln.words[kn]|0)-(Rn.words[kn]|0)+yn,yn=gn>>26,this.words[kn]=gn&67108863;for(;yn!==0&&kn<Ln.length;kn++)gn=(Ln.words[kn]|0)+yn,yn=gn>>26,this.words[kn]=gn&67108863;if(yn===0&&kn<Ln.length&&Ln!==this)for(;kn<Ln.length;kn++)this.words[kn]=Ln.words[kn];return this.length=Math.max(this.length,kn),Ln!==this&&(this.negative=1),this._strip()},Ut.prototype.sub=function(Xr){return this.clone().isub(Xr)};function Pn(mn,Xr,gn){gn.negative=Xr.negative^mn.negative;var On=mn.length+Xr.length|0;gn.length=On,On=On-1|0;var Ln=mn.words[0]|0,Rn=Xr.words[0]|0,yn=Ln*Rn,kn=yn&67108863,Fn=yn/67108864|0;gn.words[0]=kn;for(var Cn=1;Cn<On;Cn++){for(var zn=Fn>>>26,$a=Fn&67108863,co=Math.min(Cn,Xr.length-1),io=Math.max(0,Cn-mn.length+1);io<=co;io++){var ga=Cn-io|0;Ln=mn.words[ga]|0,Rn=Xr.words[io]|0,yn=Ln*Rn+$a,zn+=yn/67108864|0,$a=yn&67108863}gn.words[Cn]=$a|0,Fn=zn|0}return Fn!==0?gn.words[Cn]=Fn|0:gn.length--,gn._strip()}var qn=function(Xr,gn,On){var Ln=Xr.words,Rn=gn.words,yn=On.words,kn=0,Fn,Cn,zn,$a=Ln[0]|0,co=$a&8191,io=$a>>>13,ga=Ln[1]|0,na=ga&8191,so=ga>>>13,_i=Ln[2]|0,Wn=_i&8191,Kn=_i>>>13,ro=Ln[3]|0,oo=ro&8191,mo=ro>>>13,bo=Ln[4]|0,vo=bo&8191,wo=bo>>>13,go=Ln[5]|0,So=go&8191,Ao=go>>>13,Co=Ln[6]|0,Ro=Co&8191,$o=Co>>>13,Lo=Ln[7]|0,Po=Lo&8191,No=Lo>>>13,Go=Ln[8]|0,Zo=Go&8191,to=Go>>>13,Zn=Ln[9]|0,Qn=Zn&8191,lo=Zn>>>13,Eo=Rn[0]|0,xo=Eo&8191,_o=Eo>>>13,jo=Rn[1]|0,Ho=jo&8191,Fo=jo>>>13,as=Rn[2]|0,zo=as&8191,Qo=as>>>13,Ss=Rn[3]|0,ss=Ss&8191,rs=Ss>>>13,Ts=Rn[4]|0,ys=Ts&8191,us=Ts>>>13,Cs=Rn[5]|0,vs=Cs&8191,ns=Cs>>>13,Os=Rn[6]|0,_a=Os&8191,ao=Os>>>13,fo=Rn[7]|0,Xn=fo&8191,uo=fo>>>13,Bo=Rn[8]|0,Mo=Bo&8191,Do=Bo>>>13,Xo=Rn[9]|0,es=Xo&8191,Jo=Xo>>>13;On.negative=Xr.negative^gn.negative,On.length=19,Fn=Math.imul(co,xo),Cn=Math.imul(co,_o),Cn=Cn+Math.imul(io,xo)|0,zn=Math.imul(io,_o);var Rs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Fn=Math.imul(na,xo),Cn=Math.imul(na,_o),Cn=Cn+Math.imul(so,xo)|0,zn=Math.imul(so,_o),Fn=Fn+Math.imul(co,Ho)|0,Cn=Cn+Math.imul(co,Fo)|0,Cn=Cn+Math.imul(io,Ho)|0,zn=zn+Math.imul(io,Fo)|0;var hs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(hs>>>26)|0,hs&=67108863,Fn=Math.imul(Wn,xo),Cn=Math.imul(Wn,_o),Cn=Cn+Math.imul(Kn,xo)|0,zn=Math.imul(Kn,_o),Fn=Fn+Math.imul(na,Ho)|0,Cn=Cn+Math.imul(na,Fo)|0,Cn=Cn+Math.imul(so,Ho)|0,zn=zn+Math.imul(so,Fo)|0,Fn=Fn+Math.imul(co,zo)|0,Cn=Cn+Math.imul(co,Qo)|0,Cn=Cn+Math.imul(io,zo)|0,zn=zn+Math.imul(io,Qo)|0;var bs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(bs>>>26)|0,bs&=67108863,Fn=Math.imul(oo,xo),Cn=Math.imul(oo,_o),Cn=Cn+Math.imul(mo,xo)|0,zn=Math.imul(mo,_o),Fn=Fn+Math.imul(Wn,Ho)|0,Cn=Cn+Math.imul(Wn,Fo)|0,Cn=Cn+Math.imul(Kn,Ho)|0,zn=zn+Math.imul(Kn,Fo)|0,Fn=Fn+Math.imul(na,zo)|0,Cn=Cn+Math.imul(na,Qo)|0,Cn=Cn+Math.imul(so,zo)|0,zn=zn+Math.imul(so,Qo)|0,Fn=Fn+Math.imul(co,ss)|0,Cn=Cn+Math.imul(co,rs)|0,Cn=Cn+Math.imul(io,ss)|0,zn=zn+Math.imul(io,rs)|0;var As=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(As>>>26)|0,As&=67108863,Fn=Math.imul(vo,xo),Cn=Math.imul(vo,_o),Cn=Cn+Math.imul(wo,xo)|0,zn=Math.imul(wo,_o),Fn=Fn+Math.imul(oo,Ho)|0,Cn=Cn+Math.imul(oo,Fo)|0,Cn=Cn+Math.imul(mo,Ho)|0,zn=zn+Math.imul(mo,Fo)|0,Fn=Fn+Math.imul(Wn,zo)|0,Cn=Cn+Math.imul(Wn,Qo)|0,Cn=Cn+Math.imul(Kn,zo)|0,zn=zn+Math.imul(Kn,Qo)|0,Fn=Fn+Math.imul(na,ss)|0,Cn=Cn+Math.imul(na,rs)|0,Cn=Cn+Math.imul(so,ss)|0,zn=zn+Math.imul(so,rs)|0,Fn=Fn+Math.imul(co,ys)|0,Cn=Cn+Math.imul(co,us)|0,Cn=Cn+Math.imul(io,ys)|0,zn=zn+Math.imul(io,us)|0;var ks=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ks>>>26)|0,ks&=67108863,Fn=Math.imul(So,xo),Cn=Math.imul(So,_o),Cn=Cn+Math.imul(Ao,xo)|0,zn=Math.imul(Ao,_o),Fn=Fn+Math.imul(vo,Ho)|0,Cn=Cn+Math.imul(vo,Fo)|0,Cn=Cn+Math.imul(wo,Ho)|0,zn=zn+Math.imul(wo,Fo)|0,Fn=Fn+Math.imul(oo,zo)|0,Cn=Cn+Math.imul(oo,Qo)|0,Cn=Cn+Math.imul(mo,zo)|0,zn=zn+Math.imul(mo,Qo)|0,Fn=Fn+Math.imul(Wn,ss)|0,Cn=Cn+Math.imul(Wn,rs)|0,Cn=Cn+Math.imul(Kn,ss)|0,zn=zn+Math.imul(Kn,rs)|0,Fn=Fn+Math.imul(na,ys)|0,Cn=Cn+Math.imul(na,us)|0,Cn=Cn+Math.imul(so,ys)|0,zn=zn+Math.imul(so,us)|0,Fn=Fn+Math.imul(co,vs)|0,Cn=Cn+Math.imul(co,ns)|0,Cn=Cn+Math.imul(io,vs)|0,zn=zn+Math.imul(io,ns)|0;var Ms=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,Fn=Math.imul(Ro,xo),Cn=Math.imul(Ro,_o),Cn=Cn+Math.imul($o,xo)|0,zn=Math.imul($o,_o),Fn=Fn+Math.imul(So,Ho)|0,Cn=Cn+Math.imul(So,Fo)|0,Cn=Cn+Math.imul(Ao,Ho)|0,zn=zn+Math.imul(Ao,Fo)|0,Fn=Fn+Math.imul(vo,zo)|0,Cn=Cn+Math.imul(vo,Qo)|0,Cn=Cn+Math.imul(wo,zo)|0,zn=zn+Math.imul(wo,Qo)|0,Fn=Fn+Math.imul(oo,ss)|0,Cn=Cn+Math.imul(oo,rs)|0,Cn=Cn+Math.imul(mo,ss)|0,zn=zn+Math.imul(mo,rs)|0,Fn=Fn+Math.imul(Wn,ys)|0,Cn=Cn+Math.imul(Wn,us)|0,Cn=Cn+Math.imul(Kn,ys)|0,zn=zn+Math.imul(Kn,us)|0,Fn=Fn+Math.imul(na,vs)|0,Cn=Cn+Math.imul(na,ns)|0,Cn=Cn+Math.imul(so,vs)|0,zn=zn+Math.imul(so,ns)|0,Fn=Fn+Math.imul(co,_a)|0,Cn=Cn+Math.imul(co,ao)|0,Cn=Cn+Math.imul(io,_a)|0,zn=zn+Math.imul(io,ao)|0;var Es=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Es>>>26)|0,Es&=67108863,Fn=Math.imul(Po,xo),Cn=Math.imul(Po,_o),Cn=Cn+Math.imul(No,xo)|0,zn=Math.imul(No,_o),Fn=Fn+Math.imul(Ro,Ho)|0,Cn=Cn+Math.imul(Ro,Fo)|0,Cn=Cn+Math.imul($o,Ho)|0,zn=zn+Math.imul($o,Fo)|0,Fn=Fn+Math.imul(So,zo)|0,Cn=Cn+Math.imul(So,Qo)|0,Cn=Cn+Math.imul(Ao,zo)|0,zn=zn+Math.imul(Ao,Qo)|0,Fn=Fn+Math.imul(vo,ss)|0,Cn=Cn+Math.imul(vo,rs)|0,Cn=Cn+Math.imul(wo,ss)|0,zn=zn+Math.imul(wo,rs)|0,Fn=Fn+Math.imul(oo,ys)|0,Cn=Cn+Math.imul(oo,us)|0,Cn=Cn+Math.imul(mo,ys)|0,zn=zn+Math.imul(mo,us)|0,Fn=Fn+Math.imul(Wn,vs)|0,Cn=Cn+Math.imul(Wn,ns)|0,Cn=Cn+Math.imul(Kn,vs)|0,zn=zn+Math.imul(Kn,ns)|0,Fn=Fn+Math.imul(na,_a)|0,Cn=Cn+Math.imul(na,ao)|0,Cn=Cn+Math.imul(so,_a)|0,zn=zn+Math.imul(so,ao)|0,Fn=Fn+Math.imul(co,Xn)|0,Cn=Cn+Math.imul(co,uo)|0,Cn=Cn+Math.imul(io,Xn)|0,zn=zn+Math.imul(io,uo)|0;var ws=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ws>>>26)|0,ws&=67108863,Fn=Math.imul(Zo,xo),Cn=Math.imul(Zo,_o),Cn=Cn+Math.imul(to,xo)|0,zn=Math.imul(to,_o),Fn=Fn+Math.imul(Po,Ho)|0,Cn=Cn+Math.imul(Po,Fo)|0,Cn=Cn+Math.imul(No,Ho)|0,zn=zn+Math.imul(No,Fo)|0,Fn=Fn+Math.imul(Ro,zo)|0,Cn=Cn+Math.imul(Ro,Qo)|0,Cn=Cn+Math.imul($o,zo)|0,zn=zn+Math.imul($o,Qo)|0,Fn=Fn+Math.imul(So,ss)|0,Cn=Cn+Math.imul(So,rs)|0,Cn=Cn+Math.imul(Ao,ss)|0,zn=zn+Math.imul(Ao,rs)|0,Fn=Fn+Math.imul(vo,ys)|0,Cn=Cn+Math.imul(vo,us)|0,Cn=Cn+Math.imul(wo,ys)|0,zn=zn+Math.imul(wo,us)|0,Fn=Fn+Math.imul(oo,vs)|0,Cn=Cn+Math.imul(oo,ns)|0,Cn=Cn+Math.imul(mo,vs)|0,zn=zn+Math.imul(mo,ns)|0,Fn=Fn+Math.imul(Wn,_a)|0,Cn=Cn+Math.imul(Wn,ao)|0,Cn=Cn+Math.imul(Kn,_a)|0,zn=zn+Math.imul(Kn,ao)|0,Fn=Fn+Math.imul(na,Xn)|0,Cn=Cn+Math.imul(na,uo)|0,Cn=Cn+Math.imul(so,Xn)|0,zn=zn+Math.imul(so,uo)|0,Fn=Fn+Math.imul(co,Mo)|0,Cn=Cn+Math.imul(co,Do)|0,Cn=Cn+Math.imul(io,Mo)|0,zn=zn+Math.imul(io,Do)|0;var xs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(xs>>>26)|0,xs&=67108863,Fn=Math.imul(Qn,xo),Cn=Math.imul(Qn,_o),Cn=Cn+Math.imul(lo,xo)|0,zn=Math.imul(lo,_o),Fn=Fn+Math.imul(Zo,Ho)|0,Cn=Cn+Math.imul(Zo,Fo)|0,Cn=Cn+Math.imul(to,Ho)|0,zn=zn+Math.imul(to,Fo)|0,Fn=Fn+Math.imul(Po,zo)|0,Cn=Cn+Math.imul(Po,Qo)|0,Cn=Cn+Math.imul(No,zo)|0,zn=zn+Math.imul(No,Qo)|0,Fn=Fn+Math.imul(Ro,ss)|0,Cn=Cn+Math.imul(Ro,rs)|0,Cn=Cn+Math.imul($o,ss)|0,zn=zn+Math.imul($o,rs)|0,Fn=Fn+Math.imul(So,ys)|0,Cn=Cn+Math.imul(So,us)|0,Cn=Cn+Math.imul(Ao,ys)|0,zn=zn+Math.imul(Ao,us)|0,Fn=Fn+Math.imul(vo,vs)|0,Cn=Cn+Math.imul(vo,ns)|0,Cn=Cn+Math.imul(wo,vs)|0,zn=zn+Math.imul(wo,ns)|0,Fn=Fn+Math.imul(oo,_a)|0,Cn=Cn+Math.imul(oo,ao)|0,Cn=Cn+Math.imul(mo,_a)|0,zn=zn+Math.imul(mo,ao)|0,Fn=Fn+Math.imul(Wn,Xn)|0,Cn=Cn+Math.imul(Wn,uo)|0,Cn=Cn+Math.imul(Kn,Xn)|0,zn=zn+Math.imul(Kn,uo)|0,Fn=Fn+Math.imul(na,Mo)|0,Cn=Cn+Math.imul(na,Do)|0,Cn=Cn+Math.imul(so,Mo)|0,zn=zn+Math.imul(so,Do)|0,Fn=Fn+Math.imul(co,es)|0,Cn=Cn+Math.imul(co,Jo)|0,Cn=Cn+Math.imul(io,es)|0,zn=zn+Math.imul(io,Jo)|0;var fs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(fs>>>26)|0,fs&=67108863,Fn=Math.imul(Qn,Ho),Cn=Math.imul(Qn,Fo),Cn=Cn+Math.imul(lo,Ho)|0,zn=Math.imul(lo,Fo),Fn=Fn+Math.imul(Zo,zo)|0,Cn=Cn+Math.imul(Zo,Qo)|0,Cn=Cn+Math.imul(to,zo)|0,zn=zn+Math.imul(to,Qo)|0,Fn=Fn+Math.imul(Po,ss)|0,Cn=Cn+Math.imul(Po,rs)|0,Cn=Cn+Math.imul(No,ss)|0,zn=zn+Math.imul(No,rs)|0,Fn=Fn+Math.imul(Ro,ys)|0,Cn=Cn+Math.imul(Ro,us)|0,Cn=Cn+Math.imul($o,ys)|0,zn=zn+Math.imul($o,us)|0,Fn=Fn+Math.imul(So,vs)|0,Cn=Cn+Math.imul(So,ns)|0,Cn=Cn+Math.imul(Ao,vs)|0,zn=zn+Math.imul(Ao,ns)|0,Fn=Fn+Math.imul(vo,_a)|0,Cn=Cn+Math.imul(vo,ao)|0,Cn=Cn+Math.imul(wo,_a)|0,zn=zn+Math.imul(wo,ao)|0,Fn=Fn+Math.imul(oo,Xn)|0,Cn=Cn+Math.imul(oo,uo)|0,Cn=Cn+Math.imul(mo,Xn)|0,zn=zn+Math.imul(mo,uo)|0,Fn=Fn+Math.imul(Wn,Mo)|0,Cn=Cn+Math.imul(Wn,Do)|0,Cn=Cn+Math.imul(Kn,Mo)|0,zn=zn+Math.imul(Kn,Do)|0,Fn=Fn+Math.imul(na,es)|0,Cn=Cn+Math.imul(na,Jo)|0,Cn=Cn+Math.imul(so,es)|0,zn=zn+Math.imul(so,Jo)|0;var gs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(gs>>>26)|0,gs&=67108863,Fn=Math.imul(Qn,zo),Cn=Math.imul(Qn,Qo),Cn=Cn+Math.imul(lo,zo)|0,zn=Math.imul(lo,Qo),Fn=Fn+Math.imul(Zo,ss)|0,Cn=Cn+Math.imul(Zo,rs)|0,Cn=Cn+Math.imul(to,ss)|0,zn=zn+Math.imul(to,rs)|0,Fn=Fn+Math.imul(Po,ys)|0,Cn=Cn+Math.imul(Po,us)|0,Cn=Cn+Math.imul(No,ys)|0,zn=zn+Math.imul(No,us)|0,Fn=Fn+Math.imul(Ro,vs)|0,Cn=Cn+Math.imul(Ro,ns)|0,Cn=Cn+Math.imul($o,vs)|0,zn=zn+Math.imul($o,ns)|0,Fn=Fn+Math.imul(So,_a)|0,Cn=Cn+Math.imul(So,ao)|0,Cn=Cn+Math.imul(Ao,_a)|0,zn=zn+Math.imul(Ao,ao)|0,Fn=Fn+Math.imul(vo,Xn)|0,Cn=Cn+Math.imul(vo,uo)|0,Cn=Cn+Math.imul(wo,Xn)|0,zn=zn+Math.imul(wo,uo)|0,Fn=Fn+Math.imul(oo,Mo)|0,Cn=Cn+Math.imul(oo,Do)|0,Cn=Cn+Math.imul(mo,Mo)|0,zn=zn+Math.imul(mo,Do)|0,Fn=Fn+Math.imul(Wn,es)|0,Cn=Cn+Math.imul(Wn,Jo)|0,Cn=Cn+Math.imul(Kn,es)|0,zn=zn+Math.imul(Kn,Jo)|0;var cs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(cs>>>26)|0,cs&=67108863,Fn=Math.imul(Qn,ss),Cn=Math.imul(Qn,rs),Cn=Cn+Math.imul(lo,ss)|0,zn=Math.imul(lo,rs),Fn=Fn+Math.imul(Zo,ys)|0,Cn=Cn+Math.imul(Zo,us)|0,Cn=Cn+Math.imul(to,ys)|0,zn=zn+Math.imul(to,us)|0,Fn=Fn+Math.imul(Po,vs)|0,Cn=Cn+Math.imul(Po,ns)|0,Cn=Cn+Math.imul(No,vs)|0,zn=zn+Math.imul(No,ns)|0,Fn=Fn+Math.imul(Ro,_a)|0,Cn=Cn+Math.imul(Ro,ao)|0,Cn=Cn+Math.imul($o,_a)|0,zn=zn+Math.imul($o,ao)|0,Fn=Fn+Math.imul(So,Xn)|0,Cn=Cn+Math.imul(So,uo)|0,Cn=Cn+Math.imul(Ao,Xn)|0,zn=zn+Math.imul(Ao,uo)|0,Fn=Fn+Math.imul(vo,Mo)|0,Cn=Cn+Math.imul(vo,Do)|0,Cn=Cn+Math.imul(wo,Mo)|0,zn=zn+Math.imul(wo,Do)|0,Fn=Fn+Math.imul(oo,es)|0,Cn=Cn+Math.imul(oo,Jo)|0,Cn=Cn+Math.imul(mo,es)|0,zn=zn+Math.imul(mo,Jo)|0;var ds=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ds>>>26)|0,ds&=67108863,Fn=Math.imul(Qn,ys),Cn=Math.imul(Qn,us),Cn=Cn+Math.imul(lo,ys)|0,zn=Math.imul(lo,us),Fn=Fn+Math.imul(Zo,vs)|0,Cn=Cn+Math.imul(Zo,ns)|0,Cn=Cn+Math.imul(to,vs)|0,zn=zn+Math.imul(to,ns)|0,Fn=Fn+Math.imul(Po,_a)|0,Cn=Cn+Math.imul(Po,ao)|0,Cn=Cn+Math.imul(No,_a)|0,zn=zn+Math.imul(No,ao)|0,Fn=Fn+Math.imul(Ro,Xn)|0,Cn=Cn+Math.imul(Ro,uo)|0,Cn=Cn+Math.imul($o,Xn)|0,zn=zn+Math.imul($o,uo)|0,Fn=Fn+Math.imul(So,Mo)|0,Cn=Cn+Math.imul(So,Do)|0,Cn=Cn+Math.imul(Ao,Mo)|0,zn=zn+Math.imul(Ao,Do)|0,Fn=Fn+Math.imul(vo,es)|0,Cn=Cn+Math.imul(vo,Jo)|0,Cn=Cn+Math.imul(wo,es)|0,zn=zn+Math.imul(wo,Jo)|0;var ps=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ps>>>26)|0,ps&=67108863,Fn=Math.imul(Qn,vs),Cn=Math.imul(Qn,ns),Cn=Cn+Math.imul(lo,vs)|0,zn=Math.imul(lo,ns),Fn=Fn+Math.imul(Zo,_a)|0,Cn=Cn+Math.imul(Zo,ao)|0,Cn=Cn+Math.imul(to,_a)|0,zn=zn+Math.imul(to,ao)|0,Fn=Fn+Math.imul(Po,Xn)|0,Cn=Cn+Math.imul(Po,uo)|0,Cn=Cn+Math.imul(No,Xn)|0,zn=zn+Math.imul(No,uo)|0,Fn=Fn+Math.imul(Ro,Mo)|0,Cn=Cn+Math.imul(Ro,Do)|0,Cn=Cn+Math.imul($o,Mo)|0,zn=zn+Math.imul($o,Do)|0,Fn=Fn+Math.imul(So,es)|0,Cn=Cn+Math.imul(So,Jo)|0,Cn=Cn+Math.imul(Ao,es)|0,zn=zn+Math.imul(Ao,Jo)|0;var ls=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ls>>>26)|0,ls&=67108863,Fn=Math.imul(Qn,_a),Cn=Math.imul(Qn,ao),Cn=Cn+Math.imul(lo,_a)|0,zn=Math.imul(lo,ao),Fn=Fn+Math.imul(Zo,Xn)|0,Cn=Cn+Math.imul(Zo,uo)|0,Cn=Cn+Math.imul(to,Xn)|0,zn=zn+Math.imul(to,uo)|0,Fn=Fn+Math.imul(Po,Mo)|0,Cn=Cn+Math.imul(Po,Do)|0,Cn=Cn+Math.imul(No,Mo)|0,zn=zn+Math.imul(No,Do)|0,Fn=Fn+Math.imul(Ro,es)|0,Cn=Cn+Math.imul(Ro,Jo)|0,Cn=Cn+Math.imul($o,es)|0,zn=zn+Math.imul($o,Jo)|0;var qo=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(qo>>>26)|0,qo&=67108863,Fn=Math.imul(Qn,Xn),Cn=Math.imul(Qn,uo),Cn=Cn+Math.imul(lo,Xn)|0,zn=Math.imul(lo,uo),Fn=Fn+Math.imul(Zo,Mo)|0,Cn=Cn+Math.imul(Zo,Do)|0,Cn=Cn+Math.imul(to,Mo)|0,zn=zn+Math.imul(to,Do)|0,Fn=Fn+Math.imul(Po,es)|0,Cn=Cn+Math.imul(Po,Jo)|0,Cn=Cn+Math.imul(No,es)|0,zn=zn+Math.imul(No,Jo)|0;var Vo=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,Fn=Math.imul(Qn,Mo),Cn=Math.imul(Qn,Do),Cn=Cn+Math.imul(lo,Mo)|0,zn=Math.imul(lo,Do),Fn=Fn+Math.imul(Zo,es)|0,Cn=Cn+Math.imul(Zo,Jo)|0,Cn=Cn+Math.imul(to,es)|0,zn=zn+Math.imul(to,Jo)|0;var ts=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ts>>>26)|0,ts&=67108863,Fn=Math.imul(Qn,es),Cn=Math.imul(Qn,Jo),Cn=Cn+Math.imul(lo,es)|0,zn=Math.imul(lo,Jo);var no=(kn+Fn|0)+((Cn&8191)<<13)|0;return kn=(zn+(Cn>>>13)|0)+(no>>>26)|0,no&=67108863,yn[0]=Rs,yn[1]=hs,yn[2]=bs,yn[3]=As,yn[4]=ks,yn[5]=Ms,yn[6]=Es,yn[7]=ws,yn[8]=xs,yn[9]=fs,yn[10]=gs,yn[11]=cs,yn[12]=ds,yn[13]=ps,yn[14]=ls,yn[15]=qo,yn[16]=Vo,yn[17]=ts,yn[18]=no,kn!==0&&(yn[19]=kn,On.length++),On};Math.imul||(qn=Pn);function jn(mn,Xr,gn){gn.negative=Xr.negative^mn.negative,gn.length=mn.length+Xr.length;for(var On=0,Ln=0,Rn=0;Rn<gn.length-1;Rn++){var yn=Ln;Ln=0;for(var kn=On&67108863,Fn=Math.min(Rn,Xr.length-1),Cn=Math.max(0,Rn-mn.length+1);Cn<=Fn;Cn++){var zn=Rn-Cn,$a=mn.words[zn]|0,co=Xr.words[Cn]|0,io=$a*co,ga=io&67108863;yn=yn+(io/67108864|0)|0,ga=ga+kn|0,kn=ga&67108863,yn=yn+(ga>>>26)|0,Ln+=yn>>>26,yn&=67108863}gn.words[Rn]=kn,On=yn,yn=Ln}return On!==0?gn.words[Rn]=On:gn.length--,gn._strip()}function Hn(mn,Xr,gn){return jn(mn,Xr,gn)}Ut.prototype.mulTo=function(Xr,gn){var On,Ln=this.length+Xr.length;return this.length===10&&Xr.length===10?On=qn(this,Xr,gn):Ln<63?On=Pn(this,Xr,gn):Ln<1024?On=jn(this,Xr,gn):On=Hn(this,Xr,gn),On},Ut.prototype.mul=function(Xr){var gn=new Ut(null);return gn.words=new Array(this.length+Xr.length),this.mulTo(Xr,gn)},Ut.prototype.mulf=function(Xr){var gn=new Ut(null);return gn.words=new Array(this.length+Xr.length),Hn(this,Xr,gn)},Ut.prototype.imul=function(Xr){return this.clone().mulTo(Xr,this)},Ut.prototype.imuln=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(typeof Xr=="number"),Ot(Xr<67108864);for(var On=0,Ln=0;Ln<this.length;Ln++){var Rn=(this.words[Ln]|0)*Xr,yn=(Rn&67108863)+(On&67108863);On>>=26,On+=Rn/67108864|0,On+=yn>>>26,this.words[Ln]=yn&67108863}return On!==0&&(this.words[Ln]=On,this.length++),this.length=Xr===0?1:this.length,gn?this.ineg():this},Ut.prototype.muln=function(Xr){return this.clone().imuln(Xr)},Ut.prototype.sqr=function(){return this.mul(this)},Ut.prototype.isqr=function(){return this.imul(this.clone())},Ut.prototype.pow=function(Xr){var gn=Vn(Xr);if(gn.length===0)return new Ut(1);for(var On=this,Ln=0;Ln<gn.length&&gn[Ln]===0;Ln++,On=On.sqr());if(++Ln<gn.length)for(var Rn=On.sqr();Ln<gn.length;Ln++,Rn=Rn.sqr())gn[Ln]!==0&&(On=On.mul(Rn));return On},Ut.prototype.iushln=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26,Ln=67108863>>>26-gn<<26-gn,Rn;if(gn!==0){var yn=0;for(Rn=0;Rn<this.length;Rn++){var kn=this.words[Rn]&Ln,Fn=(this.words[Rn]|0)-kn<<gn;this.words[Rn]=Fn|yn,yn=kn>>>26-gn}yn&&(this.words[Rn]=yn,this.length++)}if(On!==0){for(Rn=this.length-1;Rn>=0;Rn--)this.words[Rn+On]=this.words[Rn];for(Rn=0;Rn<On;Rn++)this.words[Rn]=0;this.length+=On}return this._strip()},Ut.prototype.ishln=function(Xr){return Ot(this.negative===0),this.iushln(Xr)},Ut.prototype.iushrn=function(Xr,gn,On){Ot(typeof Xr=="number"&&Xr>=0);var Ln;gn?Ln=(gn-gn%26)/26:Ln=0;var Rn=Xr%26,yn=Math.min((Xr-Rn)/26,this.length),kn=67108863^67108863>>>Rn<<Rn,Fn=On;if(Ln-=yn,Ln=Math.max(0,Ln),Fn){for(var Cn=0;Cn<yn;Cn++)Fn.words[Cn]=this.words[Cn];Fn.length=yn}if(yn!==0)if(this.length>yn)for(this.length-=yn,Cn=0;Cn<this.length;Cn++)this.words[Cn]=this.words[Cn+yn];else this.words[0]=0,this.length=1;var zn=0;for(Cn=this.length-1;Cn>=0&&(zn!==0||Cn>=Ln);Cn--){var $a=this.words[Cn]|0;this.words[Cn]=zn<<26-Rn|$a>>>Rn,zn=$a&kn}return Fn&&zn!==0&&(Fn.words[Fn.length++]=zn),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Ut.prototype.ishrn=function(Xr,gn,On){return Ot(this.negative===0),this.iushrn(Xr,gn,On)},Ut.prototype.shln=function(Xr){return this.clone().ishln(Xr)},Ut.prototype.ushln=function(Xr){return this.clone().iushln(Xr)},Ut.prototype.shrn=function(Xr){return this.clone().ishrn(Xr)},Ut.prototype.ushrn=function(Xr){return this.clone().iushrn(Xr)},Ut.prototype.testn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26,Ln=1<<gn;if(this.length<=On)return!1;var Rn=this.words[On];return!!(Rn&Ln)},Ut.prototype.imaskn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26;if(Ot(this.negative===0,"imaskn works only with positive numbers"),this.length<=On)return this;if(gn!==0&&On++,this.length=Math.min(On,this.length),gn!==0){var Ln=67108863^67108863>>>gn<<gn;this.words[this.length-1]&=Ln}return this._strip()},Ut.prototype.maskn=function(Xr){return this.clone().imaskn(Xr)},Ut.prototype.iaddn=function(Xr){return Ot(typeof Xr=="number"),Ot(Xr<67108864),Xr<0?this.isubn(-Xr):this.negative!==0?this.length===1&&(this.words[0]|0)<=Xr?(this.words[0]=Xr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Xr),this.negative=1,this):this._iaddn(Xr)},Ut.prototype._iaddn=function(Xr){this.words[0]+=Xr;for(var gn=0;gn<this.length&&this.words[gn]>=67108864;gn++)this.words[gn]-=67108864,gn===this.length-1?this.words[gn+1]=1:this.words[gn+1]++;return this.length=Math.max(this.length,gn+1),this},Ut.prototype.isubn=function(Xr){if(Ot(typeof Xr=="number"),Ot(Xr<67108864),Xr<0)return this.iaddn(-Xr);if(this.negative!==0)return this.negative=0,this.iaddn(Xr),this.negative=1,this;if(this.words[0]-=Xr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var gn=0;gn<this.length&&this.words[gn]<0;gn++)this.words[gn]+=67108864,this.words[gn+1]-=1;return this._strip()},Ut.prototype.addn=function(Xr){return this.clone().iaddn(Xr)},Ut.prototype.subn=function(Xr){return this.clone().isubn(Xr)},Ut.prototype.iabs=function(){return this.negative=0,this},Ut.prototype.abs=function(){return this.clone().iabs()},Ut.prototype._ishlnsubmul=function(Xr,gn,On){var Ln=Xr.length+On,Rn;this._expand(Ln);var yn,kn=0;for(Rn=0;Rn<Xr.length;Rn++){yn=(this.words[Rn+On]|0)+kn;var Fn=(Xr.words[Rn]|0)*gn;yn-=Fn&67108863,kn=(yn>>26)-(Fn/67108864|0),this.words[Rn+On]=yn&67108863}for(;Rn<this.length-On;Rn++)yn=(this.words[Rn+On]|0)+kn,kn=yn>>26,this.words[Rn+On]=yn&67108863;if(kn===0)return this._strip();for(Ot(kn===-1),kn=0,Rn=0;Rn<this.length;Rn++)yn=-(this.words[Rn]|0)+kn,kn=yn>>26,this.words[Rn]=yn&67108863;return this.negative=1,this._strip()},Ut.prototype._wordDiv=function(Xr,gn){var On=this.length-Xr.length,Ln=this.clone(),Rn=Xr,yn=Rn.words[Rn.length-1]|0,kn=this._countBits(yn);On=26-kn,On!==0&&(Rn=Rn.ushln(On),Ln.iushln(On),yn=Rn.words[Rn.length-1]|0);var Fn=Ln.length-Rn.length,Cn;if(gn!=="mod"){Cn=new Ut(null),Cn.length=Fn+1,Cn.words=new Array(Cn.length);for(var zn=0;zn<Cn.length;zn++)Cn.words[zn]=0}var $a=Ln.clone()._ishlnsubmul(Rn,1,Fn);$a.negative===0&&(Ln=$a,Cn&&(Cn.words[Fn]=1));for(var co=Fn-1;co>=0;co--){var io=(Ln.words[Rn.length+co]|0)*67108864+(Ln.words[Rn.length+co-1]|0);for(io=Math.min(io/yn|0,67108863),Ln._ishlnsubmul(Rn,io,co);Ln.negative!==0;)io--,Ln.negative=0,Ln._ishlnsubmul(Rn,1,co),Ln.isZero()||(Ln.negative^=1);Cn&&(Cn.words[co]=io)}return Cn&&Cn._strip(),Ln._strip(),gn!=="div"&&On!==0&&Ln.iushrn(On),{div:Cn||null,mod:Ln}},Ut.prototype.divmod=function(Xr,gn,On){if(Ot(!Xr.isZero()),this.isZero())return{div:new Ut(0),mod:new Ut(0)};var Ln,Rn,yn;return this.negative!==0&&Xr.negative===0?(yn=this.neg().divmod(Xr,gn),gn!=="mod"&&(Ln=yn.div.neg()),gn!=="div"&&(Rn=yn.mod.neg(),On&&Rn.negative!==0&&Rn.iadd(Xr)),{div:Ln,mod:Rn}):this.negative===0&&Xr.negative!==0?(yn=this.divmod(Xr.neg(),gn),gn!=="mod"&&(Ln=yn.div.neg()),{div:Ln,mod:yn.mod}):this.negative&Xr.negative?(yn=this.neg().divmod(Xr.neg(),gn),gn!=="div"&&(Rn=yn.mod.neg(),On&&Rn.negative!==0&&Rn.isub(Xr)),{div:yn.div,mod:Rn}):Xr.length>this.length||this.cmp(Xr)<0?{div:new Ut(0),mod:this}:Xr.length===1?gn==="div"?{div:this.divn(Xr.words[0]),mod:null}:gn==="mod"?{div:null,mod:new Ut(this.modrn(Xr.words[0]))}:{div:this.divn(Xr.words[0]),mod:new Ut(this.modrn(Xr.words[0]))}:this._wordDiv(Xr,gn)},Ut.prototype.div=function(Xr){return this.divmod(Xr,"div",!1).div},Ut.prototype.mod=function(Xr){return this.divmod(Xr,"mod",!1).mod},Ut.prototype.umod=function(Xr){return this.divmod(Xr,"mod",!0).mod},Ut.prototype.divRound=function(Xr){var gn=this.divmod(Xr);if(gn.mod.isZero())return gn.div;var On=gn.div.negative!==0?gn.mod.isub(Xr):gn.mod,Ln=Xr.ushrn(1),Rn=Xr.andln(1),yn=On.cmp(Ln);return yn<0||Rn===1&&yn===0?gn.div:gn.div.negative!==0?gn.div.isubn(1):gn.div.iaddn(1)},Ut.prototype.modrn=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(Xr<=67108863);for(var On=(1<<26)%Xr,Ln=0,Rn=this.length-1;Rn>=0;Rn--)Ln=(On*Ln+(this.words[Rn]|0))%Xr;return gn?-Ln:Ln},Ut.prototype.modn=function(Xr){return this.modrn(Xr)},Ut.prototype.idivn=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(Xr<=67108863);for(var On=0,Ln=this.length-1;Ln>=0;Ln--){var Rn=(this.words[Ln]|0)+On*67108864;this.words[Ln]=Rn/Xr|0,On=Rn%Xr}return this._strip(),gn?this.ineg():this},Ut.prototype.divn=function(Xr){return this.clone().idivn(Xr)},Ut.prototype.egcd=function(Xr){Ot(Xr.negative===0),Ot(!Xr.isZero());var gn=this,On=Xr.clone();gn.negative!==0?gn=gn.umod(Xr):gn=gn.clone();for(var Ln=new Ut(1),Rn=new Ut(0),yn=new Ut(0),kn=new Ut(1),Fn=0;gn.isEven()&&On.isEven();)gn.iushrn(1),On.iushrn(1),++Fn;for(var Cn=On.clone(),zn=gn.clone();!gn.isZero();){for(var $a=0,co=1;!(gn.words[0]&co)&&$a<26;++$a,co<<=1);if($a>0)for(gn.iushrn($a);$a-- >0;)(Ln.isOdd()||Rn.isOdd())&&(Ln.iadd(Cn),Rn.isub(zn)),Ln.iushrn(1),Rn.iushrn(1);for(var io=0,ga=1;!(On.words[0]&ga)&&io<26;++io,ga<<=1);if(io>0)for(On.iushrn(io);io-- >0;)(yn.isOdd()||kn.isOdd())&&(yn.iadd(Cn),kn.isub(zn)),yn.iushrn(1),kn.iushrn(1);gn.cmp(On)>=0?(gn.isub(On),Ln.isub(yn),Rn.isub(kn)):(On.isub(gn),yn.isub(Ln),kn.isub(Rn))}return{a:yn,b:kn,gcd:On.iushln(Fn)}},Ut.prototype._invmp=function(Xr){Ot(Xr.negative===0),Ot(!Xr.isZero());var gn=this,On=Xr.clone();gn.negative!==0?gn=gn.umod(Xr):gn=gn.clone();for(var Ln=new Ut(1),Rn=new Ut(0),yn=On.clone();gn.cmpn(1)>0&&On.cmpn(1)>0;){for(var kn=0,Fn=1;!(gn.words[0]&Fn)&&kn<26;++kn,Fn<<=1);if(kn>0)for(gn.iushrn(kn);kn-- >0;)Ln.isOdd()&&Ln.iadd(yn),Ln.iushrn(1);for(var Cn=0,zn=1;!(On.words[0]&zn)&&Cn<26;++Cn,zn<<=1);if(Cn>0)for(On.iushrn(Cn);Cn-- >0;)Rn.isOdd()&&Rn.iadd(yn),Rn.iushrn(1);gn.cmp(On)>=0?(gn.isub(On),Ln.isub(Rn)):(On.isub(gn),Rn.isub(Ln))}var $a;return gn.cmpn(1)===0?$a=Ln:$a=Rn,$a.cmpn(0)<0&&$a.iadd(Xr),$a},Ut.prototype.gcd=function(Xr){if(this.isZero())return Xr.abs();if(Xr.isZero())return this.abs();var gn=this.clone(),On=Xr.clone();gn.negative=0,On.negative=0;for(var Ln=0;gn.isEven()&&On.isEven();Ln++)gn.iushrn(1),On.iushrn(1);do{for(;gn.isEven();)gn.iushrn(1);for(;On.isEven();)On.iushrn(1);var Rn=gn.cmp(On);if(Rn<0){var yn=gn;gn=On,On=yn}else if(Rn===0||On.cmpn(1)===0)break;gn.isub(On)}while(!0);return On.iushln(Ln)},Ut.prototype.invm=function(Xr){return this.egcd(Xr).a.umod(Xr)},Ut.prototype.isEven=function(){return(this.words[0]&1)===0},Ut.prototype.isOdd=function(){return(this.words[0]&1)===1},Ut.prototype.andln=function(Xr){return this.words[0]&Xr},Ut.prototype.bincn=function(Xr){Ot(typeof Xr=="number");var gn=Xr%26,On=(Xr-gn)/26,Ln=1<<gn;if(this.length<=On)return this._expand(On+1),this.words[On]|=Ln,this;for(var Rn=Ln,yn=On;Rn!==0&&yn<this.length;yn++){var kn=this.words[yn]|0;kn+=Rn,Rn=kn>>>26,kn&=67108863,this.words[yn]=kn}return Rn!==0&&(this.words[yn]=Rn,this.length++),this},Ut.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ut.prototype.cmpn=function(Xr){var gn=Xr<0;if(this.negative!==0&&!gn)return-1;if(this.negative===0&&gn)return 1;this._strip();var On;if(this.length>1)On=1;else{gn&&(Xr=-Xr),Ot(Xr<=67108863,"Number is too big");var Ln=this.words[0]|0;On=Ln===Xr?0:Ln<Xr?-1:1}return this.negative!==0?-On|0:On},Ut.prototype.cmp=function(Xr){if(this.negative!==0&&Xr.negative===0)return-1;if(this.negative===0&&Xr.negative!==0)return 1;var gn=this.ucmp(Xr);return this.negative!==0?-gn|0:gn},Ut.prototype.ucmp=function(Xr){if(this.length>Xr.length)return 1;if(this.length<Xr.length)return-1;for(var gn=0,On=this.length-1;On>=0;On--){var Ln=this.words[On]|0,Rn=Xr.words[On]|0;if(Ln!==Rn){Ln<Rn?gn=-1:Ln>Rn&&(gn=1);break}}return gn},Ut.prototype.gtn=function(Xr){return this.cmpn(Xr)===1},Ut.prototype.gt=function(Xr){return this.cmp(Xr)===1},Ut.prototype.gten=function(Xr){return this.cmpn(Xr)>=0},Ut.prototype.gte=function(Xr){return this.cmp(Xr)>=0},Ut.prototype.ltn=function(Xr){return this.cmpn(Xr)===-1},Ut.prototype.lt=function(Xr){return this.cmp(Xr)===-1},Ut.prototype.lten=function(Xr){return this.cmpn(Xr)<=0},Ut.prototype.lte=function(Xr){return this.cmp(Xr)<=0},Ut.prototype.eqn=function(Xr){return this.cmpn(Xr)===0},Ut.prototype.eq=function(Xr){return this.cmp(Xr)===0},Ut.red=function(Xr){return new Un(Xr)},Ut.prototype.toRed=function(Xr){return Ot(!this.red,"Already a number in reduction context"),Ot(this.negative===0,"red works only with positives"),Xr.convertTo(this)._forceRed(Xr)},Ut.prototype.fromRed=function(){return Ot(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ut.prototype._forceRed=function(Xr){return this.red=Xr,this},Ut.prototype.forceRed=function(Xr){return Ot(!this.red,"Already a number in reduction context"),this._forceRed(Xr)},Ut.prototype.redAdd=function(Xr){return Ot(this.red,"redAdd works only with red numbers"),this.red.add(this,Xr)},Ut.prototype.redIAdd=function(Xr){return Ot(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Xr)},Ut.prototype.redSub=function(Xr){return Ot(this.red,"redSub works only with red numbers"),this.red.sub(this,Xr)},Ut.prototype.redISub=function(Xr){return Ot(this.red,"redISub works only with red numbers"),this.red.isub(this,Xr)},Ut.prototype.redShl=function(Xr){return Ot(this.red,"redShl works only with red numbers"),this.red.shl(this,Xr)},Ut.prototype.redMul=function(Xr){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xr),this.red.mul(this,Xr)},Ut.prototype.redIMul=function(Xr){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xr),this.red.imul(this,Xr)},Ut.prototype.redSqr=function(){return Ot(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ut.prototype.redISqr=function(){return Ot(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ut.prototype.redSqrt=function(){return Ot(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ut.prototype.redInvm=function(){return Ot(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ut.prototype.redNeg=function(){return Ot(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ut.prototype.redPow=function(Xr){return Ot(this.red&&!Xr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Xr)};var Jn={k256:null,p224:null,p192:null,p25519:null};function Gn(mn,Xr){this.name=mn,this.p=new Ut(Xr,16),this.n=this.p.bitLength(),this.k=new Ut(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Gn.prototype._tmp=function(){var Xr=new Ut(null);return Xr.words=new Array(Math.ceil(this.n/13)),Xr},Gn.prototype.ireduce=function(Xr){var gn=Xr,On;do this.split(gn,this.tmp),gn=this.imulK(gn),gn=gn.iadd(this.tmp),On=gn.bitLength();while(On>this.n);var Ln=On<this.n?-1:gn.ucmp(this.p);return Ln===0?(gn.words[0]=0,gn.length=1):Ln>0?gn.isub(this.p):gn.strip!==void 0?gn.strip():gn._strip(),gn},Gn.prototype.split=function(Xr,gn){Xr.iushrn(this.n,0,gn)},Gn.prototype.imulK=function(Xr){return Xr.imul(this.k)};function ba(){Gn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ft(ba,Gn),ba.prototype.split=function(Xr,gn){for(var On=4194303,Ln=Math.min(Xr.length,9),Rn=0;Rn<Ln;Rn++)gn.words[Rn]=Xr.words[Rn];if(gn.length=Ln,Xr.length<=9){Xr.words[0]=0,Xr.length=1;return}var yn=Xr.words[9];for(gn.words[gn.length++]=yn&On,Rn=10;Rn<Xr.length;Rn++){var kn=Xr.words[Rn]|0;Xr.words[Rn-10]=(kn&On)<<4|yn>>>22,yn=kn}yn>>>=22,Xr.words[Rn-10]=yn,yn===0&&Xr.length>10?Xr.length-=10:Xr.length-=9},ba.prototype.imulK=function(Xr){Xr.words[Xr.length]=0,Xr.words[Xr.length+1]=0,Xr.length+=2;for(var gn=0,On=0;On<Xr.length;On++){var Ln=Xr.words[On]|0;gn+=Ln*977,Xr.words[On]=gn&67108863,gn=Ln*64+(gn/67108864|0)}return Xr.words[Xr.length-1]===0&&(Xr.length--,Xr.words[Xr.length-1]===0&&Xr.length--),Xr};function eo(){Gn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ft(eo,Gn);function xa(){Gn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ft(xa,Gn);function Yn(){Gn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ft(Yn,Gn),Yn.prototype.imulK=function(Xr){for(var gn=0,On=0;On<Xr.length;On++){var Ln=(Xr.words[On]|0)*19+gn,Rn=Ln&67108863;Ln>>>=26,Xr.words[On]=Rn,gn=Ln}return gn!==0&&(Xr.words[Xr.length++]=gn),Xr},Ut._prime=function(Xr){if(Jn[Xr])return Jn[Xr];var gn;if(Xr==="k256")gn=new ba;else if(Xr==="p224")gn=new eo;else if(Xr==="p192")gn=new xa;else if(Xr==="p25519")gn=new Yn;else throw new Error("Unknown prime "+Xr);return Jn[Xr]=gn,gn};function Un(mn){if(typeof mn=="string"){var Xr=Ut._prime(mn);this.m=Xr.p,this.prime=Xr}else Ot(mn.gtn(1),"modulus must be greater than 1"),this.m=mn,this.prime=null}Un.prototype._verify1=function(Xr){Ot(Xr.negative===0,"red works only with positives"),Ot(Xr.red,"red works only with red numbers")},Un.prototype._verify2=function(Xr,gn){Ot((Xr.negative|gn.negative)===0,"red works only with positives"),Ot(Xr.red&&Xr.red===gn.red,"red works only with red numbers")},Un.prototype.imod=function(Xr){return this.prime?this.prime.ireduce(Xr)._forceRed(this):(fn(Xr,Xr.umod(this.m)._forceRed(this)),Xr)},Un.prototype.neg=function(Xr){return Xr.isZero()?Xr.clone():this.m.sub(Xr)._forceRed(this)},Un.prototype.add=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.add(gn);return On.cmp(this.m)>=0&&On.isub(this.m),On._forceRed(this)},Un.prototype.iadd=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.iadd(gn);return On.cmp(this.m)>=0&&On.isub(this.m),On},Un.prototype.sub=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.sub(gn);return On.cmpn(0)<0&&On.iadd(this.m),On._forceRed(this)},Un.prototype.isub=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.isub(gn);return On.cmpn(0)<0&&On.iadd(this.m),On},Un.prototype.shl=function(Xr,gn){return this._verify1(Xr),this.imod(Xr.ushln(gn))},Un.prototype.imul=function(Xr,gn){return this._verify2(Xr,gn),this.imod(Xr.imul(gn))},Un.prototype.mul=function(Xr,gn){return this._verify2(Xr,gn),this.imod(Xr.mul(gn))},Un.prototype.isqr=function(Xr){return this.imul(Xr,Xr.clone())},Un.prototype.sqr=function(Xr){return this.mul(Xr,Xr)},Un.prototype.sqrt=function(Xr){if(Xr.isZero())return Xr.clone();var gn=this.m.andln(3);if(Ot(gn%2===1),gn===3){var On=this.m.add(new Ut(1)).iushrn(2);return this.pow(Xr,On)}for(var Ln=this.m.subn(1),Rn=0;!Ln.isZero()&&Ln.andln(1)===0;)Rn++,Ln.iushrn(1);Ot(!Ln.isZero());var yn=new Ut(1).toRed(this),kn=yn.redNeg(),Fn=this.m.subn(1).iushrn(1),Cn=this.m.bitLength();for(Cn=new Ut(2*Cn*Cn).toRed(this);this.pow(Cn,Fn).cmp(kn)!==0;)Cn.redIAdd(kn);for(var zn=this.pow(Cn,Ln),$a=this.pow(Xr,Ln.addn(1).iushrn(1)),co=this.pow(Xr,Ln),io=Rn;co.cmp(yn)!==0;){for(var ga=co,na=0;ga.cmp(yn)!==0;na++)ga=ga.redSqr();Ot(na<io);var so=this.pow(zn,new Ut(1).iushln(io-na-1));$a=$a.redMul(so),zn=so.redSqr(),co=co.redMul(zn),io=na}return $a},Un.prototype.invm=function(Xr){var gn=Xr._invmp(this.m);return gn.negative!==0?(gn.negative=0,this.imod(gn).redNeg()):this.imod(gn)},Un.prototype.pow=function(Xr,gn){if(gn.isZero())return new Ut(1).toRed(this);if(gn.cmpn(1)===0)return Xr.clone();var On=4,Ln=new Array(1<<On);Ln[0]=new Ut(1).toRed(this),Ln[1]=Xr;for(var Rn=2;Rn<Ln.length;Rn++)Ln[Rn]=this.mul(Ln[Rn-1],Xr);var yn=Ln[0],kn=0,Fn=0,Cn=gn.bitLength()%26;for(Cn===0&&(Cn=26),Rn=gn.length-1;Rn>=0;Rn--){for(var zn=gn.words[Rn],$a=Cn-1;$a>=0;$a--){var co=zn>>$a&1;if(yn!==Ln[0]&&(yn=this.sqr(yn)),co===0&&kn===0){Fn=0;continue}kn<<=1,kn|=co,Fn++,!(Fn!==On&&(Rn!==0||$a!==0))&&(yn=this.mul(yn,Ln[kn]),Fn=0,kn=0)}Cn=26}return yn},Un.prototype.convertTo=function(Xr){var gn=Xr.umod(this.m);return gn===Xr?gn.clone():gn},Un.prototype.convertFrom=function(Xr){var gn=Xr.clone();return gn.red=null,gn},Ut.mont=function(Xr){return new Mn(Xr)};function Mn(mn){Un.call(this,mn),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ut(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ft(Mn,Un),Mn.prototype.convertTo=function(Xr){return this.imod(Xr.ushln(this.shift))},Mn.prototype.convertFrom=function(Xr){var gn=this.imod(Xr.mul(this.rinv));return gn.red=null,gn},Mn.prototype.imul=function(Xr,gn){if(Xr.isZero()||gn.isZero())return Xr.words[0]=0,Xr.length=1,Xr;var On=Xr.imul(gn),Ln=On.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rn=On.isub(Ln).iushrn(this.shift),yn=Rn;return Rn.cmp(this.m)>=0?yn=Rn.isub(this.m):Rn.cmpn(0)<0&&(yn=Rn.iadd(this.m)),yn._forceRed(this)},Mn.prototype.mul=function(Xr,gn){if(Xr.isZero()||gn.isZero())return new Ut(0)._forceRed(this);var On=Xr.mul(gn),Ln=On.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rn=On.isub(Ln).iushrn(this.shift),yn=Rn;return Rn.cmp(this.m)>=0?yn=Rn.isub(this.m):Rn.cmpn(0)<0&&(yn=Rn.iadd(this.m)),yn._forceRed(this)},Mn.prototype.invm=function(Xr){var gn=this.imod(Xr._invmp(this.m).mul(this.r2));return gn._forceRed(this)}})(_e,commonjsGlobal)}(bn$3)),bn$3.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var _e=requireBn$2(),d=requireBrowser$b(),Mt=requireSafeBuffer$1().Buffer;function Ot(Xt){var jr=Xt.modulus.byteLength(),hn;do hn=new _e(d(jr));while(hn.cmp(Xt.modulus)>=0||!hn.umod(Xt.prime1)||!hn.umod(Xt.prime2));return hn}function Ft(Xt){var jr=Ot(Xt),hn=jr.toRed(_e.mont(Xt.modulus)).redPow(new _e(Xt.publicExponent)).fromRed();return{blinder:hn,unblinder:jr.invm(Xt.modulus)}}function Ut(Xt,jr){var hn=Ft(jr),Vr=jr.modulus.byteLength(),fn=new _e(Xt).mul(hn.blinder).umod(jr.modulus),dn=fn.toRed(_e.mont(jr.prime1)),pn=fn.toRed(_e.mont(jr.prime2)),En=jr.coefficient,_n=jr.prime1,Dn=jr.prime2,Vn=dn.redPow(jr.exponent1).fromRed(),Pn=pn.redPow(jr.exponent2).fromRed(),qn=Vn.isub(Pn).imul(En).umod(_n).imul(Dn);return Pn.iadd(qn).imul(hn.unblinder).umod(jr.modulus).toArrayLike(Mt,"be",Vr)}return Ut.getr=Ot,browserifyRsa=Ut,browserifyRsa}var elliptic={};const version="6.6.1",require$$0={version};var utils$2={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(_e){(function(d,Mt){function Ot(Un,Mn){if(!Un)throw new Error(Mn||"Assertion failed")}function Ft(Un,Mn){Un.super_=Mn;var mn=function(){};mn.prototype=Mn.prototype,Un.prototype=new mn,Un.prototype.constructor=Un}function Ut(Un,Mn,mn){if(Ut.isBN(Un))return Un;this.negative=0,this.words=null,this.length=0,this.red=null,Un!==null&&((Mn==="le"||Mn==="be")&&(mn=Mn,Mn=10),this._init(Un||0,Mn||10,mn||"be"))}typeof d=="object"?d.exports=Ut:Mt.BN=Ut,Ut.BN=Ut,Ut.wordSize=26;var Xt;try{typeof window<"u"&&typeof window.Buffer<"u"?Xt=window.Buffer:Xt=require$$1$2.Buffer}catch{}Ut.isBN=function(Mn){return Mn instanceof Ut?!0:Mn!==null&&typeof Mn=="object"&&Mn.constructor.wordSize===Ut.wordSize&&Array.isArray(Mn.words)},Ut.max=function(Mn,mn){return Mn.cmp(mn)>0?Mn:mn},Ut.min=function(Mn,mn){return Mn.cmp(mn)<0?Mn:mn},Ut.prototype._init=function(Mn,mn,Xr){if(typeof Mn=="number")return this._initNumber(Mn,mn,Xr);if(typeof Mn=="object")return this._initArray(Mn,mn,Xr);mn==="hex"&&(mn=16),Ot(mn===(mn|0)&&mn>=2&&mn<=36),Mn=Mn.toString().replace(/\s+/g,"");var gn=0;Mn[0]==="-"&&(gn++,this.negative=1),gn<Mn.length&&(mn===16?this._parseHex(Mn,gn,Xr):(this._parseBase(Mn,mn,gn),Xr==="le"&&this._initArray(this.toArray(),mn,Xr)))},Ut.prototype._initNumber=function(Mn,mn,Xr){Mn<0&&(this.negative=1,Mn=-Mn),Mn<67108864?(this.words=[Mn&67108863],this.length=1):Mn<4503599627370496?(this.words=[Mn&67108863,Mn/67108864&67108863],this.length=2):(Ot(Mn<9007199254740992),this.words=[Mn&67108863,Mn/67108864&67108863,1],this.length=3),Xr==="le"&&this._initArray(this.toArray(),mn,Xr)},Ut.prototype._initArray=function(Mn,mn,Xr){if(Ot(typeof Mn.length=="number"),Mn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Mn.length/3),this.words=new Array(this.length);for(var gn=0;gn<this.length;gn++)this.words[gn]=0;var On,Ln,Rn=0;if(Xr==="be")for(gn=Mn.length-1,On=0;gn>=0;gn-=3)Ln=Mn[gn]|Mn[gn-1]<<8|Mn[gn-2]<<16,this.words[On]|=Ln<<Rn&67108863,this.words[On+1]=Ln>>>26-Rn&67108863,Rn+=24,Rn>=26&&(Rn-=26,On++);else if(Xr==="le")for(gn=0,On=0;gn<Mn.length;gn+=3)Ln=Mn[gn]|Mn[gn+1]<<8|Mn[gn+2]<<16,this.words[On]|=Ln<<Rn&67108863,this.words[On+1]=Ln>>>26-Rn&67108863,Rn+=24,Rn>=26&&(Rn-=26,On++);return this.strip()};function jr(Un,Mn){var mn=Un.charCodeAt(Mn);return mn>=65&&mn<=70?mn-55:mn>=97&&mn<=102?mn-87:mn-48&15}function hn(Un,Mn,mn){var Xr=jr(Un,mn);return mn-1>=Mn&&(Xr|=jr(Un,mn-1)<<4),Xr}Ut.prototype._parseHex=function(Mn,mn,Xr){this.length=Math.ceil((Mn.length-mn)/6),this.words=new Array(this.length);for(var gn=0;gn<this.length;gn++)this.words[gn]=0;var On=0,Ln=0,Rn;if(Xr==="be")for(gn=Mn.length-1;gn>=mn;gn-=2)Rn=hn(Mn,mn,gn)<<On,this.words[Ln]|=Rn&67108863,On>=18?(On-=18,Ln+=1,this.words[Ln]|=Rn>>>26):On+=8;else{var yn=Mn.length-mn;for(gn=yn%2===0?mn+1:mn;gn<Mn.length;gn+=2)Rn=hn(Mn,mn,gn)<<On,this.words[Ln]|=Rn&67108863,On>=18?(On-=18,Ln+=1,this.words[Ln]|=Rn>>>26):On+=8}this.strip()};function Vr(Un,Mn,mn,Xr){for(var gn=0,On=Math.min(Un.length,mn),Ln=Mn;Ln<On;Ln++){var Rn=Un.charCodeAt(Ln)-48;gn*=Xr,Rn>=49?gn+=Rn-49+10:Rn>=17?gn+=Rn-17+10:gn+=Rn}return gn}Ut.prototype._parseBase=function(Mn,mn,Xr){this.words=[0],this.length=1;for(var gn=0,On=1;On<=67108863;On*=mn)gn++;gn--,On=On/mn|0;for(var Ln=Mn.length-Xr,Rn=Ln%gn,yn=Math.min(Ln,Ln-Rn)+Xr,kn=0,Fn=Xr;Fn<yn;Fn+=gn)kn=Vr(Mn,Fn,Fn+gn,mn),this.imuln(On),this.words[0]+kn<67108864?this.words[0]+=kn:this._iaddn(kn);if(Rn!==0){var Cn=1;for(kn=Vr(Mn,Fn,Mn.length,mn),Fn=0;Fn<Rn;Fn++)Cn*=mn;this.imuln(Cn),this.words[0]+kn<67108864?this.words[0]+=kn:this._iaddn(kn)}this.strip()},Ut.prototype.copy=function(Mn){Mn.words=new Array(this.length);for(var mn=0;mn<this.length;mn++)Mn.words[mn]=this.words[mn];Mn.length=this.length,Mn.negative=this.negative,Mn.red=this.red},Ut.prototype.clone=function(){var Mn=new Ut(null);return this.copy(Mn),Mn},Ut.prototype._expand=function(Mn){for(;this.length<Mn;)this.words[this.length++]=0;return this},Ut.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ut.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ut.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var fn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],dn=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pn=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ut.prototype.toString=function(Mn,mn){Mn=Mn||10,mn=mn|0||1;var Xr;if(Mn===16||Mn==="hex"){Xr="";for(var gn=0,On=0,Ln=0;Ln<this.length;Ln++){var Rn=this.words[Ln],yn=((Rn<<gn|On)&16777215).toString(16);On=Rn>>>24-gn&16777215,gn+=2,gn>=26&&(gn-=26,Ln--),On!==0||Ln!==this.length-1?Xr=fn[6-yn.length]+yn+Xr:Xr=yn+Xr}for(On!==0&&(Xr=On.toString(16)+Xr);Xr.length%mn!==0;)Xr="0"+Xr;return this.negative!==0&&(Xr="-"+Xr),Xr}if(Mn===(Mn|0)&&Mn>=2&&Mn<=36){var kn=dn[Mn],Fn=pn[Mn];Xr="";var Cn=this.clone();for(Cn.negative=0;!Cn.isZero();){var zn=Cn.modn(Fn).toString(Mn);Cn=Cn.idivn(Fn),Cn.isZero()?Xr=zn+Xr:Xr=fn[kn-zn.length]+zn+Xr}for(this.isZero()&&(Xr="0"+Xr);Xr.length%mn!==0;)Xr="0"+Xr;return this.negative!==0&&(Xr="-"+Xr),Xr}Ot(!1,"Base should be between 2 and 36")},Ut.prototype.toNumber=function(){var Mn=this.words[0];return this.length===2?Mn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Mn+=4503599627370496+this.words[1]*67108864:this.length>2&&Ot(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Mn:Mn},Ut.prototype.toJSON=function(){return this.toString(16)},Ut.prototype.toBuffer=function(Mn,mn){return Ot(typeof Xt<"u"),this.toArrayLike(Xt,Mn,mn)},Ut.prototype.toArray=function(Mn,mn){return this.toArrayLike(Array,Mn,mn)},Ut.prototype.toArrayLike=function(Mn,mn,Xr){var gn=this.byteLength(),On=Xr||Math.max(1,gn);Ot(gn<=On,"byte array longer than desired length"),Ot(On>0,"Requested array length <= 0"),this.strip();var Ln=mn==="le",Rn=new Mn(On),yn,kn,Fn=this.clone();if(Ln){for(kn=0;!Fn.isZero();kn++)yn=Fn.andln(255),Fn.iushrn(8),Rn[kn]=yn;for(;kn<On;kn++)Rn[kn]=0}else{for(kn=0;kn<On-gn;kn++)Rn[kn]=0;for(kn=0;!Fn.isZero();kn++)yn=Fn.andln(255),Fn.iushrn(8),Rn[On-kn-1]=yn}return Rn},Math.clz32?Ut.prototype._countBits=function(Mn){return 32-Math.clz32(Mn)}:Ut.prototype._countBits=function(Mn){var mn=Mn,Xr=0;return mn>=4096&&(Xr+=13,mn>>>=13),mn>=64&&(Xr+=7,mn>>>=7),mn>=8&&(Xr+=4,mn>>>=4),mn>=2&&(Xr+=2,mn>>>=2),Xr+mn},Ut.prototype._zeroBits=function(Mn){if(Mn===0)return 26;var mn=Mn,Xr=0;return mn&8191||(Xr+=13,mn>>>=13),mn&127||(Xr+=7,mn>>>=7),mn&15||(Xr+=4,mn>>>=4),mn&3||(Xr+=2,mn>>>=2),mn&1||Xr++,Xr},Ut.prototype.bitLength=function(){var Mn=this.words[this.length-1],mn=this._countBits(Mn);return(this.length-1)*26+mn};function En(Un){for(var Mn=new Array(Un.bitLength()),mn=0;mn<Mn.length;mn++){var Xr=mn/26|0,gn=mn%26;Mn[mn]=(Un.words[Xr]&1<<gn)>>>gn}return Mn}Ut.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Mn=0,mn=0;mn<this.length;mn++){var Xr=this._zeroBits(this.words[mn]);if(Mn+=Xr,Xr!==26)break}return Mn},Ut.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ut.prototype.toTwos=function(Mn){return this.negative!==0?this.abs().inotn(Mn).iaddn(1):this.clone()},Ut.prototype.fromTwos=function(Mn){return this.testn(Mn-1)?this.notn(Mn).iaddn(1).ineg():this.clone()},Ut.prototype.isNeg=function(){return this.negative!==0},Ut.prototype.neg=function(){return this.clone().ineg()},Ut.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ut.prototype.iuor=function(Mn){for(;this.length<Mn.length;)this.words[this.length++]=0;for(var mn=0;mn<Mn.length;mn++)this.words[mn]=this.words[mn]|Mn.words[mn];return this.strip()},Ut.prototype.ior=function(Mn){return Ot((this.negative|Mn.negative)===0),this.iuor(Mn)},Ut.prototype.or=function(Mn){return this.length>Mn.length?this.clone().ior(Mn):Mn.clone().ior(this)},Ut.prototype.uor=function(Mn){return this.length>Mn.length?this.clone().iuor(Mn):Mn.clone().iuor(this)},Ut.prototype.iuand=function(Mn){var mn;this.length>Mn.length?mn=Mn:mn=this;for(var Xr=0;Xr<mn.length;Xr++)this.words[Xr]=this.words[Xr]&Mn.words[Xr];return this.length=mn.length,this.strip()},Ut.prototype.iand=function(Mn){return Ot((this.negative|Mn.negative)===0),this.iuand(Mn)},Ut.prototype.and=function(Mn){return this.length>Mn.length?this.clone().iand(Mn):Mn.clone().iand(this)},Ut.prototype.uand=function(Mn){return this.length>Mn.length?this.clone().iuand(Mn):Mn.clone().iuand(this)},Ut.prototype.iuxor=function(Mn){var mn,Xr;this.length>Mn.length?(mn=this,Xr=Mn):(mn=Mn,Xr=this);for(var gn=0;gn<Xr.length;gn++)this.words[gn]=mn.words[gn]^Xr.words[gn];if(this!==mn)for(;gn<mn.length;gn++)this.words[gn]=mn.words[gn];return this.length=mn.length,this.strip()},Ut.prototype.ixor=function(Mn){return Ot((this.negative|Mn.negative)===0),this.iuxor(Mn)},Ut.prototype.xor=function(Mn){return this.length>Mn.length?this.clone().ixor(Mn):Mn.clone().ixor(this)},Ut.prototype.uxor=function(Mn){return this.length>Mn.length?this.clone().iuxor(Mn):Mn.clone().iuxor(this)},Ut.prototype.inotn=function(Mn){Ot(typeof Mn=="number"&&Mn>=0);var mn=Math.ceil(Mn/26)|0,Xr=Mn%26;this._expand(mn),Xr>0&&mn--;for(var gn=0;gn<mn;gn++)this.words[gn]=~this.words[gn]&67108863;return Xr>0&&(this.words[gn]=~this.words[gn]&67108863>>26-Xr),this.strip()},Ut.prototype.notn=function(Mn){return this.clone().inotn(Mn)},Ut.prototype.setn=function(Mn,mn){Ot(typeof Mn=="number"&&Mn>=0);var Xr=Mn/26|0,gn=Mn%26;return this._expand(Xr+1),mn?this.words[Xr]=this.words[Xr]|1<<gn:this.words[Xr]=this.words[Xr]&~(1<<gn),this.strip()},Ut.prototype.iadd=function(Mn){var mn;if(this.negative!==0&&Mn.negative===0)return this.negative=0,mn=this.isub(Mn),this.negative^=1,this._normSign();if(this.negative===0&&Mn.negative!==0)return Mn.negative=0,mn=this.isub(Mn),Mn.negative=1,mn._normSign();var Xr,gn;this.length>Mn.length?(Xr=this,gn=Mn):(Xr=Mn,gn=this);for(var On=0,Ln=0;Ln<gn.length;Ln++)mn=(Xr.words[Ln]|0)+(gn.words[Ln]|0)+On,this.words[Ln]=mn&67108863,On=mn>>>26;for(;On!==0&&Ln<Xr.length;Ln++)mn=(Xr.words[Ln]|0)+On,this.words[Ln]=mn&67108863,On=mn>>>26;if(this.length=Xr.length,On!==0)this.words[this.length]=On,this.length++;else if(Xr!==this)for(;Ln<Xr.length;Ln++)this.words[Ln]=Xr.words[Ln];return this},Ut.prototype.add=function(Mn){var mn;return Mn.negative!==0&&this.negative===0?(Mn.negative=0,mn=this.sub(Mn),Mn.negative^=1,mn):Mn.negative===0&&this.negative!==0?(this.negative=0,mn=Mn.sub(this),this.negative=1,mn):this.length>Mn.length?this.clone().iadd(Mn):Mn.clone().iadd(this)},Ut.prototype.isub=function(Mn){if(Mn.negative!==0){Mn.negative=0;var mn=this.iadd(Mn);return Mn.negative=1,mn._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Mn),this.negative=1,this._normSign();var Xr=this.cmp(Mn);if(Xr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var gn,On;Xr>0?(gn=this,On=Mn):(gn=Mn,On=this);for(var Ln=0,Rn=0;Rn<On.length;Rn++)mn=(gn.words[Rn]|0)-(On.words[Rn]|0)+Ln,Ln=mn>>26,this.words[Rn]=mn&67108863;for(;Ln!==0&&Rn<gn.length;Rn++)mn=(gn.words[Rn]|0)+Ln,Ln=mn>>26,this.words[Rn]=mn&67108863;if(Ln===0&&Rn<gn.length&&gn!==this)for(;Rn<gn.length;Rn++)this.words[Rn]=gn.words[Rn];return this.length=Math.max(this.length,Rn),gn!==this&&(this.negative=1),this.strip()},Ut.prototype.sub=function(Mn){return this.clone().isub(Mn)};function _n(Un,Mn,mn){mn.negative=Mn.negative^Un.negative;var Xr=Un.length+Mn.length|0;mn.length=Xr,Xr=Xr-1|0;var gn=Un.words[0]|0,On=Mn.words[0]|0,Ln=gn*On,Rn=Ln&67108863,yn=Ln/67108864|0;mn.words[0]=Rn;for(var kn=1;kn<Xr;kn++){for(var Fn=yn>>>26,Cn=yn&67108863,zn=Math.min(kn,Mn.length-1),$a=Math.max(0,kn-Un.length+1);$a<=zn;$a++){var co=kn-$a|0;gn=Un.words[co]|0,On=Mn.words[$a]|0,Ln=gn*On+Cn,Fn+=Ln/67108864|0,Cn=Ln&67108863}mn.words[kn]=Cn|0,yn=Fn|0}return yn!==0?mn.words[kn]=yn|0:mn.length--,mn.strip()}var Dn=function(Mn,mn,Xr){var gn=Mn.words,On=mn.words,Ln=Xr.words,Rn=0,yn,kn,Fn,Cn=gn[0]|0,zn=Cn&8191,$a=Cn>>>13,co=gn[1]|0,io=co&8191,ga=co>>>13,na=gn[2]|0,so=na&8191,_i=na>>>13,Wn=gn[3]|0,Kn=Wn&8191,ro=Wn>>>13,oo=gn[4]|0,mo=oo&8191,bo=oo>>>13,vo=gn[5]|0,wo=vo&8191,go=vo>>>13,So=gn[6]|0,Ao=So&8191,Co=So>>>13,Ro=gn[7]|0,$o=Ro&8191,Lo=Ro>>>13,Po=gn[8]|0,No=Po&8191,Go=Po>>>13,Zo=gn[9]|0,to=Zo&8191,Zn=Zo>>>13,Qn=On[0]|0,lo=Qn&8191,Eo=Qn>>>13,xo=On[1]|0,_o=xo&8191,jo=xo>>>13,Ho=On[2]|0,Fo=Ho&8191,as=Ho>>>13,zo=On[3]|0,Qo=zo&8191,Ss=zo>>>13,ss=On[4]|0,rs=ss&8191,Ts=ss>>>13,ys=On[5]|0,us=ys&8191,Cs=ys>>>13,vs=On[6]|0,ns=vs&8191,Os=vs>>>13,_a=On[7]|0,ao=_a&8191,fo=_a>>>13,Xn=On[8]|0,uo=Xn&8191,Bo=Xn>>>13,Mo=On[9]|0,Do=Mo&8191,Xo=Mo>>>13;Xr.negative=Mn.negative^mn.negative,Xr.length=19,yn=Math.imul(zn,lo),kn=Math.imul(zn,Eo),kn=kn+Math.imul($a,lo)|0,Fn=Math.imul($a,Eo);var es=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(es>>>26)|0,es&=67108863,yn=Math.imul(io,lo),kn=Math.imul(io,Eo),kn=kn+Math.imul(ga,lo)|0,Fn=Math.imul(ga,Eo),yn=yn+Math.imul(zn,_o)|0,kn=kn+Math.imul(zn,jo)|0,kn=kn+Math.imul($a,_o)|0,Fn=Fn+Math.imul($a,jo)|0;var Jo=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,yn=Math.imul(so,lo),kn=Math.imul(so,Eo),kn=kn+Math.imul(_i,lo)|0,Fn=Math.imul(_i,Eo),yn=yn+Math.imul(io,_o)|0,kn=kn+Math.imul(io,jo)|0,kn=kn+Math.imul(ga,_o)|0,Fn=Fn+Math.imul(ga,jo)|0,yn=yn+Math.imul(zn,Fo)|0,kn=kn+Math.imul(zn,as)|0,kn=kn+Math.imul($a,Fo)|0,Fn=Fn+Math.imul($a,as)|0;var Rs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,yn=Math.imul(Kn,lo),kn=Math.imul(Kn,Eo),kn=kn+Math.imul(ro,lo)|0,Fn=Math.imul(ro,Eo),yn=yn+Math.imul(so,_o)|0,kn=kn+Math.imul(so,jo)|0,kn=kn+Math.imul(_i,_o)|0,Fn=Fn+Math.imul(_i,jo)|0,yn=yn+Math.imul(io,Fo)|0,kn=kn+Math.imul(io,as)|0,kn=kn+Math.imul(ga,Fo)|0,Fn=Fn+Math.imul(ga,as)|0,yn=yn+Math.imul(zn,Qo)|0,kn=kn+Math.imul(zn,Ss)|0,kn=kn+Math.imul($a,Qo)|0,Fn=Fn+Math.imul($a,Ss)|0;var hs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(hs>>>26)|0,hs&=67108863,yn=Math.imul(mo,lo),kn=Math.imul(mo,Eo),kn=kn+Math.imul(bo,lo)|0,Fn=Math.imul(bo,Eo),yn=yn+Math.imul(Kn,_o)|0,kn=kn+Math.imul(Kn,jo)|0,kn=kn+Math.imul(ro,_o)|0,Fn=Fn+Math.imul(ro,jo)|0,yn=yn+Math.imul(so,Fo)|0,kn=kn+Math.imul(so,as)|0,kn=kn+Math.imul(_i,Fo)|0,Fn=Fn+Math.imul(_i,as)|0,yn=yn+Math.imul(io,Qo)|0,kn=kn+Math.imul(io,Ss)|0,kn=kn+Math.imul(ga,Qo)|0,Fn=Fn+Math.imul(ga,Ss)|0,yn=yn+Math.imul(zn,rs)|0,kn=kn+Math.imul(zn,Ts)|0,kn=kn+Math.imul($a,rs)|0,Fn=Fn+Math.imul($a,Ts)|0;var bs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(bs>>>26)|0,bs&=67108863,yn=Math.imul(wo,lo),kn=Math.imul(wo,Eo),kn=kn+Math.imul(go,lo)|0,Fn=Math.imul(go,Eo),yn=yn+Math.imul(mo,_o)|0,kn=kn+Math.imul(mo,jo)|0,kn=kn+Math.imul(bo,_o)|0,Fn=Fn+Math.imul(bo,jo)|0,yn=yn+Math.imul(Kn,Fo)|0,kn=kn+Math.imul(Kn,as)|0,kn=kn+Math.imul(ro,Fo)|0,Fn=Fn+Math.imul(ro,as)|0,yn=yn+Math.imul(so,Qo)|0,kn=kn+Math.imul(so,Ss)|0,kn=kn+Math.imul(_i,Qo)|0,Fn=Fn+Math.imul(_i,Ss)|0,yn=yn+Math.imul(io,rs)|0,kn=kn+Math.imul(io,Ts)|0,kn=kn+Math.imul(ga,rs)|0,Fn=Fn+Math.imul(ga,Ts)|0,yn=yn+Math.imul(zn,us)|0,kn=kn+Math.imul(zn,Cs)|0,kn=kn+Math.imul($a,us)|0,Fn=Fn+Math.imul($a,Cs)|0;var As=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(As>>>26)|0,As&=67108863,yn=Math.imul(Ao,lo),kn=Math.imul(Ao,Eo),kn=kn+Math.imul(Co,lo)|0,Fn=Math.imul(Co,Eo),yn=yn+Math.imul(wo,_o)|0,kn=kn+Math.imul(wo,jo)|0,kn=kn+Math.imul(go,_o)|0,Fn=Fn+Math.imul(go,jo)|0,yn=yn+Math.imul(mo,Fo)|0,kn=kn+Math.imul(mo,as)|0,kn=kn+Math.imul(bo,Fo)|0,Fn=Fn+Math.imul(bo,as)|0,yn=yn+Math.imul(Kn,Qo)|0,kn=kn+Math.imul(Kn,Ss)|0,kn=kn+Math.imul(ro,Qo)|0,Fn=Fn+Math.imul(ro,Ss)|0,yn=yn+Math.imul(so,rs)|0,kn=kn+Math.imul(so,Ts)|0,kn=kn+Math.imul(_i,rs)|0,Fn=Fn+Math.imul(_i,Ts)|0,yn=yn+Math.imul(io,us)|0,kn=kn+Math.imul(io,Cs)|0,kn=kn+Math.imul(ga,us)|0,Fn=Fn+Math.imul(ga,Cs)|0,yn=yn+Math.imul(zn,ns)|0,kn=kn+Math.imul(zn,Os)|0,kn=kn+Math.imul($a,ns)|0,Fn=Fn+Math.imul($a,Os)|0;var ks=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(ks>>>26)|0,ks&=67108863,yn=Math.imul($o,lo),kn=Math.imul($o,Eo),kn=kn+Math.imul(Lo,lo)|0,Fn=Math.imul(Lo,Eo),yn=yn+Math.imul(Ao,_o)|0,kn=kn+Math.imul(Ao,jo)|0,kn=kn+Math.imul(Co,_o)|0,Fn=Fn+Math.imul(Co,jo)|0,yn=yn+Math.imul(wo,Fo)|0,kn=kn+Math.imul(wo,as)|0,kn=kn+Math.imul(go,Fo)|0,Fn=Fn+Math.imul(go,as)|0,yn=yn+Math.imul(mo,Qo)|0,kn=kn+Math.imul(mo,Ss)|0,kn=kn+Math.imul(bo,Qo)|0,Fn=Fn+Math.imul(bo,Ss)|0,yn=yn+Math.imul(Kn,rs)|0,kn=kn+Math.imul(Kn,Ts)|0,kn=kn+Math.imul(ro,rs)|0,Fn=Fn+Math.imul(ro,Ts)|0,yn=yn+Math.imul(so,us)|0,kn=kn+Math.imul(so,Cs)|0,kn=kn+Math.imul(_i,us)|0,Fn=Fn+Math.imul(_i,Cs)|0,yn=yn+Math.imul(io,ns)|0,kn=kn+Math.imul(io,Os)|0,kn=kn+Math.imul(ga,ns)|0,Fn=Fn+Math.imul(ga,Os)|0,yn=yn+Math.imul(zn,ao)|0,kn=kn+Math.imul(zn,fo)|0,kn=kn+Math.imul($a,ao)|0,Fn=Fn+Math.imul($a,fo)|0;var Ms=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,yn=Math.imul(No,lo),kn=Math.imul(No,Eo),kn=kn+Math.imul(Go,lo)|0,Fn=Math.imul(Go,Eo),yn=yn+Math.imul($o,_o)|0,kn=kn+Math.imul($o,jo)|0,kn=kn+Math.imul(Lo,_o)|0,Fn=Fn+Math.imul(Lo,jo)|0,yn=yn+Math.imul(Ao,Fo)|0,kn=kn+Math.imul(Ao,as)|0,kn=kn+Math.imul(Co,Fo)|0,Fn=Fn+Math.imul(Co,as)|0,yn=yn+Math.imul(wo,Qo)|0,kn=kn+Math.imul(wo,Ss)|0,kn=kn+Math.imul(go,Qo)|0,Fn=Fn+Math.imul(go,Ss)|0,yn=yn+Math.imul(mo,rs)|0,kn=kn+Math.imul(mo,Ts)|0,kn=kn+Math.imul(bo,rs)|0,Fn=Fn+Math.imul(bo,Ts)|0,yn=yn+Math.imul(Kn,us)|0,kn=kn+Math.imul(Kn,Cs)|0,kn=kn+Math.imul(ro,us)|0,Fn=Fn+Math.imul(ro,Cs)|0,yn=yn+Math.imul(so,ns)|0,kn=kn+Math.imul(so,Os)|0,kn=kn+Math.imul(_i,ns)|0,Fn=Fn+Math.imul(_i,Os)|0,yn=yn+Math.imul(io,ao)|0,kn=kn+Math.imul(io,fo)|0,kn=kn+Math.imul(ga,ao)|0,Fn=Fn+Math.imul(ga,fo)|0,yn=yn+Math.imul(zn,uo)|0,kn=kn+Math.imul(zn,Bo)|0,kn=kn+Math.imul($a,uo)|0,Fn=Fn+Math.imul($a,Bo)|0;var Es=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(Es>>>26)|0,Es&=67108863,yn=Math.imul(to,lo),kn=Math.imul(to,Eo),kn=kn+Math.imul(Zn,lo)|0,Fn=Math.imul(Zn,Eo),yn=yn+Math.imul(No,_o)|0,kn=kn+Math.imul(No,jo)|0,kn=kn+Math.imul(Go,_o)|0,Fn=Fn+Math.imul(Go,jo)|0,yn=yn+Math.imul($o,Fo)|0,kn=kn+Math.imul($o,as)|0,kn=kn+Math.imul(Lo,Fo)|0,Fn=Fn+Math.imul(Lo,as)|0,yn=yn+Math.imul(Ao,Qo)|0,kn=kn+Math.imul(Ao,Ss)|0,kn=kn+Math.imul(Co,Qo)|0,Fn=Fn+Math.imul(Co,Ss)|0,yn=yn+Math.imul(wo,rs)|0,kn=kn+Math.imul(wo,Ts)|0,kn=kn+Math.imul(go,rs)|0,Fn=Fn+Math.imul(go,Ts)|0,yn=yn+Math.imul(mo,us)|0,kn=kn+Math.imul(mo,Cs)|0,kn=kn+Math.imul(bo,us)|0,Fn=Fn+Math.imul(bo,Cs)|0,yn=yn+Math.imul(Kn,ns)|0,kn=kn+Math.imul(Kn,Os)|0,kn=kn+Math.imul(ro,ns)|0,Fn=Fn+Math.imul(ro,Os)|0,yn=yn+Math.imul(so,ao)|0,kn=kn+Math.imul(so,fo)|0,kn=kn+Math.imul(_i,ao)|0,Fn=Fn+Math.imul(_i,fo)|0,yn=yn+Math.imul(io,uo)|0,kn=kn+Math.imul(io,Bo)|0,kn=kn+Math.imul(ga,uo)|0,Fn=Fn+Math.imul(ga,Bo)|0,yn=yn+Math.imul(zn,Do)|0,kn=kn+Math.imul(zn,Xo)|0,kn=kn+Math.imul($a,Do)|0,Fn=Fn+Math.imul($a,Xo)|0;var ws=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(ws>>>26)|0,ws&=67108863,yn=Math.imul(to,_o),kn=Math.imul(to,jo),kn=kn+Math.imul(Zn,_o)|0,Fn=Math.imul(Zn,jo),yn=yn+Math.imul(No,Fo)|0,kn=kn+Math.imul(No,as)|0,kn=kn+Math.imul(Go,Fo)|0,Fn=Fn+Math.imul(Go,as)|0,yn=yn+Math.imul($o,Qo)|0,kn=kn+Math.imul($o,Ss)|0,kn=kn+Math.imul(Lo,Qo)|0,Fn=Fn+Math.imul(Lo,Ss)|0,yn=yn+Math.imul(Ao,rs)|0,kn=kn+Math.imul(Ao,Ts)|0,kn=kn+Math.imul(Co,rs)|0,Fn=Fn+Math.imul(Co,Ts)|0,yn=yn+Math.imul(wo,us)|0,kn=kn+Math.imul(wo,Cs)|0,kn=kn+Math.imul(go,us)|0,Fn=Fn+Math.imul(go,Cs)|0,yn=yn+Math.imul(mo,ns)|0,kn=kn+Math.imul(mo,Os)|0,kn=kn+Math.imul(bo,ns)|0,Fn=Fn+Math.imul(bo,Os)|0,yn=yn+Math.imul(Kn,ao)|0,kn=kn+Math.imul(Kn,fo)|0,kn=kn+Math.imul(ro,ao)|0,Fn=Fn+Math.imul(ro,fo)|0,yn=yn+Math.imul(so,uo)|0,kn=kn+Math.imul(so,Bo)|0,kn=kn+Math.imul(_i,uo)|0,Fn=Fn+Math.imul(_i,Bo)|0,yn=yn+Math.imul(io,Do)|0,kn=kn+Math.imul(io,Xo)|0,kn=kn+Math.imul(ga,Do)|0,Fn=Fn+Math.imul(ga,Xo)|0;var xs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(xs>>>26)|0,xs&=67108863,yn=Math.imul(to,Fo),kn=Math.imul(to,as),kn=kn+Math.imul(Zn,Fo)|0,Fn=Math.imul(Zn,as),yn=yn+Math.imul(No,Qo)|0,kn=kn+Math.imul(No,Ss)|0,kn=kn+Math.imul(Go,Qo)|0,Fn=Fn+Math.imul(Go,Ss)|0,yn=yn+Math.imul($o,rs)|0,kn=kn+Math.imul($o,Ts)|0,kn=kn+Math.imul(Lo,rs)|0,Fn=Fn+Math.imul(Lo,Ts)|0,yn=yn+Math.imul(Ao,us)|0,kn=kn+Math.imul(Ao,Cs)|0,kn=kn+Math.imul(Co,us)|0,Fn=Fn+Math.imul(Co,Cs)|0,yn=yn+Math.imul(wo,ns)|0,kn=kn+Math.imul(wo,Os)|0,kn=kn+Math.imul(go,ns)|0,Fn=Fn+Math.imul(go,Os)|0,yn=yn+Math.imul(mo,ao)|0,kn=kn+Math.imul(mo,fo)|0,kn=kn+Math.imul(bo,ao)|0,Fn=Fn+Math.imul(bo,fo)|0,yn=yn+Math.imul(Kn,uo)|0,kn=kn+Math.imul(Kn,Bo)|0,kn=kn+Math.imul(ro,uo)|0,Fn=Fn+Math.imul(ro,Bo)|0,yn=yn+Math.imul(so,Do)|0,kn=kn+Math.imul(so,Xo)|0,kn=kn+Math.imul(_i,Do)|0,Fn=Fn+Math.imul(_i,Xo)|0;var fs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(fs>>>26)|0,fs&=67108863,yn=Math.imul(to,Qo),kn=Math.imul(to,Ss),kn=kn+Math.imul(Zn,Qo)|0,Fn=Math.imul(Zn,Ss),yn=yn+Math.imul(No,rs)|0,kn=kn+Math.imul(No,Ts)|0,kn=kn+Math.imul(Go,rs)|0,Fn=Fn+Math.imul(Go,Ts)|0,yn=yn+Math.imul($o,us)|0,kn=kn+Math.imul($o,Cs)|0,kn=kn+Math.imul(Lo,us)|0,Fn=Fn+Math.imul(Lo,Cs)|0,yn=yn+Math.imul(Ao,ns)|0,kn=kn+Math.imul(Ao,Os)|0,kn=kn+Math.imul(Co,ns)|0,Fn=Fn+Math.imul(Co,Os)|0,yn=yn+Math.imul(wo,ao)|0,kn=kn+Math.imul(wo,fo)|0,kn=kn+Math.imul(go,ao)|0,Fn=Fn+Math.imul(go,fo)|0,yn=yn+Math.imul(mo,uo)|0,kn=kn+Math.imul(mo,Bo)|0,kn=kn+Math.imul(bo,uo)|0,Fn=Fn+Math.imul(bo,Bo)|0,yn=yn+Math.imul(Kn,Do)|0,kn=kn+Math.imul(Kn,Xo)|0,kn=kn+Math.imul(ro,Do)|0,Fn=Fn+Math.imul(ro,Xo)|0;var gs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(gs>>>26)|0,gs&=67108863,yn=Math.imul(to,rs),kn=Math.imul(to,Ts),kn=kn+Math.imul(Zn,rs)|0,Fn=Math.imul(Zn,Ts),yn=yn+Math.imul(No,us)|0,kn=kn+Math.imul(No,Cs)|0,kn=kn+Math.imul(Go,us)|0,Fn=Fn+Math.imul(Go,Cs)|0,yn=yn+Math.imul($o,ns)|0,kn=kn+Math.imul($o,Os)|0,kn=kn+Math.imul(Lo,ns)|0,Fn=Fn+Math.imul(Lo,Os)|0,yn=yn+Math.imul(Ao,ao)|0,kn=kn+Math.imul(Ao,fo)|0,kn=kn+Math.imul(Co,ao)|0,Fn=Fn+Math.imul(Co,fo)|0,yn=yn+Math.imul(wo,uo)|0,kn=kn+Math.imul(wo,Bo)|0,kn=kn+Math.imul(go,uo)|0,Fn=Fn+Math.imul(go,Bo)|0,yn=yn+Math.imul(mo,Do)|0,kn=kn+Math.imul(mo,Xo)|0,kn=kn+Math.imul(bo,Do)|0,Fn=Fn+Math.imul(bo,Xo)|0;var cs=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(cs>>>26)|0,cs&=67108863,yn=Math.imul(to,us),kn=Math.imul(to,Cs),kn=kn+Math.imul(Zn,us)|0,Fn=Math.imul(Zn,Cs),yn=yn+Math.imul(No,ns)|0,kn=kn+Math.imul(No,Os)|0,kn=kn+Math.imul(Go,ns)|0,Fn=Fn+Math.imul(Go,Os)|0,yn=yn+Math.imul($o,ao)|0,kn=kn+Math.imul($o,fo)|0,kn=kn+Math.imul(Lo,ao)|0,Fn=Fn+Math.imul(Lo,fo)|0,yn=yn+Math.imul(Ao,uo)|0,kn=kn+Math.imul(Ao,Bo)|0,kn=kn+Math.imul(Co,uo)|0,Fn=Fn+Math.imul(Co,Bo)|0,yn=yn+Math.imul(wo,Do)|0,kn=kn+Math.imul(wo,Xo)|0,kn=kn+Math.imul(go,Do)|0,Fn=Fn+Math.imul(go,Xo)|0;var ds=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(ds>>>26)|0,ds&=67108863,yn=Math.imul(to,ns),kn=Math.imul(to,Os),kn=kn+Math.imul(Zn,ns)|0,Fn=Math.imul(Zn,Os),yn=yn+Math.imul(No,ao)|0,kn=kn+Math.imul(No,fo)|0,kn=kn+Math.imul(Go,ao)|0,Fn=Fn+Math.imul(Go,fo)|0,yn=yn+Math.imul($o,uo)|0,kn=kn+Math.imul($o,Bo)|0,kn=kn+Math.imul(Lo,uo)|0,Fn=Fn+Math.imul(Lo,Bo)|0,yn=yn+Math.imul(Ao,Do)|0,kn=kn+Math.imul(Ao,Xo)|0,kn=kn+Math.imul(Co,Do)|0,Fn=Fn+Math.imul(Co,Xo)|0;var ps=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(ps>>>26)|0,ps&=67108863,yn=Math.imul(to,ao),kn=Math.imul(to,fo),kn=kn+Math.imul(Zn,ao)|0,Fn=Math.imul(Zn,fo),yn=yn+Math.imul(No,uo)|0,kn=kn+Math.imul(No,Bo)|0,kn=kn+Math.imul(Go,uo)|0,Fn=Fn+Math.imul(Go,Bo)|0,yn=yn+Math.imul($o,Do)|0,kn=kn+Math.imul($o,Xo)|0,kn=kn+Math.imul(Lo,Do)|0,Fn=Fn+Math.imul(Lo,Xo)|0;var ls=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(ls>>>26)|0,ls&=67108863,yn=Math.imul(to,uo),kn=Math.imul(to,Bo),kn=kn+Math.imul(Zn,uo)|0,Fn=Math.imul(Zn,Bo),yn=yn+Math.imul(No,Do)|0,kn=kn+Math.imul(No,Xo)|0,kn=kn+Math.imul(Go,Do)|0,Fn=Fn+Math.imul(Go,Xo)|0;var qo=(Rn+yn|0)+((kn&8191)<<13)|0;Rn=(Fn+(kn>>>13)|0)+(qo>>>26)|0,qo&=67108863,yn=Math.imul(to,Do),kn=Math.imul(to,Xo),kn=kn+Math.imul(Zn,Do)|0,Fn=Math.imul(Zn,Xo);var Vo=(Rn+yn|0)+((kn&8191)<<13)|0;return Rn=(Fn+(kn>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,Ln[0]=es,Ln[1]=Jo,Ln[2]=Rs,Ln[3]=hs,Ln[4]=bs,Ln[5]=As,Ln[6]=ks,Ln[7]=Ms,Ln[8]=Es,Ln[9]=ws,Ln[10]=xs,Ln[11]=fs,Ln[12]=gs,Ln[13]=cs,Ln[14]=ds,Ln[15]=ps,Ln[16]=ls,Ln[17]=qo,Ln[18]=Vo,Rn!==0&&(Ln[19]=Rn,Xr.length++),Xr};Math.imul||(Dn=_n);function Vn(Un,Mn,mn){mn.negative=Mn.negative^Un.negative,mn.length=Un.length+Mn.length;for(var Xr=0,gn=0,On=0;On<mn.length-1;On++){var Ln=gn;gn=0;for(var Rn=Xr&67108863,yn=Math.min(On,Mn.length-1),kn=Math.max(0,On-Un.length+1);kn<=yn;kn++){var Fn=On-kn,Cn=Un.words[Fn]|0,zn=Mn.words[kn]|0,$a=Cn*zn,co=$a&67108863;Ln=Ln+($a/67108864|0)|0,co=co+Rn|0,Rn=co&67108863,Ln=Ln+(co>>>26)|0,gn+=Ln>>>26,Ln&=67108863}mn.words[On]=Rn,Xr=Ln,Ln=gn}return Xr!==0?mn.words[On]=Xr:mn.length--,mn.strip()}function Pn(Un,Mn,mn){var Xr=new qn;return Xr.mulp(Un,Mn,mn)}Ut.prototype.mulTo=function(Mn,mn){var Xr,gn=this.length+Mn.length;return this.length===10&&Mn.length===10?Xr=Dn(this,Mn,mn):gn<63?Xr=_n(this,Mn,mn):gn<1024?Xr=Vn(this,Mn,mn):Xr=Pn(this,Mn,mn),Xr};function qn(Un,Mn){this.x=Un,this.y=Mn}qn.prototype.makeRBT=function(Mn){for(var mn=new Array(Mn),Xr=Ut.prototype._countBits(Mn)-1,gn=0;gn<Mn;gn++)mn[gn]=this.revBin(gn,Xr,Mn);return mn},qn.prototype.revBin=function(Mn,mn,Xr){if(Mn===0||Mn===Xr-1)return Mn;for(var gn=0,On=0;On<mn;On++)gn|=(Mn&1)<<mn-On-1,Mn>>=1;return gn},qn.prototype.permute=function(Mn,mn,Xr,gn,On,Ln){for(var Rn=0;Rn<Ln;Rn++)gn[Rn]=mn[Mn[Rn]],On[Rn]=Xr[Mn[Rn]]},qn.prototype.transform=function(Mn,mn,Xr,gn,On,Ln){this.permute(Ln,Mn,mn,Xr,gn,On);for(var Rn=1;Rn<On;Rn<<=1)for(var yn=Rn<<1,kn=Math.cos(2*Math.PI/yn),Fn=Math.sin(2*Math.PI/yn),Cn=0;Cn<On;Cn+=yn)for(var zn=kn,$a=Fn,co=0;co<Rn;co++){var io=Xr[Cn+co],ga=gn[Cn+co],na=Xr[Cn+co+Rn],so=gn[Cn+co+Rn],_i=zn*na-$a*so;so=zn*so+$a*na,na=_i,Xr[Cn+co]=io+na,gn[Cn+co]=ga+so,Xr[Cn+co+Rn]=io-na,gn[Cn+co+Rn]=ga-so,co!==yn&&(_i=kn*zn-Fn*$a,$a=kn*$a+Fn*zn,zn=_i)}},qn.prototype.guessLen13b=function(Mn,mn){var Xr=Math.max(mn,Mn)|1,gn=Xr&1,On=0;for(Xr=Xr/2|0;Xr;Xr=Xr>>>1)On++;return 1<<On+1+gn},qn.prototype.conjugate=function(Mn,mn,Xr){if(!(Xr<=1))for(var gn=0;gn<Xr/2;gn++){var On=Mn[gn];Mn[gn]=Mn[Xr-gn-1],Mn[Xr-gn-1]=On,On=mn[gn],mn[gn]=-mn[Xr-gn-1],mn[Xr-gn-1]=-On}},qn.prototype.normalize13b=function(Mn,mn){for(var Xr=0,gn=0;gn<mn/2;gn++){var On=Math.round(Mn[2*gn+1]/mn)*8192+Math.round(Mn[2*gn]/mn)+Xr;Mn[gn]=On&67108863,On<67108864?Xr=0:Xr=On/67108864|0}return Mn},qn.prototype.convert13b=function(Mn,mn,Xr,gn){for(var On=0,Ln=0;Ln<mn;Ln++)On=On+(Mn[Ln]|0),Xr[2*Ln]=On&8191,On=On>>>13,Xr[2*Ln+1]=On&8191,On=On>>>13;for(Ln=2*mn;Ln<gn;++Ln)Xr[Ln]=0;Ot(On===0),Ot((On&-8192)===0)},qn.prototype.stub=function(Mn){for(var mn=new Array(Mn),Xr=0;Xr<Mn;Xr++)mn[Xr]=0;return mn},qn.prototype.mulp=function(Mn,mn,Xr){var gn=2*this.guessLen13b(Mn.length,mn.length),On=this.makeRBT(gn),Ln=this.stub(gn),Rn=new Array(gn),yn=new Array(gn),kn=new Array(gn),Fn=new Array(gn),Cn=new Array(gn),zn=new Array(gn),$a=Xr.words;$a.length=gn,this.convert13b(Mn.words,Mn.length,Rn,gn),this.convert13b(mn.words,mn.length,Fn,gn),this.transform(Rn,Ln,yn,kn,gn,On),this.transform(Fn,Ln,Cn,zn,gn,On);for(var co=0;co<gn;co++){var io=yn[co]*Cn[co]-kn[co]*zn[co];kn[co]=yn[co]*zn[co]+kn[co]*Cn[co],yn[co]=io}return this.conjugate(yn,kn,gn),this.transform(yn,kn,$a,Ln,gn,On),this.conjugate($a,Ln,gn),this.normalize13b($a,gn),Xr.negative=Mn.negative^mn.negative,Xr.length=Mn.length+mn.length,Xr.strip()},Ut.prototype.mul=function(Mn){var mn=new Ut(null);return mn.words=new Array(this.length+Mn.length),this.mulTo(Mn,mn)},Ut.prototype.mulf=function(Mn){var mn=new Ut(null);return mn.words=new Array(this.length+Mn.length),Pn(this,Mn,mn)},Ut.prototype.imul=function(Mn){return this.clone().mulTo(Mn,this)},Ut.prototype.imuln=function(Mn){Ot(typeof Mn=="number"),Ot(Mn<67108864);for(var mn=0,Xr=0;Xr<this.length;Xr++){var gn=(this.words[Xr]|0)*Mn,On=(gn&67108863)+(mn&67108863);mn>>=26,mn+=gn/67108864|0,mn+=On>>>26,this.words[Xr]=On&67108863}return mn!==0&&(this.words[Xr]=mn,this.length++),this.length=Mn===0?1:this.length,this},Ut.prototype.muln=function(Mn){return this.clone().imuln(Mn)},Ut.prototype.sqr=function(){return this.mul(this)},Ut.prototype.isqr=function(){return this.imul(this.clone())},Ut.prototype.pow=function(Mn){var mn=En(Mn);if(mn.length===0)return new Ut(1);for(var Xr=this,gn=0;gn<mn.length&&mn[gn]===0;gn++,Xr=Xr.sqr());if(++gn<mn.length)for(var On=Xr.sqr();gn<mn.length;gn++,On=On.sqr())mn[gn]!==0&&(Xr=Xr.mul(On));return Xr},Ut.prototype.iushln=function(Mn){Ot(typeof Mn=="number"&&Mn>=0);var mn=Mn%26,Xr=(Mn-mn)/26,gn=67108863>>>26-mn<<26-mn,On;if(mn!==0){var Ln=0;for(On=0;On<this.length;On++){var Rn=this.words[On]&gn,yn=(this.words[On]|0)-Rn<<mn;this.words[On]=yn|Ln,Ln=Rn>>>26-mn}Ln&&(this.words[On]=Ln,this.length++)}if(Xr!==0){for(On=this.length-1;On>=0;On--)this.words[On+Xr]=this.words[On];for(On=0;On<Xr;On++)this.words[On]=0;this.length+=Xr}return this.strip()},Ut.prototype.ishln=function(Mn){return Ot(this.negative===0),this.iushln(Mn)},Ut.prototype.iushrn=function(Mn,mn,Xr){Ot(typeof Mn=="number"&&Mn>=0);var gn;mn?gn=(mn-mn%26)/26:gn=0;var On=Mn%26,Ln=Math.min((Mn-On)/26,this.length),Rn=67108863^67108863>>>On<<On,yn=Xr;if(gn-=Ln,gn=Math.max(0,gn),yn){for(var kn=0;kn<Ln;kn++)yn.words[kn]=this.words[kn];yn.length=Ln}if(Ln!==0)if(this.length>Ln)for(this.length-=Ln,kn=0;kn<this.length;kn++)this.words[kn]=this.words[kn+Ln];else this.words[0]=0,this.length=1;var Fn=0;for(kn=this.length-1;kn>=0&&(Fn!==0||kn>=gn);kn--){var Cn=this.words[kn]|0;this.words[kn]=Fn<<26-On|Cn>>>On,Fn=Cn&Rn}return yn&&Fn!==0&&(yn.words[yn.length++]=Fn),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ut.prototype.ishrn=function(Mn,mn,Xr){return Ot(this.negative===0),this.iushrn(Mn,mn,Xr)},Ut.prototype.shln=function(Mn){return this.clone().ishln(Mn)},Ut.prototype.ushln=function(Mn){return this.clone().iushln(Mn)},Ut.prototype.shrn=function(Mn){return this.clone().ishrn(Mn)},Ut.prototype.ushrn=function(Mn){return this.clone().iushrn(Mn)},Ut.prototype.testn=function(Mn){Ot(typeof Mn=="number"&&Mn>=0);var mn=Mn%26,Xr=(Mn-mn)/26,gn=1<<mn;if(this.length<=Xr)return!1;var On=this.words[Xr];return!!(On&gn)},Ut.prototype.imaskn=function(Mn){Ot(typeof Mn=="number"&&Mn>=0);var mn=Mn%26,Xr=(Mn-mn)/26;if(Ot(this.negative===0,"imaskn works only with positive numbers"),this.length<=Xr)return this;if(mn!==0&&Xr++,this.length=Math.min(Xr,this.length),mn!==0){var gn=67108863^67108863>>>mn<<mn;this.words[this.length-1]&=gn}return this.strip()},Ut.prototype.maskn=function(Mn){return this.clone().imaskn(Mn)},Ut.prototype.iaddn=function(Mn){return Ot(typeof Mn=="number"),Ot(Mn<67108864),Mn<0?this.isubn(-Mn):this.negative!==0?this.length===1&&(this.words[0]|0)<Mn?(this.words[0]=Mn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Mn),this.negative=1,this):this._iaddn(Mn)},Ut.prototype._iaddn=function(Mn){this.words[0]+=Mn;for(var mn=0;mn<this.length&&this.words[mn]>=67108864;mn++)this.words[mn]-=67108864,mn===this.length-1?this.words[mn+1]=1:this.words[mn+1]++;return this.length=Math.max(this.length,mn+1),this},Ut.prototype.isubn=function(Mn){if(Ot(typeof Mn=="number"),Ot(Mn<67108864),Mn<0)return this.iaddn(-Mn);if(this.negative!==0)return this.negative=0,this.iaddn(Mn),this.negative=1,this;if(this.words[0]-=Mn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var mn=0;mn<this.length&&this.words[mn]<0;mn++)this.words[mn]+=67108864,this.words[mn+1]-=1;return this.strip()},Ut.prototype.addn=function(Mn){return this.clone().iaddn(Mn)},Ut.prototype.subn=function(Mn){return this.clone().isubn(Mn)},Ut.prototype.iabs=function(){return this.negative=0,this},Ut.prototype.abs=function(){return this.clone().iabs()},Ut.prototype._ishlnsubmul=function(Mn,mn,Xr){var gn=Mn.length+Xr,On;this._expand(gn);var Ln,Rn=0;for(On=0;On<Mn.length;On++){Ln=(this.words[On+Xr]|0)+Rn;var yn=(Mn.words[On]|0)*mn;Ln-=yn&67108863,Rn=(Ln>>26)-(yn/67108864|0),this.words[On+Xr]=Ln&67108863}for(;On<this.length-Xr;On++)Ln=(this.words[On+Xr]|0)+Rn,Rn=Ln>>26,this.words[On+Xr]=Ln&67108863;if(Rn===0)return this.strip();for(Ot(Rn===-1),Rn=0,On=0;On<this.length;On++)Ln=-(this.words[On]|0)+Rn,Rn=Ln>>26,this.words[On]=Ln&67108863;return this.negative=1,this.strip()},Ut.prototype._wordDiv=function(Mn,mn){var Xr=this.length-Mn.length,gn=this.clone(),On=Mn,Ln=On.words[On.length-1]|0,Rn=this._countBits(Ln);Xr=26-Rn,Xr!==0&&(On=On.ushln(Xr),gn.iushln(Xr),Ln=On.words[On.length-1]|0);var yn=gn.length-On.length,kn;if(mn!=="mod"){kn=new Ut(null),kn.length=yn+1,kn.words=new Array(kn.length);for(var Fn=0;Fn<kn.length;Fn++)kn.words[Fn]=0}var Cn=gn.clone()._ishlnsubmul(On,1,yn);Cn.negative===0&&(gn=Cn,kn&&(kn.words[yn]=1));for(var zn=yn-1;zn>=0;zn--){var $a=(gn.words[On.length+zn]|0)*67108864+(gn.words[On.length+zn-1]|0);for($a=Math.min($a/Ln|0,67108863),gn._ishlnsubmul(On,$a,zn);gn.negative!==0;)$a--,gn.negative=0,gn._ishlnsubmul(On,1,zn),gn.isZero()||(gn.negative^=1);kn&&(kn.words[zn]=$a)}return kn&&kn.strip(),gn.strip(),mn!=="div"&&Xr!==0&&gn.iushrn(Xr),{div:kn||null,mod:gn}},Ut.prototype.divmod=function(Mn,mn,Xr){if(Ot(!Mn.isZero()),this.isZero())return{div:new Ut(0),mod:new Ut(0)};var gn,On,Ln;return this.negative!==0&&Mn.negative===0?(Ln=this.neg().divmod(Mn,mn),mn!=="mod"&&(gn=Ln.div.neg()),mn!=="div"&&(On=Ln.mod.neg(),Xr&&On.negative!==0&&On.iadd(Mn)),{div:gn,mod:On}):this.negative===0&&Mn.negative!==0?(Ln=this.divmod(Mn.neg(),mn),mn!=="mod"&&(gn=Ln.div.neg()),{div:gn,mod:Ln.mod}):this.negative&Mn.negative?(Ln=this.neg().divmod(Mn.neg(),mn),mn!=="div"&&(On=Ln.mod.neg(),Xr&&On.negative!==0&&On.isub(Mn)),{div:Ln.div,mod:On}):Mn.length>this.length||this.cmp(Mn)<0?{div:new Ut(0),mod:this}:Mn.length===1?mn==="div"?{div:this.divn(Mn.words[0]),mod:null}:mn==="mod"?{div:null,mod:new Ut(this.modn(Mn.words[0]))}:{div:this.divn(Mn.words[0]),mod:new Ut(this.modn(Mn.words[0]))}:this._wordDiv(Mn,mn)},Ut.prototype.div=function(Mn){return this.divmod(Mn,"div",!1).div},Ut.prototype.mod=function(Mn){return this.divmod(Mn,"mod",!1).mod},Ut.prototype.umod=function(Mn){return this.divmod(Mn,"mod",!0).mod},Ut.prototype.divRound=function(Mn){var mn=this.divmod(Mn);if(mn.mod.isZero())return mn.div;var Xr=mn.div.negative!==0?mn.mod.isub(Mn):mn.mod,gn=Mn.ushrn(1),On=Mn.andln(1),Ln=Xr.cmp(gn);return Ln<0||On===1&&Ln===0?mn.div:mn.div.negative!==0?mn.div.isubn(1):mn.div.iaddn(1)},Ut.prototype.modn=function(Mn){Ot(Mn<=67108863);for(var mn=(1<<26)%Mn,Xr=0,gn=this.length-1;gn>=0;gn--)Xr=(mn*Xr+(this.words[gn]|0))%Mn;return Xr},Ut.prototype.idivn=function(Mn){Ot(Mn<=67108863);for(var mn=0,Xr=this.length-1;Xr>=0;Xr--){var gn=(this.words[Xr]|0)+mn*67108864;this.words[Xr]=gn/Mn|0,mn=gn%Mn}return this.strip()},Ut.prototype.divn=function(Mn){return this.clone().idivn(Mn)},Ut.prototype.egcd=function(Mn){Ot(Mn.negative===0),Ot(!Mn.isZero());var mn=this,Xr=Mn.clone();mn.negative!==0?mn=mn.umod(Mn):mn=mn.clone();for(var gn=new Ut(1),On=new Ut(0),Ln=new Ut(0),Rn=new Ut(1),yn=0;mn.isEven()&&Xr.isEven();)mn.iushrn(1),Xr.iushrn(1),++yn;for(var kn=Xr.clone(),Fn=mn.clone();!mn.isZero();){for(var Cn=0,zn=1;!(mn.words[0]&zn)&&Cn<26;++Cn,zn<<=1);if(Cn>0)for(mn.iushrn(Cn);Cn-- >0;)(gn.isOdd()||On.isOdd())&&(gn.iadd(kn),On.isub(Fn)),gn.iushrn(1),On.iushrn(1);for(var $a=0,co=1;!(Xr.words[0]&co)&&$a<26;++$a,co<<=1);if($a>0)for(Xr.iushrn($a);$a-- >0;)(Ln.isOdd()||Rn.isOdd())&&(Ln.iadd(kn),Rn.isub(Fn)),Ln.iushrn(1),Rn.iushrn(1);mn.cmp(Xr)>=0?(mn.isub(Xr),gn.isub(Ln),On.isub(Rn)):(Xr.isub(mn),Ln.isub(gn),Rn.isub(On))}return{a:Ln,b:Rn,gcd:Xr.iushln(yn)}},Ut.prototype._invmp=function(Mn){Ot(Mn.negative===0),Ot(!Mn.isZero());var mn=this,Xr=Mn.clone();mn.negative!==0?mn=mn.umod(Mn):mn=mn.clone();for(var gn=new Ut(1),On=new Ut(0),Ln=Xr.clone();mn.cmpn(1)>0&&Xr.cmpn(1)>0;){for(var Rn=0,yn=1;!(mn.words[0]&yn)&&Rn<26;++Rn,yn<<=1);if(Rn>0)for(mn.iushrn(Rn);Rn-- >0;)gn.isOdd()&&gn.iadd(Ln),gn.iushrn(1);for(var kn=0,Fn=1;!(Xr.words[0]&Fn)&&kn<26;++kn,Fn<<=1);if(kn>0)for(Xr.iushrn(kn);kn-- >0;)On.isOdd()&&On.iadd(Ln),On.iushrn(1);mn.cmp(Xr)>=0?(mn.isub(Xr),gn.isub(On)):(Xr.isub(mn),On.isub(gn))}var Cn;return mn.cmpn(1)===0?Cn=gn:Cn=On,Cn.cmpn(0)<0&&Cn.iadd(Mn),Cn},Ut.prototype.gcd=function(Mn){if(this.isZero())return Mn.abs();if(Mn.isZero())return this.abs();var mn=this.clone(),Xr=Mn.clone();mn.negative=0,Xr.negative=0;for(var gn=0;mn.isEven()&&Xr.isEven();gn++)mn.iushrn(1),Xr.iushrn(1);do{for(;mn.isEven();)mn.iushrn(1);for(;Xr.isEven();)Xr.iushrn(1);var On=mn.cmp(Xr);if(On<0){var Ln=mn;mn=Xr,Xr=Ln}else if(On===0||Xr.cmpn(1)===0)break;mn.isub(Xr)}while(!0);return Xr.iushln(gn)},Ut.prototype.invm=function(Mn){return this.egcd(Mn).a.umod(Mn)},Ut.prototype.isEven=function(){return(this.words[0]&1)===0},Ut.prototype.isOdd=function(){return(this.words[0]&1)===1},Ut.prototype.andln=function(Mn){return this.words[0]&Mn},Ut.prototype.bincn=function(Mn){Ot(typeof Mn=="number");var mn=Mn%26,Xr=(Mn-mn)/26,gn=1<<mn;if(this.length<=Xr)return this._expand(Xr+1),this.words[Xr]|=gn,this;for(var On=gn,Ln=Xr;On!==0&&Ln<this.length;Ln++){var Rn=this.words[Ln]|0;Rn+=On,On=Rn>>>26,Rn&=67108863,this.words[Ln]=Rn}return On!==0&&(this.words[Ln]=On,this.length++),this},Ut.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ut.prototype.cmpn=function(Mn){var mn=Mn<0;if(this.negative!==0&&!mn)return-1;if(this.negative===0&&mn)return 1;this.strip();var Xr;if(this.length>1)Xr=1;else{mn&&(Mn=-Mn),Ot(Mn<=67108863,"Number is too big");var gn=this.words[0]|0;Xr=gn===Mn?0:gn<Mn?-1:1}return this.negative!==0?-Xr|0:Xr},Ut.prototype.cmp=function(Mn){if(this.negative!==0&&Mn.negative===0)return-1;if(this.negative===0&&Mn.negative!==0)return 1;var mn=this.ucmp(Mn);return this.negative!==0?-mn|0:mn},Ut.prototype.ucmp=function(Mn){if(this.length>Mn.length)return 1;if(this.length<Mn.length)return-1;for(var mn=0,Xr=this.length-1;Xr>=0;Xr--){var gn=this.words[Xr]|0,On=Mn.words[Xr]|0;if(gn!==On){gn<On?mn=-1:gn>On&&(mn=1);break}}return mn},Ut.prototype.gtn=function(Mn){return this.cmpn(Mn)===1},Ut.prototype.gt=function(Mn){return this.cmp(Mn)===1},Ut.prototype.gten=function(Mn){return this.cmpn(Mn)>=0},Ut.prototype.gte=function(Mn){return this.cmp(Mn)>=0},Ut.prototype.ltn=function(Mn){return this.cmpn(Mn)===-1},Ut.prototype.lt=function(Mn){return this.cmp(Mn)===-1},Ut.prototype.lten=function(Mn){return this.cmpn(Mn)<=0},Ut.prototype.lte=function(Mn){return this.cmp(Mn)<=0},Ut.prototype.eqn=function(Mn){return this.cmpn(Mn)===0},Ut.prototype.eq=function(Mn){return this.cmp(Mn)===0},Ut.red=function(Mn){return new xa(Mn)},Ut.prototype.toRed=function(Mn){return Ot(!this.red,"Already a number in reduction context"),Ot(this.negative===0,"red works only with positives"),Mn.convertTo(this)._forceRed(Mn)},Ut.prototype.fromRed=function(){return Ot(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ut.prototype._forceRed=function(Mn){return this.red=Mn,this},Ut.prototype.forceRed=function(Mn){return Ot(!this.red,"Already a number in reduction context"),this._forceRed(Mn)},Ut.prototype.redAdd=function(Mn){return Ot(this.red,"redAdd works only with red numbers"),this.red.add(this,Mn)},Ut.prototype.redIAdd=function(Mn){return Ot(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Mn)},Ut.prototype.redSub=function(Mn){return Ot(this.red,"redSub works only with red numbers"),this.red.sub(this,Mn)},Ut.prototype.redISub=function(Mn){return Ot(this.red,"redISub works only with red numbers"),this.red.isub(this,Mn)},Ut.prototype.redShl=function(Mn){return Ot(this.red,"redShl works only with red numbers"),this.red.shl(this,Mn)},Ut.prototype.redMul=function(Mn){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Mn),this.red.mul(this,Mn)},Ut.prototype.redIMul=function(Mn){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Mn),this.red.imul(this,Mn)},Ut.prototype.redSqr=function(){return Ot(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ut.prototype.redISqr=function(){return Ot(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ut.prototype.redSqrt=function(){return Ot(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ut.prototype.redInvm=function(){return Ot(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ut.prototype.redNeg=function(){return Ot(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ut.prototype.redPow=function(Mn){return Ot(this.red&&!Mn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Mn)};var jn={k256:null,p224:null,p192:null,p25519:null};function Hn(Un,Mn){this.name=Un,this.p=new Ut(Mn,16),this.n=this.p.bitLength(),this.k=new Ut(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Hn.prototype._tmp=function(){var Mn=new Ut(null);return Mn.words=new Array(Math.ceil(this.n/13)),Mn},Hn.prototype.ireduce=function(Mn){var mn=Mn,Xr;do this.split(mn,this.tmp),mn=this.imulK(mn),mn=mn.iadd(this.tmp),Xr=mn.bitLength();while(Xr>this.n);var gn=Xr<this.n?-1:mn.ucmp(this.p);return gn===0?(mn.words[0]=0,mn.length=1):gn>0?mn.isub(this.p):mn.strip!==void 0?mn.strip():mn._strip(),mn},Hn.prototype.split=function(Mn,mn){Mn.iushrn(this.n,0,mn)},Hn.prototype.imulK=function(Mn){return Mn.imul(this.k)};function Jn(){Hn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ft(Jn,Hn),Jn.prototype.split=function(Mn,mn){for(var Xr=4194303,gn=Math.min(Mn.length,9),On=0;On<gn;On++)mn.words[On]=Mn.words[On];if(mn.length=gn,Mn.length<=9){Mn.words[0]=0,Mn.length=1;return}var Ln=Mn.words[9];for(mn.words[mn.length++]=Ln&Xr,On=10;On<Mn.length;On++){var Rn=Mn.words[On]|0;Mn.words[On-10]=(Rn&Xr)<<4|Ln>>>22,Ln=Rn}Ln>>>=22,Mn.words[On-10]=Ln,Ln===0&&Mn.length>10?Mn.length-=10:Mn.length-=9},Jn.prototype.imulK=function(Mn){Mn.words[Mn.length]=0,Mn.words[Mn.length+1]=0,Mn.length+=2;for(var mn=0,Xr=0;Xr<Mn.length;Xr++){var gn=Mn.words[Xr]|0;mn+=gn*977,Mn.words[Xr]=mn&67108863,mn=gn*64+(mn/67108864|0)}return Mn.words[Mn.length-1]===0&&(Mn.length--,Mn.words[Mn.length-1]===0&&Mn.length--),Mn};function Gn(){Hn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ft(Gn,Hn);function ba(){Hn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ft(ba,Hn);function eo(){Hn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ft(eo,Hn),eo.prototype.imulK=function(Mn){for(var mn=0,Xr=0;Xr<Mn.length;Xr++){var gn=(Mn.words[Xr]|0)*19+mn,On=gn&67108863;gn>>>=26,Mn.words[Xr]=On,mn=gn}return mn!==0&&(Mn.words[Mn.length++]=mn),Mn},Ut._prime=function(Mn){if(jn[Mn])return jn[Mn];var mn;if(Mn==="k256")mn=new Jn;else if(Mn==="p224")mn=new Gn;else if(Mn==="p192")mn=new ba;else if(Mn==="p25519")mn=new eo;else throw new Error("Unknown prime "+Mn);return jn[Mn]=mn,mn};function xa(Un){if(typeof Un=="string"){var Mn=Ut._prime(Un);this.m=Mn.p,this.prime=Mn}else Ot(Un.gtn(1),"modulus must be greater than 1"),this.m=Un,this.prime=null}xa.prototype._verify1=function(Mn){Ot(Mn.negative===0,"red works only with positives"),Ot(Mn.red,"red works only with red numbers")},xa.prototype._verify2=function(Mn,mn){Ot((Mn.negative|mn.negative)===0,"red works only with positives"),Ot(Mn.red&&Mn.red===mn.red,"red works only with red numbers")},xa.prototype.imod=function(Mn){return this.prime?this.prime.ireduce(Mn)._forceRed(this):Mn.umod(this.m)._forceRed(this)},xa.prototype.neg=function(Mn){return Mn.isZero()?Mn.clone():this.m.sub(Mn)._forceRed(this)},xa.prototype.add=function(Mn,mn){this._verify2(Mn,mn);var Xr=Mn.add(mn);return Xr.cmp(this.m)>=0&&Xr.isub(this.m),Xr._forceRed(this)},xa.prototype.iadd=function(Mn,mn){this._verify2(Mn,mn);var Xr=Mn.iadd(mn);return Xr.cmp(this.m)>=0&&Xr.isub(this.m),Xr},xa.prototype.sub=function(Mn,mn){this._verify2(Mn,mn);var Xr=Mn.sub(mn);return Xr.cmpn(0)<0&&Xr.iadd(this.m),Xr._forceRed(this)},xa.prototype.isub=function(Mn,mn){this._verify2(Mn,mn);var Xr=Mn.isub(mn);return Xr.cmpn(0)<0&&Xr.iadd(this.m),Xr},xa.prototype.shl=function(Mn,mn){return this._verify1(Mn),this.imod(Mn.ushln(mn))},xa.prototype.imul=function(Mn,mn){return this._verify2(Mn,mn),this.imod(Mn.imul(mn))},xa.prototype.mul=function(Mn,mn){return this._verify2(Mn,mn),this.imod(Mn.mul(mn))},xa.prototype.isqr=function(Mn){return this.imul(Mn,Mn.clone())},xa.prototype.sqr=function(Mn){return this.mul(Mn,Mn)},xa.prototype.sqrt=function(Mn){if(Mn.isZero())return Mn.clone();var mn=this.m.andln(3);if(Ot(mn%2===1),mn===3){var Xr=this.m.add(new Ut(1)).iushrn(2);return this.pow(Mn,Xr)}for(var gn=this.m.subn(1),On=0;!gn.isZero()&&gn.andln(1)===0;)On++,gn.iushrn(1);Ot(!gn.isZero());var Ln=new Ut(1).toRed(this),Rn=Ln.redNeg(),yn=this.m.subn(1).iushrn(1),kn=this.m.bitLength();for(kn=new Ut(2*kn*kn).toRed(this);this.pow(kn,yn).cmp(Rn)!==0;)kn.redIAdd(Rn);for(var Fn=this.pow(kn,gn),Cn=this.pow(Mn,gn.addn(1).iushrn(1)),zn=this.pow(Mn,gn),$a=On;zn.cmp(Ln)!==0;){for(var co=zn,io=0;co.cmp(Ln)!==0;io++)co=co.redSqr();Ot(io<$a);var ga=this.pow(Fn,new Ut(1).iushln($a-io-1));Cn=Cn.redMul(ga),Fn=ga.redSqr(),zn=zn.redMul(Fn),$a=io}return Cn},xa.prototype.invm=function(Mn){var mn=Mn._invmp(this.m);return mn.negative!==0?(mn.negative=0,this.imod(mn).redNeg()):this.imod(mn)},xa.prototype.pow=function(Mn,mn){if(mn.isZero())return new Ut(1).toRed(this);if(mn.cmpn(1)===0)return Mn.clone();var Xr=4,gn=new Array(1<<Xr);gn[0]=new Ut(1).toRed(this),gn[1]=Mn;for(var On=2;On<gn.length;On++)gn[On]=this.mul(gn[On-1],Mn);var Ln=gn[0],Rn=0,yn=0,kn=mn.bitLength()%26;for(kn===0&&(kn=26),On=mn.length-1;On>=0;On--){for(var Fn=mn.words[On],Cn=kn-1;Cn>=0;Cn--){var zn=Fn>>Cn&1;if(Ln!==gn[0]&&(Ln=this.sqr(Ln)),zn===0&&Rn===0){yn=0;continue}Rn<<=1,Rn|=zn,yn++,!(yn!==Xr&&(On!==0||Cn!==0))&&(Ln=this.mul(Ln,gn[Rn]),yn=0,Rn=0)}kn=26}return Ln},xa.prototype.convertTo=function(Mn){var mn=Mn.umod(this.m);return mn===Mn?mn.clone():mn},xa.prototype.convertFrom=function(Mn){var mn=Mn.clone();return mn.red=null,mn},Ut.mont=function(Mn){return new Yn(Mn)};function Yn(Un){xa.call(this,Un),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ut(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ft(Yn,xa),Yn.prototype.convertTo=function(Mn){return this.imod(Mn.ushln(this.shift))},Yn.prototype.convertFrom=function(Mn){var mn=this.imod(Mn.mul(this.rinv));return mn.red=null,mn},Yn.prototype.imul=function(Mn,mn){if(Mn.isZero()||mn.isZero())return Mn.words[0]=0,Mn.length=1,Mn;var Xr=Mn.imul(mn),gn=Xr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),On=Xr.isub(gn).iushrn(this.shift),Ln=On;return On.cmp(this.m)>=0?Ln=On.isub(this.m):On.cmpn(0)<0&&(Ln=On.iadd(this.m)),Ln._forceRed(this)},Yn.prototype.mul=function(Mn,mn){if(Mn.isZero()||mn.isZero())return new Ut(0)._forceRed(this);var Xr=Mn.mul(mn),gn=Xr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),On=Xr.isub(gn).iushrn(this.shift),Ln=On;return On.cmp(this.m)>=0?Ln=On.isub(this.m):On.cmpn(0)<0&&(Ln=On.iadd(this.m)),Ln._forceRed(this)},Yn.prototype.invm=function(Mn){var mn=this.imod(Mn._invmp(this.m).mul(this.r2));return mn._forceRed(this)}})(_e,commonjsGlobal)}(bn$2)),bn$2.exports}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(_e){var d=_e;function Mt(Ut,Xt){if(Array.isArray(Ut))return Ut.slice();if(!Ut)return[];var jr=[];if(typeof Ut!="string"){for(var hn=0;hn<Ut.length;hn++)jr[hn]=Ut[hn]|0;return jr}if(Xt==="hex"){Ut=Ut.replace(/[^a-z0-9]+/ig,""),Ut.length%2!==0&&(Ut="0"+Ut);for(var hn=0;hn<Ut.length;hn+=2)jr.push(parseInt(Ut[hn]+Ut[hn+1],16))}else for(var hn=0;hn<Ut.length;hn++){var Vr=Ut.charCodeAt(hn),fn=Vr>>8,dn=Vr&255;fn?jr.push(fn,dn):jr.push(dn)}return jr}d.toArray=Mt;function Ot(Ut){return Ut.length===1?"0"+Ut:Ut}d.zero2=Ot;function Ft(Ut){for(var Xt="",jr=0;jr<Ut.length;jr++)Xt+=Ot(Ut[jr].toString(16));return Xt}d.toHex=Ft,d.encode=function(Xt,jr){return jr==="hex"?Ft(Xt):Xt}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(_e){var d=_e,Mt=requireBn$1(),Ot=requireMinimalisticAssert(),Ft=requireUtils$2();d.assert=Ot,d.toArray=Ft.toArray,d.zero2=Ft.zero2,d.toHex=Ft.toHex,d.encode=Ft.encode;function Ut(fn,dn,pn){var En=new Array(Math.max(fn.bitLength(),pn)+1),_n;for(_n=0;_n<En.length;_n+=1)En[_n]=0;var Dn=1<<dn+1,Vn=fn.clone();for(_n=0;_n<En.length;_n++){var Pn,qn=Vn.andln(Dn-1);Vn.isOdd()?(qn>(Dn>>1)-1?Pn=(Dn>>1)-qn:Pn=qn,Vn.isubn(Pn)):Pn=0,En[_n]=Pn,Vn.iushrn(1)}return En}d.getNAF=Ut;function Xt(fn,dn){var pn=[[],[]];fn=fn.clone(),dn=dn.clone();for(var En=0,_n=0,Dn;fn.cmpn(-En)>0||dn.cmpn(-_n)>0;){var Vn=fn.andln(3)+En&3,Pn=dn.andln(3)+_n&3;Vn===3&&(Vn=-1),Pn===3&&(Pn=-1);var qn;Vn&1?(Dn=fn.andln(7)+En&7,(Dn===3||Dn===5)&&Pn===2?qn=-Vn:qn=Vn):qn=0,pn[0].push(qn);var jn;Pn&1?(Dn=dn.andln(7)+_n&7,(Dn===3||Dn===5)&&Vn===2?jn=-Pn:jn=Pn):jn=0,pn[1].push(jn),2*En===qn+1&&(En=1-En),2*_n===jn+1&&(_n=1-_n),fn.iushrn(1),dn.iushrn(1)}return pn}d.getJSF=Xt;function jr(fn,dn,pn){var En="_"+dn;fn.prototype[dn]=function(){return this[En]!==void 0?this[En]:this[En]=pn.call(this)}}d.cachedProperty=jr;function hn(fn){return typeof fn=="string"?d.toArray(fn,"hex"):fn}d.parseBytes=hn;function Vr(fn){return new Mt(fn,"hex","le")}d.intFromLE=Vr}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var _e=requireBn$1(),d=requireUtils$1(),Mt=d.getNAF,Ot=d.getJSF,Ft=d.assert;function Ut(jr,hn){this.type=jr,this.p=new _e(hn.p,16),this.red=hn.prime?_e.red(hn.prime):_e.mont(this.p),this.zero=new _e(0).toRed(this.red),this.one=new _e(1).toRed(this.red),this.two=new _e(2).toRed(this.red),this.n=hn.n&&new _e(hn.n,16),this.g=hn.g&&this.pointFromJSON(hn.g,hn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Vr=this.n&&this.p.div(this.n);!Vr||Vr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=Ut,Ut.prototype.point=function(){throw new Error("Not implemented")},Ut.prototype.validate=function(){throw new Error("Not implemented")},Ut.prototype._fixedNafMul=function(hn,Vr){Ft(hn.precomputed);var fn=hn._getDoubles(),dn=Mt(Vr,1,this._bitLength),pn=(1<<fn.step+1)-(fn.step%2===0?2:1);pn/=3;var En=[],_n,Dn;for(_n=0;_n<dn.length;_n+=fn.step){Dn=0;for(var Vn=_n+fn.step-1;Vn>=_n;Vn--)Dn=(Dn<<1)+dn[Vn];En.push(Dn)}for(var Pn=this.jpoint(null,null,null),qn=this.jpoint(null,null,null),jn=pn;jn>0;jn--){for(_n=0;_n<En.length;_n++)Dn=En[_n],Dn===jn?qn=qn.mixedAdd(fn.points[_n]):Dn===-jn&&(qn=qn.mixedAdd(fn.points[_n].neg()));Pn=Pn.add(qn)}return Pn.toP()},Ut.prototype._wnafMul=function(hn,Vr){var fn=4,dn=hn._getNAFPoints(fn);fn=dn.wnd;for(var pn=dn.points,En=Mt(Vr,fn,this._bitLength),_n=this.jpoint(null,null,null),Dn=En.length-1;Dn>=0;Dn--){for(var Vn=0;Dn>=0&&En[Dn]===0;Dn--)Vn++;if(Dn>=0&&Vn++,_n=_n.dblp(Vn),Dn<0)break;var Pn=En[Dn];Ft(Pn!==0),hn.type==="affine"?Pn>0?_n=_n.mixedAdd(pn[Pn-1>>1]):_n=_n.mixedAdd(pn[-Pn-1>>1].neg()):Pn>0?_n=_n.add(pn[Pn-1>>1]):_n=_n.add(pn[-Pn-1>>1].neg())}return hn.type==="affine"?_n.toP():_n},Ut.prototype._wnafMulAdd=function(hn,Vr,fn,dn,pn){var En=this._wnafT1,_n=this._wnafT2,Dn=this._wnafT3,Vn=0,Pn,qn,jn;for(Pn=0;Pn<dn;Pn++){jn=Vr[Pn];var Hn=jn._getNAFPoints(hn);En[Pn]=Hn.wnd,_n[Pn]=Hn.points}for(Pn=dn-1;Pn>=1;Pn-=2){var Jn=Pn-1,Gn=Pn;if(En[Jn]!==1||En[Gn]!==1){Dn[Jn]=Mt(fn[Jn],En[Jn],this._bitLength),Dn[Gn]=Mt(fn[Gn],En[Gn],this._bitLength),Vn=Math.max(Dn[Jn].length,Vn),Vn=Math.max(Dn[Gn].length,Vn);continue}var ba=[Vr[Jn],null,null,Vr[Gn]];Vr[Jn].y.cmp(Vr[Gn].y)===0?(ba[1]=Vr[Jn].add(Vr[Gn]),ba[2]=Vr[Jn].toJ().mixedAdd(Vr[Gn].neg())):Vr[Jn].y.cmp(Vr[Gn].y.redNeg())===0?(ba[1]=Vr[Jn].toJ().mixedAdd(Vr[Gn]),ba[2]=Vr[Jn].add(Vr[Gn].neg())):(ba[1]=Vr[Jn].toJ().mixedAdd(Vr[Gn]),ba[2]=Vr[Jn].toJ().mixedAdd(Vr[Gn].neg()));var eo=[-3,-1,-5,-7,0,7,5,1,3],xa=Ot(fn[Jn],fn[Gn]);for(Vn=Math.max(xa[0].length,Vn),Dn[Jn]=new Array(Vn),Dn[Gn]=new Array(Vn),qn=0;qn<Vn;qn++){var Yn=xa[0][qn]|0,Un=xa[1][qn]|0;Dn[Jn][qn]=eo[(Yn+1)*3+(Un+1)],Dn[Gn][qn]=0,_n[Jn]=ba}}var Mn=this.jpoint(null,null,null),mn=this._wnafT4;for(Pn=Vn;Pn>=0;Pn--){for(var Xr=0;Pn>=0;){var gn=!0;for(qn=0;qn<dn;qn++)mn[qn]=Dn[qn][Pn]|0,mn[qn]!==0&&(gn=!1);if(!gn)break;Xr++,Pn--}if(Pn>=0&&Xr++,Mn=Mn.dblp(Xr),Pn<0)break;for(qn=0;qn<dn;qn++){var On=mn[qn];On!==0&&(On>0?jn=_n[qn][On-1>>1]:On<0&&(jn=_n[qn][-On-1>>1].neg()),jn.type==="affine"?Mn=Mn.mixedAdd(jn):Mn=Mn.add(jn))}}for(Pn=0;Pn<dn;Pn++)_n[Pn]=null;return pn?Mn:Mn.toP()};function Xt(jr,hn){this.curve=jr,this.type=hn,this.precomputed=null}return Ut.BasePoint=Xt,Xt.prototype.eq=function(){throw new Error("Not implemented")},Xt.prototype.validate=function(){return this.curve.validate(this)},Ut.prototype.decodePoint=function(hn,Vr){hn=d.toArray(hn,Vr);var fn=this.p.byteLength();if((hn[0]===4||hn[0]===6||hn[0]===7)&&hn.length-1===2*fn){hn[0]===6?Ft(hn[hn.length-1]%2===0):hn[0]===7&&Ft(hn[hn.length-1]%2===1);var dn=this.point(hn.slice(1,1+fn),hn.slice(1+fn,1+2*fn));return dn}else if((hn[0]===2||hn[0]===3)&&hn.length-1===fn)return this.pointFromX(hn.slice(1,1+fn),hn[0]===3);throw new Error("Unknown point format")},Xt.prototype.encodeCompressed=function(hn){return this.encode(hn,!0)},Xt.prototype._encode=function(hn){var Vr=this.curve.p.byteLength(),fn=this.getX().toArray("be",Vr);return hn?[this.getY().isEven()?2:3].concat(fn):[4].concat(fn,this.getY().toArray("be",Vr))},Xt.prototype.encode=function(hn,Vr){return d.encode(this._encode(Vr),hn)},Xt.prototype.precompute=function(hn){if(this.precomputed)return this;var Vr={doubles:null,naf:null,beta:null};return Vr.naf=this._getNAFPoints(8),Vr.doubles=this._getDoubles(4,hn),Vr.beta=this._getBeta(),this.precomputed=Vr,this},Xt.prototype._hasDoubles=function(hn){if(!this.precomputed)return!1;var Vr=this.precomputed.doubles;return Vr?Vr.points.length>=Math.ceil((hn.bitLength()+1)/Vr.step):!1},Xt.prototype._getDoubles=function(hn,Vr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var fn=[this],dn=this,pn=0;pn<Vr;pn+=hn){for(var En=0;En<hn;En++)dn=dn.dbl();fn.push(dn)}return{step:hn,points:fn}},Xt.prototype._getNAFPoints=function(hn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Vr=[this],fn=(1<<hn)-1,dn=fn===1?null:this.dbl(),pn=1;pn<fn;pn++)Vr[pn]=Vr[pn-1].add(dn);return{wnd:hn,points:Vr}},Xt.prototype._getBeta=function(){return null},Xt.prototype.dblp=function(hn){for(var Vr=this,fn=0;fn<hn;fn++)Vr=Vr.dbl();return Vr},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var _e=requireUtils$1(),d=requireBn$1(),Mt=requireInherits_browser(),Ot=requireBase$1(),Ft=_e.assert;function Ut(hn){Ot.call(this,"short",hn),this.a=new d(hn.a,16).toRed(this.red),this.b=new d(hn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(hn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Mt(Ut,Ot),short=Ut,Ut.prototype._getEndomorphism=function(Vr){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var fn,dn;if(Vr.beta)fn=new d(Vr.beta,16).toRed(this.red);else{var pn=this._getEndoRoots(this.p);fn=pn[0].cmp(pn[1])<0?pn[0]:pn[1],fn=fn.toRed(this.red)}if(Vr.lambda)dn=new d(Vr.lambda,16);else{var En=this._getEndoRoots(this.n);this.g.mul(En[0]).x.cmp(this.g.x.redMul(fn))===0?dn=En[0]:(dn=En[1],Ft(this.g.mul(dn).x.cmp(this.g.x.redMul(fn))===0))}var _n;return Vr.basis?_n=Vr.basis.map(function(Dn){return{a:new d(Dn.a,16),b:new d(Dn.b,16)}}):_n=this._getEndoBasis(dn),{beta:fn,lambda:dn,basis:_n}}},Ut.prototype._getEndoRoots=function(Vr){var fn=Vr===this.p?this.red:d.mont(Vr),dn=new d(2).toRed(fn).redInvm(),pn=dn.redNeg(),En=new d(3).toRed(fn).redNeg().redSqrt().redMul(dn),_n=pn.redAdd(En).fromRed(),Dn=pn.redSub(En).fromRed();return[_n,Dn]},Ut.prototype._getEndoBasis=function(Vr){for(var fn=this.n.ushrn(Math.floor(this.n.bitLength()/2)),dn=Vr,pn=this.n.clone(),En=new d(1),_n=new d(0),Dn=new d(0),Vn=new d(1),Pn,qn,jn,Hn,Jn,Gn,ba,eo=0,xa,Yn;dn.cmpn(0)!==0;){var Un=pn.div(dn);xa=pn.sub(Un.mul(dn)),Yn=Dn.sub(Un.mul(En));var Mn=Vn.sub(Un.mul(_n));if(!jn&&xa.cmp(fn)<0)Pn=ba.neg(),qn=En,jn=xa.neg(),Hn=Yn;else if(jn&&++eo===2)break;ba=xa,pn=dn,dn=xa,Dn=En,En=Yn,Vn=_n,_n=Mn}Jn=xa.neg(),Gn=Yn;var mn=jn.sqr().add(Hn.sqr()),Xr=Jn.sqr().add(Gn.sqr());return Xr.cmp(mn)>=0&&(Jn=Pn,Gn=qn),jn.negative&&(jn=jn.neg(),Hn=Hn.neg()),Jn.negative&&(Jn=Jn.neg(),Gn=Gn.neg()),[{a:jn,b:Hn},{a:Jn,b:Gn}]},Ut.prototype._endoSplit=function(Vr){var fn=this.endo.basis,dn=fn[0],pn=fn[1],En=pn.b.mul(Vr).divRound(this.n),_n=dn.b.neg().mul(Vr).divRound(this.n),Dn=En.mul(dn.a),Vn=_n.mul(pn.a),Pn=En.mul(dn.b),qn=_n.mul(pn.b),jn=Vr.sub(Dn).sub(Vn),Hn=Pn.add(qn).neg();return{k1:jn,k2:Hn}},Ut.prototype.pointFromX=function(Vr,fn){Vr=new d(Vr,16),Vr.red||(Vr=Vr.toRed(this.red));var dn=Vr.redSqr().redMul(Vr).redIAdd(Vr.redMul(this.a)).redIAdd(this.b),pn=dn.redSqrt();if(pn.redSqr().redSub(dn).cmp(this.zero)!==0)throw new Error("invalid point");var En=pn.fromRed().isOdd();return(fn&&!En||!fn&&En)&&(pn=pn.redNeg()),this.point(Vr,pn)},Ut.prototype.validate=function(Vr){if(Vr.inf)return!0;var fn=Vr.x,dn=Vr.y,pn=this.a.redMul(fn),En=fn.redSqr().redMul(fn).redIAdd(pn).redIAdd(this.b);return dn.redSqr().redISub(En).cmpn(0)===0},Ut.prototype._endoWnafMulAdd=function(Vr,fn,dn){for(var pn=this._endoWnafT1,En=this._endoWnafT2,_n=0;_n<Vr.length;_n++){var Dn=this._endoSplit(fn[_n]),Vn=Vr[_n],Pn=Vn._getBeta();Dn.k1.negative&&(Dn.k1.ineg(),Vn=Vn.neg(!0)),Dn.k2.negative&&(Dn.k2.ineg(),Pn=Pn.neg(!0)),pn[_n*2]=Vn,pn[_n*2+1]=Pn,En[_n*2]=Dn.k1,En[_n*2+1]=Dn.k2}for(var qn=this._wnafMulAdd(1,pn,En,_n*2,dn),jn=0;jn<_n*2;jn++)pn[jn]=null,En[jn]=null;return qn};function Xt(hn,Vr,fn,dn){Ot.BasePoint.call(this,hn,"affine"),Vr===null&&fn===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new d(Vr,16),this.y=new d(fn,16),dn&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Mt(Xt,Ot.BasePoint),Ut.prototype.point=function(Vr,fn,dn){return new Xt(this,Vr,fn,dn)},Ut.prototype.pointFromJSON=function(Vr,fn){return Xt.fromJSON(this,Vr,fn)},Xt.prototype._getBeta=function(){if(this.curve.endo){var Vr=this.precomputed;if(Vr&&Vr.beta)return Vr.beta;var fn=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Vr){var dn=this.curve,pn=function(En){return dn.point(En.x.redMul(dn.endo.beta),En.y)};Vr.beta=fn,fn.precomputed={beta:null,naf:Vr.naf&&{wnd:Vr.naf.wnd,points:Vr.naf.points.map(pn)},doubles:Vr.doubles&&{step:Vr.doubles.step,points:Vr.doubles.points.map(pn)}}}return fn}},Xt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Xt.fromJSON=function(Vr,fn,dn){typeof fn=="string"&&(fn=JSON.parse(fn));var pn=Vr.point(fn[0],fn[1],dn);if(!fn[2])return pn;function En(Dn){return Vr.point(Dn[0],Dn[1],dn)}var _n=fn[2];return pn.precomputed={beta:null,doubles:_n.doubles&&{step:_n.doubles.step,points:[pn].concat(_n.doubles.points.map(En))},naf:_n.naf&&{wnd:_n.naf.wnd,points:[pn].concat(_n.naf.points.map(En))}},pn},Xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Xt.prototype.isInfinity=function(){return this.inf},Xt.prototype.add=function(Vr){if(this.inf)return Vr;if(Vr.inf)return this;if(this.eq(Vr))return this.dbl();if(this.neg().eq(Vr))return this.curve.point(null,null);if(this.x.cmp(Vr.x)===0)return this.curve.point(null,null);var fn=this.y.redSub(Vr.y);fn.cmpn(0)!==0&&(fn=fn.redMul(this.x.redSub(Vr.x).redInvm()));var dn=fn.redSqr().redISub(this.x).redISub(Vr.x),pn=fn.redMul(this.x.redSub(dn)).redISub(this.y);return this.curve.point(dn,pn)},Xt.prototype.dbl=function(){if(this.inf)return this;var Vr=this.y.redAdd(this.y);if(Vr.cmpn(0)===0)return this.curve.point(null,null);var fn=this.curve.a,dn=this.x.redSqr(),pn=Vr.redInvm(),En=dn.redAdd(dn).redIAdd(dn).redIAdd(fn).redMul(pn),_n=En.redSqr().redISub(this.x.redAdd(this.x)),Dn=En.redMul(this.x.redSub(_n)).redISub(this.y);return this.curve.point(_n,Dn)},Xt.prototype.getX=function(){return this.x.fromRed()},Xt.prototype.getY=function(){return this.y.fromRed()},Xt.prototype.mul=function(Vr){return Vr=new d(Vr,16),this.isInfinity()?this:this._hasDoubles(Vr)?this.curve._fixedNafMul(this,Vr):this.curve.endo?this.curve._endoWnafMulAdd([this],[Vr]):this.curve._wnafMul(this,Vr)},Xt.prototype.mulAdd=function(Vr,fn,dn){var pn=[this,fn],En=[Vr,dn];return this.curve.endo?this.curve._endoWnafMulAdd(pn,En):this.curve._wnafMulAdd(1,pn,En,2)},Xt.prototype.jmulAdd=function(Vr,fn,dn){var pn=[this,fn],En=[Vr,dn];return this.curve.endo?this.curve._endoWnafMulAdd(pn,En,!0):this.curve._wnafMulAdd(1,pn,En,2,!0)},Xt.prototype.eq=function(Vr){return this===Vr||this.inf===Vr.inf&&(this.inf||this.x.cmp(Vr.x)===0&&this.y.cmp(Vr.y)===0)},Xt.prototype.neg=function(Vr){if(this.inf)return this;var fn=this.curve.point(this.x,this.y.redNeg());if(Vr&&this.precomputed){var dn=this.precomputed,pn=function(En){return En.neg()};fn.precomputed={naf:dn.naf&&{wnd:dn.naf.wnd,points:dn.naf.points.map(pn)},doubles:dn.doubles&&{step:dn.doubles.step,points:dn.doubles.points.map(pn)}}}return fn},Xt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Vr=this.curve.jpoint(this.x,this.y,this.curve.one);return Vr};function jr(hn,Vr,fn,dn){Ot.BasePoint.call(this,hn,"jacobian"),Vr===null&&fn===null&&dn===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new d(0)):(this.x=new d(Vr,16),this.y=new d(fn,16),this.z=new d(dn,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return Mt(jr,Ot.BasePoint),Ut.prototype.jpoint=function(Vr,fn,dn){return new jr(this,Vr,fn,dn)},jr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Vr=this.z.redInvm(),fn=Vr.redSqr(),dn=this.x.redMul(fn),pn=this.y.redMul(fn).redMul(Vr);return this.curve.point(dn,pn)},jr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},jr.prototype.add=function(Vr){if(this.isInfinity())return Vr;if(Vr.isInfinity())return this;var fn=Vr.z.redSqr(),dn=this.z.redSqr(),pn=this.x.redMul(fn),En=Vr.x.redMul(dn),_n=this.y.redMul(fn.redMul(Vr.z)),Dn=Vr.y.redMul(dn.redMul(this.z)),Vn=pn.redSub(En),Pn=_n.redSub(Dn);if(Vn.cmpn(0)===0)return Pn.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var qn=Vn.redSqr(),jn=qn.redMul(Vn),Hn=pn.redMul(qn),Jn=Pn.redSqr().redIAdd(jn).redISub(Hn).redISub(Hn),Gn=Pn.redMul(Hn.redISub(Jn)).redISub(_n.redMul(jn)),ba=this.z.redMul(Vr.z).redMul(Vn);return this.curve.jpoint(Jn,Gn,ba)},jr.prototype.mixedAdd=function(Vr){if(this.isInfinity())return Vr.toJ();if(Vr.isInfinity())return this;var fn=this.z.redSqr(),dn=this.x,pn=Vr.x.redMul(fn),En=this.y,_n=Vr.y.redMul(fn).redMul(this.z),Dn=dn.redSub(pn),Vn=En.redSub(_n);if(Dn.cmpn(0)===0)return Vn.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Pn=Dn.redSqr(),qn=Pn.redMul(Dn),jn=dn.redMul(Pn),Hn=Vn.redSqr().redIAdd(qn).redISub(jn).redISub(jn),Jn=Vn.redMul(jn.redISub(Hn)).redISub(En.redMul(qn)),Gn=this.z.redMul(Dn);return this.curve.jpoint(Hn,Jn,Gn)},jr.prototype.dblp=function(Vr){if(Vr===0)return this;if(this.isInfinity())return this;if(!Vr)return this.dbl();var fn;if(this.curve.zeroA||this.curve.threeA){var dn=this;for(fn=0;fn<Vr;fn++)dn=dn.dbl();return dn}var pn=this.curve.a,En=this.curve.tinv,_n=this.x,Dn=this.y,Vn=this.z,Pn=Vn.redSqr().redSqr(),qn=Dn.redAdd(Dn);for(fn=0;fn<Vr;fn++){var jn=_n.redSqr(),Hn=qn.redSqr(),Jn=Hn.redSqr(),Gn=jn.redAdd(jn).redIAdd(jn).redIAdd(pn.redMul(Pn)),ba=_n.redMul(Hn),eo=Gn.redSqr().redISub(ba.redAdd(ba)),xa=ba.redISub(eo),Yn=Gn.redMul(xa);Yn=Yn.redIAdd(Yn).redISub(Jn);var Un=qn.redMul(Vn);fn+1<Vr&&(Pn=Pn.redMul(Jn)),_n=eo,Vn=Un,qn=Yn}return this.curve.jpoint(_n,qn.redMul(En),Vn)},jr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},jr.prototype._zeroDbl=function(){var Vr,fn,dn;if(this.zOne){var pn=this.x.redSqr(),En=this.y.redSqr(),_n=En.redSqr(),Dn=this.x.redAdd(En).redSqr().redISub(pn).redISub(_n);Dn=Dn.redIAdd(Dn);var Vn=pn.redAdd(pn).redIAdd(pn),Pn=Vn.redSqr().redISub(Dn).redISub(Dn),qn=_n.redIAdd(_n);qn=qn.redIAdd(qn),qn=qn.redIAdd(qn),Vr=Pn,fn=Vn.redMul(Dn.redISub(Pn)).redISub(qn),dn=this.y.redAdd(this.y)}else{var jn=this.x.redSqr(),Hn=this.y.redSqr(),Jn=Hn.redSqr(),Gn=this.x.redAdd(Hn).redSqr().redISub(jn).redISub(Jn);Gn=Gn.redIAdd(Gn);var ba=jn.redAdd(jn).redIAdd(jn),eo=ba.redSqr(),xa=Jn.redIAdd(Jn);xa=xa.redIAdd(xa),xa=xa.redIAdd(xa),Vr=eo.redISub(Gn).redISub(Gn),fn=ba.redMul(Gn.redISub(Vr)).redISub(xa),dn=this.y.redMul(this.z),dn=dn.redIAdd(dn)}return this.curve.jpoint(Vr,fn,dn)},jr.prototype._threeDbl=function(){var Vr,fn,dn;if(this.zOne){var pn=this.x.redSqr(),En=this.y.redSqr(),_n=En.redSqr(),Dn=this.x.redAdd(En).redSqr().redISub(pn).redISub(_n);Dn=Dn.redIAdd(Dn);var Vn=pn.redAdd(pn).redIAdd(pn).redIAdd(this.curve.a),Pn=Vn.redSqr().redISub(Dn).redISub(Dn);Vr=Pn;var qn=_n.redIAdd(_n);qn=qn.redIAdd(qn),qn=qn.redIAdd(qn),fn=Vn.redMul(Dn.redISub(Pn)).redISub(qn),dn=this.y.redAdd(this.y)}else{var jn=this.z.redSqr(),Hn=this.y.redSqr(),Jn=this.x.redMul(Hn),Gn=this.x.redSub(jn).redMul(this.x.redAdd(jn));Gn=Gn.redAdd(Gn).redIAdd(Gn);var ba=Jn.redIAdd(Jn);ba=ba.redIAdd(ba);var eo=ba.redAdd(ba);Vr=Gn.redSqr().redISub(eo),dn=this.y.redAdd(this.z).redSqr().redISub(Hn).redISub(jn);var xa=Hn.redSqr();xa=xa.redIAdd(xa),xa=xa.redIAdd(xa),xa=xa.redIAdd(xa),fn=Gn.redMul(ba.redISub(Vr)).redISub(xa)}return this.curve.jpoint(Vr,fn,dn)},jr.prototype._dbl=function(){var Vr=this.curve.a,fn=this.x,dn=this.y,pn=this.z,En=pn.redSqr().redSqr(),_n=fn.redSqr(),Dn=dn.redSqr(),Vn=_n.redAdd(_n).redIAdd(_n).redIAdd(Vr.redMul(En)),Pn=fn.redAdd(fn);Pn=Pn.redIAdd(Pn);var qn=Pn.redMul(Dn),jn=Vn.redSqr().redISub(qn.redAdd(qn)),Hn=qn.redISub(jn),Jn=Dn.redSqr();Jn=Jn.redIAdd(Jn),Jn=Jn.redIAdd(Jn),Jn=Jn.redIAdd(Jn);var Gn=Vn.redMul(Hn).redISub(Jn),ba=dn.redAdd(dn).redMul(pn);return this.curve.jpoint(jn,Gn,ba)},jr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Vr=this.x.redSqr(),fn=this.y.redSqr(),dn=this.z.redSqr(),pn=fn.redSqr(),En=Vr.redAdd(Vr).redIAdd(Vr),_n=En.redSqr(),Dn=this.x.redAdd(fn).redSqr().redISub(Vr).redISub(pn);Dn=Dn.redIAdd(Dn),Dn=Dn.redAdd(Dn).redIAdd(Dn),Dn=Dn.redISub(_n);var Vn=Dn.redSqr(),Pn=pn.redIAdd(pn);Pn=Pn.redIAdd(Pn),Pn=Pn.redIAdd(Pn),Pn=Pn.redIAdd(Pn);var qn=En.redIAdd(Dn).redSqr().redISub(_n).redISub(Vn).redISub(Pn),jn=fn.redMul(qn);jn=jn.redIAdd(jn),jn=jn.redIAdd(jn);var Hn=this.x.redMul(Vn).redISub(jn);Hn=Hn.redIAdd(Hn),Hn=Hn.redIAdd(Hn);var Jn=this.y.redMul(qn.redMul(Pn.redISub(qn)).redISub(Dn.redMul(Vn)));Jn=Jn.redIAdd(Jn),Jn=Jn.redIAdd(Jn),Jn=Jn.redIAdd(Jn);var Gn=this.z.redAdd(Dn).redSqr().redISub(dn).redISub(Vn);return this.curve.jpoint(Hn,Jn,Gn)},jr.prototype.mul=function(Vr,fn){return Vr=new d(Vr,fn),this.curve._wnafMul(this,Vr)},jr.prototype.eq=function(Vr){if(Vr.type==="affine")return this.eq(Vr.toJ());if(this===Vr)return!0;var fn=this.z.redSqr(),dn=Vr.z.redSqr();if(this.x.redMul(dn).redISub(Vr.x.redMul(fn)).cmpn(0)!==0)return!1;var pn=fn.redMul(this.z),En=dn.redMul(Vr.z);return this.y.redMul(En).redISub(Vr.y.redMul(pn)).cmpn(0)===0},jr.prototype.eqXToP=function(Vr){var fn=this.z.redSqr(),dn=Vr.toRed(this.curve.red).redMul(fn);if(this.x.cmp(dn)===0)return!0;for(var pn=Vr.clone(),En=this.curve.redN.redMul(fn);;){if(pn.iadd(this.curve.n),pn.cmp(this.curve.p)>=0)return!1;if(dn.redIAdd(En),this.x.cmp(dn)===0)return!0}},jr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},jr.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var _e=requireBn$1(),d=requireInherits_browser(),Mt=requireBase$1(),Ot=requireUtils$1();function Ft(Xt){Mt.call(this,"mont",Xt),this.a=new _e(Xt.a,16).toRed(this.red),this.b=new _e(Xt.b,16).toRed(this.red),this.i4=new _e(4).toRed(this.red).redInvm(),this.two=new _e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}d(Ft,Mt),mont=Ft,Ft.prototype.validate=function(jr){var hn=jr.normalize().x,Vr=hn.redSqr(),fn=Vr.redMul(hn).redAdd(Vr.redMul(this.a)).redAdd(hn),dn=fn.redSqrt();return dn.redSqr().cmp(fn)===0};function Ut(Xt,jr,hn){Mt.BasePoint.call(this,Xt,"projective"),jr===null&&hn===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new _e(jr,16),this.z=new _e(hn,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return d(Ut,Mt.BasePoint),Ft.prototype.decodePoint=function(jr,hn){return this.point(Ot.toArray(jr,hn),1)},Ft.prototype.point=function(jr,hn){return new Ut(this,jr,hn)},Ft.prototype.pointFromJSON=function(jr){return Ut.fromJSON(this,jr)},Ut.prototype.precompute=function(){},Ut.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Ut.fromJSON=function(jr,hn){return new Ut(jr,hn[0],hn[1]||jr.one)},Ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ut.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ut.prototype.dbl=function(){var jr=this.x.redAdd(this.z),hn=jr.redSqr(),Vr=this.x.redSub(this.z),fn=Vr.redSqr(),dn=hn.redSub(fn),pn=hn.redMul(fn),En=dn.redMul(fn.redAdd(this.curve.a24.redMul(dn)));return this.curve.point(pn,En)},Ut.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Ut.prototype.diffAdd=function(jr,hn){var Vr=this.x.redAdd(this.z),fn=this.x.redSub(this.z),dn=jr.x.redAdd(jr.z),pn=jr.x.redSub(jr.z),En=pn.redMul(Vr),_n=dn.redMul(fn),Dn=hn.z.redMul(En.redAdd(_n).redSqr()),Vn=hn.x.redMul(En.redISub(_n).redSqr());return this.curve.point(Dn,Vn)},Ut.prototype.mul=function(jr){for(var hn=jr.clone(),Vr=this,fn=this.curve.point(null,null),dn=this,pn=[];hn.cmpn(0)!==0;hn.iushrn(1))pn.push(hn.andln(1));for(var En=pn.length-1;En>=0;En--)pn[En]===0?(Vr=Vr.diffAdd(fn,dn),fn=fn.dbl()):(fn=Vr.diffAdd(fn,dn),Vr=Vr.dbl());return fn},Ut.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Ut.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Ut.prototype.eq=function(jr){return this.getX().cmp(jr.getX())===0},Ut.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Ut.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var _e=requireUtils$1(),d=requireBn$1(),Mt=requireInherits_browser(),Ot=requireBase$1(),Ft=_e.assert;function Ut(jr){this.twisted=(jr.a|0)!==1,this.mOneA=this.twisted&&(jr.a|0)===-1,this.extended=this.mOneA,Ot.call(this,"edwards",jr),this.a=new d(jr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new d(jr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new d(jr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Ft(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(jr.c|0)===1}Mt(Ut,Ot),edwards=Ut,Ut.prototype._mulA=function(hn){return this.mOneA?hn.redNeg():this.a.redMul(hn)},Ut.prototype._mulC=function(hn){return this.oneC?hn:this.c.redMul(hn)},Ut.prototype.jpoint=function(hn,Vr,fn,dn){return this.point(hn,Vr,fn,dn)},Ut.prototype.pointFromX=function(hn,Vr){hn=new d(hn,16),hn.red||(hn=hn.toRed(this.red));var fn=hn.redSqr(),dn=this.c2.redSub(this.a.redMul(fn)),pn=this.one.redSub(this.c2.redMul(this.d).redMul(fn)),En=dn.redMul(pn.redInvm()),_n=En.redSqrt();if(_n.redSqr().redSub(En).cmp(this.zero)!==0)throw new Error("invalid point");var Dn=_n.fromRed().isOdd();return(Vr&&!Dn||!Vr&&Dn)&&(_n=_n.redNeg()),this.point(hn,_n)},Ut.prototype.pointFromY=function(hn,Vr){hn=new d(hn,16),hn.red||(hn=hn.toRed(this.red));var fn=hn.redSqr(),dn=fn.redSub(this.c2),pn=fn.redMul(this.d).redMul(this.c2).redSub(this.a),En=dn.redMul(pn.redInvm());if(En.cmp(this.zero)===0){if(Vr)throw new Error("invalid point");return this.point(this.zero,hn)}var _n=En.redSqrt();if(_n.redSqr().redSub(En).cmp(this.zero)!==0)throw new Error("invalid point");return _n.fromRed().isOdd()!==Vr&&(_n=_n.redNeg()),this.point(_n,hn)},Ut.prototype.validate=function(hn){if(hn.isInfinity())return!0;hn.normalize();var Vr=hn.x.redSqr(),fn=hn.y.redSqr(),dn=Vr.redMul(this.a).redAdd(fn),pn=this.c2.redMul(this.one.redAdd(this.d.redMul(Vr).redMul(fn)));return dn.cmp(pn)===0};function Xt(jr,hn,Vr,fn,dn){Ot.BasePoint.call(this,jr,"projective"),hn===null&&Vr===null&&fn===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new d(hn,16),this.y=new d(Vr,16),this.z=fn?new d(fn,16):this.curve.one,this.t=dn&&new d(dn,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return Mt(Xt,Ot.BasePoint),Ut.prototype.pointFromJSON=function(hn){return Xt.fromJSON(this,hn)},Ut.prototype.point=function(hn,Vr,fn,dn){return new Xt(this,hn,Vr,fn,dn)},Xt.fromJSON=function(hn,Vr){return new Xt(hn,Vr[0],Vr[1],Vr[2])},Xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Xt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Xt.prototype._extDbl=function(){var hn=this.x.redSqr(),Vr=this.y.redSqr(),fn=this.z.redSqr();fn=fn.redIAdd(fn);var dn=this.curve._mulA(hn),pn=this.x.redAdd(this.y).redSqr().redISub(hn).redISub(Vr),En=dn.redAdd(Vr),_n=En.redSub(fn),Dn=dn.redSub(Vr),Vn=pn.redMul(_n),Pn=En.redMul(Dn),qn=pn.redMul(Dn),jn=_n.redMul(En);return this.curve.point(Vn,Pn,jn,qn)},Xt.prototype._projDbl=function(){var hn=this.x.redAdd(this.y).redSqr(),Vr=this.x.redSqr(),fn=this.y.redSqr(),dn,pn,En,_n,Dn,Vn;if(this.curve.twisted){_n=this.curve._mulA(Vr);var Pn=_n.redAdd(fn);this.zOne?(dn=hn.redSub(Vr).redSub(fn).redMul(Pn.redSub(this.curve.two)),pn=Pn.redMul(_n.redSub(fn)),En=Pn.redSqr().redSub(Pn).redSub(Pn)):(Dn=this.z.redSqr(),Vn=Pn.redSub(Dn).redISub(Dn),dn=hn.redSub(Vr).redISub(fn).redMul(Vn),pn=Pn.redMul(_n.redSub(fn)),En=Pn.redMul(Vn))}else _n=Vr.redAdd(fn),Dn=this.curve._mulC(this.z).redSqr(),Vn=_n.redSub(Dn).redSub(Dn),dn=this.curve._mulC(hn.redISub(_n)).redMul(Vn),pn=this.curve._mulC(_n).redMul(Vr.redISub(fn)),En=_n.redMul(Vn);return this.curve.point(dn,pn,En)},Xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Xt.prototype._extAdd=function(hn){var Vr=this.y.redSub(this.x).redMul(hn.y.redSub(hn.x)),fn=this.y.redAdd(this.x).redMul(hn.y.redAdd(hn.x)),dn=this.t.redMul(this.curve.dd).redMul(hn.t),pn=this.z.redMul(hn.z.redAdd(hn.z)),En=fn.redSub(Vr),_n=pn.redSub(dn),Dn=pn.redAdd(dn),Vn=fn.redAdd(Vr),Pn=En.redMul(_n),qn=Dn.redMul(Vn),jn=En.redMul(Vn),Hn=_n.redMul(Dn);return this.curve.point(Pn,qn,Hn,jn)},Xt.prototype._projAdd=function(hn){var Vr=this.z.redMul(hn.z),fn=Vr.redSqr(),dn=this.x.redMul(hn.x),pn=this.y.redMul(hn.y),En=this.curve.d.redMul(dn).redMul(pn),_n=fn.redSub(En),Dn=fn.redAdd(En),Vn=this.x.redAdd(this.y).redMul(hn.x.redAdd(hn.y)).redISub(dn).redISub(pn),Pn=Vr.redMul(_n).redMul(Vn),qn,jn;return this.curve.twisted?(qn=Vr.redMul(Dn).redMul(pn.redSub(this.curve._mulA(dn))),jn=_n.redMul(Dn)):(qn=Vr.redMul(Dn).redMul(pn.redSub(dn)),jn=this.curve._mulC(_n).redMul(Dn)),this.curve.point(Pn,qn,jn)},Xt.prototype.add=function(hn){return this.isInfinity()?hn:hn.isInfinity()?this:this.curve.extended?this._extAdd(hn):this._projAdd(hn)},Xt.prototype.mul=function(hn){return this._hasDoubles(hn)?this.curve._fixedNafMul(this,hn):this.curve._wnafMul(this,hn)},Xt.prototype.mulAdd=function(hn,Vr,fn){return this.curve._wnafMulAdd(1,[this,Vr],[hn,fn],2,!1)},Xt.prototype.jmulAdd=function(hn,Vr,fn){return this.curve._wnafMulAdd(1,[this,Vr],[hn,fn],2,!0)},Xt.prototype.normalize=function(){if(this.zOne)return this;var hn=this.z.redInvm();return this.x=this.x.redMul(hn),this.y=this.y.redMul(hn),this.t&&(this.t=this.t.redMul(hn)),this.z=this.curve.one,this.zOne=!0,this},Xt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Xt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Xt.prototype.eq=function(hn){return this===hn||this.getX().cmp(hn.getX())===0&&this.getY().cmp(hn.getY())===0},Xt.prototype.eqXToP=function(hn){var Vr=hn.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Vr)===0)return!0;for(var fn=hn.clone(),dn=this.curve.redN.redMul(this.z);;){if(fn.iadd(this.curve.n),fn.cmp(this.curve.p)>=0)return!1;if(Vr.redIAdd(dn),this.x.cmp(Vr)===0)return!0}},Xt.prototype.toP=Xt.prototype.normalize,Xt.prototype.mixedAdd=Xt.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(_e){var d=_e;d.base=requireBase$1(),d.short=requireShort(),d.mont=requireMont(),d.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var _e=requireMinimalisticAssert(),d=requireInherits_browser();utils.inherits=d;function Mt(Mn,mn){return(Mn.charCodeAt(mn)&64512)!==55296||mn<0||mn+1>=Mn.length?!1:(Mn.charCodeAt(mn+1)&64512)===56320}function Ot(Mn,mn){if(Array.isArray(Mn))return Mn.slice();if(!Mn)return[];var Xr=[];if(typeof Mn=="string")if(mn){if(mn==="hex")for(Mn=Mn.replace(/[^a-z0-9]+/ig,""),Mn.length%2!==0&&(Mn="0"+Mn),On=0;On<Mn.length;On+=2)Xr.push(parseInt(Mn[On]+Mn[On+1],16))}else for(var gn=0,On=0;On<Mn.length;On++){var Ln=Mn.charCodeAt(On);Ln<128?Xr[gn++]=Ln:Ln<2048?(Xr[gn++]=Ln>>6|192,Xr[gn++]=Ln&63|128):Mt(Mn,On)?(Ln=65536+((Ln&1023)<<10)+(Mn.charCodeAt(++On)&1023),Xr[gn++]=Ln>>18|240,Xr[gn++]=Ln>>12&63|128,Xr[gn++]=Ln>>6&63|128,Xr[gn++]=Ln&63|128):(Xr[gn++]=Ln>>12|224,Xr[gn++]=Ln>>6&63|128,Xr[gn++]=Ln&63|128)}else for(On=0;On<Mn.length;On++)Xr[On]=Mn[On]|0;return Xr}utils.toArray=Ot;function Ft(Mn){for(var mn="",Xr=0;Xr<Mn.length;Xr++)mn+=jr(Mn[Xr].toString(16));return mn}utils.toHex=Ft;function Ut(Mn){var mn=Mn>>>24|Mn>>>8&65280|Mn<<8&16711680|(Mn&255)<<24;return mn>>>0}utils.htonl=Ut;function Xt(Mn,mn){for(var Xr="",gn=0;gn<Mn.length;gn++){var On=Mn[gn];mn==="little"&&(On=Ut(On)),Xr+=hn(On.toString(16))}return Xr}utils.toHex32=Xt;function jr(Mn){return Mn.length===1?"0"+Mn:Mn}utils.zero2=jr;function hn(Mn){return Mn.length===7?"0"+Mn:Mn.length===6?"00"+Mn:Mn.length===5?"000"+Mn:Mn.length===4?"0000"+Mn:Mn.length===3?"00000"+Mn:Mn.length===2?"000000"+Mn:Mn.length===1?"0000000"+Mn:Mn}utils.zero8=hn;function Vr(Mn,mn,Xr,gn){var On=Xr-mn;_e(On%4===0);for(var Ln=new Array(On/4),Rn=0,yn=mn;Rn<Ln.length;Rn++,yn+=4){var kn;gn==="big"?kn=Mn[yn]<<24|Mn[yn+1]<<16|Mn[yn+2]<<8|Mn[yn+3]:kn=Mn[yn+3]<<24|Mn[yn+2]<<16|Mn[yn+1]<<8|Mn[yn],Ln[Rn]=kn>>>0}return Ln}utils.join32=Vr;function fn(Mn,mn){for(var Xr=new Array(Mn.length*4),gn=0,On=0;gn<Mn.length;gn++,On+=4){var Ln=Mn[gn];mn==="big"?(Xr[On]=Ln>>>24,Xr[On+1]=Ln>>>16&255,Xr[On+2]=Ln>>>8&255,Xr[On+3]=Ln&255):(Xr[On+3]=Ln>>>24,Xr[On+2]=Ln>>>16&255,Xr[On+1]=Ln>>>8&255,Xr[On]=Ln&255)}return Xr}utils.split32=fn;function dn(Mn,mn){return Mn>>>mn|Mn<<32-mn}utils.rotr32=dn;function pn(Mn,mn){return Mn<<mn|Mn>>>32-mn}utils.rotl32=pn;function En(Mn,mn){return Mn+mn>>>0}utils.sum32=En;function _n(Mn,mn,Xr){return Mn+mn+Xr>>>0}utils.sum32_3=_n;function Dn(Mn,mn,Xr,gn){return Mn+mn+Xr+gn>>>0}utils.sum32_4=Dn;function Vn(Mn,mn,Xr,gn,On){return Mn+mn+Xr+gn+On>>>0}utils.sum32_5=Vn;function Pn(Mn,mn,Xr,gn){var On=Mn[mn],Ln=Mn[mn+1],Rn=gn+Ln>>>0,yn=(Rn<gn?1:0)+Xr+On;Mn[mn]=yn>>>0,Mn[mn+1]=Rn}utils.sum64=Pn;function qn(Mn,mn,Xr,gn){var On=mn+gn>>>0,Ln=(On<mn?1:0)+Mn+Xr;return Ln>>>0}utils.sum64_hi=qn;function jn(Mn,mn,Xr,gn){var On=mn+gn;return On>>>0}utils.sum64_lo=jn;function Hn(Mn,mn,Xr,gn,On,Ln,Rn,yn){var kn=0,Fn=mn;Fn=Fn+gn>>>0,kn+=Fn<mn?1:0,Fn=Fn+Ln>>>0,kn+=Fn<Ln?1:0,Fn=Fn+yn>>>0,kn+=Fn<yn?1:0;var Cn=Mn+Xr+On+Rn+kn;return Cn>>>0}utils.sum64_4_hi=Hn;function Jn(Mn,mn,Xr,gn,On,Ln,Rn,yn){var kn=mn+gn+Ln+yn;return kn>>>0}utils.sum64_4_lo=Jn;function Gn(Mn,mn,Xr,gn,On,Ln,Rn,yn,kn,Fn){var Cn=0,zn=mn;zn=zn+gn>>>0,Cn+=zn<mn?1:0,zn=zn+Ln>>>0,Cn+=zn<Ln?1:0,zn=zn+yn>>>0,Cn+=zn<yn?1:0,zn=zn+Fn>>>0,Cn+=zn<Fn?1:0;var $a=Mn+Xr+On+Rn+kn+Cn;return $a>>>0}utils.sum64_5_hi=Gn;function ba(Mn,mn,Xr,gn,On,Ln,Rn,yn,kn,Fn){var Cn=mn+gn+Ln+yn+Fn;return Cn>>>0}utils.sum64_5_lo=ba;function eo(Mn,mn,Xr){var gn=mn<<32-Xr|Mn>>>Xr;return gn>>>0}utils.rotr64_hi=eo;function xa(Mn,mn,Xr){var gn=Mn<<32-Xr|mn>>>Xr;return gn>>>0}utils.rotr64_lo=xa;function Yn(Mn,mn,Xr){return Mn>>>Xr}utils.shr64_hi=Yn;function Un(Mn,mn,Xr){var gn=Mn<<32-Xr|mn>>>Xr;return gn>>>0}return utils.shr64_lo=Un,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var _e=requireUtils(),d=requireMinimalisticAssert();function Mt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=Mt,Mt.prototype.update=function(Ft,Ut){if(Ft=_e.toArray(Ft,Ut),this.pending?this.pending=this.pending.concat(Ft):this.pending=Ft,this.pendingTotal+=Ft.length,this.pending.length>=this._delta8){Ft=this.pending;var Xt=Ft.length%this._delta8;this.pending=Ft.slice(Ft.length-Xt,Ft.length),this.pending.length===0&&(this.pending=null),Ft=_e.join32(Ft,0,Ft.length-Xt,this.endian);for(var jr=0;jr<Ft.length;jr+=this._delta32)this._update(Ft,jr,jr+this._delta32)}return this},Mt.prototype.digest=function(Ft){return this.update(this._pad()),d(this.pending===null),this._digest(Ft)},Mt.prototype._pad=function(){var Ft=this.pendingTotal,Ut=this._delta8,Xt=Ut-(Ft+this.padLength)%Ut,jr=new Array(Xt+this.padLength);jr[0]=128;for(var hn=1;hn<Xt;hn++)jr[hn]=0;if(Ft<<=3,this.endian==="big"){for(var Vr=8;Vr<this.padLength;Vr++)jr[hn++]=0;jr[hn++]=0,jr[hn++]=0,jr[hn++]=0,jr[hn++]=0,jr[hn++]=Ft>>>24&255,jr[hn++]=Ft>>>16&255,jr[hn++]=Ft>>>8&255,jr[hn++]=Ft&255}else for(jr[hn++]=Ft&255,jr[hn++]=Ft>>>8&255,jr[hn++]=Ft>>>16&255,jr[hn++]=Ft>>>24&255,jr[hn++]=0,jr[hn++]=0,jr[hn++]=0,jr[hn++]=0,Vr=8;Vr<this.padLength;Vr++)jr[hn++]=0;return jr},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var _e=requireUtils(),d=_e.rotr32;function Mt(fn,dn,pn,En){if(fn===0)return Ot(dn,pn,En);if(fn===1||fn===3)return Ut(dn,pn,En);if(fn===2)return Ft(dn,pn,En)}common.ft_1=Mt;function Ot(fn,dn,pn){return fn&dn^~fn&pn}common.ch32=Ot;function Ft(fn,dn,pn){return fn&dn^fn&pn^dn&pn}common.maj32=Ft;function Ut(fn,dn,pn){return fn^dn^pn}common.p32=Ut;function Xt(fn){return d(fn,2)^d(fn,13)^d(fn,22)}common.s0_256=Xt;function jr(fn){return d(fn,6)^d(fn,11)^d(fn,25)}common.s1_256=jr;function hn(fn){return d(fn,7)^d(fn,18)^fn>>>3}common.g0_256=hn;function Vr(fn){return d(fn,17)^d(fn,19)^fn>>>10}return common.g1_256=Vr,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var _e=requireUtils(),d=requireCommon$1(),Mt=requireCommon(),Ot=_e.rotl32,Ft=_e.sum32,Ut=_e.sum32_5,Xt=Mt.ft_1,jr=d.BlockHash,hn=[1518500249,1859775393,2400959708,3395469782];function Vr(){if(!(this instanceof Vr))return new Vr;jr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return _e.inherits(Vr,jr),_1=Vr,Vr.blockSize=512,Vr.outSize=160,Vr.hmacStrength=80,Vr.padLength=64,Vr.prototype._update=function(dn,pn){for(var En=this.W,_n=0;_n<16;_n++)En[_n]=dn[pn+_n];for(;_n<En.length;_n++)En[_n]=Ot(En[_n-3]^En[_n-8]^En[_n-14]^En[_n-16],1);var Dn=this.h[0],Vn=this.h[1],Pn=this.h[2],qn=this.h[3],jn=this.h[4];for(_n=0;_n<En.length;_n++){var Hn=~~(_n/20),Jn=Ut(Ot(Dn,5),Xt(Hn,Vn,Pn,qn),jn,En[_n],hn[Hn]);jn=qn,qn=Pn,Pn=Ot(Vn,30),Vn=Dn,Dn=Jn}this.h[0]=Ft(this.h[0],Dn),this.h[1]=Ft(this.h[1],Vn),this.h[2]=Ft(this.h[2],Pn),this.h[3]=Ft(this.h[3],qn),this.h[4]=Ft(this.h[4],jn)},Vr.prototype._digest=function(dn){return dn==="hex"?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var _e=requireUtils(),d=requireCommon$1(),Mt=requireCommon(),Ot=requireMinimalisticAssert(),Ft=_e.sum32,Ut=_e.sum32_4,Xt=_e.sum32_5,jr=Mt.ch32,hn=Mt.maj32,Vr=Mt.s0_256,fn=Mt.s1_256,dn=Mt.g0_256,pn=Mt.g1_256,En=d.BlockHash,_n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dn(){if(!(this instanceof Dn))return new Dn;En.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_n,this.W=new Array(64)}return _e.inherits(Dn,En),_256=Dn,Dn.blockSize=512,Dn.outSize=256,Dn.hmacStrength=192,Dn.padLength=64,Dn.prototype._update=function(Pn,qn){for(var jn=this.W,Hn=0;Hn<16;Hn++)jn[Hn]=Pn[qn+Hn];for(;Hn<jn.length;Hn++)jn[Hn]=Ut(pn(jn[Hn-2]),jn[Hn-7],dn(jn[Hn-15]),jn[Hn-16]);var Jn=this.h[0],Gn=this.h[1],ba=this.h[2],eo=this.h[3],xa=this.h[4],Yn=this.h[5],Un=this.h[6],Mn=this.h[7];for(Ot(this.k.length===jn.length),Hn=0;Hn<jn.length;Hn++){var mn=Xt(Mn,fn(xa),jr(xa,Yn,Un),this.k[Hn],jn[Hn]),Xr=Ft(Vr(Jn),hn(Jn,Gn,ba));Mn=Un,Un=Yn,Yn=xa,xa=Ft(eo,mn),eo=ba,ba=Gn,Gn=Jn,Jn=Ft(mn,Xr)}this.h[0]=Ft(this.h[0],Jn),this.h[1]=Ft(this.h[1],Gn),this.h[2]=Ft(this.h[2],ba),this.h[3]=Ft(this.h[3],eo),this.h[4]=Ft(this.h[4],xa),this.h[5]=Ft(this.h[5],Yn),this.h[6]=Ft(this.h[6],Un),this.h[7]=Ft(this.h[7],Mn)},Dn.prototype._digest=function(Pn){return Pn==="hex"?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var _e=requireUtils(),d=require_256();function Mt(){if(!(this instanceof Mt))return new Mt;d.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return _e.inherits(Mt,d),_224=Mt,Mt.blockSize=512,Mt.outSize=224,Mt.hmacStrength=192,Mt.padLength=64,Mt.prototype._digest=function(Ft){return Ft==="hex"?_e.toHex32(this.h.slice(0,7),"big"):_e.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var _e=requireUtils(),d=requireCommon$1(),Mt=requireMinimalisticAssert(),Ot=_e.rotr64_hi,Ft=_e.rotr64_lo,Ut=_e.shr64_hi,Xt=_e.shr64_lo,jr=_e.sum64,hn=_e.sum64_hi,Vr=_e.sum64_lo,fn=_e.sum64_4_hi,dn=_e.sum64_4_lo,pn=_e.sum64_5_hi,En=_e.sum64_5_lo,_n=d.BlockHash,Dn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vn(){if(!(this instanceof Vn))return new Vn;_n.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Dn,this.W=new Array(160)}_e.inherits(Vn,_n),_512=Vn,Vn.blockSize=1024,Vn.outSize=512,Vn.hmacStrength=192,Vn.padLength=128,Vn.prototype._prepareBlock=function(Xr,gn){for(var On=this.W,Ln=0;Ln<32;Ln++)On[Ln]=Xr[gn+Ln];for(;Ln<On.length;Ln+=2){var Rn=Un(On[Ln-4],On[Ln-3]),yn=Mn(On[Ln-4],On[Ln-3]),kn=On[Ln-14],Fn=On[Ln-13],Cn=xa(On[Ln-30],On[Ln-29]),zn=Yn(On[Ln-30],On[Ln-29]),$a=On[Ln-32],co=On[Ln-31];On[Ln]=fn(Rn,yn,kn,Fn,Cn,zn,$a,co),On[Ln+1]=dn(Rn,yn,kn,Fn,Cn,zn,$a,co)}},Vn.prototype._update=function(Xr,gn){this._prepareBlock(Xr,gn);var On=this.W,Ln=this.h[0],Rn=this.h[1],yn=this.h[2],kn=this.h[3],Fn=this.h[4],Cn=this.h[5],zn=this.h[6],$a=this.h[7],co=this.h[8],io=this.h[9],ga=this.h[10],na=this.h[11],so=this.h[12],_i=this.h[13],Wn=this.h[14],Kn=this.h[15];Mt(this.k.length===On.length);for(var ro=0;ro<On.length;ro+=2){var oo=Wn,mo=Kn,bo=ba(co,io),vo=eo(co,io),wo=Pn(co,io,ga,na,so),go=qn(co,io,ga,na,so,_i),So=this.k[ro],Ao=this.k[ro+1],Co=On[ro],Ro=On[ro+1],$o=pn(oo,mo,bo,vo,wo,go,So,Ao,Co,Ro),Lo=En(oo,mo,bo,vo,wo,go,So,Ao,Co,Ro);oo=Jn(Ln,Rn),mo=Gn(Ln,Rn),bo=jn(Ln,Rn,yn,kn,Fn),vo=Hn(Ln,Rn,yn,kn,Fn,Cn);var Po=hn(oo,mo,bo,vo),No=Vr(oo,mo,bo,vo);Wn=so,Kn=_i,so=ga,_i=na,ga=co,na=io,co=hn(zn,$a,$o,Lo),io=Vr($a,$a,$o,Lo),zn=Fn,$a=Cn,Fn=yn,Cn=kn,yn=Ln,kn=Rn,Ln=hn($o,Lo,Po,No),Rn=Vr($o,Lo,Po,No)}jr(this.h,0,Ln,Rn),jr(this.h,2,yn,kn),jr(this.h,4,Fn,Cn),jr(this.h,6,zn,$a),jr(this.h,8,co,io),jr(this.h,10,ga,na),jr(this.h,12,so,_i),jr(this.h,14,Wn,Kn)},Vn.prototype._digest=function(Xr){return Xr==="hex"?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")};function Pn(mn,Xr,gn,On,Ln){var Rn=mn&gn^~mn&Ln;return Rn<0&&(Rn+=4294967296),Rn}function qn(mn,Xr,gn,On,Ln,Rn){var yn=Xr&On^~Xr&Rn;return yn<0&&(yn+=4294967296),yn}function jn(mn,Xr,gn,On,Ln){var Rn=mn&gn^mn&Ln^gn&Ln;return Rn<0&&(Rn+=4294967296),Rn}function Hn(mn,Xr,gn,On,Ln,Rn){var yn=Xr&On^Xr&Rn^On&Rn;return yn<0&&(yn+=4294967296),yn}function Jn(mn,Xr){var gn=Ot(mn,Xr,28),On=Ot(Xr,mn,2),Ln=Ot(Xr,mn,7),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function Gn(mn,Xr){var gn=Ft(mn,Xr,28),On=Ft(Xr,mn,2),Ln=Ft(Xr,mn,7),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function ba(mn,Xr){var gn=Ot(mn,Xr,14),On=Ot(mn,Xr,18),Ln=Ot(Xr,mn,9),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function eo(mn,Xr){var gn=Ft(mn,Xr,14),On=Ft(mn,Xr,18),Ln=Ft(Xr,mn,9),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function xa(mn,Xr){var gn=Ot(mn,Xr,1),On=Ot(mn,Xr,8),Ln=Ut(mn,Xr,7),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function Yn(mn,Xr){var gn=Ft(mn,Xr,1),On=Ft(mn,Xr,8),Ln=Xt(mn,Xr,7),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function Un(mn,Xr){var gn=Ot(mn,Xr,19),On=Ot(Xr,mn,29),Ln=Ut(mn,Xr,6),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}function Mn(mn,Xr){var gn=Ft(mn,Xr,19),On=Ft(Xr,mn,29),Ln=Xt(mn,Xr,6),Rn=gn^On^Ln;return Rn<0&&(Rn+=4294967296),Rn}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var _e=requireUtils(),d=require_512();function Mt(){if(!(this instanceof Mt))return new Mt;d.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return _e.inherits(Mt,d),_384=Mt,Mt.blockSize=1024,Mt.outSize=384,Mt.hmacStrength=192,Mt.padLength=128,Mt.prototype._digest=function(Ft){return Ft==="hex"?_e.toHex32(this.h.slice(0,12),"big"):_e.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var _e=requireUtils(),d=requireCommon$1(),Mt=_e.rotl32,Ot=_e.sum32,Ft=_e.sum32_3,Ut=_e.sum32_4,Xt=d.BlockHash;function jr(){if(!(this instanceof jr))return new jr;Xt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_e.inherits(jr,Xt),ripemd.ripemd160=jr,jr.blockSize=512,jr.outSize=160,jr.hmacStrength=192,jr.padLength=64,jr.prototype._update=function(Vn,Pn){for(var qn=this.h[0],jn=this.h[1],Hn=this.h[2],Jn=this.h[3],Gn=this.h[4],ba=qn,eo=jn,xa=Hn,Yn=Jn,Un=Gn,Mn=0;Mn<80;Mn++){var mn=Ot(Mt(Ut(qn,hn(Mn,jn,Hn,Jn),Vn[dn[Mn]+Pn],Vr(Mn)),En[Mn]),Gn);qn=Gn,Gn=Jn,Jn=Mt(Hn,10),Hn=jn,jn=mn,mn=Ot(Mt(Ut(ba,hn(79-Mn,eo,xa,Yn),Vn[pn[Mn]+Pn],fn(Mn)),_n[Mn]),Un),ba=Un,Un=Yn,Yn=Mt(xa,10),xa=eo,eo=mn}mn=Ft(this.h[1],Hn,Yn),this.h[1]=Ft(this.h[2],Jn,Un),this.h[2]=Ft(this.h[3],Gn,ba),this.h[3]=Ft(this.h[4],qn,eo),this.h[4]=Ft(this.h[0],jn,xa),this.h[0]=mn},jr.prototype._digest=function(Vn){return Vn==="hex"?_e.toHex32(this.h,"little"):_e.split32(this.h,"little")};function hn(Dn,Vn,Pn,qn){return Dn<=15?Vn^Pn^qn:Dn<=31?Vn&Pn|~Vn&qn:Dn<=47?(Vn|~Pn)^qn:Dn<=63?Vn&qn|Pn&~qn:Vn^(Pn|~qn)}function Vr(Dn){return Dn<=15?0:Dn<=31?1518500249:Dn<=47?1859775393:Dn<=63?2400959708:2840853838}function fn(Dn){return Dn<=15?1352829926:Dn<=31?1548603684:Dn<=47?1836072691:Dn<=63?2053994217:0}var dn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pn=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],En=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var _e=requireUtils(),d=requireMinimalisticAssert();function Mt(Ot,Ft,Ut){if(!(this instanceof Mt))return new Mt(Ot,Ft,Ut);this.Hash=Ot,this.blockSize=Ot.blockSize/8,this.outSize=Ot.outSize/8,this.inner=null,this.outer=null,this._init(_e.toArray(Ft,Ut))}return hmac=Mt,Mt.prototype._init=function(Ft){Ft.length>this.blockSize&&(Ft=new this.Hash().update(Ft).digest()),d(Ft.length<=this.blockSize);for(var Ut=Ft.length;Ut<this.blockSize;Ut++)Ft.push(0);for(Ut=0;Ut<Ft.length;Ut++)Ft[Ut]^=54;for(this.inner=new this.Hash().update(Ft),Ut=0;Ut<Ft.length;Ut++)Ft[Ut]^=106;this.outer=new this.Hash().update(Ft)},Mt.prototype.update=function(Ft,Ut){return this.inner.update(Ft,Ut),this},Mt.prototype.digest=function(Ft){return this.outer.update(this.inner.digest()),this.outer.digest(Ft)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(_e){var d=_e;d.utils=requireUtils(),d.common=requireCommon$1(),d.sha=requireSha(),d.ripemd=requireRipemd(),d.hmac=requireHmac(),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(_e){var d=_e,Mt=requireHash(),Ot=requireCurve(),Ft=requireUtils$1(),Ut=Ft.assert;function Xt(Vr){Vr.type==="short"?this.curve=new Ot.short(Vr):Vr.type==="edwards"?this.curve=new Ot.edwards(Vr):this.curve=new Ot.mont(Vr),this.g=this.curve.g,this.n=this.curve.n,this.hash=Vr.hash,Ut(this.g.validate(),"Invalid curve"),Ut(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}d.PresetCurve=Xt;function jr(Vr,fn){Object.defineProperty(d,Vr,{configurable:!0,enumerable:!0,get:function(){var dn=new Xt(fn);return Object.defineProperty(d,Vr,{configurable:!0,enumerable:!0,value:dn}),dn}})}jr("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Mt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),jr("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Mt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),jr("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Mt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),jr("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Mt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),jr("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Mt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),jr("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mt.sha256,gRed:!1,g:["9"]}),jr("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var hn;try{hn=requireSecp256k1()}catch{hn=void 0}jr("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Mt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",hn]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var _e=requireHash(),d=requireUtils$2(),Mt=requireMinimalisticAssert();function Ot(Ft){if(!(this instanceof Ot))return new Ot(Ft);this.hash=Ft.hash,this.predResist=!!Ft.predResist,this.outLen=this.hash.outSize,this.minEntropy=Ft.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Ut=d.toArray(Ft.entropy,Ft.entropyEnc||"hex"),Xt=d.toArray(Ft.nonce,Ft.nonceEnc||"hex"),jr=d.toArray(Ft.pers,Ft.persEnc||"hex");Mt(Ut.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Ut,Xt,jr)}return hmacDrbg=Ot,Ot.prototype._init=function(Ut,Xt,jr){var hn=Ut.concat(Xt).concat(jr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Vr=0;Vr<this.V.length;Vr++)this.K[Vr]=0,this.V[Vr]=1;this._update(hn),this._reseed=1,this.reseedInterval=281474976710656},Ot.prototype._hmac=function(){return new _e.hmac(this.hash,this.K)},Ot.prototype._update=function(Ut){var Xt=this._hmac().update(this.V).update([0]);Ut&&(Xt=Xt.update(Ut)),this.K=Xt.digest(),this.V=this._hmac().update(this.V).digest(),Ut&&(this.K=this._hmac().update(this.V).update([1]).update(Ut).digest(),this.V=this._hmac().update(this.V).digest())},Ot.prototype.reseed=function(Ut,Xt,jr,hn){typeof Xt!="string"&&(hn=jr,jr=Xt,Xt=null),Ut=d.toArray(Ut,Xt),jr=d.toArray(jr,hn),Mt(Ut.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Ut.concat(jr||[])),this._reseed=1},Ot.prototype.generate=function(Ut,Xt,jr,hn){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Xt!="string"&&(hn=jr,jr=Xt,Xt=null),jr&&(jr=d.toArray(jr,hn||"hex"),this._update(jr));for(var Vr=[];Vr.length<Ut;)this.V=this._hmac().update(this.V).digest(),Vr=Vr.concat(this.V);var fn=Vr.slice(0,Ut);return this._update(jr),this._reseed++,d.encode(fn,Xt)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var _e=requireBn$1(),d=requireUtils$1(),Mt=d.assert;function Ot(Ft,Ut){this.ec=Ft,this.priv=null,this.pub=null,Ut.priv&&this._importPrivate(Ut.priv,Ut.privEnc),Ut.pub&&this._importPublic(Ut.pub,Ut.pubEnc)}return key$1=Ot,Ot.fromPublic=function(Ut,Xt,jr){return Xt instanceof Ot?Xt:new Ot(Ut,{pub:Xt,pubEnc:jr})},Ot.fromPrivate=function(Ut,Xt,jr){return Xt instanceof Ot?Xt:new Ot(Ut,{priv:Xt,privEnc:jr})},Ot.prototype.validate=function(){var Ut=this.getPublic();return Ut.isInfinity()?{result:!1,reason:"Invalid public key"}:Ut.validate()?Ut.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ot.prototype.getPublic=function(Ut,Xt){return typeof Ut=="string"&&(Xt=Ut,Ut=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Xt?this.pub.encode(Xt,Ut):this.pub},Ot.prototype.getPrivate=function(Ut){return Ut==="hex"?this.priv.toString(16,2):this.priv},Ot.prototype._importPrivate=function(Ut,Xt){this.priv=new _e(Ut,Xt||16),this.priv=this.priv.umod(this.ec.curve.n)},Ot.prototype._importPublic=function(Ut,Xt){if(Ut.x||Ut.y){this.ec.curve.type==="mont"?Mt(Ut.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Mt(Ut.x&&Ut.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(Ut.x,Ut.y);return}this.pub=this.ec.curve.decodePoint(Ut,Xt)},Ot.prototype.derive=function(Ut){return Ut.validate()||Mt(Ut.validate(),"public point not validated"),Ut.mul(this.priv).getX()},Ot.prototype.sign=function(Ut,Xt,jr){return this.ec.sign(Ut,this,Xt,jr)},Ot.prototype.verify=function(Ut,Xt,jr){return this.ec.verify(Ut,Xt,this,void 0,jr)},Ot.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var _e=requireBn$1(),d=requireUtils$1(),Mt=d.assert;function Ot(hn,Vr){if(hn instanceof Ot)return hn;this._importDER(hn,Vr)||(Mt(hn.r&&hn.s,"Signature without r or s"),this.r=new _e(hn.r,16),this.s=new _e(hn.s,16),hn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=hn.recoveryParam)}signature$1=Ot;function Ft(){this.place=0}function Ut(hn,Vr){var fn=hn[Vr.place++];if(!(fn&128))return fn;var dn=fn&15;if(dn===0||dn>4||hn[Vr.place]===0)return!1;for(var pn=0,En=0,_n=Vr.place;En<dn;En++,_n++)pn<<=8,pn|=hn[_n],pn>>>=0;return pn<=127?!1:(Vr.place=_n,pn)}function Xt(hn){for(var Vr=0,fn=hn.length-1;!hn[Vr]&&!(hn[Vr+1]&128)&&Vr<fn;)Vr++;return Vr===0?hn:hn.slice(Vr)}Ot.prototype._importDER=function(Vr,fn){Vr=d.toArray(Vr,fn);var dn=new Ft;if(Vr[dn.place++]!==48)return!1;var pn=Ut(Vr,dn);if(pn===!1||pn+dn.place!==Vr.length||Vr[dn.place++]!==2)return!1;var En=Ut(Vr,dn);if(En===!1||Vr[dn.place]&128)return!1;var _n=Vr.slice(dn.place,En+dn.place);if(dn.place+=En,Vr[dn.place++]!==2)return!1;var Dn=Ut(Vr,dn);if(Dn===!1||Vr.length!==Dn+dn.place||Vr[dn.place]&128)return!1;var Vn=Vr.slice(dn.place,Dn+dn.place);if(_n[0]===0)if(_n[1]&128)_n=_n.slice(1);else return!1;if(Vn[0]===0)if(Vn[1]&128)Vn=Vn.slice(1);else return!1;return this.r=new _e(_n),this.s=new _e(Vn),this.recoveryParam=null,!0};function jr(hn,Vr){if(Vr<128){hn.push(Vr);return}var fn=1+(Math.log(Vr)/Math.LN2>>>3);for(hn.push(fn|128);--fn;)hn.push(Vr>>>(fn<<3)&255);hn.push(Vr)}return Ot.prototype.toDER=function(Vr){var fn=this.r.toArray(),dn=this.s.toArray();for(fn[0]&128&&(fn=[0].concat(fn)),dn[0]&128&&(dn=[0].concat(dn)),fn=Xt(fn),dn=Xt(dn);!dn[0]&&!(dn[1]&128);)dn=dn.slice(1);var pn=[2];jr(pn,fn.length),pn=pn.concat(fn),pn.push(2),jr(pn,dn.length);var En=pn.concat(dn),_n=[48];return jr(_n,En.length),_n=_n.concat(En),d.encode(_n,Vr)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var _e=requireBn$1(),d=requireHmacDrbg(),Mt=requireUtils$1(),Ot=requireCurves(),Ft=requireBrorand(),Ut=Mt.assert,Xt=requireKey$1(),jr=requireSignature$1();function hn(Vr){if(!(this instanceof hn))return new hn(Vr);typeof Vr=="string"&&(Ut(Object.prototype.hasOwnProperty.call(Ot,Vr),"Unknown curve "+Vr),Vr=Ot[Vr]),Vr instanceof Ot.PresetCurve&&(Vr={curve:Vr}),this.curve=Vr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Vr.curve.g,this.g.precompute(Vr.curve.n.bitLength()+1),this.hash=Vr.hash||Vr.curve.hash}return ec=hn,hn.prototype.keyPair=function(fn){return new Xt(this,fn)},hn.prototype.keyFromPrivate=function(fn,dn){return Xt.fromPrivate(this,fn,dn)},hn.prototype.keyFromPublic=function(fn,dn){return Xt.fromPublic(this,fn,dn)},hn.prototype.genKeyPair=function(fn){fn||(fn={});for(var dn=new d({hash:this.hash,pers:fn.pers,persEnc:fn.persEnc||"utf8",entropy:fn.entropy||Ft(this.hash.hmacStrength),entropyEnc:fn.entropy&&fn.entropyEnc||"utf8",nonce:this.n.toArray()}),pn=this.n.byteLength(),En=this.n.sub(new _e(2));;){var _n=new _e(dn.generate(pn));if(!(_n.cmp(En)>0))return _n.iaddn(1),this.keyFromPrivate(_n)}},hn.prototype._truncateToN=function(fn,dn,pn){var En;if(_e.isBN(fn)||typeof fn=="number")fn=new _e(fn,16),En=fn.byteLength();else if(typeof fn=="object")En=fn.length,fn=new _e(fn,16);else{var _n=fn.toString();En=_n.length+1>>>1,fn=new _e(_n,16)}typeof pn!="number"&&(pn=En*8);var Dn=pn-this.n.bitLength();return Dn>0&&(fn=fn.ushrn(Dn)),!dn&&fn.cmp(this.n)>=0?fn.sub(this.n):fn},hn.prototype.sign=function(fn,dn,pn,En){if(typeof pn=="object"&&(En=pn,pn=null),En||(En={}),typeof fn!="string"&&typeof fn!="number"&&!_e.isBN(fn)){Ut(typeof fn=="object"&&fn&&typeof fn.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ut(fn.length>>>0===fn.length);for(var _n=0;_n<fn.length;_n++)Ut((fn[_n]&255)===fn[_n])}dn=this.keyFromPrivate(dn,pn),fn=this._truncateToN(fn,!1,En.msgBitLength),Ut(!fn.isNeg(),"Can not sign a negative message");var Dn=this.n.byteLength(),Vn=dn.getPrivate().toArray("be",Dn),Pn=fn.toArray("be",Dn);Ut(new _e(Pn).eq(fn),"Can not sign message");for(var qn=new d({hash:this.hash,entropy:Vn,nonce:Pn,pers:En.pers,persEnc:En.persEnc||"utf8"}),jn=this.n.sub(new _e(1)),Hn=0;;Hn++){var Jn=En.k?En.k(Hn):new _e(qn.generate(this.n.byteLength()));if(Jn=this._truncateToN(Jn,!0),!(Jn.cmpn(1)<=0||Jn.cmp(jn)>=0)){var Gn=this.g.mul(Jn);if(!Gn.isInfinity()){var ba=Gn.getX(),eo=ba.umod(this.n);if(eo.cmpn(0)!==0){var xa=Jn.invm(this.n).mul(eo.mul(dn.getPrivate()).iadd(fn));if(xa=xa.umod(this.n),xa.cmpn(0)!==0){var Yn=(Gn.getY().isOdd()?1:0)|(ba.cmp(eo)!==0?2:0);return En.canonical&&xa.cmp(this.nh)>0&&(xa=this.n.sub(xa),Yn^=1),new jr({r:eo,s:xa,recoveryParam:Yn})}}}}}},hn.prototype.verify=function(fn,dn,pn,En,_n){_n||(_n={}),fn=this._truncateToN(fn,!1,_n.msgBitLength),pn=this.keyFromPublic(pn,En),dn=new jr(dn,"hex");var Dn=dn.r,Vn=dn.s;if(Dn.cmpn(1)<0||Dn.cmp(this.n)>=0||Vn.cmpn(1)<0||Vn.cmp(this.n)>=0)return!1;var Pn=Vn.invm(this.n),qn=Pn.mul(fn).umod(this.n),jn=Pn.mul(Dn).umod(this.n),Hn;return this.curve._maxwellTrick?(Hn=this.g.jmulAdd(qn,pn.getPublic(),jn),Hn.isInfinity()?!1:Hn.eqXToP(Dn)):(Hn=this.g.mulAdd(qn,pn.getPublic(),jn),Hn.isInfinity()?!1:Hn.getX().umod(this.n).cmp(Dn)===0)},hn.prototype.recoverPubKey=function(Vr,fn,dn,pn){Ut((3&dn)===dn,"The recovery param is more than two bits"),fn=new jr(fn,pn);var En=this.n,_n=new _e(Vr),Dn=fn.r,Vn=fn.s,Pn=dn&1,qn=dn>>1;if(Dn.cmp(this.curve.p.umod(this.curve.n))>=0&&qn)throw new Error("Unable to find sencond key candinate");qn?Dn=this.curve.pointFromX(Dn.add(this.curve.n),Pn):Dn=this.curve.pointFromX(Dn,Pn);var jn=fn.r.invm(En),Hn=En.sub(_n).mul(jn).umod(En),Jn=Vn.mul(jn).umod(En);return this.g.mulAdd(Hn,Dn,Jn)},hn.prototype.getKeyRecoveryParam=function(Vr,fn,dn,pn){if(fn=new jr(fn,pn),fn.recoveryParam!==null)return fn.recoveryParam;for(var En=0;En<4;En++){var _n;try{_n=this.recoverPubKey(Vr,fn,En)}catch{continue}if(_n.eq(dn))return En}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var _e=requireUtils$1(),d=_e.assert,Mt=_e.parseBytes,Ot=_e.cachedProperty;function Ft(Ut,Xt){this.eddsa=Ut,this._secret=Mt(Xt.secret),Ut.isPoint(Xt.pub)?this._pub=Xt.pub:this._pubBytes=Mt(Xt.pub)}return Ft.fromPublic=function(Xt,jr){return jr instanceof Ft?jr:new Ft(Xt,{pub:jr})},Ft.fromSecret=function(Xt,jr){return jr instanceof Ft?jr:new Ft(Xt,{secret:jr})},Ft.prototype.secret=function(){return this._secret},Ot(Ft,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),Ot(Ft,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),Ot(Ft,"privBytes",function(){var Xt=this.eddsa,jr=this.hash(),hn=Xt.encodingLength-1,Vr=jr.slice(0,Xt.encodingLength);return Vr[0]&=248,Vr[hn]&=127,Vr[hn]|=64,Vr}),Ot(Ft,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),Ot(Ft,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),Ot(Ft,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),Ft.prototype.sign=function(Xt){return d(this._secret,"KeyPair can only verify"),this.eddsa.sign(Xt,this)},Ft.prototype.verify=function(Xt,jr){return this.eddsa.verify(Xt,jr,this)},Ft.prototype.getSecret=function(Xt){return d(this._secret,"KeyPair is public only"),_e.encode(this.secret(),Xt)},Ft.prototype.getPublic=function(Xt){return _e.encode(this.pubBytes(),Xt)},key=Ft,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var _e=requireBn$1(),d=requireUtils$1(),Mt=d.assert,Ot=d.cachedProperty,Ft=d.parseBytes;function Ut(Xt,jr){this.eddsa=Xt,typeof jr!="object"&&(jr=Ft(jr)),Array.isArray(jr)&&(Mt(jr.length===Xt.encodingLength*2,"Signature has invalid size"),jr={R:jr.slice(0,Xt.encodingLength),S:jr.slice(Xt.encodingLength)}),Mt(jr.R&&jr.S,"Signature without R or S"),Xt.isPoint(jr.R)&&(this._R=jr.R),jr.S instanceof _e&&(this._S=jr.S),this._Rencoded=Array.isArray(jr.R)?jr.R:jr.Rencoded,this._Sencoded=Array.isArray(jr.S)?jr.S:jr.Sencoded}return Ot(Ut,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Ot(Ut,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Ot(Ut,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Ot(Ut,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Ut.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ut.prototype.toHex=function(){return d.encode(this.toBytes(),"hex").toUpperCase()},signature=Ut,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var _e=requireHash(),d=requireCurves(),Mt=requireUtils$1(),Ot=Mt.assert,Ft=Mt.parseBytes,Ut=requireKey(),Xt=requireSignature();function jr(hn){if(Ot(hn==="ed25519","only tested with ed25519 so far"),!(this instanceof jr))return new jr(hn);hn=d[hn].curve,this.curve=hn,this.g=hn.g,this.g.precompute(hn.n.bitLength()+1),this.pointClass=hn.point().constructor,this.encodingLength=Math.ceil(hn.n.bitLength()/8),this.hash=_e.sha512}return eddsa=jr,jr.prototype.sign=function(Vr,fn){Vr=Ft(Vr);var dn=this.keyFromSecret(fn),pn=this.hashInt(dn.messagePrefix(),Vr),En=this.g.mul(pn),_n=this.encodePoint(En),Dn=this.hashInt(_n,dn.pubBytes(),Vr).mul(dn.priv()),Vn=pn.add(Dn).umod(this.curve.n);return this.makeSignature({R:En,S:Vn,Rencoded:_n})},jr.prototype.verify=function(Vr,fn,dn){if(Vr=Ft(Vr),fn=this.makeSignature(fn),fn.S().gte(fn.eddsa.curve.n)||fn.S().isNeg())return!1;var pn=this.keyFromPublic(dn),En=this.hashInt(fn.Rencoded(),pn.pubBytes(),Vr),_n=this.g.mul(fn.S()),Dn=fn.R().add(pn.pub().mul(En));return Dn.eq(_n)},jr.prototype.hashInt=function(){for(var Vr=this.hash(),fn=0;fn<arguments.length;fn++)Vr.update(arguments[fn]);return Mt.intFromLE(Vr.digest()).umod(this.curve.n)},jr.prototype.keyFromPublic=function(Vr){return Ut.fromPublic(this,Vr)},jr.prototype.keyFromSecret=function(Vr){return Ut.fromSecret(this,Vr)},jr.prototype.makeSignature=function(Vr){return Vr instanceof Xt?Vr:new Xt(this,Vr)},jr.prototype.encodePoint=function(Vr){var fn=Vr.getY().toArray("le",this.encodingLength);return fn[this.encodingLength-1]|=Vr.getX().isOdd()?128:0,fn},jr.prototype.decodePoint=function(Vr){Vr=Mt.parseBytes(Vr);var fn=Vr.length-1,dn=Vr.slice(0,fn).concat(Vr[fn]&-129),pn=(Vr[fn]&128)!==0,En=Mt.intFromLE(dn);return this.curve.pointFromY(En,pn)},jr.prototype.encodeInt=function(Vr){return Vr.toArray("le",this.encodingLength)},jr.prototype.decodeInt=function(Vr){return Mt.intFromLE(Vr)},jr.prototype.isPoint=function(Vr){return Vr instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(_e){var d=_e;d.version=require$$0.version,d.utils=requireUtils$1(),d.rand=requireBrorand(),d.curve=requireCurve(),d.curves=requireCurves(),d.ec=requireEc(),d.eddsa=requireEddsa()}(elliptic)),elliptic}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(_e){(function(d,Mt){function Ot(mn,Xr){if(!mn)throw new Error(Xr||"Assertion failed")}function Ft(mn,Xr){mn.super_=Xr;var gn=function(){};gn.prototype=Xr.prototype,mn.prototype=new gn,mn.prototype.constructor=mn}function Ut(mn,Xr,gn){if(Ut.isBN(mn))return mn;this.negative=0,this.words=null,this.length=0,this.red=null,mn!==null&&((Xr==="le"||Xr==="be")&&(gn=Xr,Xr=10),this._init(mn||0,Xr||10,gn||"be"))}typeof d=="object"?d.exports=Ut:Mt.BN=Ut,Ut.BN=Ut,Ut.wordSize=26;var Xt;try{typeof window<"u"&&typeof window.Buffer<"u"?Xt=window.Buffer:Xt=require$$1$2.Buffer}catch{}Ut.isBN=function(Xr){return Xr instanceof Ut?!0:Xr!==null&&typeof Xr=="object"&&Xr.constructor.wordSize===Ut.wordSize&&Array.isArray(Xr.words)},Ut.max=function(Xr,gn){return Xr.cmp(gn)>0?Xr:gn},Ut.min=function(Xr,gn){return Xr.cmp(gn)<0?Xr:gn},Ut.prototype._init=function(Xr,gn,On){if(typeof Xr=="number")return this._initNumber(Xr,gn,On);if(typeof Xr=="object")return this._initArray(Xr,gn,On);gn==="hex"&&(gn=16),Ot(gn===(gn|0)&&gn>=2&&gn<=36),Xr=Xr.toString().replace(/\s+/g,"");var Ln=0;Xr[0]==="-"&&(Ln++,this.negative=1),Ln<Xr.length&&(gn===16?this._parseHex(Xr,Ln,On):(this._parseBase(Xr,gn,Ln),On==="le"&&this._initArray(this.toArray(),gn,On)))},Ut.prototype._initNumber=function(Xr,gn,On){Xr<0&&(this.negative=1,Xr=-Xr),Xr<67108864?(this.words=[Xr&67108863],this.length=1):Xr<4503599627370496?(this.words=[Xr&67108863,Xr/67108864&67108863],this.length=2):(Ot(Xr<9007199254740992),this.words=[Xr&67108863,Xr/67108864&67108863,1],this.length=3),On==="le"&&this._initArray(this.toArray(),gn,On)},Ut.prototype._initArray=function(Xr,gn,On){if(Ot(typeof Xr.length=="number"),Xr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Xr.length/3),this.words=new Array(this.length);for(var Ln=0;Ln<this.length;Ln++)this.words[Ln]=0;var Rn,yn,kn=0;if(On==="be")for(Ln=Xr.length-1,Rn=0;Ln>=0;Ln-=3)yn=Xr[Ln]|Xr[Ln-1]<<8|Xr[Ln-2]<<16,this.words[Rn]|=yn<<kn&67108863,this.words[Rn+1]=yn>>>26-kn&67108863,kn+=24,kn>=26&&(kn-=26,Rn++);else if(On==="le")for(Ln=0,Rn=0;Ln<Xr.length;Ln+=3)yn=Xr[Ln]|Xr[Ln+1]<<8|Xr[Ln+2]<<16,this.words[Rn]|=yn<<kn&67108863,this.words[Rn+1]=yn>>>26-kn&67108863,kn+=24,kn>=26&&(kn-=26,Rn++);return this._strip()};function jr(mn,Xr){var gn=mn.charCodeAt(Xr);if(gn>=48&&gn<=57)return gn-48;if(gn>=65&&gn<=70)return gn-55;if(gn>=97&&gn<=102)return gn-87;Ot(!1,"Invalid character in "+mn)}function hn(mn,Xr,gn){var On=jr(mn,gn);return gn-1>=Xr&&(On|=jr(mn,gn-1)<<4),On}Ut.prototype._parseHex=function(Xr,gn,On){this.length=Math.ceil((Xr.length-gn)/6),this.words=new Array(this.length);for(var Ln=0;Ln<this.length;Ln++)this.words[Ln]=0;var Rn=0,yn=0,kn;if(On==="be")for(Ln=Xr.length-1;Ln>=gn;Ln-=2)kn=hn(Xr,gn,Ln)<<Rn,this.words[yn]|=kn&67108863,Rn>=18?(Rn-=18,yn+=1,this.words[yn]|=kn>>>26):Rn+=8;else{var Fn=Xr.length-gn;for(Ln=Fn%2===0?gn+1:gn;Ln<Xr.length;Ln+=2)kn=hn(Xr,gn,Ln)<<Rn,this.words[yn]|=kn&67108863,Rn>=18?(Rn-=18,yn+=1,this.words[yn]|=kn>>>26):Rn+=8}this._strip()};function Vr(mn,Xr,gn,On){for(var Ln=0,Rn=0,yn=Math.min(mn.length,gn),kn=Xr;kn<yn;kn++){var Fn=mn.charCodeAt(kn)-48;Ln*=On,Fn>=49?Rn=Fn-49+10:Fn>=17?Rn=Fn-17+10:Rn=Fn,Ot(Fn>=0&&Rn<On,"Invalid character"),Ln+=Rn}return Ln}Ut.prototype._parseBase=function(Xr,gn,On){this.words=[0],this.length=1;for(var Ln=0,Rn=1;Rn<=67108863;Rn*=gn)Ln++;Ln--,Rn=Rn/gn|0;for(var yn=Xr.length-On,kn=yn%Ln,Fn=Math.min(yn,yn-kn)+On,Cn=0,zn=On;zn<Fn;zn+=Ln)Cn=Vr(Xr,zn,zn+Ln,gn),this.imuln(Rn),this.words[0]+Cn<67108864?this.words[0]+=Cn:this._iaddn(Cn);if(kn!==0){var $a=1;for(Cn=Vr(Xr,zn,Xr.length,gn),zn=0;zn<kn;zn++)$a*=gn;this.imuln($a),this.words[0]+Cn<67108864?this.words[0]+=Cn:this._iaddn(Cn)}this._strip()},Ut.prototype.copy=function(Xr){Xr.words=new Array(this.length);for(var gn=0;gn<this.length;gn++)Xr.words[gn]=this.words[gn];Xr.length=this.length,Xr.negative=this.negative,Xr.red=this.red};function fn(mn,Xr){mn.words=Xr.words,mn.length=Xr.length,mn.negative=Xr.negative,mn.red=Xr.red}if(Ut.prototype._move=function(Xr){fn(Xr,this)},Ut.prototype.clone=function(){var Xr=new Ut(null);return this.copy(Xr),Xr},Ut.prototype._expand=function(Xr){for(;this.length<Xr;)this.words[this.length++]=0;return this},Ut.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ut.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=dn}catch{Ut.prototype.inspect=dn}else Ut.prototype.inspect=dn;function dn(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var pn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],En=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_n=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ut.prototype.toString=function(Xr,gn){Xr=Xr||10,gn=gn|0||1;var On;if(Xr===16||Xr==="hex"){On="";for(var Ln=0,Rn=0,yn=0;yn<this.length;yn++){var kn=this.words[yn],Fn=((kn<<Ln|Rn)&16777215).toString(16);Rn=kn>>>24-Ln&16777215,Ln+=2,Ln>=26&&(Ln-=26,yn--),Rn!==0||yn!==this.length-1?On=pn[6-Fn.length]+Fn+On:On=Fn+On}for(Rn!==0&&(On=Rn.toString(16)+On);On.length%gn!==0;)On="0"+On;return this.negative!==0&&(On="-"+On),On}if(Xr===(Xr|0)&&Xr>=2&&Xr<=36){var Cn=En[Xr],zn=_n[Xr];On="";var $a=this.clone();for($a.negative=0;!$a.isZero();){var co=$a.modrn(zn).toString(Xr);$a=$a.idivn(zn),$a.isZero()?On=co+On:On=pn[Cn-co.length]+co+On}for(this.isZero()&&(On="0"+On);On.length%gn!==0;)On="0"+On;return this.negative!==0&&(On="-"+On),On}Ot(!1,"Base should be between 2 and 36")},Ut.prototype.toNumber=function(){var Xr=this.words[0];return this.length===2?Xr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Xr+=4503599627370496+this.words[1]*67108864:this.length>2&&Ot(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Xr:Xr},Ut.prototype.toJSON=function(){return this.toString(16,2)},Xt&&(Ut.prototype.toBuffer=function(Xr,gn){return this.toArrayLike(Xt,Xr,gn)}),Ut.prototype.toArray=function(Xr,gn){return this.toArrayLike(Array,Xr,gn)};var Dn=function(Xr,gn){return Xr.allocUnsafe?Xr.allocUnsafe(gn):new Xr(gn)};Ut.prototype.toArrayLike=function(Xr,gn,On){this._strip();var Ln=this.byteLength(),Rn=On||Math.max(1,Ln);Ot(Ln<=Rn,"byte array longer than desired length"),Ot(Rn>0,"Requested array length <= 0");var yn=Dn(Xr,Rn),kn=gn==="le"?"LE":"BE";return this["_toArrayLike"+kn](yn,Ln),yn},Ut.prototype._toArrayLikeLE=function(Xr,gn){for(var On=0,Ln=0,Rn=0,yn=0;Rn<this.length;Rn++){var kn=this.words[Rn]<<yn|Ln;Xr[On++]=kn&255,On<Xr.length&&(Xr[On++]=kn>>8&255),On<Xr.length&&(Xr[On++]=kn>>16&255),yn===6?(On<Xr.length&&(Xr[On++]=kn>>24&255),Ln=0,yn=0):(Ln=kn>>>24,yn+=2)}if(On<Xr.length)for(Xr[On++]=Ln;On<Xr.length;)Xr[On++]=0},Ut.prototype._toArrayLikeBE=function(Xr,gn){for(var On=Xr.length-1,Ln=0,Rn=0,yn=0;Rn<this.length;Rn++){var kn=this.words[Rn]<<yn|Ln;Xr[On--]=kn&255,On>=0&&(Xr[On--]=kn>>8&255),On>=0&&(Xr[On--]=kn>>16&255),yn===6?(On>=0&&(Xr[On--]=kn>>24&255),Ln=0,yn=0):(Ln=kn>>>24,yn+=2)}if(On>=0)for(Xr[On--]=Ln;On>=0;)Xr[On--]=0},Math.clz32?Ut.prototype._countBits=function(Xr){return 32-Math.clz32(Xr)}:Ut.prototype._countBits=function(Xr){var gn=Xr,On=0;return gn>=4096&&(On+=13,gn>>>=13),gn>=64&&(On+=7,gn>>>=7),gn>=8&&(On+=4,gn>>>=4),gn>=2&&(On+=2,gn>>>=2),On+gn},Ut.prototype._zeroBits=function(Xr){if(Xr===0)return 26;var gn=Xr,On=0;return gn&8191||(On+=13,gn>>>=13),gn&127||(On+=7,gn>>>=7),gn&15||(On+=4,gn>>>=4),gn&3||(On+=2,gn>>>=2),gn&1||On++,On},Ut.prototype.bitLength=function(){var Xr=this.words[this.length-1],gn=this._countBits(Xr);return(this.length-1)*26+gn};function Vn(mn){for(var Xr=new Array(mn.bitLength()),gn=0;gn<Xr.length;gn++){var On=gn/26|0,Ln=gn%26;Xr[gn]=mn.words[On]>>>Ln&1}return Xr}Ut.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Xr=0,gn=0;gn<this.length;gn++){var On=this._zeroBits(this.words[gn]);if(Xr+=On,On!==26)break}return Xr},Ut.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ut.prototype.toTwos=function(Xr){return this.negative!==0?this.abs().inotn(Xr).iaddn(1):this.clone()},Ut.prototype.fromTwos=function(Xr){return this.testn(Xr-1)?this.notn(Xr).iaddn(1).ineg():this.clone()},Ut.prototype.isNeg=function(){return this.negative!==0},Ut.prototype.neg=function(){return this.clone().ineg()},Ut.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ut.prototype.iuor=function(Xr){for(;this.length<Xr.length;)this.words[this.length++]=0;for(var gn=0;gn<Xr.length;gn++)this.words[gn]=this.words[gn]|Xr.words[gn];return this._strip()},Ut.prototype.ior=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuor(Xr)},Ut.prototype.or=function(Xr){return this.length>Xr.length?this.clone().ior(Xr):Xr.clone().ior(this)},Ut.prototype.uor=function(Xr){return this.length>Xr.length?this.clone().iuor(Xr):Xr.clone().iuor(this)},Ut.prototype.iuand=function(Xr){var gn;this.length>Xr.length?gn=Xr:gn=this;for(var On=0;On<gn.length;On++)this.words[On]=this.words[On]&Xr.words[On];return this.length=gn.length,this._strip()},Ut.prototype.iand=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuand(Xr)},Ut.prototype.and=function(Xr){return this.length>Xr.length?this.clone().iand(Xr):Xr.clone().iand(this)},Ut.prototype.uand=function(Xr){return this.length>Xr.length?this.clone().iuand(Xr):Xr.clone().iuand(this)},Ut.prototype.iuxor=function(Xr){var gn,On;this.length>Xr.length?(gn=this,On=Xr):(gn=Xr,On=this);for(var Ln=0;Ln<On.length;Ln++)this.words[Ln]=gn.words[Ln]^On.words[Ln];if(this!==gn)for(;Ln<gn.length;Ln++)this.words[Ln]=gn.words[Ln];return this.length=gn.length,this._strip()},Ut.prototype.ixor=function(Xr){return Ot((this.negative|Xr.negative)===0),this.iuxor(Xr)},Ut.prototype.xor=function(Xr){return this.length>Xr.length?this.clone().ixor(Xr):Xr.clone().ixor(this)},Ut.prototype.uxor=function(Xr){return this.length>Xr.length?this.clone().iuxor(Xr):Xr.clone().iuxor(this)},Ut.prototype.inotn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Math.ceil(Xr/26)|0,On=Xr%26;this._expand(gn),On>0&&gn--;for(var Ln=0;Ln<gn;Ln++)this.words[Ln]=~this.words[Ln]&67108863;return On>0&&(this.words[Ln]=~this.words[Ln]&67108863>>26-On),this._strip()},Ut.prototype.notn=function(Xr){return this.clone().inotn(Xr)},Ut.prototype.setn=function(Xr,gn){Ot(typeof Xr=="number"&&Xr>=0);var On=Xr/26|0,Ln=Xr%26;return this._expand(On+1),gn?this.words[On]=this.words[On]|1<<Ln:this.words[On]=this.words[On]&~(1<<Ln),this._strip()},Ut.prototype.iadd=function(Xr){var gn;if(this.negative!==0&&Xr.negative===0)return this.negative=0,gn=this.isub(Xr),this.negative^=1,this._normSign();if(this.negative===0&&Xr.negative!==0)return Xr.negative=0,gn=this.isub(Xr),Xr.negative=1,gn._normSign();var On,Ln;this.length>Xr.length?(On=this,Ln=Xr):(On=Xr,Ln=this);for(var Rn=0,yn=0;yn<Ln.length;yn++)gn=(On.words[yn]|0)+(Ln.words[yn]|0)+Rn,this.words[yn]=gn&67108863,Rn=gn>>>26;for(;Rn!==0&&yn<On.length;yn++)gn=(On.words[yn]|0)+Rn,this.words[yn]=gn&67108863,Rn=gn>>>26;if(this.length=On.length,Rn!==0)this.words[this.length]=Rn,this.length++;else if(On!==this)for(;yn<On.length;yn++)this.words[yn]=On.words[yn];return this},Ut.prototype.add=function(Xr){var gn;return Xr.negative!==0&&this.negative===0?(Xr.negative=0,gn=this.sub(Xr),Xr.negative^=1,gn):Xr.negative===0&&this.negative!==0?(this.negative=0,gn=Xr.sub(this),this.negative=1,gn):this.length>Xr.length?this.clone().iadd(Xr):Xr.clone().iadd(this)},Ut.prototype.isub=function(Xr){if(Xr.negative!==0){Xr.negative=0;var gn=this.iadd(Xr);return Xr.negative=1,gn._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Xr),this.negative=1,this._normSign();var On=this.cmp(Xr);if(On===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ln,Rn;On>0?(Ln=this,Rn=Xr):(Ln=Xr,Rn=this);for(var yn=0,kn=0;kn<Rn.length;kn++)gn=(Ln.words[kn]|0)-(Rn.words[kn]|0)+yn,yn=gn>>26,this.words[kn]=gn&67108863;for(;yn!==0&&kn<Ln.length;kn++)gn=(Ln.words[kn]|0)+yn,yn=gn>>26,this.words[kn]=gn&67108863;if(yn===0&&kn<Ln.length&&Ln!==this)for(;kn<Ln.length;kn++)this.words[kn]=Ln.words[kn];return this.length=Math.max(this.length,kn),Ln!==this&&(this.negative=1),this._strip()},Ut.prototype.sub=function(Xr){return this.clone().isub(Xr)};function Pn(mn,Xr,gn){gn.negative=Xr.negative^mn.negative;var On=mn.length+Xr.length|0;gn.length=On,On=On-1|0;var Ln=mn.words[0]|0,Rn=Xr.words[0]|0,yn=Ln*Rn,kn=yn&67108863,Fn=yn/67108864|0;gn.words[0]=kn;for(var Cn=1;Cn<On;Cn++){for(var zn=Fn>>>26,$a=Fn&67108863,co=Math.min(Cn,Xr.length-1),io=Math.max(0,Cn-mn.length+1);io<=co;io++){var ga=Cn-io|0;Ln=mn.words[ga]|0,Rn=Xr.words[io]|0,yn=Ln*Rn+$a,zn+=yn/67108864|0,$a=yn&67108863}gn.words[Cn]=$a|0,Fn=zn|0}return Fn!==0?gn.words[Cn]=Fn|0:gn.length--,gn._strip()}var qn=function(Xr,gn,On){var Ln=Xr.words,Rn=gn.words,yn=On.words,kn=0,Fn,Cn,zn,$a=Ln[0]|0,co=$a&8191,io=$a>>>13,ga=Ln[1]|0,na=ga&8191,so=ga>>>13,_i=Ln[2]|0,Wn=_i&8191,Kn=_i>>>13,ro=Ln[3]|0,oo=ro&8191,mo=ro>>>13,bo=Ln[4]|0,vo=bo&8191,wo=bo>>>13,go=Ln[5]|0,So=go&8191,Ao=go>>>13,Co=Ln[6]|0,Ro=Co&8191,$o=Co>>>13,Lo=Ln[7]|0,Po=Lo&8191,No=Lo>>>13,Go=Ln[8]|0,Zo=Go&8191,to=Go>>>13,Zn=Ln[9]|0,Qn=Zn&8191,lo=Zn>>>13,Eo=Rn[0]|0,xo=Eo&8191,_o=Eo>>>13,jo=Rn[1]|0,Ho=jo&8191,Fo=jo>>>13,as=Rn[2]|0,zo=as&8191,Qo=as>>>13,Ss=Rn[3]|0,ss=Ss&8191,rs=Ss>>>13,Ts=Rn[4]|0,ys=Ts&8191,us=Ts>>>13,Cs=Rn[5]|0,vs=Cs&8191,ns=Cs>>>13,Os=Rn[6]|0,_a=Os&8191,ao=Os>>>13,fo=Rn[7]|0,Xn=fo&8191,uo=fo>>>13,Bo=Rn[8]|0,Mo=Bo&8191,Do=Bo>>>13,Xo=Rn[9]|0,es=Xo&8191,Jo=Xo>>>13;On.negative=Xr.negative^gn.negative,On.length=19,Fn=Math.imul(co,xo),Cn=Math.imul(co,_o),Cn=Cn+Math.imul(io,xo)|0,zn=Math.imul(io,_o);var Rs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Fn=Math.imul(na,xo),Cn=Math.imul(na,_o),Cn=Cn+Math.imul(so,xo)|0,zn=Math.imul(so,_o),Fn=Fn+Math.imul(co,Ho)|0,Cn=Cn+Math.imul(co,Fo)|0,Cn=Cn+Math.imul(io,Ho)|0,zn=zn+Math.imul(io,Fo)|0;var hs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(hs>>>26)|0,hs&=67108863,Fn=Math.imul(Wn,xo),Cn=Math.imul(Wn,_o),Cn=Cn+Math.imul(Kn,xo)|0,zn=Math.imul(Kn,_o),Fn=Fn+Math.imul(na,Ho)|0,Cn=Cn+Math.imul(na,Fo)|0,Cn=Cn+Math.imul(so,Ho)|0,zn=zn+Math.imul(so,Fo)|0,Fn=Fn+Math.imul(co,zo)|0,Cn=Cn+Math.imul(co,Qo)|0,Cn=Cn+Math.imul(io,zo)|0,zn=zn+Math.imul(io,Qo)|0;var bs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(bs>>>26)|0,bs&=67108863,Fn=Math.imul(oo,xo),Cn=Math.imul(oo,_o),Cn=Cn+Math.imul(mo,xo)|0,zn=Math.imul(mo,_o),Fn=Fn+Math.imul(Wn,Ho)|0,Cn=Cn+Math.imul(Wn,Fo)|0,Cn=Cn+Math.imul(Kn,Ho)|0,zn=zn+Math.imul(Kn,Fo)|0,Fn=Fn+Math.imul(na,zo)|0,Cn=Cn+Math.imul(na,Qo)|0,Cn=Cn+Math.imul(so,zo)|0,zn=zn+Math.imul(so,Qo)|0,Fn=Fn+Math.imul(co,ss)|0,Cn=Cn+Math.imul(co,rs)|0,Cn=Cn+Math.imul(io,ss)|0,zn=zn+Math.imul(io,rs)|0;var As=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(As>>>26)|0,As&=67108863,Fn=Math.imul(vo,xo),Cn=Math.imul(vo,_o),Cn=Cn+Math.imul(wo,xo)|0,zn=Math.imul(wo,_o),Fn=Fn+Math.imul(oo,Ho)|0,Cn=Cn+Math.imul(oo,Fo)|0,Cn=Cn+Math.imul(mo,Ho)|0,zn=zn+Math.imul(mo,Fo)|0,Fn=Fn+Math.imul(Wn,zo)|0,Cn=Cn+Math.imul(Wn,Qo)|0,Cn=Cn+Math.imul(Kn,zo)|0,zn=zn+Math.imul(Kn,Qo)|0,Fn=Fn+Math.imul(na,ss)|0,Cn=Cn+Math.imul(na,rs)|0,Cn=Cn+Math.imul(so,ss)|0,zn=zn+Math.imul(so,rs)|0,Fn=Fn+Math.imul(co,ys)|0,Cn=Cn+Math.imul(co,us)|0,Cn=Cn+Math.imul(io,ys)|0,zn=zn+Math.imul(io,us)|0;var ks=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ks>>>26)|0,ks&=67108863,Fn=Math.imul(So,xo),Cn=Math.imul(So,_o),Cn=Cn+Math.imul(Ao,xo)|0,zn=Math.imul(Ao,_o),Fn=Fn+Math.imul(vo,Ho)|0,Cn=Cn+Math.imul(vo,Fo)|0,Cn=Cn+Math.imul(wo,Ho)|0,zn=zn+Math.imul(wo,Fo)|0,Fn=Fn+Math.imul(oo,zo)|0,Cn=Cn+Math.imul(oo,Qo)|0,Cn=Cn+Math.imul(mo,zo)|0,zn=zn+Math.imul(mo,Qo)|0,Fn=Fn+Math.imul(Wn,ss)|0,Cn=Cn+Math.imul(Wn,rs)|0,Cn=Cn+Math.imul(Kn,ss)|0,zn=zn+Math.imul(Kn,rs)|0,Fn=Fn+Math.imul(na,ys)|0,Cn=Cn+Math.imul(na,us)|0,Cn=Cn+Math.imul(so,ys)|0,zn=zn+Math.imul(so,us)|0,Fn=Fn+Math.imul(co,vs)|0,Cn=Cn+Math.imul(co,ns)|0,Cn=Cn+Math.imul(io,vs)|0,zn=zn+Math.imul(io,ns)|0;var Ms=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,Fn=Math.imul(Ro,xo),Cn=Math.imul(Ro,_o),Cn=Cn+Math.imul($o,xo)|0,zn=Math.imul($o,_o),Fn=Fn+Math.imul(So,Ho)|0,Cn=Cn+Math.imul(So,Fo)|0,Cn=Cn+Math.imul(Ao,Ho)|0,zn=zn+Math.imul(Ao,Fo)|0,Fn=Fn+Math.imul(vo,zo)|0,Cn=Cn+Math.imul(vo,Qo)|0,Cn=Cn+Math.imul(wo,zo)|0,zn=zn+Math.imul(wo,Qo)|0,Fn=Fn+Math.imul(oo,ss)|0,Cn=Cn+Math.imul(oo,rs)|0,Cn=Cn+Math.imul(mo,ss)|0,zn=zn+Math.imul(mo,rs)|0,Fn=Fn+Math.imul(Wn,ys)|0,Cn=Cn+Math.imul(Wn,us)|0,Cn=Cn+Math.imul(Kn,ys)|0,zn=zn+Math.imul(Kn,us)|0,Fn=Fn+Math.imul(na,vs)|0,Cn=Cn+Math.imul(na,ns)|0,Cn=Cn+Math.imul(so,vs)|0,zn=zn+Math.imul(so,ns)|0,Fn=Fn+Math.imul(co,_a)|0,Cn=Cn+Math.imul(co,ao)|0,Cn=Cn+Math.imul(io,_a)|0,zn=zn+Math.imul(io,ao)|0;var Es=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Es>>>26)|0,Es&=67108863,Fn=Math.imul(Po,xo),Cn=Math.imul(Po,_o),Cn=Cn+Math.imul(No,xo)|0,zn=Math.imul(No,_o),Fn=Fn+Math.imul(Ro,Ho)|0,Cn=Cn+Math.imul(Ro,Fo)|0,Cn=Cn+Math.imul($o,Ho)|0,zn=zn+Math.imul($o,Fo)|0,Fn=Fn+Math.imul(So,zo)|0,Cn=Cn+Math.imul(So,Qo)|0,Cn=Cn+Math.imul(Ao,zo)|0,zn=zn+Math.imul(Ao,Qo)|0,Fn=Fn+Math.imul(vo,ss)|0,Cn=Cn+Math.imul(vo,rs)|0,Cn=Cn+Math.imul(wo,ss)|0,zn=zn+Math.imul(wo,rs)|0,Fn=Fn+Math.imul(oo,ys)|0,Cn=Cn+Math.imul(oo,us)|0,Cn=Cn+Math.imul(mo,ys)|0,zn=zn+Math.imul(mo,us)|0,Fn=Fn+Math.imul(Wn,vs)|0,Cn=Cn+Math.imul(Wn,ns)|0,Cn=Cn+Math.imul(Kn,vs)|0,zn=zn+Math.imul(Kn,ns)|0,Fn=Fn+Math.imul(na,_a)|0,Cn=Cn+Math.imul(na,ao)|0,Cn=Cn+Math.imul(so,_a)|0,zn=zn+Math.imul(so,ao)|0,Fn=Fn+Math.imul(co,Xn)|0,Cn=Cn+Math.imul(co,uo)|0,Cn=Cn+Math.imul(io,Xn)|0,zn=zn+Math.imul(io,uo)|0;var ws=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ws>>>26)|0,ws&=67108863,Fn=Math.imul(Zo,xo),Cn=Math.imul(Zo,_o),Cn=Cn+Math.imul(to,xo)|0,zn=Math.imul(to,_o),Fn=Fn+Math.imul(Po,Ho)|0,Cn=Cn+Math.imul(Po,Fo)|0,Cn=Cn+Math.imul(No,Ho)|0,zn=zn+Math.imul(No,Fo)|0,Fn=Fn+Math.imul(Ro,zo)|0,Cn=Cn+Math.imul(Ro,Qo)|0,Cn=Cn+Math.imul($o,zo)|0,zn=zn+Math.imul($o,Qo)|0,Fn=Fn+Math.imul(So,ss)|0,Cn=Cn+Math.imul(So,rs)|0,Cn=Cn+Math.imul(Ao,ss)|0,zn=zn+Math.imul(Ao,rs)|0,Fn=Fn+Math.imul(vo,ys)|0,Cn=Cn+Math.imul(vo,us)|0,Cn=Cn+Math.imul(wo,ys)|0,zn=zn+Math.imul(wo,us)|0,Fn=Fn+Math.imul(oo,vs)|0,Cn=Cn+Math.imul(oo,ns)|0,Cn=Cn+Math.imul(mo,vs)|0,zn=zn+Math.imul(mo,ns)|0,Fn=Fn+Math.imul(Wn,_a)|0,Cn=Cn+Math.imul(Wn,ao)|0,Cn=Cn+Math.imul(Kn,_a)|0,zn=zn+Math.imul(Kn,ao)|0,Fn=Fn+Math.imul(na,Xn)|0,Cn=Cn+Math.imul(na,uo)|0,Cn=Cn+Math.imul(so,Xn)|0,zn=zn+Math.imul(so,uo)|0,Fn=Fn+Math.imul(co,Mo)|0,Cn=Cn+Math.imul(co,Do)|0,Cn=Cn+Math.imul(io,Mo)|0,zn=zn+Math.imul(io,Do)|0;var xs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(xs>>>26)|0,xs&=67108863,Fn=Math.imul(Qn,xo),Cn=Math.imul(Qn,_o),Cn=Cn+Math.imul(lo,xo)|0,zn=Math.imul(lo,_o),Fn=Fn+Math.imul(Zo,Ho)|0,Cn=Cn+Math.imul(Zo,Fo)|0,Cn=Cn+Math.imul(to,Ho)|0,zn=zn+Math.imul(to,Fo)|0,Fn=Fn+Math.imul(Po,zo)|0,Cn=Cn+Math.imul(Po,Qo)|0,Cn=Cn+Math.imul(No,zo)|0,zn=zn+Math.imul(No,Qo)|0,Fn=Fn+Math.imul(Ro,ss)|0,Cn=Cn+Math.imul(Ro,rs)|0,Cn=Cn+Math.imul($o,ss)|0,zn=zn+Math.imul($o,rs)|0,Fn=Fn+Math.imul(So,ys)|0,Cn=Cn+Math.imul(So,us)|0,Cn=Cn+Math.imul(Ao,ys)|0,zn=zn+Math.imul(Ao,us)|0,Fn=Fn+Math.imul(vo,vs)|0,Cn=Cn+Math.imul(vo,ns)|0,Cn=Cn+Math.imul(wo,vs)|0,zn=zn+Math.imul(wo,ns)|0,Fn=Fn+Math.imul(oo,_a)|0,Cn=Cn+Math.imul(oo,ao)|0,Cn=Cn+Math.imul(mo,_a)|0,zn=zn+Math.imul(mo,ao)|0,Fn=Fn+Math.imul(Wn,Xn)|0,Cn=Cn+Math.imul(Wn,uo)|0,Cn=Cn+Math.imul(Kn,Xn)|0,zn=zn+Math.imul(Kn,uo)|0,Fn=Fn+Math.imul(na,Mo)|0,Cn=Cn+Math.imul(na,Do)|0,Cn=Cn+Math.imul(so,Mo)|0,zn=zn+Math.imul(so,Do)|0,Fn=Fn+Math.imul(co,es)|0,Cn=Cn+Math.imul(co,Jo)|0,Cn=Cn+Math.imul(io,es)|0,zn=zn+Math.imul(io,Jo)|0;var fs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(fs>>>26)|0,fs&=67108863,Fn=Math.imul(Qn,Ho),Cn=Math.imul(Qn,Fo),Cn=Cn+Math.imul(lo,Ho)|0,zn=Math.imul(lo,Fo),Fn=Fn+Math.imul(Zo,zo)|0,Cn=Cn+Math.imul(Zo,Qo)|0,Cn=Cn+Math.imul(to,zo)|0,zn=zn+Math.imul(to,Qo)|0,Fn=Fn+Math.imul(Po,ss)|0,Cn=Cn+Math.imul(Po,rs)|0,Cn=Cn+Math.imul(No,ss)|0,zn=zn+Math.imul(No,rs)|0,Fn=Fn+Math.imul(Ro,ys)|0,Cn=Cn+Math.imul(Ro,us)|0,Cn=Cn+Math.imul($o,ys)|0,zn=zn+Math.imul($o,us)|0,Fn=Fn+Math.imul(So,vs)|0,Cn=Cn+Math.imul(So,ns)|0,Cn=Cn+Math.imul(Ao,vs)|0,zn=zn+Math.imul(Ao,ns)|0,Fn=Fn+Math.imul(vo,_a)|0,Cn=Cn+Math.imul(vo,ao)|0,Cn=Cn+Math.imul(wo,_a)|0,zn=zn+Math.imul(wo,ao)|0,Fn=Fn+Math.imul(oo,Xn)|0,Cn=Cn+Math.imul(oo,uo)|0,Cn=Cn+Math.imul(mo,Xn)|0,zn=zn+Math.imul(mo,uo)|0,Fn=Fn+Math.imul(Wn,Mo)|0,Cn=Cn+Math.imul(Wn,Do)|0,Cn=Cn+Math.imul(Kn,Mo)|0,zn=zn+Math.imul(Kn,Do)|0,Fn=Fn+Math.imul(na,es)|0,Cn=Cn+Math.imul(na,Jo)|0,Cn=Cn+Math.imul(so,es)|0,zn=zn+Math.imul(so,Jo)|0;var gs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(gs>>>26)|0,gs&=67108863,Fn=Math.imul(Qn,zo),Cn=Math.imul(Qn,Qo),Cn=Cn+Math.imul(lo,zo)|0,zn=Math.imul(lo,Qo),Fn=Fn+Math.imul(Zo,ss)|0,Cn=Cn+Math.imul(Zo,rs)|0,Cn=Cn+Math.imul(to,ss)|0,zn=zn+Math.imul(to,rs)|0,Fn=Fn+Math.imul(Po,ys)|0,Cn=Cn+Math.imul(Po,us)|0,Cn=Cn+Math.imul(No,ys)|0,zn=zn+Math.imul(No,us)|0,Fn=Fn+Math.imul(Ro,vs)|0,Cn=Cn+Math.imul(Ro,ns)|0,Cn=Cn+Math.imul($o,vs)|0,zn=zn+Math.imul($o,ns)|0,Fn=Fn+Math.imul(So,_a)|0,Cn=Cn+Math.imul(So,ao)|0,Cn=Cn+Math.imul(Ao,_a)|0,zn=zn+Math.imul(Ao,ao)|0,Fn=Fn+Math.imul(vo,Xn)|0,Cn=Cn+Math.imul(vo,uo)|0,Cn=Cn+Math.imul(wo,Xn)|0,zn=zn+Math.imul(wo,uo)|0,Fn=Fn+Math.imul(oo,Mo)|0,Cn=Cn+Math.imul(oo,Do)|0,Cn=Cn+Math.imul(mo,Mo)|0,zn=zn+Math.imul(mo,Do)|0,Fn=Fn+Math.imul(Wn,es)|0,Cn=Cn+Math.imul(Wn,Jo)|0,Cn=Cn+Math.imul(Kn,es)|0,zn=zn+Math.imul(Kn,Jo)|0;var cs=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(cs>>>26)|0,cs&=67108863,Fn=Math.imul(Qn,ss),Cn=Math.imul(Qn,rs),Cn=Cn+Math.imul(lo,ss)|0,zn=Math.imul(lo,rs),Fn=Fn+Math.imul(Zo,ys)|0,Cn=Cn+Math.imul(Zo,us)|0,Cn=Cn+Math.imul(to,ys)|0,zn=zn+Math.imul(to,us)|0,Fn=Fn+Math.imul(Po,vs)|0,Cn=Cn+Math.imul(Po,ns)|0,Cn=Cn+Math.imul(No,vs)|0,zn=zn+Math.imul(No,ns)|0,Fn=Fn+Math.imul(Ro,_a)|0,Cn=Cn+Math.imul(Ro,ao)|0,Cn=Cn+Math.imul($o,_a)|0,zn=zn+Math.imul($o,ao)|0,Fn=Fn+Math.imul(So,Xn)|0,Cn=Cn+Math.imul(So,uo)|0,Cn=Cn+Math.imul(Ao,Xn)|0,zn=zn+Math.imul(Ao,uo)|0,Fn=Fn+Math.imul(vo,Mo)|0,Cn=Cn+Math.imul(vo,Do)|0,Cn=Cn+Math.imul(wo,Mo)|0,zn=zn+Math.imul(wo,Do)|0,Fn=Fn+Math.imul(oo,es)|0,Cn=Cn+Math.imul(oo,Jo)|0,Cn=Cn+Math.imul(mo,es)|0,zn=zn+Math.imul(mo,Jo)|0;var ds=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ds>>>26)|0,ds&=67108863,Fn=Math.imul(Qn,ys),Cn=Math.imul(Qn,us),Cn=Cn+Math.imul(lo,ys)|0,zn=Math.imul(lo,us),Fn=Fn+Math.imul(Zo,vs)|0,Cn=Cn+Math.imul(Zo,ns)|0,Cn=Cn+Math.imul(to,vs)|0,zn=zn+Math.imul(to,ns)|0,Fn=Fn+Math.imul(Po,_a)|0,Cn=Cn+Math.imul(Po,ao)|0,Cn=Cn+Math.imul(No,_a)|0,zn=zn+Math.imul(No,ao)|0,Fn=Fn+Math.imul(Ro,Xn)|0,Cn=Cn+Math.imul(Ro,uo)|0,Cn=Cn+Math.imul($o,Xn)|0,zn=zn+Math.imul($o,uo)|0,Fn=Fn+Math.imul(So,Mo)|0,Cn=Cn+Math.imul(So,Do)|0,Cn=Cn+Math.imul(Ao,Mo)|0,zn=zn+Math.imul(Ao,Do)|0,Fn=Fn+Math.imul(vo,es)|0,Cn=Cn+Math.imul(vo,Jo)|0,Cn=Cn+Math.imul(wo,es)|0,zn=zn+Math.imul(wo,Jo)|0;var ps=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ps>>>26)|0,ps&=67108863,Fn=Math.imul(Qn,vs),Cn=Math.imul(Qn,ns),Cn=Cn+Math.imul(lo,vs)|0,zn=Math.imul(lo,ns),Fn=Fn+Math.imul(Zo,_a)|0,Cn=Cn+Math.imul(Zo,ao)|0,Cn=Cn+Math.imul(to,_a)|0,zn=zn+Math.imul(to,ao)|0,Fn=Fn+Math.imul(Po,Xn)|0,Cn=Cn+Math.imul(Po,uo)|0,Cn=Cn+Math.imul(No,Xn)|0,zn=zn+Math.imul(No,uo)|0,Fn=Fn+Math.imul(Ro,Mo)|0,Cn=Cn+Math.imul(Ro,Do)|0,Cn=Cn+Math.imul($o,Mo)|0,zn=zn+Math.imul($o,Do)|0,Fn=Fn+Math.imul(So,es)|0,Cn=Cn+Math.imul(So,Jo)|0,Cn=Cn+Math.imul(Ao,es)|0,zn=zn+Math.imul(Ao,Jo)|0;var ls=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ls>>>26)|0,ls&=67108863,Fn=Math.imul(Qn,_a),Cn=Math.imul(Qn,ao),Cn=Cn+Math.imul(lo,_a)|0,zn=Math.imul(lo,ao),Fn=Fn+Math.imul(Zo,Xn)|0,Cn=Cn+Math.imul(Zo,uo)|0,Cn=Cn+Math.imul(to,Xn)|0,zn=zn+Math.imul(to,uo)|0,Fn=Fn+Math.imul(Po,Mo)|0,Cn=Cn+Math.imul(Po,Do)|0,Cn=Cn+Math.imul(No,Mo)|0,zn=zn+Math.imul(No,Do)|0,Fn=Fn+Math.imul(Ro,es)|0,Cn=Cn+Math.imul(Ro,Jo)|0,Cn=Cn+Math.imul($o,es)|0,zn=zn+Math.imul($o,Jo)|0;var qo=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(qo>>>26)|0,qo&=67108863,Fn=Math.imul(Qn,Xn),Cn=Math.imul(Qn,uo),Cn=Cn+Math.imul(lo,Xn)|0,zn=Math.imul(lo,uo),Fn=Fn+Math.imul(Zo,Mo)|0,Cn=Cn+Math.imul(Zo,Do)|0,Cn=Cn+Math.imul(to,Mo)|0,zn=zn+Math.imul(to,Do)|0,Fn=Fn+Math.imul(Po,es)|0,Cn=Cn+Math.imul(Po,Jo)|0,Cn=Cn+Math.imul(No,es)|0,zn=zn+Math.imul(No,Jo)|0;var Vo=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,Fn=Math.imul(Qn,Mo),Cn=Math.imul(Qn,Do),Cn=Cn+Math.imul(lo,Mo)|0,zn=Math.imul(lo,Do),Fn=Fn+Math.imul(Zo,es)|0,Cn=Cn+Math.imul(Zo,Jo)|0,Cn=Cn+Math.imul(to,es)|0,zn=zn+Math.imul(to,Jo)|0;var ts=(kn+Fn|0)+((Cn&8191)<<13)|0;kn=(zn+(Cn>>>13)|0)+(ts>>>26)|0,ts&=67108863,Fn=Math.imul(Qn,es),Cn=Math.imul(Qn,Jo),Cn=Cn+Math.imul(lo,es)|0,zn=Math.imul(lo,Jo);var no=(kn+Fn|0)+((Cn&8191)<<13)|0;return kn=(zn+(Cn>>>13)|0)+(no>>>26)|0,no&=67108863,yn[0]=Rs,yn[1]=hs,yn[2]=bs,yn[3]=As,yn[4]=ks,yn[5]=Ms,yn[6]=Es,yn[7]=ws,yn[8]=xs,yn[9]=fs,yn[10]=gs,yn[11]=cs,yn[12]=ds,yn[13]=ps,yn[14]=ls,yn[15]=qo,yn[16]=Vo,yn[17]=ts,yn[18]=no,kn!==0&&(yn[19]=kn,On.length++),On};Math.imul||(qn=Pn);function jn(mn,Xr,gn){gn.negative=Xr.negative^mn.negative,gn.length=mn.length+Xr.length;for(var On=0,Ln=0,Rn=0;Rn<gn.length-1;Rn++){var yn=Ln;Ln=0;for(var kn=On&67108863,Fn=Math.min(Rn,Xr.length-1),Cn=Math.max(0,Rn-mn.length+1);Cn<=Fn;Cn++){var zn=Rn-Cn,$a=mn.words[zn]|0,co=Xr.words[Cn]|0,io=$a*co,ga=io&67108863;yn=yn+(io/67108864|0)|0,ga=ga+kn|0,kn=ga&67108863,yn=yn+(ga>>>26)|0,Ln+=yn>>>26,yn&=67108863}gn.words[Rn]=kn,On=yn,yn=Ln}return On!==0?gn.words[Rn]=On:gn.length--,gn._strip()}function Hn(mn,Xr,gn){return jn(mn,Xr,gn)}Ut.prototype.mulTo=function(Xr,gn){var On,Ln=this.length+Xr.length;return this.length===10&&Xr.length===10?On=qn(this,Xr,gn):Ln<63?On=Pn(this,Xr,gn):Ln<1024?On=jn(this,Xr,gn):On=Hn(this,Xr,gn),On},Ut.prototype.mul=function(Xr){var gn=new Ut(null);return gn.words=new Array(this.length+Xr.length),this.mulTo(Xr,gn)},Ut.prototype.mulf=function(Xr){var gn=new Ut(null);return gn.words=new Array(this.length+Xr.length),Hn(this,Xr,gn)},Ut.prototype.imul=function(Xr){return this.clone().mulTo(Xr,this)},Ut.prototype.imuln=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(typeof Xr=="number"),Ot(Xr<67108864);for(var On=0,Ln=0;Ln<this.length;Ln++){var Rn=(this.words[Ln]|0)*Xr,yn=(Rn&67108863)+(On&67108863);On>>=26,On+=Rn/67108864|0,On+=yn>>>26,this.words[Ln]=yn&67108863}return On!==0&&(this.words[Ln]=On,this.length++),this.length=Xr===0?1:this.length,gn?this.ineg():this},Ut.prototype.muln=function(Xr){return this.clone().imuln(Xr)},Ut.prototype.sqr=function(){return this.mul(this)},Ut.prototype.isqr=function(){return this.imul(this.clone())},Ut.prototype.pow=function(Xr){var gn=Vn(Xr);if(gn.length===0)return new Ut(1);for(var On=this,Ln=0;Ln<gn.length&&gn[Ln]===0;Ln++,On=On.sqr());if(++Ln<gn.length)for(var Rn=On.sqr();Ln<gn.length;Ln++,Rn=Rn.sqr())gn[Ln]!==0&&(On=On.mul(Rn));return On},Ut.prototype.iushln=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26,Ln=67108863>>>26-gn<<26-gn,Rn;if(gn!==0){var yn=0;for(Rn=0;Rn<this.length;Rn++){var kn=this.words[Rn]&Ln,Fn=(this.words[Rn]|0)-kn<<gn;this.words[Rn]=Fn|yn,yn=kn>>>26-gn}yn&&(this.words[Rn]=yn,this.length++)}if(On!==0){for(Rn=this.length-1;Rn>=0;Rn--)this.words[Rn+On]=this.words[Rn];for(Rn=0;Rn<On;Rn++)this.words[Rn]=0;this.length+=On}return this._strip()},Ut.prototype.ishln=function(Xr){return Ot(this.negative===0),this.iushln(Xr)},Ut.prototype.iushrn=function(Xr,gn,On){Ot(typeof Xr=="number"&&Xr>=0);var Ln;gn?Ln=(gn-gn%26)/26:Ln=0;var Rn=Xr%26,yn=Math.min((Xr-Rn)/26,this.length),kn=67108863^67108863>>>Rn<<Rn,Fn=On;if(Ln-=yn,Ln=Math.max(0,Ln),Fn){for(var Cn=0;Cn<yn;Cn++)Fn.words[Cn]=this.words[Cn];Fn.length=yn}if(yn!==0)if(this.length>yn)for(this.length-=yn,Cn=0;Cn<this.length;Cn++)this.words[Cn]=this.words[Cn+yn];else this.words[0]=0,this.length=1;var zn=0;for(Cn=this.length-1;Cn>=0&&(zn!==0||Cn>=Ln);Cn--){var $a=this.words[Cn]|0;this.words[Cn]=zn<<26-Rn|$a>>>Rn,zn=$a&kn}return Fn&&zn!==0&&(Fn.words[Fn.length++]=zn),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Ut.prototype.ishrn=function(Xr,gn,On){return Ot(this.negative===0),this.iushrn(Xr,gn,On)},Ut.prototype.shln=function(Xr){return this.clone().ishln(Xr)},Ut.prototype.ushln=function(Xr){return this.clone().iushln(Xr)},Ut.prototype.shrn=function(Xr){return this.clone().ishrn(Xr)},Ut.prototype.ushrn=function(Xr){return this.clone().iushrn(Xr)},Ut.prototype.testn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26,Ln=1<<gn;if(this.length<=On)return!1;var Rn=this.words[On];return!!(Rn&Ln)},Ut.prototype.imaskn=function(Xr){Ot(typeof Xr=="number"&&Xr>=0);var gn=Xr%26,On=(Xr-gn)/26;if(Ot(this.negative===0,"imaskn works only with positive numbers"),this.length<=On)return this;if(gn!==0&&On++,this.length=Math.min(On,this.length),gn!==0){var Ln=67108863^67108863>>>gn<<gn;this.words[this.length-1]&=Ln}return this._strip()},Ut.prototype.maskn=function(Xr){return this.clone().imaskn(Xr)},Ut.prototype.iaddn=function(Xr){return Ot(typeof Xr=="number"),Ot(Xr<67108864),Xr<0?this.isubn(-Xr):this.negative!==0?this.length===1&&(this.words[0]|0)<=Xr?(this.words[0]=Xr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Xr),this.negative=1,this):this._iaddn(Xr)},Ut.prototype._iaddn=function(Xr){this.words[0]+=Xr;for(var gn=0;gn<this.length&&this.words[gn]>=67108864;gn++)this.words[gn]-=67108864,gn===this.length-1?this.words[gn+1]=1:this.words[gn+1]++;return this.length=Math.max(this.length,gn+1),this},Ut.prototype.isubn=function(Xr){if(Ot(typeof Xr=="number"),Ot(Xr<67108864),Xr<0)return this.iaddn(-Xr);if(this.negative!==0)return this.negative=0,this.iaddn(Xr),this.negative=1,this;if(this.words[0]-=Xr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var gn=0;gn<this.length&&this.words[gn]<0;gn++)this.words[gn]+=67108864,this.words[gn+1]-=1;return this._strip()},Ut.prototype.addn=function(Xr){return this.clone().iaddn(Xr)},Ut.prototype.subn=function(Xr){return this.clone().isubn(Xr)},Ut.prototype.iabs=function(){return this.negative=0,this},Ut.prototype.abs=function(){return this.clone().iabs()},Ut.prototype._ishlnsubmul=function(Xr,gn,On){var Ln=Xr.length+On,Rn;this._expand(Ln);var yn,kn=0;for(Rn=0;Rn<Xr.length;Rn++){yn=(this.words[Rn+On]|0)+kn;var Fn=(Xr.words[Rn]|0)*gn;yn-=Fn&67108863,kn=(yn>>26)-(Fn/67108864|0),this.words[Rn+On]=yn&67108863}for(;Rn<this.length-On;Rn++)yn=(this.words[Rn+On]|0)+kn,kn=yn>>26,this.words[Rn+On]=yn&67108863;if(kn===0)return this._strip();for(Ot(kn===-1),kn=0,Rn=0;Rn<this.length;Rn++)yn=-(this.words[Rn]|0)+kn,kn=yn>>26,this.words[Rn]=yn&67108863;return this.negative=1,this._strip()},Ut.prototype._wordDiv=function(Xr,gn){var On=this.length-Xr.length,Ln=this.clone(),Rn=Xr,yn=Rn.words[Rn.length-1]|0,kn=this._countBits(yn);On=26-kn,On!==0&&(Rn=Rn.ushln(On),Ln.iushln(On),yn=Rn.words[Rn.length-1]|0);var Fn=Ln.length-Rn.length,Cn;if(gn!=="mod"){Cn=new Ut(null),Cn.length=Fn+1,Cn.words=new Array(Cn.length);for(var zn=0;zn<Cn.length;zn++)Cn.words[zn]=0}var $a=Ln.clone()._ishlnsubmul(Rn,1,Fn);$a.negative===0&&(Ln=$a,Cn&&(Cn.words[Fn]=1));for(var co=Fn-1;co>=0;co--){var io=(Ln.words[Rn.length+co]|0)*67108864+(Ln.words[Rn.length+co-1]|0);for(io=Math.min(io/yn|0,67108863),Ln._ishlnsubmul(Rn,io,co);Ln.negative!==0;)io--,Ln.negative=0,Ln._ishlnsubmul(Rn,1,co),Ln.isZero()||(Ln.negative^=1);Cn&&(Cn.words[co]=io)}return Cn&&Cn._strip(),Ln._strip(),gn!=="div"&&On!==0&&Ln.iushrn(On),{div:Cn||null,mod:Ln}},Ut.prototype.divmod=function(Xr,gn,On){if(Ot(!Xr.isZero()),this.isZero())return{div:new Ut(0),mod:new Ut(0)};var Ln,Rn,yn;return this.negative!==0&&Xr.negative===0?(yn=this.neg().divmod(Xr,gn),gn!=="mod"&&(Ln=yn.div.neg()),gn!=="div"&&(Rn=yn.mod.neg(),On&&Rn.negative!==0&&Rn.iadd(Xr)),{div:Ln,mod:Rn}):this.negative===0&&Xr.negative!==0?(yn=this.divmod(Xr.neg(),gn),gn!=="mod"&&(Ln=yn.div.neg()),{div:Ln,mod:yn.mod}):this.negative&Xr.negative?(yn=this.neg().divmod(Xr.neg(),gn),gn!=="div"&&(Rn=yn.mod.neg(),On&&Rn.negative!==0&&Rn.isub(Xr)),{div:yn.div,mod:Rn}):Xr.length>this.length||this.cmp(Xr)<0?{div:new Ut(0),mod:this}:Xr.length===1?gn==="div"?{div:this.divn(Xr.words[0]),mod:null}:gn==="mod"?{div:null,mod:new Ut(this.modrn(Xr.words[0]))}:{div:this.divn(Xr.words[0]),mod:new Ut(this.modrn(Xr.words[0]))}:this._wordDiv(Xr,gn)},Ut.prototype.div=function(Xr){return this.divmod(Xr,"div",!1).div},Ut.prototype.mod=function(Xr){return this.divmod(Xr,"mod",!1).mod},Ut.prototype.umod=function(Xr){return this.divmod(Xr,"mod",!0).mod},Ut.prototype.divRound=function(Xr){var gn=this.divmod(Xr);if(gn.mod.isZero())return gn.div;var On=gn.div.negative!==0?gn.mod.isub(Xr):gn.mod,Ln=Xr.ushrn(1),Rn=Xr.andln(1),yn=On.cmp(Ln);return yn<0||Rn===1&&yn===0?gn.div:gn.div.negative!==0?gn.div.isubn(1):gn.div.iaddn(1)},Ut.prototype.modrn=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(Xr<=67108863);for(var On=(1<<26)%Xr,Ln=0,Rn=this.length-1;Rn>=0;Rn--)Ln=(On*Ln+(this.words[Rn]|0))%Xr;return gn?-Ln:Ln},Ut.prototype.modn=function(Xr){return this.modrn(Xr)},Ut.prototype.idivn=function(Xr){var gn=Xr<0;gn&&(Xr=-Xr),Ot(Xr<=67108863);for(var On=0,Ln=this.length-1;Ln>=0;Ln--){var Rn=(this.words[Ln]|0)+On*67108864;this.words[Ln]=Rn/Xr|0,On=Rn%Xr}return this._strip(),gn?this.ineg():this},Ut.prototype.divn=function(Xr){return this.clone().idivn(Xr)},Ut.prototype.egcd=function(Xr){Ot(Xr.negative===0),Ot(!Xr.isZero());var gn=this,On=Xr.clone();gn.negative!==0?gn=gn.umod(Xr):gn=gn.clone();for(var Ln=new Ut(1),Rn=new Ut(0),yn=new Ut(0),kn=new Ut(1),Fn=0;gn.isEven()&&On.isEven();)gn.iushrn(1),On.iushrn(1),++Fn;for(var Cn=On.clone(),zn=gn.clone();!gn.isZero();){for(var $a=0,co=1;!(gn.words[0]&co)&&$a<26;++$a,co<<=1);if($a>0)for(gn.iushrn($a);$a-- >0;)(Ln.isOdd()||Rn.isOdd())&&(Ln.iadd(Cn),Rn.isub(zn)),Ln.iushrn(1),Rn.iushrn(1);for(var io=0,ga=1;!(On.words[0]&ga)&&io<26;++io,ga<<=1);if(io>0)for(On.iushrn(io);io-- >0;)(yn.isOdd()||kn.isOdd())&&(yn.iadd(Cn),kn.isub(zn)),yn.iushrn(1),kn.iushrn(1);gn.cmp(On)>=0?(gn.isub(On),Ln.isub(yn),Rn.isub(kn)):(On.isub(gn),yn.isub(Ln),kn.isub(Rn))}return{a:yn,b:kn,gcd:On.iushln(Fn)}},Ut.prototype._invmp=function(Xr){Ot(Xr.negative===0),Ot(!Xr.isZero());var gn=this,On=Xr.clone();gn.negative!==0?gn=gn.umod(Xr):gn=gn.clone();for(var Ln=new Ut(1),Rn=new Ut(0),yn=On.clone();gn.cmpn(1)>0&&On.cmpn(1)>0;){for(var kn=0,Fn=1;!(gn.words[0]&Fn)&&kn<26;++kn,Fn<<=1);if(kn>0)for(gn.iushrn(kn);kn-- >0;)Ln.isOdd()&&Ln.iadd(yn),Ln.iushrn(1);for(var Cn=0,zn=1;!(On.words[0]&zn)&&Cn<26;++Cn,zn<<=1);if(Cn>0)for(On.iushrn(Cn);Cn-- >0;)Rn.isOdd()&&Rn.iadd(yn),Rn.iushrn(1);gn.cmp(On)>=0?(gn.isub(On),Ln.isub(Rn)):(On.isub(gn),Rn.isub(Ln))}var $a;return gn.cmpn(1)===0?$a=Ln:$a=Rn,$a.cmpn(0)<0&&$a.iadd(Xr),$a},Ut.prototype.gcd=function(Xr){if(this.isZero())return Xr.abs();if(Xr.isZero())return this.abs();var gn=this.clone(),On=Xr.clone();gn.negative=0,On.negative=0;for(var Ln=0;gn.isEven()&&On.isEven();Ln++)gn.iushrn(1),On.iushrn(1);do{for(;gn.isEven();)gn.iushrn(1);for(;On.isEven();)On.iushrn(1);var Rn=gn.cmp(On);if(Rn<0){var yn=gn;gn=On,On=yn}else if(Rn===0||On.cmpn(1)===0)break;gn.isub(On)}while(!0);return On.iushln(Ln)},Ut.prototype.invm=function(Xr){return this.egcd(Xr).a.umod(Xr)},Ut.prototype.isEven=function(){return(this.words[0]&1)===0},Ut.prototype.isOdd=function(){return(this.words[0]&1)===1},Ut.prototype.andln=function(Xr){return this.words[0]&Xr},Ut.prototype.bincn=function(Xr){Ot(typeof Xr=="number");var gn=Xr%26,On=(Xr-gn)/26,Ln=1<<gn;if(this.length<=On)return this._expand(On+1),this.words[On]|=Ln,this;for(var Rn=Ln,yn=On;Rn!==0&&yn<this.length;yn++){var kn=this.words[yn]|0;kn+=Rn,Rn=kn>>>26,kn&=67108863,this.words[yn]=kn}return Rn!==0&&(this.words[yn]=Rn,this.length++),this},Ut.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ut.prototype.cmpn=function(Xr){var gn=Xr<0;if(this.negative!==0&&!gn)return-1;if(this.negative===0&&gn)return 1;this._strip();var On;if(this.length>1)On=1;else{gn&&(Xr=-Xr),Ot(Xr<=67108863,"Number is too big");var Ln=this.words[0]|0;On=Ln===Xr?0:Ln<Xr?-1:1}return this.negative!==0?-On|0:On},Ut.prototype.cmp=function(Xr){if(this.negative!==0&&Xr.negative===0)return-1;if(this.negative===0&&Xr.negative!==0)return 1;var gn=this.ucmp(Xr);return this.negative!==0?-gn|0:gn},Ut.prototype.ucmp=function(Xr){if(this.length>Xr.length)return 1;if(this.length<Xr.length)return-1;for(var gn=0,On=this.length-1;On>=0;On--){var Ln=this.words[On]|0,Rn=Xr.words[On]|0;if(Ln!==Rn){Ln<Rn?gn=-1:Ln>Rn&&(gn=1);break}}return gn},Ut.prototype.gtn=function(Xr){return this.cmpn(Xr)===1},Ut.prototype.gt=function(Xr){return this.cmp(Xr)===1},Ut.prototype.gten=function(Xr){return this.cmpn(Xr)>=0},Ut.prototype.gte=function(Xr){return this.cmp(Xr)>=0},Ut.prototype.ltn=function(Xr){return this.cmpn(Xr)===-1},Ut.prototype.lt=function(Xr){return this.cmp(Xr)===-1},Ut.prototype.lten=function(Xr){return this.cmpn(Xr)<=0},Ut.prototype.lte=function(Xr){return this.cmp(Xr)<=0},Ut.prototype.eqn=function(Xr){return this.cmpn(Xr)===0},Ut.prototype.eq=function(Xr){return this.cmp(Xr)===0},Ut.red=function(Xr){return new Un(Xr)},Ut.prototype.toRed=function(Xr){return Ot(!this.red,"Already a number in reduction context"),Ot(this.negative===0,"red works only with positives"),Xr.convertTo(this)._forceRed(Xr)},Ut.prototype.fromRed=function(){return Ot(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ut.prototype._forceRed=function(Xr){return this.red=Xr,this},Ut.prototype.forceRed=function(Xr){return Ot(!this.red,"Already a number in reduction context"),this._forceRed(Xr)},Ut.prototype.redAdd=function(Xr){return Ot(this.red,"redAdd works only with red numbers"),this.red.add(this,Xr)},Ut.prototype.redIAdd=function(Xr){return Ot(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Xr)},Ut.prototype.redSub=function(Xr){return Ot(this.red,"redSub works only with red numbers"),this.red.sub(this,Xr)},Ut.prototype.redISub=function(Xr){return Ot(this.red,"redISub works only with red numbers"),this.red.isub(this,Xr)},Ut.prototype.redShl=function(Xr){return Ot(this.red,"redShl works only with red numbers"),this.red.shl(this,Xr)},Ut.prototype.redMul=function(Xr){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xr),this.red.mul(this,Xr)},Ut.prototype.redIMul=function(Xr){return Ot(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xr),this.red.imul(this,Xr)},Ut.prototype.redSqr=function(){return Ot(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ut.prototype.redISqr=function(){return Ot(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ut.prototype.redSqrt=function(){return Ot(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ut.prototype.redInvm=function(){return Ot(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ut.prototype.redNeg=function(){return Ot(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ut.prototype.redPow=function(Xr){return Ot(this.red&&!Xr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Xr)};var Jn={k256:null,p224:null,p192:null,p25519:null};function Gn(mn,Xr){this.name=mn,this.p=new Ut(Xr,16),this.n=this.p.bitLength(),this.k=new Ut(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Gn.prototype._tmp=function(){var Xr=new Ut(null);return Xr.words=new Array(Math.ceil(this.n/13)),Xr},Gn.prototype.ireduce=function(Xr){var gn=Xr,On;do this.split(gn,this.tmp),gn=this.imulK(gn),gn=gn.iadd(this.tmp),On=gn.bitLength();while(On>this.n);var Ln=On<this.n?-1:gn.ucmp(this.p);return Ln===0?(gn.words[0]=0,gn.length=1):Ln>0?gn.isub(this.p):gn.strip!==void 0?gn.strip():gn._strip(),gn},Gn.prototype.split=function(Xr,gn){Xr.iushrn(this.n,0,gn)},Gn.prototype.imulK=function(Xr){return Xr.imul(this.k)};function ba(){Gn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ft(ba,Gn),ba.prototype.split=function(Xr,gn){for(var On=4194303,Ln=Math.min(Xr.length,9),Rn=0;Rn<Ln;Rn++)gn.words[Rn]=Xr.words[Rn];if(gn.length=Ln,Xr.length<=9){Xr.words[0]=0,Xr.length=1;return}var yn=Xr.words[9];for(gn.words[gn.length++]=yn&On,Rn=10;Rn<Xr.length;Rn++){var kn=Xr.words[Rn]|0;Xr.words[Rn-10]=(kn&On)<<4|yn>>>22,yn=kn}yn>>>=22,Xr.words[Rn-10]=yn,yn===0&&Xr.length>10?Xr.length-=10:Xr.length-=9},ba.prototype.imulK=function(Xr){Xr.words[Xr.length]=0,Xr.words[Xr.length+1]=0,Xr.length+=2;for(var gn=0,On=0;On<Xr.length;On++){var Ln=Xr.words[On]|0;gn+=Ln*977,Xr.words[On]=gn&67108863,gn=Ln*64+(gn/67108864|0)}return Xr.words[Xr.length-1]===0&&(Xr.length--,Xr.words[Xr.length-1]===0&&Xr.length--),Xr};function eo(){Gn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ft(eo,Gn);function xa(){Gn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ft(xa,Gn);function Yn(){Gn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ft(Yn,Gn),Yn.prototype.imulK=function(Xr){for(var gn=0,On=0;On<Xr.length;On++){var Ln=(Xr.words[On]|0)*19+gn,Rn=Ln&67108863;Ln>>>=26,Xr.words[On]=Rn,gn=Ln}return gn!==0&&(Xr.words[Xr.length++]=gn),Xr},Ut._prime=function(Xr){if(Jn[Xr])return Jn[Xr];var gn;if(Xr==="k256")gn=new ba;else if(Xr==="p224")gn=new eo;else if(Xr==="p192")gn=new xa;else if(Xr==="p25519")gn=new Yn;else throw new Error("Unknown prime "+Xr);return Jn[Xr]=gn,gn};function Un(mn){if(typeof mn=="string"){var Xr=Ut._prime(mn);this.m=Xr.p,this.prime=Xr}else Ot(mn.gtn(1),"modulus must be greater than 1"),this.m=mn,this.prime=null}Un.prototype._verify1=function(Xr){Ot(Xr.negative===0,"red works only with positives"),Ot(Xr.red,"red works only with red numbers")},Un.prototype._verify2=function(Xr,gn){Ot((Xr.negative|gn.negative)===0,"red works only with positives"),Ot(Xr.red&&Xr.red===gn.red,"red works only with red numbers")},Un.prototype.imod=function(Xr){return this.prime?this.prime.ireduce(Xr)._forceRed(this):(fn(Xr,Xr.umod(this.m)._forceRed(this)),Xr)},Un.prototype.neg=function(Xr){return Xr.isZero()?Xr.clone():this.m.sub(Xr)._forceRed(this)},Un.prototype.add=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.add(gn);return On.cmp(this.m)>=0&&On.isub(this.m),On._forceRed(this)},Un.prototype.iadd=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.iadd(gn);return On.cmp(this.m)>=0&&On.isub(this.m),On},Un.prototype.sub=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.sub(gn);return On.cmpn(0)<0&&On.iadd(this.m),On._forceRed(this)},Un.prototype.isub=function(Xr,gn){this._verify2(Xr,gn);var On=Xr.isub(gn);return On.cmpn(0)<0&&On.iadd(this.m),On},Un.prototype.shl=function(Xr,gn){return this._verify1(Xr),this.imod(Xr.ushln(gn))},Un.prototype.imul=function(Xr,gn){return this._verify2(Xr,gn),this.imod(Xr.imul(gn))},Un.prototype.mul=function(Xr,gn){return this._verify2(Xr,gn),this.imod(Xr.mul(gn))},Un.prototype.isqr=function(Xr){return this.imul(Xr,Xr.clone())},Un.prototype.sqr=function(Xr){return this.mul(Xr,Xr)},Un.prototype.sqrt=function(Xr){if(Xr.isZero())return Xr.clone();var gn=this.m.andln(3);if(Ot(gn%2===1),gn===3){var On=this.m.add(new Ut(1)).iushrn(2);return this.pow(Xr,On)}for(var Ln=this.m.subn(1),Rn=0;!Ln.isZero()&&Ln.andln(1)===0;)Rn++,Ln.iushrn(1);Ot(!Ln.isZero());var yn=new Ut(1).toRed(this),kn=yn.redNeg(),Fn=this.m.subn(1).iushrn(1),Cn=this.m.bitLength();for(Cn=new Ut(2*Cn*Cn).toRed(this);this.pow(Cn,Fn).cmp(kn)!==0;)Cn.redIAdd(kn);for(var zn=this.pow(Cn,Ln),$a=this.pow(Xr,Ln.addn(1).iushrn(1)),co=this.pow(Xr,Ln),io=Rn;co.cmp(yn)!==0;){for(var ga=co,na=0;ga.cmp(yn)!==0;na++)ga=ga.redSqr();Ot(na<io);var so=this.pow(zn,new Ut(1).iushln(io-na-1));$a=$a.redMul(so),zn=so.redSqr(),co=co.redMul(zn),io=na}return $a},Un.prototype.invm=function(Xr){var gn=Xr._invmp(this.m);return gn.negative!==0?(gn.negative=0,this.imod(gn).redNeg()):this.imod(gn)},Un.prototype.pow=function(Xr,gn){if(gn.isZero())return new Ut(1).toRed(this);if(gn.cmpn(1)===0)return Xr.clone();var On=4,Ln=new Array(1<<On);Ln[0]=new Ut(1).toRed(this),Ln[1]=Xr;for(var Rn=2;Rn<Ln.length;Rn++)Ln[Rn]=this.mul(Ln[Rn-1],Xr);var yn=Ln[0],kn=0,Fn=0,Cn=gn.bitLength()%26;for(Cn===0&&(Cn=26),Rn=gn.length-1;Rn>=0;Rn--){for(var zn=gn.words[Rn],$a=Cn-1;$a>=0;$a--){var co=zn>>$a&1;if(yn!==Ln[0]&&(yn=this.sqr(yn)),co===0&&kn===0){Fn=0;continue}kn<<=1,kn|=co,Fn++,!(Fn!==On&&(Rn!==0||$a!==0))&&(yn=this.mul(yn,Ln[kn]),Fn=0,kn=0)}Cn=26}return yn},Un.prototype.convertTo=function(Xr){var gn=Xr.umod(this.m);return gn===Xr?gn.clone():gn},Un.prototype.convertFrom=function(Xr){var gn=Xr.clone();return gn.red=null,gn},Ut.mont=function(Xr){return new Mn(Xr)};function Mn(mn){Un.call(this,mn),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ut(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ft(Mn,Un),Mn.prototype.convertTo=function(Xr){return this.imod(Xr.ushln(this.shift))},Mn.prototype.convertFrom=function(Xr){var gn=this.imod(Xr.mul(this.rinv));return gn.red=null,gn},Mn.prototype.imul=function(Xr,gn){if(Xr.isZero()||gn.isZero())return Xr.words[0]=0,Xr.length=1,Xr;var On=Xr.imul(gn),Ln=On.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rn=On.isub(Ln).iushrn(this.shift),yn=Rn;return Rn.cmp(this.m)>=0?yn=Rn.isub(this.m):Rn.cmpn(0)<0&&(yn=Rn.iadd(this.m)),yn._forceRed(this)},Mn.prototype.mul=function(Xr,gn){if(Xr.isZero()||gn.isZero())return new Ut(0)._forceRed(this);var On=Xr.mul(gn),Ln=On.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rn=On.isub(Ln).iushrn(this.shift),yn=Rn;return Rn.cmp(this.m)>=0?yn=Rn.isub(this.m):Rn.cmpn(0)<0&&(yn=Rn.iadd(this.m)),yn._forceRed(this)},Mn.prototype.invm=function(Xr){var gn=this.imod(Xr._invmp(this.m).mul(this.r2));return gn._forceRed(this)}})(_e,commonjsGlobal)}(bn$1)),bn$1.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(_e,d){if(_e.indexOf)return _e.indexOf(d);for(var Mt=0;Mt<_e.length;Mt++)if(_e[Mt]===d)return Mt;return-1},Object_keys=function(_e){if(Object.keys)return Object.keys(_e);var d=[];for(var Mt in _e)d.push(Mt);return d},forEach=function(_e,d){if(_e.forEach)return _e.forEach(d);for(var Mt=0;Mt<_e.length;Mt++)d(_e[Mt],Mt,_e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(_e,d,Mt){Object.defineProperty(_e,d,{writable:!0,enumerable:!1,configurable:!0,value:Mt})}}catch{return function(d,Mt,Ot){d[Mt]=Ot}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(d){if(!(this instanceof Script))return new Script(d);this.code=d};Script.prototype.runInContext=function(_e){if(!(_e instanceof Context))throw new TypeError("needs a 'context' argument.");var d=document.createElement("iframe");d.style||(d.style={}),d.style.display="none",document.body.appendChild(d);var Mt=d.contentWindow,Ot=Mt.eval,Ft=Mt.execScript;!Ot&&Ft&&(Ft.call(Mt,"null"),Ot=Mt.eval),forEach(Object_keys(_e),function(jr){Mt[jr]=_e[jr]}),forEach(globals,function(jr){_e[jr]&&(Mt[jr]=_e[jr])});var Ut=Object_keys(Mt),Xt=Ot.call(Mt,this.code);return forEach(Object_keys(Mt),function(jr){(jr in _e||indexOf(Ut,jr)===-1)&&(_e[jr]=Mt[jr])}),forEach(globals,function(jr){jr in _e||defineProp(_e,jr,Mt[jr])}),document.body.removeChild(d),Xt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(_e){var d=Script.createContext(_e),Mt=this.runInContext(d);return _e&&forEach(Object_keys(d),function(Ot){_e[Ot]=d[Ot]}),Mt},forEach(Object_keys(Script.prototype),function(_e){exports[_e]=Script[_e]=function(d){var Mt=Script(d);return Mt[_e].apply(Mt,[].slice.call(arguments,1))}}),exports.isContext=function(_e){return _e instanceof Context},exports.createScript=function(_e){return exports.Script(_e)},exports.createContext=Script.createContext=function(_e){var d=new Context;return typeof _e=="object"&&forEach(Object_keys(_e),function(Mt){d[Mt]=_e[Mt]}),d}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(_e){var d=requireAsn1$1(),Mt=requireInherits_browser(),Ot=_e;Ot.define=function(Xt,jr){return new Ft(Xt,jr)};function Ft(Ut,Xt){this.name=Ut,this.body=Xt,this.decoders={},this.encoders={}}Ft.prototype._createNamed=function(Xt){var jr;try{jr=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{jr=function(Vr){this._initNamed(Vr)}}return Mt(jr,Xt),jr.prototype._initNamed=function(Vr){Xt.call(this,Vr)},new jr(this)},Ft.prototype._getDecoder=function(Xt){return Xt=Xt||"der",this.decoders.hasOwnProperty(Xt)||(this.decoders[Xt]=this._createNamed(d.decoders[Xt])),this.decoders[Xt]},Ft.prototype.decode=function(Xt,jr,hn){return this._getDecoder(jr).decode(Xt,hn)},Ft.prototype._getEncoder=function(Xt){return Xt=Xt||"der",this.encoders.hasOwnProperty(Xt)||(this.encoders[Xt]=this._createNamed(d.encoders[Xt])),this.encoders[Xt]},Ft.prototype.encode=function(Xt,jr,hn){return this._getEncoder(jr).encode(Xt,hn)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var _e=requireInherits_browser();function d(Ot){this._reporterState={obj:null,path:[],options:Ot||{},errors:[]}}reporter.Reporter=d,d.prototype.isError=function(Ft){return Ft instanceof Mt},d.prototype.save=function(){var Ft=this._reporterState;return{obj:Ft.obj,pathLen:Ft.path.length}},d.prototype.restore=function(Ft){var Ut=this._reporterState;Ut.obj=Ft.obj,Ut.path=Ut.path.slice(0,Ft.pathLen)},d.prototype.enterKey=function(Ft){return this._reporterState.path.push(Ft)},d.prototype.exitKey=function(Ft){var Ut=this._reporterState;Ut.path=Ut.path.slice(0,Ft-1)},d.prototype.leaveKey=function(Ft,Ut,Xt){var jr=this._reporterState;this.exitKey(Ft),jr.obj!==null&&(jr.obj[Ut]=Xt)},d.prototype.path=function(){return this._reporterState.path.join("/")},d.prototype.enterObject=function(){var Ft=this._reporterState,Ut=Ft.obj;return Ft.obj={},Ut},d.prototype.leaveObject=function(Ft){var Ut=this._reporterState,Xt=Ut.obj;return Ut.obj=Ft,Xt},d.prototype.error=function(Ft){var Ut,Xt=this._reporterState,jr=Ft instanceof Mt;if(jr?Ut=Ft:Ut=new Mt(Xt.path.map(function(hn){return"["+JSON.stringify(hn)+"]"}).join(""),Ft.message||Ft,Ft.stack),!Xt.options.partial)throw Ut;return jr||Xt.errors.push(Ut),Ut},d.prototype.wrapResult=function(Ft){var Ut=this._reporterState;return Ut.options.partial?{result:this.isError(Ft)?null:Ft,errors:Ut.errors}:Ft};function Mt(Ot,Ft){this.path=Ot,this.rethrow(Ft)}return _e(Mt,Error),Mt.prototype.rethrow=function(Ft){if(this.message=Ft+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Mt),!this.stack)try{throw new Error(this.message)}catch(Ut){this.stack=Ut.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var _e=requireInherits_browser(),d=requireBase().Reporter,Mt=require$$1$2.Buffer;function Ot(Ut,Xt){if(d.call(this,Xt),!Mt.isBuffer(Ut)){this.error("Input not Buffer");return}this.base=Ut,this.offset=0,this.length=Ut.length}_e(Ot,d),buffer.DecoderBuffer=Ot,Ot.prototype.save=function(){return{offset:this.offset,reporter:d.prototype.save.call(this)}},Ot.prototype.restore=function(Xt){var jr=new Ot(this.base);return jr.offset=Xt.offset,jr.length=this.offset,this.offset=Xt.offset,d.prototype.restore.call(this,Xt.reporter),jr},Ot.prototype.isEmpty=function(){return this.offset===this.length},Ot.prototype.readUInt8=function(Xt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Xt||"DecoderBuffer overrun")},Ot.prototype.skip=function(Xt,jr){if(!(this.offset+Xt<=this.length))return this.error(jr||"DecoderBuffer overrun");var hn=new Ot(this.base);return hn._reporterState=this._reporterState,hn.offset=this.offset,hn.length=this.offset+Xt,this.offset+=Xt,hn},Ot.prototype.raw=function(Xt){return this.base.slice(Xt?Xt.offset:this.offset,this.length)};function Ft(Ut,Xt){if(Array.isArray(Ut))this.length=0,this.value=Ut.map(function(jr){return jr instanceof Ft||(jr=new Ft(jr,Xt)),this.length+=jr.length,jr},this);else if(typeof Ut=="number"){if(!(0<=Ut&&Ut<=255))return Xt.error("non-byte EncoderBuffer value");this.value=Ut,this.length=1}else if(typeof Ut=="string")this.value=Ut,this.length=Mt.byteLength(Ut);else if(Mt.isBuffer(Ut))this.value=Ut,this.length=Ut.length;else return Xt.error("Unsupported type: "+typeof Ut)}return buffer.EncoderBuffer=Ft,Ft.prototype.join=function(Xt,jr){return Xt||(Xt=new Mt(this.length)),jr||(jr=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(hn){hn.join(Xt,jr),jr+=hn.length}):(typeof this.value=="number"?Xt[jr]=this.value:typeof this.value=="string"?Xt.write(this.value,jr):Mt.isBuffer(this.value)&&this.value.copy(Xt,jr),jr+=this.length)),Xt},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var _e=requireBase().Reporter,d=requireBase().EncoderBuffer,Mt=requireBase().DecoderBuffer,Ot=requireMinimalisticAssert(),Ft=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Ut=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Ft),Xt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function jr(Vr,fn){var dn={};this._baseState=dn,dn.enc=Vr,dn.parent=fn||null,dn.children=null,dn.tag=null,dn.args=null,dn.reverseArgs=null,dn.choice=null,dn.optional=!1,dn.any=!1,dn.obj=!1,dn.use=null,dn.useDecoder=null,dn.key=null,dn.default=null,dn.explicit=null,dn.implicit=null,dn.contains=null,dn.parent||(dn.children=[],this._wrap())}node=jr;var hn=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return jr.prototype.clone=function(){var fn=this._baseState,dn={};hn.forEach(function(En){dn[En]=fn[En]});var pn=new this.constructor(dn.parent);return pn._baseState=dn,pn},jr.prototype._wrap=function(){var fn=this._baseState;Ut.forEach(function(dn){this[dn]=function(){var En=new this.constructor(this);return fn.children.push(En),En[dn].apply(En,arguments)}},this)},jr.prototype._init=function(fn){var dn=this._baseState;Ot(dn.parent===null),fn.call(this),dn.children=dn.children.filter(function(pn){return pn._baseState.parent===this},this),Ot.equal(dn.children.length,1,"Root node can have only one child")},jr.prototype._useArgs=function(fn){var dn=this._baseState,pn=fn.filter(function(En){return En instanceof this.constructor},this);fn=fn.filter(function(En){return!(En instanceof this.constructor)},this),pn.length!==0&&(Ot(dn.children===null),dn.children=pn,pn.forEach(function(En){En._baseState.parent=this},this)),fn.length!==0&&(Ot(dn.args===null),dn.args=fn,dn.reverseArgs=fn.map(function(En){if(typeof En!="object"||En.constructor!==Object)return En;var _n={};return Object.keys(En).forEach(function(Dn){Dn==(Dn|0)&&(Dn|=0);var Vn=En[Dn];_n[Vn]=Dn}),_n}))},Xt.forEach(function(Vr){jr.prototype[Vr]=function(){var dn=this._baseState;throw new Error(Vr+" not implemented for encoding: "+dn.enc)}}),Ft.forEach(function(Vr){jr.prototype[Vr]=function(){var dn=this._baseState,pn=Array.prototype.slice.call(arguments);return Ot(dn.tag===null),dn.tag=Vr,this._useArgs(pn),this}}),jr.prototype.use=function(fn){Ot(fn);var dn=this._baseState;return Ot(dn.use===null),dn.use=fn,this},jr.prototype.optional=function(){var fn=this._baseState;return fn.optional=!0,this},jr.prototype.def=function(fn){var dn=this._baseState;return Ot(dn.default===null),dn.default=fn,dn.optional=!0,this},jr.prototype.explicit=function(fn){var dn=this._baseState;return Ot(dn.explicit===null&&dn.implicit===null),dn.explicit=fn,this},jr.prototype.implicit=function(fn){var dn=this._baseState;return Ot(dn.explicit===null&&dn.implicit===null),dn.implicit=fn,this},jr.prototype.obj=function(){var fn=this._baseState,dn=Array.prototype.slice.call(arguments);return fn.obj=!0,dn.length!==0&&this._useArgs(dn),this},jr.prototype.key=function(fn){var dn=this._baseState;return Ot(dn.key===null),dn.key=fn,this},jr.prototype.any=function(){var fn=this._baseState;return fn.any=!0,this},jr.prototype.choice=function(fn){var dn=this._baseState;return Ot(dn.choice===null),dn.choice=fn,this._useArgs(Object.keys(fn).map(function(pn){return fn[pn]})),this},jr.prototype.contains=function(fn){var dn=this._baseState;return Ot(dn.use===null),dn.contains=fn,this},jr.prototype._decode=function(fn,dn){var pn=this._baseState;if(pn.parent===null)return fn.wrapResult(pn.children[0]._decode(fn,dn));var En=pn.default,_n=!0,Dn=null;if(pn.key!==null&&(Dn=fn.enterKey(pn.key)),pn.optional){var Vn=null;if(pn.explicit!==null?Vn=pn.explicit:pn.implicit!==null?Vn=pn.implicit:pn.tag!==null&&(Vn=pn.tag),Vn===null&&!pn.any){var Pn=fn.save();try{pn.choice===null?this._decodeGeneric(pn.tag,fn,dn):this._decodeChoice(fn,dn),_n=!0}catch{_n=!1}fn.restore(Pn)}else if(_n=this._peekTag(fn,Vn,pn.any),fn.isError(_n))return _n}var qn;if(pn.obj&&_n&&(qn=fn.enterObject()),_n){if(pn.explicit!==null){var jn=this._decodeTag(fn,pn.explicit);if(fn.isError(jn))return jn;fn=jn}var Hn=fn.offset;if(pn.use===null&&pn.choice===null){if(pn.any)var Pn=fn.save();var Jn=this._decodeTag(fn,pn.implicit!==null?pn.implicit:pn.tag,pn.any);if(fn.isError(Jn))return Jn;pn.any?En=fn.raw(Pn):fn=Jn}if(dn&&dn.track&&pn.tag!==null&&dn.track(fn.path(),Hn,fn.length,"tagged"),dn&&dn.track&&pn.tag!==null&&dn.track(fn.path(),fn.offset,fn.length,"content"),pn.any?En=En:pn.choice===null?En=this._decodeGeneric(pn.tag,fn,dn):En=this._decodeChoice(fn,dn),fn.isError(En))return En;if(!pn.any&&pn.choice===null&&pn.children!==null&&pn.children.forEach(function(eo){eo._decode(fn,dn)}),pn.contains&&(pn.tag==="octstr"||pn.tag==="bitstr")){var Gn=new Mt(En);En=this._getUse(pn.contains,fn._reporterState.obj)._decode(Gn,dn)}}return pn.obj&&_n&&(En=fn.leaveObject(qn)),pn.key!==null&&(En!==null||_n===!0)?fn.leaveKey(Dn,pn.key,En):Dn!==null&&fn.exitKey(Dn),En},jr.prototype._decodeGeneric=function(fn,dn,pn){var En=this._baseState;return fn==="seq"||fn==="set"?null:fn==="seqof"||fn==="setof"?this._decodeList(dn,fn,En.args[0],pn):/str$/.test(fn)?this._decodeStr(dn,fn,pn):fn==="objid"&&En.args?this._decodeObjid(dn,En.args[0],En.args[1],pn):fn==="objid"?this._decodeObjid(dn,null,null,pn):fn==="gentime"||fn==="utctime"?this._decodeTime(dn,fn,pn):fn==="null_"?this._decodeNull(dn,pn):fn==="bool"?this._decodeBool(dn,pn):fn==="objDesc"?this._decodeStr(dn,fn,pn):fn==="int"||fn==="enum"?this._decodeInt(dn,En.args&&En.args[0],pn):En.use!==null?this._getUse(En.use,dn._reporterState.obj)._decode(dn,pn):dn.error("unknown tag: "+fn)},jr.prototype._getUse=function(fn,dn){var pn=this._baseState;return pn.useDecoder=this._use(fn,dn),Ot(pn.useDecoder._baseState.parent===null),pn.useDecoder=pn.useDecoder._baseState.children[0],pn.implicit!==pn.useDecoder._baseState.implicit&&(pn.useDecoder=pn.useDecoder.clone(),pn.useDecoder._baseState.implicit=pn.implicit),pn.useDecoder},jr.prototype._decodeChoice=function(fn,dn){var pn=this._baseState,En=null,_n=!1;return Object.keys(pn.choice).some(function(Dn){var Vn=fn.save(),Pn=pn.choice[Dn];try{var qn=Pn._decode(fn,dn);if(fn.isError(qn))return!1;En={type:Dn,value:qn},_n=!0}catch{return fn.restore(Vn),!1}return!0},this),_n?En:fn.error("Choice not matched")},jr.prototype._createEncoderBuffer=function(fn){return new d(fn,this.reporter)},jr.prototype._encode=function(fn,dn,pn){var En=this._baseState;if(!(En.default!==null&&En.default===fn)){var _n=this._encodeValue(fn,dn,pn);if(_n!==void 0&&!this._skipDefault(_n,dn,pn))return _n}},jr.prototype._encodeValue=function(fn,dn,pn){var En=this._baseState;if(En.parent===null)return En.children[0]._encode(fn,dn||new _e);var Pn=null;if(this.reporter=dn,En.optional&&fn===void 0)if(En.default!==null)fn=En.default;else return;var _n=null,Dn=!1;if(En.any)Pn=this._createEncoderBuffer(fn);else if(En.choice)Pn=this._encodeChoice(fn,dn);else if(En.contains)_n=this._getUse(En.contains,pn)._encode(fn,dn),Dn=!0;else if(En.children)_n=En.children.map(function(Hn){if(Hn._baseState.tag==="null_")return Hn._encode(null,dn,fn);if(Hn._baseState.key===null)return dn.error("Child should have a key");var Jn=dn.enterKey(Hn._baseState.key);if(typeof fn!="object")return dn.error("Child expected, but input is not object");var Gn=Hn._encode(fn[Hn._baseState.key],dn,fn);return dn.leaveKey(Jn),Gn},this).filter(function(Hn){return Hn}),_n=this._createEncoderBuffer(_n);else if(En.tag==="seqof"||En.tag==="setof"){if(!(En.args&&En.args.length===1))return dn.error("Too many args for : "+En.tag);if(!Array.isArray(fn))return dn.error("seqof/setof, but data is not Array");var Vn=this.clone();Vn._baseState.implicit=null,_n=this._createEncoderBuffer(fn.map(function(Hn){var Jn=this._baseState;return this._getUse(Jn.args[0],fn)._encode(Hn,dn)},Vn))}else En.use!==null?Pn=this._getUse(En.use,pn)._encode(fn,dn):(_n=this._encodePrimitive(En.tag,fn),Dn=!0);var Pn;if(!En.any&&En.choice===null){var qn=En.implicit!==null?En.implicit:En.tag,jn=En.implicit===null?"universal":"context";qn===null?En.use===null&&dn.error("Tag could be omitted only for .use()"):En.use===null&&(Pn=this._encodeComposite(qn,Dn,jn,_n))}return En.explicit!==null&&(Pn=this._encodeComposite(En.explicit,!1,"context",Pn)),Pn},jr.prototype._encodeChoice=function(fn,dn){var pn=this._baseState,En=pn.choice[fn.type];return En||Ot(!1,fn.type+" not found in "+JSON.stringify(Object.keys(pn.choice))),En._encode(fn.value,dn)},jr.prototype._encodePrimitive=function(fn,dn){var pn=this._baseState;if(/str$/.test(fn))return this._encodeStr(dn,fn);if(fn==="objid"&&pn.args)return this._encodeObjid(dn,pn.reverseArgs[0],pn.args[1]);if(fn==="objid")return this._encodeObjid(dn,null,null);if(fn==="gentime"||fn==="utctime")return this._encodeTime(dn,fn);if(fn==="null_")return this._encodeNull();if(fn==="int"||fn==="enum")return this._encodeInt(dn,pn.args&&pn.reverseArgs[0]);if(fn==="bool")return this._encodeBool(dn);if(fn==="objDesc")return this._encodeStr(dn,fn);throw new Error("Unsupported tag: "+fn)},jr.prototype._isNumstr=function(fn){return/^[0-9 ]*$/.test(fn)},jr.prototype._isPrintstr=function(fn){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(fn)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(_e){var d=_e;d.Reporter=requireReporter().Reporter,d.DecoderBuffer=requireBuffer().DecoderBuffer,d.EncoderBuffer=requireBuffer().EncoderBuffer,d.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(_e){var d=requireConstants();_e.tagClass={0:"universal",1:"application",2:"context",3:"private"},_e.tagClassByName=d._reverse(_e.tagClass),_e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},_e.tagByName=d._reverse(_e.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(_e){var d=_e;d._reverse=function(Ot){var Ft={};return Object.keys(Ot).forEach(function(Ut){(Ut|0)==Ut&&(Ut=Ut|0);var Xt=Ot[Ut];Ft[Xt]=Ut}),Ft},d.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var _e=requireInherits_browser(),d=requireAsn1$1(),Mt=d.base,Ot=d.bignum,Ft=d.constants.der;function Ut(Vr){this.enc="der",this.name=Vr.name,this.entity=Vr,this.tree=new Xt,this.tree._init(Vr.body)}der_1$1=Ut,Ut.prototype.decode=function(fn,dn){return fn instanceof Mt.DecoderBuffer||(fn=new Mt.DecoderBuffer(fn,dn)),this.tree._decode(fn,dn)};function Xt(Vr){Mt.Node.call(this,"der",Vr)}_e(Xt,Mt.Node),Xt.prototype._peekTag=function(fn,dn,pn){if(fn.isEmpty())return!1;var En=fn.save(),_n=jr(fn,'Failed to peek tag: "'+dn+'"');return fn.isError(_n)?_n:(fn.restore(En),_n.tag===dn||_n.tagStr===dn||_n.tagStr+"of"===dn||pn)},Xt.prototype._decodeTag=function(fn,dn,pn){var En=jr(fn,'Failed to decode tag of "'+dn+'"');if(fn.isError(En))return En;var _n=hn(fn,En.primitive,'Failed to get length of "'+dn+'"');if(fn.isError(_n))return _n;if(!pn&&En.tag!==dn&&En.tagStr!==dn&&En.tagStr+"of"!==dn)return fn.error('Failed to match tag: "'+dn+'"');if(En.primitive||_n!==null)return fn.skip(_n,'Failed to match body of: "'+dn+'"');var Dn=fn.save(),Vn=this._skipUntilEnd(fn,'Failed to skip indefinite length body: "'+this.tag+'"');return fn.isError(Vn)?Vn:(_n=fn.offset-Dn.offset,fn.restore(Dn),fn.skip(_n,'Failed to match body of: "'+dn+'"'))},Xt.prototype._skipUntilEnd=function(fn,dn){for(;;){var pn=jr(fn,dn);if(fn.isError(pn))return pn;var En=hn(fn,pn.primitive,dn);if(fn.isError(En))return En;var _n;if(pn.primitive||En!==null?_n=fn.skip(En):_n=this._skipUntilEnd(fn,dn),fn.isError(_n))return _n;if(pn.tagStr==="end")break}},Xt.prototype._decodeList=function(fn,dn,pn,En){for(var _n=[];!fn.isEmpty();){var Dn=this._peekTag(fn,"end");if(fn.isError(Dn))return Dn;var Vn=pn.decode(fn,"der",En);if(fn.isError(Vn)&&Dn)break;_n.push(Vn)}return _n},Xt.prototype._decodeStr=function(fn,dn){if(dn==="bitstr"){var pn=fn.readUInt8();return fn.isError(pn)?pn:{unused:pn,data:fn.raw()}}else if(dn==="bmpstr"){var En=fn.raw();if(En.length%2===1)return fn.error("Decoding of string type: bmpstr length mismatch");for(var _n="",Dn=0;Dn<En.length/2;Dn++)_n+=String.fromCharCode(En.readUInt16BE(Dn*2));return _n}else if(dn==="numstr"){var Vn=fn.raw().toString("ascii");return this._isNumstr(Vn)?Vn:fn.error("Decoding of string type: numstr unsupported characters")}else{if(dn==="octstr")return fn.raw();if(dn==="objDesc")return fn.raw();if(dn==="printstr"){var Pn=fn.raw().toString("ascii");return this._isPrintstr(Pn)?Pn:fn.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(dn)?fn.raw().toString():fn.error("Decoding of string type: "+dn+" unsupported")}},Xt.prototype._decodeObjid=function(fn,dn,pn){for(var En,_n=[],Dn=0;!fn.isEmpty();){var Vn=fn.readUInt8();Dn<<=7,Dn|=Vn&127,Vn&128||(_n.push(Dn),Dn=0)}Vn&128&&_n.push(Dn);var Pn=_n[0]/40|0,qn=_n[0]%40;if(pn?En=_n:En=[Pn,qn].concat(_n.slice(1)),dn){var jn=dn[En.join(" ")];jn===void 0&&(jn=dn[En.join(".")]),jn!==void 0&&(En=jn)}return En},Xt.prototype._decodeTime=function(fn,dn){var pn=fn.raw().toString();if(dn==="gentime")var En=pn.slice(0,4)|0,_n=pn.slice(4,6)|0,Dn=pn.slice(6,8)|0,Vn=pn.slice(8,10)|0,Pn=pn.slice(10,12)|0,qn=pn.slice(12,14)|0;else if(dn==="utctime"){var En=pn.slice(0,2)|0,_n=pn.slice(2,4)|0,Dn=pn.slice(4,6)|0,Vn=pn.slice(6,8)|0,Pn=pn.slice(8,10)|0,qn=pn.slice(10,12)|0;En<70?En=2e3+En:En=1900+En}else return fn.error("Decoding "+dn+" time is not supported yet");return Date.UTC(En,_n-1,Dn,Vn,Pn,qn,0)},Xt.prototype._decodeNull=function(fn){return null},Xt.prototype._decodeBool=function(fn){var dn=fn.readUInt8();return fn.isError(dn)?dn:dn!==0},Xt.prototype._decodeInt=function(fn,dn){var pn=fn.raw(),En=new Ot(pn);return dn&&(En=dn[En.toString(10)]||En),En},Xt.prototype._use=function(fn,dn){return typeof fn=="function"&&(fn=fn(dn)),fn._getDecoder("der").tree};function jr(Vr,fn){var dn=Vr.readUInt8(fn);if(Vr.isError(dn))return dn;var pn=Ft.tagClass[dn>>6],En=(dn&32)===0;if((dn&31)===31){var _n=dn;for(dn=0;(_n&128)===128;){if(_n=Vr.readUInt8(fn),Vr.isError(_n))return _n;dn<<=7,dn|=_n&127}}else dn&=31;var Dn=Ft.tag[dn];return{cls:pn,primitive:En,tag:dn,tagStr:Dn}}function hn(Vr,fn,dn){var pn=Vr.readUInt8(dn);if(Vr.isError(pn))return pn;if(!fn&&pn===128)return null;if(!(pn&128))return pn;var En=pn&127;if(En>4)return Vr.error("length octect is too long");pn=0;for(var _n=0;_n<En;_n++){pn<<=8;var Dn=Vr.readUInt8(dn);if(Vr.isError(Dn))return Dn;pn|=Dn}return pn}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var _e=requireInherits_browser(),d=require$$1$2.Buffer,Mt=requireDer$1();function Ot(Ft){Mt.call(this,Ft),this.enc="pem"}return _e(Ot,Mt),pem$1=Ot,Ot.prototype.decode=function(Ut,Xt){for(var jr=Ut.toString().split(/[\r\n]+/g),hn=Xt.label.toUpperCase(),Vr=/^-----(BEGIN|END) ([^-]+)-----$/,fn=-1,dn=-1,pn=0;pn<jr.length;pn++){var En=jr[pn].match(Vr);if(En!==null&&En[2]===hn)if(fn===-1){if(En[1]!=="BEGIN")break;fn=pn}else{if(En[1]!=="END")break;dn=pn;break}}if(fn===-1||dn===-1)throw new Error("PEM section not found for: "+hn);var _n=jr.slice(fn+1,dn).join("");_n.replace(/[^a-z0-9\+\/=]+/gi,"");var Dn=new d(_n,"base64");return Mt.prototype.decode.call(this,Dn,Xt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(_e){var d=_e;d.der=requireDer$1(),d.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var _e=requireInherits_browser(),d=require$$1$2.Buffer,Mt=requireAsn1$1(),Ot=Mt.base,Ft=Mt.constants.der;function Ut(Vr){this.enc="der",this.name=Vr.name,this.entity=Vr,this.tree=new Xt,this.tree._init(Vr.body)}der_1=Ut,Ut.prototype.encode=function(fn,dn){return this.tree._encode(fn,dn).join()};function Xt(Vr){Ot.Node.call(this,"der",Vr)}_e(Xt,Ot.Node),Xt.prototype._encodeComposite=function(fn,dn,pn,En){var _n=hn(fn,dn,pn,this.reporter);if(En.length<128){var Pn=new d(2);return Pn[0]=_n,Pn[1]=En.length,this._createEncoderBuffer([Pn,En])}for(var Dn=1,Vn=En.length;Vn>=256;Vn>>=8)Dn++;var Pn=new d(2+Dn);Pn[0]=_n,Pn[1]=128|Dn;for(var Vn=1+Dn,qn=En.length;qn>0;Vn--,qn>>=8)Pn[Vn]=qn&255;return this._createEncoderBuffer([Pn,En])},Xt.prototype._encodeStr=function(fn,dn){if(dn==="bitstr")return this._createEncoderBuffer([fn.unused|0,fn.data]);if(dn==="bmpstr"){for(var pn=new d(fn.length*2),En=0;En<fn.length;En++)pn.writeUInt16BE(fn.charCodeAt(En),En*2);return this._createEncoderBuffer(pn)}else return dn==="numstr"?this._isNumstr(fn)?this._createEncoderBuffer(fn):this.reporter.error("Encoding of string type: numstr supports only digits and space"):dn==="printstr"?this._isPrintstr(fn)?this._createEncoderBuffer(fn):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(dn)?this._createEncoderBuffer(fn):dn==="objDesc"?this._createEncoderBuffer(fn):this.reporter.error("Encoding of string type: "+dn+" unsupported")},Xt.prototype._encodeObjid=function(fn,dn,pn){if(typeof fn=="string"){if(!dn)return this.reporter.error("string objid given, but no values map found");if(!dn.hasOwnProperty(fn))return this.reporter.error("objid not found in values map");fn=dn[fn].split(/[\s\.]+/g);for(var En=0;En<fn.length;En++)fn[En]|=0}else if(Array.isArray(fn)){fn=fn.slice();for(var En=0;En<fn.length;En++)fn[En]|=0}if(!Array.isArray(fn))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(fn));if(!pn){if(fn[1]>=40)return this.reporter.error("Second objid identifier OOB");fn.splice(0,2,fn[0]*40+fn[1])}for(var _n=0,En=0;En<fn.length;En++){var Dn=fn[En];for(_n++;Dn>=128;Dn>>=7)_n++}for(var Vn=new d(_n),Pn=Vn.length-1,En=fn.length-1;En>=0;En--){var Dn=fn[En];for(Vn[Pn--]=Dn&127;(Dn>>=7)>0;)Vn[Pn--]=128|Dn&127}return this._createEncoderBuffer(Vn)};function jr(Vr){return Vr<10?"0"+Vr:Vr}Xt.prototype._encodeTime=function(fn,dn){var pn,En=new Date(fn);return dn==="gentime"?pn=[jr(En.getFullYear()),jr(En.getUTCMonth()+1),jr(En.getUTCDate()),jr(En.getUTCHours()),jr(En.getUTCMinutes()),jr(En.getUTCSeconds()),"Z"].join(""):dn==="utctime"?pn=[jr(En.getFullYear()%100),jr(En.getUTCMonth()+1),jr(En.getUTCDate()),jr(En.getUTCHours()),jr(En.getUTCMinutes()),jr(En.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+dn+" time is not supported yet"),this._encodeStr(pn,"octstr")},Xt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Xt.prototype._encodeInt=function(fn,dn){if(typeof fn=="string"){if(!dn)return this.reporter.error("String int or enum given, but no values map");if(!dn.hasOwnProperty(fn))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(fn));fn=dn[fn]}if(typeof fn!="number"&&!d.isBuffer(fn)){var pn=fn.toArray();!fn.sign&&pn[0]&128&&pn.unshift(0),fn=new d(pn)}if(d.isBuffer(fn)){var En=fn.length;fn.length===0&&En++;var Dn=new d(En);return fn.copy(Dn),fn.length===0&&(Dn[0]=0),this._createEncoderBuffer(Dn)}if(fn<128)return this._createEncoderBuffer(fn);if(fn<256)return this._createEncoderBuffer([0,fn]);for(var En=1,_n=fn;_n>=256;_n>>=8)En++;for(var Dn=new Array(En),_n=Dn.length-1;_n>=0;_n--)Dn[_n]=fn&255,fn>>=8;return Dn[0]&128&&Dn.unshift(0),this._createEncoderBuffer(new d(Dn))},Xt.prototype._encodeBool=function(fn){return this._createEncoderBuffer(fn?255:0)},Xt.prototype._use=function(fn,dn){return typeof fn=="function"&&(fn=fn(dn)),fn._getEncoder("der").tree},Xt.prototype._skipDefault=function(fn,dn,pn){var En=this._baseState,_n;if(En.default===null)return!1;var Dn=fn.join();if(En.defaultBuffer===void 0&&(En.defaultBuffer=this._encodeValue(En.default,dn,pn).join()),Dn.length!==En.defaultBuffer.length)return!1;for(_n=0;_n<Dn.length;_n++)if(Dn[_n]!==En.defaultBuffer[_n])return!1;return!0};function hn(Vr,fn,dn,pn){var En;if(Vr==="seqof"?Vr="seq":Vr==="setof"&&(Vr="set"),Ft.tagByName.hasOwnProperty(Vr))En=Ft.tagByName[Vr];else if(typeof Vr=="number"&&(Vr|0)===Vr)En=Vr;else return pn.error("Unknown tag: "+Vr);return En>=31?pn.error("Multi-octet tag encoding unsupported"):(fn||(En|=32),En|=Ft.tagClassByName[dn||"universal"]<<6,En)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var _e=requireInherits_browser(),d=requireDer();function Mt(Ot){d.call(this,Ot),this.enc="pem"}return _e(Mt,d),pem=Mt,Mt.prototype.encode=function(Ft,Ut){for(var Xt=d.prototype.encode.call(this,Ft),jr=Xt.toString("base64"),hn=["-----BEGIN "+Ut.label+"-----"],Vr=0;Vr<jr.length;Vr+=64)hn.push(jr.slice(Vr,Vr+64));return hn.push("-----END "+Ut.label+"-----"),hn.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(_e){var d=_e;d.der=requireDer(),d.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(_e){var d=_e;d.bignum=requireBn$3(),d.define=requireApi().define,d.base=requireBase(),d.constants=requireConstants(),d.decoders=requireDecoders(),d.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var _e=requireAsn1$1(),d=_e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Mt=_e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Ot=_e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Ft=_e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Ot),this.key("subjectPublicKey").bitstr())}),Ut=_e.define("RelativeDistinguishedName",function(){this.setof(Mt)}),Xt=_e.define("RDNSequence",function(){this.seqof(Ut)}),jr=_e.define("Name",function(){this.choice({rdnSequence:this.use(Xt)})}),hn=_e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(d),this.key("notAfter").use(d))}),Vr=_e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),fn=_e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Ot),this.key("issuer").use(jr),this.key("validity").use(hn),this.key("subject").use(jr),this.key("subjectPublicKeyInfo").use(Ft),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Vr).optional())}),dn=_e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(fn),this.key("signatureAlgorithm").use(Ot),this.key("signatureValue").bitstr())});return certificate=dn,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var _e=requireAsn1$1();asn1$1.certificate=requireCertificate();var d=_e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=d;var Mt=_e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=Mt;var Ot=_e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Ft=_e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Ot),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=Ft;var Ut=_e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Ot),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=Ut;var Xt=_e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=Xt;var jr=_e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=jr,asn1$1.DSAparam=_e.define("DSAparam",function(){this.int()});var hn=_e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Vr=_e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(hn),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Vr,asn1$1.signature=_e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var _e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,d=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Mt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Ot=requireEvp_bytestokey(),Ft=requireBrowser$6(),Ut=requireSafeBuffer$1().Buffer;return fixProc=function(Xt,jr){var hn=Xt.toString(),Vr=hn.match(_e),fn;if(Vr){var pn="aes"+Vr[1],En=Ut.from(Vr[2],"hex"),_n=Ut.from(Vr[3].replace(/[\r\n]/g,""),"base64"),Dn=Ot(jr,En.slice(0,8),parseInt(Vr[1],10)).key,Vn=[],Pn=Ft.createDecipheriv(pn,Dn,En);Vn.push(Pn.update(_n)),Vn.push(Pn.final()),fn=Ut.concat(Vn)}else{var dn=hn.match(Mt);fn=Ut.from(dn[2].replace(/[\r\n]/g,""),"base64")}var qn=hn.match(d)[1];return{tag:qn,data:fn}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var _e=requireAsn1(),d=require$$1,Mt=requireFixProc(),Ot=requireBrowser$6(),Ft=requireBrowser$7(),Ut=requireSafeBuffer$1().Buffer;function Xt(hn,Vr){var fn=hn.algorithm.decrypt.kde.kdeparams.salt,dn=parseInt(hn.algorithm.decrypt.kde.kdeparams.iters.toString(),10),pn=d[hn.algorithm.decrypt.cipher.algo.join(".")],En=hn.algorithm.decrypt.cipher.iv,_n=hn.subjectPrivateKey,Dn=parseInt(pn.split("-")[1],10)/8,Vn=Ft.pbkdf2Sync(Vr,fn,dn,Dn,"sha1"),Pn=Ot.createDecipheriv(pn,Vn,En),qn=[];return qn.push(Pn.update(_n)),qn.push(Pn.final()),Ut.concat(qn)}function jr(hn){var Vr;typeof hn=="object"&&!Ut.isBuffer(hn)&&(Vr=hn.passphrase,hn=hn.key),typeof hn=="string"&&(hn=Ut.from(hn));var fn=Mt(hn,Vr),dn=fn.tag,pn=fn.data,En,_n;switch(dn){case"CERTIFICATE":_n=_e.certificate.decode(pn,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(_n||(_n=_e.PublicKey.decode(pn,"der")),En=_n.algorithm.algorithm.join("."),En){case"1.2.840.113549.1.1.1":return _e.RSAPublicKey.decode(_n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return _n.subjectPrivateKey=_n.subjectPublicKey,{type:"ec",data:_n};case"1.2.840.10040.4.1":return _n.algorithm.params.pub_key=_e.DSAparam.decode(_n.subjectPublicKey.data,"der"),{type:"dsa",data:_n.algorithm.params};default:throw new Error("unknown key id "+En)}case"ENCRYPTED PRIVATE KEY":pn=_e.EncryptedPrivateKey.decode(pn,"der"),pn=Xt(pn,Vr);case"PRIVATE KEY":switch(_n=_e.PrivateKey.decode(pn,"der"),En=_n.algorithm.algorithm.join("."),En){case"1.2.840.113549.1.1.1":return _e.RSAPrivateKey.decode(_n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:_n.algorithm.curve,privateKey:_e.ECPrivateKey.decode(_n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return _n.algorithm.params.priv_key=_e.DSAparam.decode(_n.subjectPrivateKey,"der"),{type:"dsa",params:_n.algorithm.params};default:throw new Error("unknown key id "+En)}case"RSA PUBLIC KEY":return _e.RSAPublicKey.decode(pn,"der");case"RSA PRIVATE KEY":return _e.RSAPrivateKey.decode(pn,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_e.DSAPrivateKey.decode(pn,"der")};case"EC PRIVATE KEY":return pn=_e.ECPrivateKey.decode(pn,"der"),{curve:pn.parameters.value,privateKey:pn.privateKey};default:throw new Error("unknown key type "+dn)}}return jr.signature=_e.signature,parseAsn1=jr,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var _e=requireSafeBuffer$1().Buffer,d=requireBrowser$8(),Mt=requireBrowserifyRsa(),Ot=requireElliptic().ec,Ft=requireBn(),Ut=requireParseAsn1(),Xt=require$$4,jr=1;function hn(Pn,qn,jn,Hn,Jn){var Gn=Ut(qn);if(Gn.curve){if(Hn!=="ecdsa"&&Hn!=="ecdsa/rsa")throw new Error("wrong private key type");return Vr(Pn,Gn)}else if(Gn.type==="dsa"){if(Hn!=="dsa")throw new Error("wrong private key type");return fn(Pn,Gn,jn)}if(Hn!=="rsa"&&Hn!=="ecdsa/rsa")throw new Error("wrong private key type");if(qn.padding!==void 0&&qn.padding!==jr)throw new Error("illegal or unsupported padding mode");Pn=_e.concat([Jn,Pn]);for(var ba=Gn.modulus.byteLength(),eo=[0,1];Pn.length+eo.length+1<ba;)eo.push(255);eo.push(0);for(var xa=-1;++xa<Pn.length;)eo.push(Pn[xa]);var Yn=Mt(eo,Gn);return Yn}function Vr(Pn,qn){var jn=Xt[qn.curve.join(".")];if(!jn)throw new Error("unknown curve "+qn.curve.join("."));var Hn=new Ot(jn),Jn=Hn.keyFromPrivate(qn.privateKey),Gn=Jn.sign(Pn);return _e.from(Gn.toDER())}function fn(Pn,qn,jn){for(var Hn=qn.params.priv_key,Jn=qn.params.p,Gn=qn.params.q,ba=qn.params.g,eo=new Ft(0),xa,Yn=En(Pn,Gn).mod(Gn),Un=!1,Mn=pn(Hn,Gn,Pn,jn);Un===!1;)xa=Dn(Gn,Mn,jn),eo=Vn(ba,xa,Jn,Gn),Un=xa.invm(Gn).imul(Yn.add(Hn.mul(eo))).mod(Gn),Un.cmpn(0)===0&&(Un=!1,eo=new Ft(0));return dn(eo,Un)}function dn(Pn,qn){Pn=Pn.toArray(),qn=qn.toArray(),Pn[0]&128&&(Pn=[0].concat(Pn)),qn[0]&128&&(qn=[0].concat(qn));var jn=Pn.length+qn.length+4,Hn=[48,jn,2,Pn.length];return Hn=Hn.concat(Pn,[2,qn.length],qn),_e.from(Hn)}function pn(Pn,qn,jn,Hn){if(Pn=_e.from(Pn.toArray()),Pn.length<qn.byteLength()){var Jn=_e.alloc(qn.byteLength()-Pn.length);Pn=_e.concat([Jn,Pn])}var Gn=jn.length,ba=_n(jn,qn),eo=_e.alloc(Gn);eo.fill(1);var xa=_e.alloc(Gn);return xa=d(Hn,xa).update(eo).update(_e.from([0])).update(Pn).update(ba).digest(),eo=d(Hn,xa).update(eo).digest(),xa=d(Hn,xa).update(eo).update(_e.from([1])).update(Pn).update(ba).digest(),eo=d(Hn,xa).update(eo).digest(),{k:xa,v:eo}}function En(Pn,qn){var jn=new Ft(Pn),Hn=(Pn.length<<3)-qn.bitLength();return Hn>0&&jn.ishrn(Hn),jn}function _n(Pn,qn){Pn=En(Pn,qn),Pn=Pn.mod(qn);var jn=_e.from(Pn.toArray());if(jn.length<qn.byteLength()){var Hn=_e.alloc(qn.byteLength()-jn.length);jn=_e.concat([Hn,jn])}return jn}function Dn(Pn,qn,jn){var Hn,Jn;do{for(Hn=_e.alloc(0);Hn.length*8<Pn.bitLength();)qn.v=d(jn,qn.k).update(qn.v).digest(),Hn=_e.concat([Hn,qn.v]);Jn=En(Hn,Pn),qn.k=d(jn,qn.k).update(qn.v).update(_e.from([0])).digest(),qn.v=d(jn,qn.k).update(qn.v).digest()}while(Jn.cmp(Pn)!==-1);return Jn}function Vn(Pn,qn,jn,Hn){return Pn.toRed(Ft.mont(jn)).redPow(qn).fromRed().mod(Hn)}return sign$1.exports=hn,sign$1.exports.getKey=pn,sign$1.exports.makeKey=Dn,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var _e=requireSafeBuffer$1().Buffer,d=requireBn(),Mt=requireElliptic().ec,Ot=requireParseAsn1(),Ft=require$$4;function Ut(Vr,fn,dn,pn,En){var _n=Ot(dn);if(_n.type==="ec"){if(pn!=="ecdsa"&&pn!=="ecdsa/rsa")throw new Error("wrong public key type");return Xt(Vr,fn,_n)}else if(_n.type==="dsa"){if(pn!=="dsa")throw new Error("wrong public key type");return jr(Vr,fn,_n)}if(pn!=="rsa"&&pn!=="ecdsa/rsa")throw new Error("wrong public key type");fn=_e.concat([En,fn]);for(var Dn=_n.modulus.byteLength(),Vn=[1],Pn=0;fn.length+Vn.length+2<Dn;)Vn.push(255),Pn+=1;Vn.push(0);for(var qn=-1;++qn<fn.length;)Vn.push(fn[qn]);Vn=_e.from(Vn);var jn=d.mont(_n.modulus);Vr=new d(Vr).toRed(jn),Vr=Vr.redPow(new d(_n.publicExponent)),Vr=_e.from(Vr.fromRed().toArray());var Hn=Pn<8?1:0;for(Dn=Math.min(Vr.length,Vn.length),Vr.length!==Vn.length&&(Hn=1),qn=-1;++qn<Dn;)Hn|=Vr[qn]^Vn[qn];return Hn===0}function Xt(Vr,fn,dn){var pn=Ft[dn.data.algorithm.curve.join(".")];if(!pn)throw new Error("unknown curve "+dn.data.algorithm.curve.join("."));var En=new Mt(pn),_n=dn.data.subjectPrivateKey.data;return En.verify(fn,Vr,_n)}function jr(Vr,fn,dn){var pn=dn.data.p,En=dn.data.q,_n=dn.data.g,Dn=dn.data.pub_key,Vn=Ot.signature.decode(Vr,"der"),Pn=Vn.s,qn=Vn.r;hn(Pn,En),hn(qn,En);var jn=d.mont(pn),Hn=Pn.invm(En),Jn=_n.toRed(jn).redPow(new d(fn).mul(Hn).mod(En)).fromRed().mul(Dn.toRed(jn).redPow(qn.mul(Hn).mod(En)).fromRed()).mod(pn).mod(En);return Jn.cmp(qn)===0}function hn(Vr,fn){if(Vr.cmpn(0)<=0)throw new Error("invalid sig");if(Vr.cmp(fn)>=0)throw new Error("invalid sig")}return verify_1=Ut,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var _e=requireSafeBuffer$1().Buffer,d=requireBrowser$9(),Mt=requireReadableBrowser(),Ot=requireInherits_browser(),Ft=requireSign(),Ut=requireVerify(),Xt=require$$6;Object.keys(Xt).forEach(function(dn){Xt[dn].id=_e.from(Xt[dn].id,"hex"),Xt[dn.toLowerCase()]=Xt[dn]});function jr(dn){Mt.Writable.call(this);var pn=Xt[dn];if(!pn)throw new Error("Unknown message digest");this._hashType=pn.hash,this._hash=d(pn.hash),this._tag=pn.id,this._signType=pn.sign}Ot(jr,Mt.Writable),jr.prototype._write=function(pn,En,_n){this._hash.update(pn),_n()},jr.prototype.update=function(pn,En){return this._hash.update(typeof pn=="string"?_e.from(pn,En):pn),this},jr.prototype.sign=function(pn,En){this.end();var _n=this._hash.digest(),Dn=Ft(_n,pn,this._hashType,this._signType,this._tag);return En?Dn.toString(En):Dn};function hn(dn){Mt.Writable.call(this);var pn=Xt[dn];if(!pn)throw new Error("Unknown message digest");this._hash=d(pn.hash),this._tag=pn.id,this._signType=pn.sign}Ot(hn,Mt.Writable),hn.prototype._write=function(pn,En,_n){this._hash.update(pn),_n()},hn.prototype.update=function(pn,En){return this._hash.update(typeof pn=="string"?_e.from(pn,En):pn),this},hn.prototype.verify=function(pn,En,_n){var Dn=typeof En=="string"?_e.from(En,_n):En;this.end();var Vn=this._hash.digest();return Ut(Dn,Vn,pn,this._signType,this._tag)};function Vr(dn){return new jr(dn)}function fn(dn){return new hn(dn)}return browser$3={Sign:Vr,Verify:fn,createSign:Vr,createVerify:fn},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var _e=requireElliptic(),d=requireBn$3();browser$2=function(Xt){return new Ot(Xt)};var Mt={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Mt.p224=Mt.secp224r1,Mt.p256=Mt.secp256r1=Mt.prime256v1,Mt.p192=Mt.secp192r1=Mt.prime192v1,Mt.p384=Mt.secp384r1,Mt.p521=Mt.secp521r1;function Ot(Ut){this.curveType=Mt[Ut],this.curveType||(this.curveType={name:Ut}),this.curve=new _e.ec(this.curveType.name),this.keys=void 0}Ot.prototype.generateKeys=function(Ut,Xt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(Ut,Xt)},Ot.prototype.computeSecret=function(Ut,Xt,jr){Xt=Xt||"utf8",Buffer.isBuffer(Ut)||(Ut=new Buffer(Ut,Xt));var hn=this.curve.keyFromPublic(Ut).getPublic(),Vr=hn.mul(this.keys.getPrivate()).getX();return Ft(Vr,jr,this.curveType.byteLength)},Ot.prototype.getPublicKey=function(Ut,Xt){var jr=this.keys.getPublic(Xt==="compressed",!0);return Xt==="hybrid"&&(jr[jr.length-1]%2?jr[0]=7:jr[0]=6),Ft(jr,Ut)},Ot.prototype.getPrivateKey=function(Ut){return Ft(this.keys.getPrivate(),Ut)},Ot.prototype.setPublicKey=function(Ut,Xt){return Xt=Xt||"utf8",Buffer.isBuffer(Ut)||(Ut=new Buffer(Ut,Xt)),this.keys._importPublic(Ut),this},Ot.prototype.setPrivateKey=function(Ut,Xt){Xt=Xt||"utf8",Buffer.isBuffer(Ut)||(Ut=new Buffer(Ut,Xt));var jr=new d(Ut);return jr=jr.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(jr),this};function Ft(Ut,Xt,jr){Array.isArray(Ut)||(Ut=Ut.toArray());var hn=new Buffer(Ut);if(jr&&hn.length<jr){var Vr=new Buffer(jr-hn.length);Vr.fill(0),hn=Buffer.concat([Vr,hn])}return Xt?hn.toString(Xt):hn}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var _e=requireBrowser$9(),d=requireSafeBuffer$1().Buffer;mgf=function(Ot,Ft){for(var Ut=d.alloc(0),Xt=0,jr;Ut.length<Ft;)jr=Mt(Xt++),Ut=d.concat([Ut,_e("sha1").update(Ot).update(jr).digest()]);return Ut.slice(0,Ft)};function Mt(Ot){var Ft=d.allocUnsafe(4);return Ft.writeUInt32BE(Ot,0),Ft}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(d,Mt){for(var Ot=d.length,Ft=-1;++Ft<Ot;)d[Ft]^=Mt[Ft];return d}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var _e=requireBn$3(),d=requireSafeBuffer$1().Buffer;function Mt(Ot,Ft){return d.from(Ot.toRed(_e.mont(Ft.modulus)).redPow(new _e(Ft.publicExponent)).fromRed().toArray())}return withPublic_1=Mt,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var _e=requireParseAsn1(),d=requireBrowser$b(),Mt=requireBrowser$9(),Ot=requireMgf(),Ft=requireXor(),Ut=requireBn$3(),Xt=requireWithPublic(),jr=requireBrowserifyRsa(),hn=requireSafeBuffer$1().Buffer;publicEncrypt=function(En,_n,Dn){var Vn;En.padding?Vn=En.padding:Dn?Vn=1:Vn=4;var Pn=_e(En),qn;if(Vn===4)qn=Vr(Pn,_n);else if(Vn===1)qn=fn(Pn,_n,Dn);else if(Vn===3){if(qn=new Ut(_n),qn.cmp(Pn.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Dn?jr(qn,Pn):Xt(qn,Pn)};function Vr(pn,En){var _n=pn.modulus.byteLength(),Dn=En.length,Vn=Mt("sha1").update(hn.alloc(0)).digest(),Pn=Vn.length,qn=2*Pn;if(Dn>_n-qn-2)throw new Error("message too long");var jn=hn.alloc(_n-Dn-qn-2),Hn=_n-Pn-1,Jn=d(Pn),Gn=Ft(hn.concat([Vn,jn,hn.alloc(1,1),En],Hn),Ot(Jn,Hn)),ba=Ft(Jn,Ot(Gn,Pn));return new Ut(hn.concat([hn.alloc(1),ba,Gn],_n))}function fn(pn,En,_n){var Dn=En.length,Vn=pn.modulus.byteLength();if(Dn>Vn-11)throw new Error("message too long");var Pn;return _n?Pn=hn.alloc(Vn-Dn-3,255):Pn=dn(Vn-Dn-3),new Ut(hn.concat([hn.from([0,_n?1:2]),Pn,hn.alloc(1),En],Vn))}function dn(pn){for(var En=hn.allocUnsafe(pn),_n=0,Dn=d(pn*2),Vn=0,Pn;_n<pn;)Vn===Dn.length&&(Dn=d(pn*2),Vn=0),Pn=Dn[Vn++],Pn&&(En[_n++]=Pn);return En}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var _e=requireParseAsn1(),d=requireMgf(),Mt=requireXor(),Ot=requireBn$3(),Ft=requireBrowserifyRsa(),Ut=requireBrowser$9(),Xt=requireWithPublic(),jr=requireSafeBuffer$1().Buffer;privateDecrypt=function(pn,En,_n){var Dn;pn.padding?Dn=pn.padding:_n?Dn=1:Dn=4;var Vn=_e(pn),Pn=Vn.modulus.byteLength();if(En.length>Pn||new Ot(En).cmp(Vn.modulus)>=0)throw new Error("decryption error");var qn;_n?qn=Xt(new Ot(En),Vn):qn=Ft(En,Vn);var jn=jr.alloc(Pn-qn.length);if(qn=jr.concat([jn,qn],Pn),Dn===4)return hn(Vn,qn);if(Dn===1)return Vr(Vn,qn,_n);if(Dn===3)return qn;throw new Error("unknown padding")};function hn(dn,pn){var En=dn.modulus.byteLength(),_n=Ut("sha1").update(jr.alloc(0)).digest(),Dn=_n.length;if(pn[0]!==0)throw new Error("decryption error");var Vn=pn.slice(1,Dn+1),Pn=pn.slice(Dn+1),qn=Mt(Vn,d(Pn,Dn)),jn=Mt(Pn,d(qn,En-Dn-1));if(fn(_n,jn.slice(0,Dn)))throw new Error("decryption error");for(var Hn=Dn;jn[Hn]===0;)Hn++;if(jn[Hn++]!==1)throw new Error("decryption error");return jn.slice(Hn)}function Vr(dn,pn,En){for(var _n=pn.slice(0,2),Dn=2,Vn=0;pn[Dn++]!==0;)if(Dn>=pn.length){Vn++;break}var Pn=pn.slice(2,Dn-1);if((_n.toString("hex")!=="0002"&&!En||_n.toString("hex")!=="0001"&&En)&&Vn++,Pn.length<8&&Vn++,Vn)throw new Error("decryption error");return pn.slice(Dn)}function fn(dn,pn){dn=jr.from(dn),pn=jr.from(pn);var En=0,_n=dn.length;dn.length!==pn.length&&(En++,_n=Math.min(dn.length,pn.length));for(var Dn=-1;++Dn<_n;)En+=dn[Dn]^pn[Dn];return En}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(_e){_e.publicEncrypt=requirePublicEncrypt(),_e.privateDecrypt=requirePrivateDecrypt(),_e.privateEncrypt=function(Mt,Ot){return _e.publicEncrypt(Mt,Ot,!0)},_e.publicDecrypt=function(Mt,Ot){return _e.privateDecrypt(Mt,Ot,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function _e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var d=requireSafeBuffer$1(),Mt=requireBrowser$b(),Ot=d.Buffer,Ft=d.kMaxLength,Ut=globalThis.crypto||globalThis.msCrypto,Xt=Math.pow(2,32)-1;function jr(pn,En){if(typeof pn!="number"||pn!==pn)throw new TypeError("offset must be a number");if(pn>Xt||pn<0)throw new TypeError("offset must be a uint32");if(pn>Ft||pn>En)throw new RangeError("offset out of range")}function hn(pn,En,_n){if(typeof pn!="number"||pn!==pn)throw new TypeError("size must be a number");if(pn>Xt||pn<0)throw new TypeError("size must be a uint32");if(pn+En>_n||pn>Ft)throw new RangeError("buffer too small")}Ut&&Ut.getRandomValues||!process$1.browser?(browser.randomFill=Vr,browser.randomFillSync=dn):(browser.randomFill=_e,browser.randomFillSync=_e);function Vr(pn,En,_n,Dn){if(!Ot.isBuffer(pn)&&!(pn instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof En=="function")Dn=En,En=0,_n=pn.length;else if(typeof _n=="function")Dn=_n,_n=pn.length-En;else if(typeof Dn!="function")throw new TypeError('"cb" argument must be a function');return jr(En,pn.length),hn(_n,En,pn.length),fn(pn,En,_n,Dn)}function fn(pn,En,_n,Dn){if(process$1.browser){var Vn=pn.buffer,Pn=new Uint8Array(Vn,En,_n);if(Ut.getRandomValues(Pn),Dn){process$1.nextTick(function(){Dn(null,pn)});return}return pn}if(Dn){Mt(_n,function(jn,Hn){if(jn)return Dn(jn);Hn.copy(pn,En),Dn(null,pn)});return}var qn=Mt(_n);return qn.copy(pn,En),pn}function dn(pn,En,_n){if(typeof En>"u"&&(En=0),!Ot.isBuffer(pn)&&!(pn instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return jr(En,pn.length),_n===void 0&&(_n=pn.length-En),hn(_n,En,pn.length),fn(pn,En,_n)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var _e=requireAlgos(),d=Object.keys(_e),Mt=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(d);cryptoBrowserify.getHashes=function(){return Mt};var Ot=requireBrowser$7();cryptoBrowserify.pbkdf2=Ot.pbkdf2,cryptoBrowserify.pbkdf2Sync=Ot.pbkdf2Sync;var Ft=requireBrowser$5();cryptoBrowserify.Cipher=Ft.Cipher,cryptoBrowserify.createCipher=Ft.createCipher,cryptoBrowserify.Cipheriv=Ft.Cipheriv,cryptoBrowserify.createCipheriv=Ft.createCipheriv,cryptoBrowserify.Decipher=Ft.Decipher,cryptoBrowserify.createDecipher=Ft.createDecipher,cryptoBrowserify.Decipheriv=Ft.Decipheriv,cryptoBrowserify.createDecipheriv=Ft.createDecipheriv,cryptoBrowserify.getCiphers=Ft.getCiphers,cryptoBrowserify.listCiphers=Ft.listCiphers;var Ut=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=Ut.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=Ut.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=Ut.getDiffieHellman,cryptoBrowserify.createDiffieHellman=Ut.createDiffieHellman,cryptoBrowserify.DiffieHellman=Ut.DiffieHellman;var Xt=requireBrowser$3();cryptoBrowserify.createSign=Xt.createSign,cryptoBrowserify.Sign=Xt.Sign,cryptoBrowserify.createVerify=Xt.createVerify,cryptoBrowserify.Verify=Xt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var jr=requireBrowser$1();cryptoBrowserify.publicEncrypt=jr.publicEncrypt,cryptoBrowserify.privateEncrypt=jr.privateEncrypt,cryptoBrowserify.publicDecrypt=jr.publicDecrypt,cryptoBrowserify.privateDecrypt=jr.privateDecrypt;var hn=requireBrowser();return cryptoBrowserify.randomFill=hn.randomFill,cryptoBrowserify.randomFillSync=hn.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(_e){(function(d){var Mt=function(_a){var ao,fo=new Float64Array(16);if(_a)for(ao=0;ao<_a.length;ao++)fo[ao]=_a[ao];return fo},Ot=function(){throw new Error("no PRNG")},Ft=new Uint8Array(16),Ut=new Uint8Array(32);Ut[0]=9;var Xt=Mt(),jr=Mt([1]),hn=Mt([56129,1]),Vr=Mt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),fn=Mt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),dn=Mt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),pn=Mt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),En=Mt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _n(_a,ao,fo,Xn){_a[ao]=fo>>24&255,_a[ao+1]=fo>>16&255,_a[ao+2]=fo>>8&255,_a[ao+3]=fo&255,_a[ao+4]=Xn>>24&255,_a[ao+5]=Xn>>16&255,_a[ao+6]=Xn>>8&255,_a[ao+7]=Xn&255}function Dn(_a,ao,fo,Xn,uo){var Bo,Mo=0;for(Bo=0;Bo<uo;Bo++)Mo|=_a[ao+Bo]^fo[Xn+Bo];return(1&Mo-1>>>8)-1}function Vn(_a,ao,fo,Xn){return Dn(_a,ao,fo,Xn,16)}function Pn(_a,ao,fo,Xn){return Dn(_a,ao,fo,Xn,32)}function qn(_a,ao,fo,Xn){for(var uo=Xn[0]&255|(Xn[1]&255)<<8|(Xn[2]&255)<<16|(Xn[3]&255)<<24,Bo=fo[0]&255|(fo[1]&255)<<8|(fo[2]&255)<<16|(fo[3]&255)<<24,Mo=fo[4]&255|(fo[5]&255)<<8|(fo[6]&255)<<16|(fo[7]&255)<<24,Do=fo[8]&255|(fo[9]&255)<<8|(fo[10]&255)<<16|(fo[11]&255)<<24,Xo=fo[12]&255|(fo[13]&255)<<8|(fo[14]&255)<<16|(fo[15]&255)<<24,es=Xn[4]&255|(Xn[5]&255)<<8|(Xn[6]&255)<<16|(Xn[7]&255)<<24,Jo=ao[0]&255|(ao[1]&255)<<8|(ao[2]&255)<<16|(ao[3]&255)<<24,Rs=ao[4]&255|(ao[5]&255)<<8|(ao[6]&255)<<16|(ao[7]&255)<<24,hs=ao[8]&255|(ao[9]&255)<<8|(ao[10]&255)<<16|(ao[11]&255)<<24,bs=ao[12]&255|(ao[13]&255)<<8|(ao[14]&255)<<16|(ao[15]&255)<<24,As=Xn[8]&255|(Xn[9]&255)<<8|(Xn[10]&255)<<16|(Xn[11]&255)<<24,ks=fo[16]&255|(fo[17]&255)<<8|(fo[18]&255)<<16|(fo[19]&255)<<24,Ms=fo[20]&255|(fo[21]&255)<<8|(fo[22]&255)<<16|(fo[23]&255)<<24,Es=fo[24]&255|(fo[25]&255)<<8|(fo[26]&255)<<16|(fo[27]&255)<<24,ws=fo[28]&255|(fo[29]&255)<<8|(fo[30]&255)<<16|(fo[31]&255)<<24,xs=Xn[12]&255|(Xn[13]&255)<<8|(Xn[14]&255)<<16|(Xn[15]&255)<<24,fs=uo,gs=Bo,cs=Mo,ds=Do,ps=Xo,ls=es,qo=Jo,Vo=Rs,ts=hs,no=bs,ho=As,po=ks,To=Ms,ko=Es,Io=ws,Uo=xs,yo,Wo=0;Wo<20;Wo+=2)yo=fs+To|0,ps^=yo<<7|yo>>>25,yo=ps+fs|0,ts^=yo<<9|yo>>>23,yo=ts+ps|0,To^=yo<<13|yo>>>19,yo=To+ts|0,fs^=yo<<18|yo>>>14,yo=ls+gs|0,no^=yo<<7|yo>>>25,yo=no+ls|0,ko^=yo<<9|yo>>>23,yo=ko+no|0,gs^=yo<<13|yo>>>19,yo=gs+ko|0,ls^=yo<<18|yo>>>14,yo=ho+qo|0,Io^=yo<<7|yo>>>25,yo=Io+ho|0,cs^=yo<<9|yo>>>23,yo=cs+Io|0,qo^=yo<<13|yo>>>19,yo=qo+cs|0,ho^=yo<<18|yo>>>14,yo=Uo+po|0,ds^=yo<<7|yo>>>25,yo=ds+Uo|0,Vo^=yo<<9|yo>>>23,yo=Vo+ds|0,po^=yo<<13|yo>>>19,yo=po+Vo|0,Uo^=yo<<18|yo>>>14,yo=fs+ds|0,gs^=yo<<7|yo>>>25,yo=gs+fs|0,cs^=yo<<9|yo>>>23,yo=cs+gs|0,ds^=yo<<13|yo>>>19,yo=ds+cs|0,fs^=yo<<18|yo>>>14,yo=ls+ps|0,qo^=yo<<7|yo>>>25,yo=qo+ls|0,Vo^=yo<<9|yo>>>23,yo=Vo+qo|0,ps^=yo<<13|yo>>>19,yo=ps+Vo|0,ls^=yo<<18|yo>>>14,yo=ho+no|0,po^=yo<<7|yo>>>25,yo=po+ho|0,ts^=yo<<9|yo>>>23,yo=ts+po|0,no^=yo<<13|yo>>>19,yo=no+ts|0,ho^=yo<<18|yo>>>14,yo=Uo+Io|0,To^=yo<<7|yo>>>25,yo=To+Uo|0,ko^=yo<<9|yo>>>23,yo=ko+To|0,Io^=yo<<13|yo>>>19,yo=Io+ko|0,Uo^=yo<<18|yo>>>14;fs=fs+uo|0,gs=gs+Bo|0,cs=cs+Mo|0,ds=ds+Do|0,ps=ps+Xo|0,ls=ls+es|0,qo=qo+Jo|0,Vo=Vo+Rs|0,ts=ts+hs|0,no=no+bs|0,ho=ho+As|0,po=po+ks|0,To=To+Ms|0,ko=ko+Es|0,Io=Io+ws|0,Uo=Uo+xs|0,_a[0]=fs>>>0&255,_a[1]=fs>>>8&255,_a[2]=fs>>>16&255,_a[3]=fs>>>24&255,_a[4]=gs>>>0&255,_a[5]=gs>>>8&255,_a[6]=gs>>>16&255,_a[7]=gs>>>24&255,_a[8]=cs>>>0&255,_a[9]=cs>>>8&255,_a[10]=cs>>>16&255,_a[11]=cs>>>24&255,_a[12]=ds>>>0&255,_a[13]=ds>>>8&255,_a[14]=ds>>>16&255,_a[15]=ds>>>24&255,_a[16]=ps>>>0&255,_a[17]=ps>>>8&255,_a[18]=ps>>>16&255,_a[19]=ps>>>24&255,_a[20]=ls>>>0&255,_a[21]=ls>>>8&255,_a[22]=ls>>>16&255,_a[23]=ls>>>24&255,_a[24]=qo>>>0&255,_a[25]=qo>>>8&255,_a[26]=qo>>>16&255,_a[27]=qo>>>24&255,_a[28]=Vo>>>0&255,_a[29]=Vo>>>8&255,_a[30]=Vo>>>16&255,_a[31]=Vo>>>24&255,_a[32]=ts>>>0&255,_a[33]=ts>>>8&255,_a[34]=ts>>>16&255,_a[35]=ts>>>24&255,_a[36]=no>>>0&255,_a[37]=no>>>8&255,_a[38]=no>>>16&255,_a[39]=no>>>24&255,_a[40]=ho>>>0&255,_a[41]=ho>>>8&255,_a[42]=ho>>>16&255,_a[43]=ho>>>24&255,_a[44]=po>>>0&255,_a[45]=po>>>8&255,_a[46]=po>>>16&255,_a[47]=po>>>24&255,_a[48]=To>>>0&255,_a[49]=To>>>8&255,_a[50]=To>>>16&255,_a[51]=To>>>24&255,_a[52]=ko>>>0&255,_a[53]=ko>>>8&255,_a[54]=ko>>>16&255,_a[55]=ko>>>24&255,_a[56]=Io>>>0&255,_a[57]=Io>>>8&255,_a[58]=Io>>>16&255,_a[59]=Io>>>24&255,_a[60]=Uo>>>0&255,_a[61]=Uo>>>8&255,_a[62]=Uo>>>16&255,_a[63]=Uo>>>24&255}function jn(_a,ao,fo,Xn){for(var uo=Xn[0]&255|(Xn[1]&255)<<8|(Xn[2]&255)<<16|(Xn[3]&255)<<24,Bo=fo[0]&255|(fo[1]&255)<<8|(fo[2]&255)<<16|(fo[3]&255)<<24,Mo=fo[4]&255|(fo[5]&255)<<8|(fo[6]&255)<<16|(fo[7]&255)<<24,Do=fo[8]&255|(fo[9]&255)<<8|(fo[10]&255)<<16|(fo[11]&255)<<24,Xo=fo[12]&255|(fo[13]&255)<<8|(fo[14]&255)<<16|(fo[15]&255)<<24,es=Xn[4]&255|(Xn[5]&255)<<8|(Xn[6]&255)<<16|(Xn[7]&255)<<24,Jo=ao[0]&255|(ao[1]&255)<<8|(ao[2]&255)<<16|(ao[3]&255)<<24,Rs=ao[4]&255|(ao[5]&255)<<8|(ao[6]&255)<<16|(ao[7]&255)<<24,hs=ao[8]&255|(ao[9]&255)<<8|(ao[10]&255)<<16|(ao[11]&255)<<24,bs=ao[12]&255|(ao[13]&255)<<8|(ao[14]&255)<<16|(ao[15]&255)<<24,As=Xn[8]&255|(Xn[9]&255)<<8|(Xn[10]&255)<<16|(Xn[11]&255)<<24,ks=fo[16]&255|(fo[17]&255)<<8|(fo[18]&255)<<16|(fo[19]&255)<<24,Ms=fo[20]&255|(fo[21]&255)<<8|(fo[22]&255)<<16|(fo[23]&255)<<24,Es=fo[24]&255|(fo[25]&255)<<8|(fo[26]&255)<<16|(fo[27]&255)<<24,ws=fo[28]&255|(fo[29]&255)<<8|(fo[30]&255)<<16|(fo[31]&255)<<24,xs=Xn[12]&255|(Xn[13]&255)<<8|(Xn[14]&255)<<16|(Xn[15]&255)<<24,fs=uo,gs=Bo,cs=Mo,ds=Do,ps=Xo,ls=es,qo=Jo,Vo=Rs,ts=hs,no=bs,ho=As,po=ks,To=Ms,ko=Es,Io=ws,Uo=xs,yo,Wo=0;Wo<20;Wo+=2)yo=fs+To|0,ps^=yo<<7|yo>>>25,yo=ps+fs|0,ts^=yo<<9|yo>>>23,yo=ts+ps|0,To^=yo<<13|yo>>>19,yo=To+ts|0,fs^=yo<<18|yo>>>14,yo=ls+gs|0,no^=yo<<7|yo>>>25,yo=no+ls|0,ko^=yo<<9|yo>>>23,yo=ko+no|0,gs^=yo<<13|yo>>>19,yo=gs+ko|0,ls^=yo<<18|yo>>>14,yo=ho+qo|0,Io^=yo<<7|yo>>>25,yo=Io+ho|0,cs^=yo<<9|yo>>>23,yo=cs+Io|0,qo^=yo<<13|yo>>>19,yo=qo+cs|0,ho^=yo<<18|yo>>>14,yo=Uo+po|0,ds^=yo<<7|yo>>>25,yo=ds+Uo|0,Vo^=yo<<9|yo>>>23,yo=Vo+ds|0,po^=yo<<13|yo>>>19,yo=po+Vo|0,Uo^=yo<<18|yo>>>14,yo=fs+ds|0,gs^=yo<<7|yo>>>25,yo=gs+fs|0,cs^=yo<<9|yo>>>23,yo=cs+gs|0,ds^=yo<<13|yo>>>19,yo=ds+cs|0,fs^=yo<<18|yo>>>14,yo=ls+ps|0,qo^=yo<<7|yo>>>25,yo=qo+ls|0,Vo^=yo<<9|yo>>>23,yo=Vo+qo|0,ps^=yo<<13|yo>>>19,yo=ps+Vo|0,ls^=yo<<18|yo>>>14,yo=ho+no|0,po^=yo<<7|yo>>>25,yo=po+ho|0,ts^=yo<<9|yo>>>23,yo=ts+po|0,no^=yo<<13|yo>>>19,yo=no+ts|0,ho^=yo<<18|yo>>>14,yo=Uo+Io|0,To^=yo<<7|yo>>>25,yo=To+Uo|0,ko^=yo<<9|yo>>>23,yo=ko+To|0,Io^=yo<<13|yo>>>19,yo=Io+ko|0,Uo^=yo<<18|yo>>>14;_a[0]=fs>>>0&255,_a[1]=fs>>>8&255,_a[2]=fs>>>16&255,_a[3]=fs>>>24&255,_a[4]=ls>>>0&255,_a[5]=ls>>>8&255,_a[6]=ls>>>16&255,_a[7]=ls>>>24&255,_a[8]=ho>>>0&255,_a[9]=ho>>>8&255,_a[10]=ho>>>16&255,_a[11]=ho>>>24&255,_a[12]=Uo>>>0&255,_a[13]=Uo>>>8&255,_a[14]=Uo>>>16&255,_a[15]=Uo>>>24&255,_a[16]=qo>>>0&255,_a[17]=qo>>>8&255,_a[18]=qo>>>16&255,_a[19]=qo>>>24&255,_a[20]=Vo>>>0&255,_a[21]=Vo>>>8&255,_a[22]=Vo>>>16&255,_a[23]=Vo>>>24&255,_a[24]=ts>>>0&255,_a[25]=ts>>>8&255,_a[26]=ts>>>16&255,_a[27]=ts>>>24&255,_a[28]=no>>>0&255,_a[29]=no>>>8&255,_a[30]=no>>>16&255,_a[31]=no>>>24&255}function Hn(_a,ao,fo,Xn){qn(_a,ao,fo,Xn)}function Jn(_a,ao,fo,Xn){jn(_a,ao,fo,Xn)}var Gn=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function ba(_a,ao,fo,Xn,uo,Bo,Mo){var Do=new Uint8Array(16),Xo=new Uint8Array(64),es,Jo;for(Jo=0;Jo<16;Jo++)Do[Jo]=0;for(Jo=0;Jo<8;Jo++)Do[Jo]=Bo[Jo];for(;uo>=64;){for(Hn(Xo,Do,Mo,Gn),Jo=0;Jo<64;Jo++)_a[ao+Jo]=fo[Xn+Jo]^Xo[Jo];for(es=1,Jo=8;Jo<16;Jo++)es=es+(Do[Jo]&255)|0,Do[Jo]=es&255,es>>>=8;uo-=64,ao+=64,Xn+=64}if(uo>0)for(Hn(Xo,Do,Mo,Gn),Jo=0;Jo<uo;Jo++)_a[ao+Jo]=fo[Xn+Jo]^Xo[Jo];return 0}function eo(_a,ao,fo,Xn,uo){var Bo=new Uint8Array(16),Mo=new Uint8Array(64),Do,Xo;for(Xo=0;Xo<16;Xo++)Bo[Xo]=0;for(Xo=0;Xo<8;Xo++)Bo[Xo]=Xn[Xo];for(;fo>=64;){for(Hn(Mo,Bo,uo,Gn),Xo=0;Xo<64;Xo++)_a[ao+Xo]=Mo[Xo];for(Do=1,Xo=8;Xo<16;Xo++)Do=Do+(Bo[Xo]&255)|0,Bo[Xo]=Do&255,Do>>>=8;fo-=64,ao+=64}if(fo>0)for(Hn(Mo,Bo,uo,Gn),Xo=0;Xo<fo;Xo++)_a[ao+Xo]=Mo[Xo];return 0}function xa(_a,ao,fo,Xn,uo){var Bo=new Uint8Array(32);Jn(Bo,Xn,uo,Gn);for(var Mo=new Uint8Array(8),Do=0;Do<8;Do++)Mo[Do]=Xn[Do+16];return eo(_a,ao,fo,Mo,Bo)}function Yn(_a,ao,fo,Xn,uo,Bo,Mo){var Do=new Uint8Array(32);Jn(Do,Bo,Mo,Gn);for(var Xo=new Uint8Array(8),es=0;es<8;es++)Xo[es]=Bo[es+16];return ba(_a,ao,fo,Xn,uo,Xo,Do)}var Un=function(_a){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var ao,fo,Xn,uo,Bo,Mo,Do,Xo;ao=_a[0]&255|(_a[1]&255)<<8,this.r[0]=ao&8191,fo=_a[2]&255|(_a[3]&255)<<8,this.r[1]=(ao>>>13|fo<<3)&8191,Xn=_a[4]&255|(_a[5]&255)<<8,this.r[2]=(fo>>>10|Xn<<6)&7939,uo=_a[6]&255|(_a[7]&255)<<8,this.r[3]=(Xn>>>7|uo<<9)&8191,Bo=_a[8]&255|(_a[9]&255)<<8,this.r[4]=(uo>>>4|Bo<<12)&255,this.r[5]=Bo>>>1&8190,Mo=_a[10]&255|(_a[11]&255)<<8,this.r[6]=(Bo>>>14|Mo<<2)&8191,Do=_a[12]&255|(_a[13]&255)<<8,this.r[7]=(Mo>>>11|Do<<5)&8065,Xo=_a[14]&255|(_a[15]&255)<<8,this.r[8]=(Do>>>8|Xo<<8)&8191,this.r[9]=Xo>>>5&127,this.pad[0]=_a[16]&255|(_a[17]&255)<<8,this.pad[1]=_a[18]&255|(_a[19]&255)<<8,this.pad[2]=_a[20]&255|(_a[21]&255)<<8,this.pad[3]=_a[22]&255|(_a[23]&255)<<8,this.pad[4]=_a[24]&255|(_a[25]&255)<<8,this.pad[5]=_a[26]&255|(_a[27]&255)<<8,this.pad[6]=_a[28]&255|(_a[29]&255)<<8,this.pad[7]=_a[30]&255|(_a[31]&255)<<8};Un.prototype.blocks=function(_a,ao,fo){for(var Xn=this.fin?0:2048,uo,Bo,Mo,Do,Xo,es,Jo,Rs,hs,bs,As,ks,Ms,Es,ws,xs,fs,gs,cs,ds=this.h[0],ps=this.h[1],ls=this.h[2],qo=this.h[3],Vo=this.h[4],ts=this.h[5],no=this.h[6],ho=this.h[7],po=this.h[8],To=this.h[9],ko=this.r[0],Io=this.r[1],Uo=this.r[2],yo=this.r[3],Wo=this.r[4],Yo=this.r[5],Ko=this.r[6],os=this.r[7],ms=this.r[8],_s=this.r[9];fo>=16;)uo=_a[ao+0]&255|(_a[ao+1]&255)<<8,ds+=uo&8191,Bo=_a[ao+2]&255|(_a[ao+3]&255)<<8,ps+=(uo>>>13|Bo<<3)&8191,Mo=_a[ao+4]&255|(_a[ao+5]&255)<<8,ls+=(Bo>>>10|Mo<<6)&8191,Do=_a[ao+6]&255|(_a[ao+7]&255)<<8,qo+=(Mo>>>7|Do<<9)&8191,Xo=_a[ao+8]&255|(_a[ao+9]&255)<<8,Vo+=(Do>>>4|Xo<<12)&8191,ts+=Xo>>>1&8191,es=_a[ao+10]&255|(_a[ao+11]&255)<<8,no+=(Xo>>>14|es<<2)&8191,Jo=_a[ao+12]&255|(_a[ao+13]&255)<<8,ho+=(es>>>11|Jo<<5)&8191,Rs=_a[ao+14]&255|(_a[ao+15]&255)<<8,po+=(Jo>>>8|Rs<<8)&8191,To+=Rs>>>5|Xn,hs=0,bs=hs,bs+=ds*ko,bs+=ps*(5*_s),bs+=ls*(5*ms),bs+=qo*(5*os),bs+=Vo*(5*Ko),hs=bs>>>13,bs&=8191,bs+=ts*(5*Yo),bs+=no*(5*Wo),bs+=ho*(5*yo),bs+=po*(5*Uo),bs+=To*(5*Io),hs+=bs>>>13,bs&=8191,As=hs,As+=ds*Io,As+=ps*ko,As+=ls*(5*_s),As+=qo*(5*ms),As+=Vo*(5*os),hs=As>>>13,As&=8191,As+=ts*(5*Ko),As+=no*(5*Yo),As+=ho*(5*Wo),As+=po*(5*yo),As+=To*(5*Uo),hs+=As>>>13,As&=8191,ks=hs,ks+=ds*Uo,ks+=ps*Io,ks+=ls*ko,ks+=qo*(5*_s),ks+=Vo*(5*ms),hs=ks>>>13,ks&=8191,ks+=ts*(5*os),ks+=no*(5*Ko),ks+=ho*(5*Yo),ks+=po*(5*Wo),ks+=To*(5*yo),hs+=ks>>>13,ks&=8191,Ms=hs,Ms+=ds*yo,Ms+=ps*Uo,Ms+=ls*Io,Ms+=qo*ko,Ms+=Vo*(5*_s),hs=Ms>>>13,Ms&=8191,Ms+=ts*(5*ms),Ms+=no*(5*os),Ms+=ho*(5*Ko),Ms+=po*(5*Yo),Ms+=To*(5*Wo),hs+=Ms>>>13,Ms&=8191,Es=hs,Es+=ds*Wo,Es+=ps*yo,Es+=ls*Uo,Es+=qo*Io,Es+=Vo*ko,hs=Es>>>13,Es&=8191,Es+=ts*(5*_s),Es+=no*(5*ms),Es+=ho*(5*os),Es+=po*(5*Ko),Es+=To*(5*Yo),hs+=Es>>>13,Es&=8191,ws=hs,ws+=ds*Yo,ws+=ps*Wo,ws+=ls*yo,ws+=qo*Uo,ws+=Vo*Io,hs=ws>>>13,ws&=8191,ws+=ts*ko,ws+=no*(5*_s),ws+=ho*(5*ms),ws+=po*(5*os),ws+=To*(5*Ko),hs+=ws>>>13,ws&=8191,xs=hs,xs+=ds*Ko,xs+=ps*Yo,xs+=ls*Wo,xs+=qo*yo,xs+=Vo*Uo,hs=xs>>>13,xs&=8191,xs+=ts*Io,xs+=no*ko,xs+=ho*(5*_s),xs+=po*(5*ms),xs+=To*(5*os),hs+=xs>>>13,xs&=8191,fs=hs,fs+=ds*os,fs+=ps*Ko,fs+=ls*Yo,fs+=qo*Wo,fs+=Vo*yo,hs=fs>>>13,fs&=8191,fs+=ts*Uo,fs+=no*Io,fs+=ho*ko,fs+=po*(5*_s),fs+=To*(5*ms),hs+=fs>>>13,fs&=8191,gs=hs,gs+=ds*ms,gs+=ps*os,gs+=ls*Ko,gs+=qo*Yo,gs+=Vo*Wo,hs=gs>>>13,gs&=8191,gs+=ts*yo,gs+=no*Uo,gs+=ho*Io,gs+=po*ko,gs+=To*(5*_s),hs+=gs>>>13,gs&=8191,cs=hs,cs+=ds*_s,cs+=ps*ms,cs+=ls*os,cs+=qo*Ko,cs+=Vo*Yo,hs=cs>>>13,cs&=8191,cs+=ts*Wo,cs+=no*yo,cs+=ho*Uo,cs+=po*Io,cs+=To*ko,hs+=cs>>>13,cs&=8191,hs=(hs<<2)+hs|0,hs=hs+bs|0,bs=hs&8191,hs=hs>>>13,As+=hs,ds=bs,ps=As,ls=ks,qo=Ms,Vo=Es,ts=ws,no=xs,ho=fs,po=gs,To=cs,ao+=16,fo-=16;this.h[0]=ds,this.h[1]=ps,this.h[2]=ls,this.h[3]=qo,this.h[4]=Vo,this.h[5]=ts,this.h[6]=no,this.h[7]=ho,this.h[8]=po,this.h[9]=To},Un.prototype.finish=function(_a,ao){var fo=new Uint16Array(10),Xn,uo,Bo,Mo;if(this.leftover){for(Mo=this.leftover,this.buffer[Mo++]=1;Mo<16;Mo++)this.buffer[Mo]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Xn=this.h[1]>>>13,this.h[1]&=8191,Mo=2;Mo<10;Mo++)this.h[Mo]+=Xn,Xn=this.h[Mo]>>>13,this.h[Mo]&=8191;for(this.h[0]+=Xn*5,Xn=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Xn,Xn=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Xn,fo[0]=this.h[0]+5,Xn=fo[0]>>>13,fo[0]&=8191,Mo=1;Mo<10;Mo++)fo[Mo]=this.h[Mo]+Xn,Xn=fo[Mo]>>>13,fo[Mo]&=8191;for(fo[9]-=8192,uo=(Xn^1)-1,Mo=0;Mo<10;Mo++)fo[Mo]&=uo;for(uo=~uo,Mo=0;Mo<10;Mo++)this.h[Mo]=this.h[Mo]&uo|fo[Mo];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Bo=this.h[0]+this.pad[0],this.h[0]=Bo&65535,Mo=1;Mo<8;Mo++)Bo=(this.h[Mo]+this.pad[Mo]|0)+(Bo>>>16)|0,this.h[Mo]=Bo&65535;_a[ao+0]=this.h[0]>>>0&255,_a[ao+1]=this.h[0]>>>8&255,_a[ao+2]=this.h[1]>>>0&255,_a[ao+3]=this.h[1]>>>8&255,_a[ao+4]=this.h[2]>>>0&255,_a[ao+5]=this.h[2]>>>8&255,_a[ao+6]=this.h[3]>>>0&255,_a[ao+7]=this.h[3]>>>8&255,_a[ao+8]=this.h[4]>>>0&255,_a[ao+9]=this.h[4]>>>8&255,_a[ao+10]=this.h[5]>>>0&255,_a[ao+11]=this.h[5]>>>8&255,_a[ao+12]=this.h[6]>>>0&255,_a[ao+13]=this.h[6]>>>8&255,_a[ao+14]=this.h[7]>>>0&255,_a[ao+15]=this.h[7]>>>8&255},Un.prototype.update=function(_a,ao,fo){var Xn,uo;if(this.leftover){for(uo=16-this.leftover,uo>fo&&(uo=fo),Xn=0;Xn<uo;Xn++)this.buffer[this.leftover+Xn]=_a[ao+Xn];if(fo-=uo,ao+=uo,this.leftover+=uo,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(fo>=16&&(uo=fo-fo%16,this.blocks(_a,ao,uo),ao+=uo,fo-=uo),fo){for(Xn=0;Xn<fo;Xn++)this.buffer[this.leftover+Xn]=_a[ao+Xn];this.leftover+=fo}};function Mn(_a,ao,fo,Xn,uo,Bo){var Mo=new Un(Bo);return Mo.update(fo,Xn,uo),Mo.finish(_a,ao),0}function mn(_a,ao,fo,Xn,uo,Bo){var Mo=new Uint8Array(16);return Mn(Mo,0,fo,Xn,uo,Bo),Vn(_a,ao,Mo,0)}function Xr(_a,ao,fo,Xn,uo){var Bo;if(fo<32)return-1;for(Yn(_a,0,ao,0,fo,Xn,uo),Mn(_a,16,_a,32,fo-32,_a),Bo=0;Bo<16;Bo++)_a[Bo]=0;return 0}function gn(_a,ao,fo,Xn,uo){var Bo,Mo=new Uint8Array(32);if(fo<32||(xa(Mo,0,32,Xn,uo),mn(ao,16,ao,32,fo-32,Mo)!==0))return-1;for(Yn(_a,0,ao,0,fo,Xn,uo),Bo=0;Bo<32;Bo++)_a[Bo]=0;return 0}function On(_a,ao){var fo;for(fo=0;fo<16;fo++)_a[fo]=ao[fo]|0}function Ln(_a){var ao,fo,Xn=1;for(ao=0;ao<16;ao++)fo=_a[ao]+Xn+65535,Xn=Math.floor(fo/65536),_a[ao]=fo-Xn*65536;_a[0]+=Xn-1+37*(Xn-1)}function Rn(_a,ao,fo){for(var Xn,uo=~(fo-1),Bo=0;Bo<16;Bo++)Xn=uo&(_a[Bo]^ao[Bo]),_a[Bo]^=Xn,ao[Bo]^=Xn}function yn(_a,ao){var fo,Xn,uo,Bo=Mt(),Mo=Mt();for(fo=0;fo<16;fo++)Mo[fo]=ao[fo];for(Ln(Mo),Ln(Mo),Ln(Mo),Xn=0;Xn<2;Xn++){for(Bo[0]=Mo[0]-65517,fo=1;fo<15;fo++)Bo[fo]=Mo[fo]-65535-(Bo[fo-1]>>16&1),Bo[fo-1]&=65535;Bo[15]=Mo[15]-32767-(Bo[14]>>16&1),uo=Bo[15]>>16&1,Bo[14]&=65535,Rn(Mo,Bo,1-uo)}for(fo=0;fo<16;fo++)_a[2*fo]=Mo[fo]&255,_a[2*fo+1]=Mo[fo]>>8}function kn(_a,ao){var fo=new Uint8Array(32),Xn=new Uint8Array(32);return yn(fo,_a),yn(Xn,ao),Pn(fo,0,Xn,0)}function Fn(_a){var ao=new Uint8Array(32);return yn(ao,_a),ao[0]&1}function Cn(_a,ao){var fo;for(fo=0;fo<16;fo++)_a[fo]=ao[2*fo]+(ao[2*fo+1]<<8);_a[15]&=32767}function zn(_a,ao,fo){for(var Xn=0;Xn<16;Xn++)_a[Xn]=ao[Xn]+fo[Xn]}function $a(_a,ao,fo){for(var Xn=0;Xn<16;Xn++)_a[Xn]=ao[Xn]-fo[Xn]}function co(_a,ao,fo){var Xn,uo,Bo=0,Mo=0,Do=0,Xo=0,es=0,Jo=0,Rs=0,hs=0,bs=0,As=0,ks=0,Ms=0,Es=0,ws=0,xs=0,fs=0,gs=0,cs=0,ds=0,ps=0,ls=0,qo=0,Vo=0,ts=0,no=0,ho=0,po=0,To=0,ko=0,Io=0,Uo=0,yo=fo[0],Wo=fo[1],Yo=fo[2],Ko=fo[3],os=fo[4],ms=fo[5],_s=fo[6],Is=fo[7],Bs=fo[8],$s=fo[9],Ds=fo[10],Ns=fo[11],Ps=fo[12],qs=fo[13],Us=fo[14],Ls=fo[15];Xn=ao[0],Bo+=Xn*yo,Mo+=Xn*Wo,Do+=Xn*Yo,Xo+=Xn*Ko,es+=Xn*os,Jo+=Xn*ms,Rs+=Xn*_s,hs+=Xn*Is,bs+=Xn*Bs,As+=Xn*$s,ks+=Xn*Ds,Ms+=Xn*Ns,Es+=Xn*Ps,ws+=Xn*qs,xs+=Xn*Us,fs+=Xn*Ls,Xn=ao[1],Mo+=Xn*yo,Do+=Xn*Wo,Xo+=Xn*Yo,es+=Xn*Ko,Jo+=Xn*os,Rs+=Xn*ms,hs+=Xn*_s,bs+=Xn*Is,As+=Xn*Bs,ks+=Xn*$s,Ms+=Xn*Ds,Es+=Xn*Ns,ws+=Xn*Ps,xs+=Xn*qs,fs+=Xn*Us,gs+=Xn*Ls,Xn=ao[2],Do+=Xn*yo,Xo+=Xn*Wo,es+=Xn*Yo,Jo+=Xn*Ko,Rs+=Xn*os,hs+=Xn*ms,bs+=Xn*_s,As+=Xn*Is,ks+=Xn*Bs,Ms+=Xn*$s,Es+=Xn*Ds,ws+=Xn*Ns,xs+=Xn*Ps,fs+=Xn*qs,gs+=Xn*Us,cs+=Xn*Ls,Xn=ao[3],Xo+=Xn*yo,es+=Xn*Wo,Jo+=Xn*Yo,Rs+=Xn*Ko,hs+=Xn*os,bs+=Xn*ms,As+=Xn*_s,ks+=Xn*Is,Ms+=Xn*Bs,Es+=Xn*$s,ws+=Xn*Ds,xs+=Xn*Ns,fs+=Xn*Ps,gs+=Xn*qs,cs+=Xn*Us,ds+=Xn*Ls,Xn=ao[4],es+=Xn*yo,Jo+=Xn*Wo,Rs+=Xn*Yo,hs+=Xn*Ko,bs+=Xn*os,As+=Xn*ms,ks+=Xn*_s,Ms+=Xn*Is,Es+=Xn*Bs,ws+=Xn*$s,xs+=Xn*Ds,fs+=Xn*Ns,gs+=Xn*Ps,cs+=Xn*qs,ds+=Xn*Us,ps+=Xn*Ls,Xn=ao[5],Jo+=Xn*yo,Rs+=Xn*Wo,hs+=Xn*Yo,bs+=Xn*Ko,As+=Xn*os,ks+=Xn*ms,Ms+=Xn*_s,Es+=Xn*Is,ws+=Xn*Bs,xs+=Xn*$s,fs+=Xn*Ds,gs+=Xn*Ns,cs+=Xn*Ps,ds+=Xn*qs,ps+=Xn*Us,ls+=Xn*Ls,Xn=ao[6],Rs+=Xn*yo,hs+=Xn*Wo,bs+=Xn*Yo,As+=Xn*Ko,ks+=Xn*os,Ms+=Xn*ms,Es+=Xn*_s,ws+=Xn*Is,xs+=Xn*Bs,fs+=Xn*$s,gs+=Xn*Ds,cs+=Xn*Ns,ds+=Xn*Ps,ps+=Xn*qs,ls+=Xn*Us,qo+=Xn*Ls,Xn=ao[7],hs+=Xn*yo,bs+=Xn*Wo,As+=Xn*Yo,ks+=Xn*Ko,Ms+=Xn*os,Es+=Xn*ms,ws+=Xn*_s,xs+=Xn*Is,fs+=Xn*Bs,gs+=Xn*$s,cs+=Xn*Ds,ds+=Xn*Ns,ps+=Xn*Ps,ls+=Xn*qs,qo+=Xn*Us,Vo+=Xn*Ls,Xn=ao[8],bs+=Xn*yo,As+=Xn*Wo,ks+=Xn*Yo,Ms+=Xn*Ko,Es+=Xn*os,ws+=Xn*ms,xs+=Xn*_s,fs+=Xn*Is,gs+=Xn*Bs,cs+=Xn*$s,ds+=Xn*Ds,ps+=Xn*Ns,ls+=Xn*Ps,qo+=Xn*qs,Vo+=Xn*Us,ts+=Xn*Ls,Xn=ao[9],As+=Xn*yo,ks+=Xn*Wo,Ms+=Xn*Yo,Es+=Xn*Ko,ws+=Xn*os,xs+=Xn*ms,fs+=Xn*_s,gs+=Xn*Is,cs+=Xn*Bs,ds+=Xn*$s,ps+=Xn*Ds,ls+=Xn*Ns,qo+=Xn*Ps,Vo+=Xn*qs,ts+=Xn*Us,no+=Xn*Ls,Xn=ao[10],ks+=Xn*yo,Ms+=Xn*Wo,Es+=Xn*Yo,ws+=Xn*Ko,xs+=Xn*os,fs+=Xn*ms,gs+=Xn*_s,cs+=Xn*Is,ds+=Xn*Bs,ps+=Xn*$s,ls+=Xn*Ds,qo+=Xn*Ns,Vo+=Xn*Ps,ts+=Xn*qs,no+=Xn*Us,ho+=Xn*Ls,Xn=ao[11],Ms+=Xn*yo,Es+=Xn*Wo,ws+=Xn*Yo,xs+=Xn*Ko,fs+=Xn*os,gs+=Xn*ms,cs+=Xn*_s,ds+=Xn*Is,ps+=Xn*Bs,ls+=Xn*$s,qo+=Xn*Ds,Vo+=Xn*Ns,ts+=Xn*Ps,no+=Xn*qs,ho+=Xn*Us,po+=Xn*Ls,Xn=ao[12],Es+=Xn*yo,ws+=Xn*Wo,xs+=Xn*Yo,fs+=Xn*Ko,gs+=Xn*os,cs+=Xn*ms,ds+=Xn*_s,ps+=Xn*Is,ls+=Xn*Bs,qo+=Xn*$s,Vo+=Xn*Ds,ts+=Xn*Ns,no+=Xn*Ps,ho+=Xn*qs,po+=Xn*Us,To+=Xn*Ls,Xn=ao[13],ws+=Xn*yo,xs+=Xn*Wo,fs+=Xn*Yo,gs+=Xn*Ko,cs+=Xn*os,ds+=Xn*ms,ps+=Xn*_s,ls+=Xn*Is,qo+=Xn*Bs,Vo+=Xn*$s,ts+=Xn*Ds,no+=Xn*Ns,ho+=Xn*Ps,po+=Xn*qs,To+=Xn*Us,ko+=Xn*Ls,Xn=ao[14],xs+=Xn*yo,fs+=Xn*Wo,gs+=Xn*Yo,cs+=Xn*Ko,ds+=Xn*os,ps+=Xn*ms,ls+=Xn*_s,qo+=Xn*Is,Vo+=Xn*Bs,ts+=Xn*$s,no+=Xn*Ds,ho+=Xn*Ns,po+=Xn*Ps,To+=Xn*qs,ko+=Xn*Us,Io+=Xn*Ls,Xn=ao[15],fs+=Xn*yo,gs+=Xn*Wo,cs+=Xn*Yo,ds+=Xn*Ko,ps+=Xn*os,ls+=Xn*ms,qo+=Xn*_s,Vo+=Xn*Is,ts+=Xn*Bs,no+=Xn*$s,ho+=Xn*Ds,po+=Xn*Ns,To+=Xn*Ps,ko+=Xn*qs,Io+=Xn*Us,Uo+=Xn*Ls,Bo+=38*gs,Mo+=38*cs,Do+=38*ds,Xo+=38*ps,es+=38*ls,Jo+=38*qo,Rs+=38*Vo,hs+=38*ts,bs+=38*no,As+=38*ho,ks+=38*po,Ms+=38*To,Es+=38*ko,ws+=38*Io,xs+=38*Uo,uo=1,Xn=Bo+uo+65535,uo=Math.floor(Xn/65536),Bo=Xn-uo*65536,Xn=Mo+uo+65535,uo=Math.floor(Xn/65536),Mo=Xn-uo*65536,Xn=Do+uo+65535,uo=Math.floor(Xn/65536),Do=Xn-uo*65536,Xn=Xo+uo+65535,uo=Math.floor(Xn/65536),Xo=Xn-uo*65536,Xn=es+uo+65535,uo=Math.floor(Xn/65536),es=Xn-uo*65536,Xn=Jo+uo+65535,uo=Math.floor(Xn/65536),Jo=Xn-uo*65536,Xn=Rs+uo+65535,uo=Math.floor(Xn/65536),Rs=Xn-uo*65536,Xn=hs+uo+65535,uo=Math.floor(Xn/65536),hs=Xn-uo*65536,Xn=bs+uo+65535,uo=Math.floor(Xn/65536),bs=Xn-uo*65536,Xn=As+uo+65535,uo=Math.floor(Xn/65536),As=Xn-uo*65536,Xn=ks+uo+65535,uo=Math.floor(Xn/65536),ks=Xn-uo*65536,Xn=Ms+uo+65535,uo=Math.floor(Xn/65536),Ms=Xn-uo*65536,Xn=Es+uo+65535,uo=Math.floor(Xn/65536),Es=Xn-uo*65536,Xn=ws+uo+65535,uo=Math.floor(Xn/65536),ws=Xn-uo*65536,Xn=xs+uo+65535,uo=Math.floor(Xn/65536),xs=Xn-uo*65536,Xn=fs+uo+65535,uo=Math.floor(Xn/65536),fs=Xn-uo*65536,Bo+=uo-1+37*(uo-1),uo=1,Xn=Bo+uo+65535,uo=Math.floor(Xn/65536),Bo=Xn-uo*65536,Xn=Mo+uo+65535,uo=Math.floor(Xn/65536),Mo=Xn-uo*65536,Xn=Do+uo+65535,uo=Math.floor(Xn/65536),Do=Xn-uo*65536,Xn=Xo+uo+65535,uo=Math.floor(Xn/65536),Xo=Xn-uo*65536,Xn=es+uo+65535,uo=Math.floor(Xn/65536),es=Xn-uo*65536,Xn=Jo+uo+65535,uo=Math.floor(Xn/65536),Jo=Xn-uo*65536,Xn=Rs+uo+65535,uo=Math.floor(Xn/65536),Rs=Xn-uo*65536,Xn=hs+uo+65535,uo=Math.floor(Xn/65536),hs=Xn-uo*65536,Xn=bs+uo+65535,uo=Math.floor(Xn/65536),bs=Xn-uo*65536,Xn=As+uo+65535,uo=Math.floor(Xn/65536),As=Xn-uo*65536,Xn=ks+uo+65535,uo=Math.floor(Xn/65536),ks=Xn-uo*65536,Xn=Ms+uo+65535,uo=Math.floor(Xn/65536),Ms=Xn-uo*65536,Xn=Es+uo+65535,uo=Math.floor(Xn/65536),Es=Xn-uo*65536,Xn=ws+uo+65535,uo=Math.floor(Xn/65536),ws=Xn-uo*65536,Xn=xs+uo+65535,uo=Math.floor(Xn/65536),xs=Xn-uo*65536,Xn=fs+uo+65535,uo=Math.floor(Xn/65536),fs=Xn-uo*65536,Bo+=uo-1+37*(uo-1),_a[0]=Bo,_a[1]=Mo,_a[2]=Do,_a[3]=Xo,_a[4]=es,_a[5]=Jo,_a[6]=Rs,_a[7]=hs,_a[8]=bs,_a[9]=As,_a[10]=ks,_a[11]=Ms,_a[12]=Es,_a[13]=ws,_a[14]=xs,_a[15]=fs}function io(_a,ao){co(_a,ao,ao)}function ga(_a,ao){var fo=Mt(),Xn;for(Xn=0;Xn<16;Xn++)fo[Xn]=ao[Xn];for(Xn=253;Xn>=0;Xn--)io(fo,fo),Xn!==2&&Xn!==4&&co(fo,fo,ao);for(Xn=0;Xn<16;Xn++)_a[Xn]=fo[Xn]}function na(_a,ao){var fo=Mt(),Xn;for(Xn=0;Xn<16;Xn++)fo[Xn]=ao[Xn];for(Xn=250;Xn>=0;Xn--)io(fo,fo),Xn!==1&&co(fo,fo,ao);for(Xn=0;Xn<16;Xn++)_a[Xn]=fo[Xn]}function so(_a,ao,fo){var Xn=new Uint8Array(32),uo=new Float64Array(80),Bo,Mo,Do=Mt(),Xo=Mt(),es=Mt(),Jo=Mt(),Rs=Mt(),hs=Mt();for(Mo=0;Mo<31;Mo++)Xn[Mo]=ao[Mo];for(Xn[31]=ao[31]&127|64,Xn[0]&=248,Cn(uo,fo),Mo=0;Mo<16;Mo++)Xo[Mo]=uo[Mo],Jo[Mo]=Do[Mo]=es[Mo]=0;for(Do[0]=Jo[0]=1,Mo=254;Mo>=0;--Mo)Bo=Xn[Mo>>>3]>>>(Mo&7)&1,Rn(Do,Xo,Bo),Rn(es,Jo,Bo),zn(Rs,Do,es),$a(Do,Do,es),zn(es,Xo,Jo),$a(Xo,Xo,Jo),io(Jo,Rs),io(hs,Do),co(Do,es,Do),co(es,Xo,Rs),zn(Rs,Do,es),$a(Do,Do,es),io(Xo,Do),$a(es,Jo,hs),co(Do,es,hn),zn(Do,Do,Jo),co(es,es,Do),co(Do,Jo,hs),co(Jo,Xo,uo),io(Xo,Rs),Rn(Do,Xo,Bo),Rn(es,Jo,Bo);for(Mo=0;Mo<16;Mo++)uo[Mo+16]=Do[Mo],uo[Mo+32]=es[Mo],uo[Mo+48]=Xo[Mo],uo[Mo+64]=Jo[Mo];var bs=uo.subarray(32),As=uo.subarray(16);return ga(bs,bs),co(As,As,bs),yn(_a,As),0}function _i(_a,ao){return so(_a,ao,Ut)}function Wn(_a,ao){return Ot(ao,32),_i(_a,ao)}function Kn(_a,ao,fo){var Xn=new Uint8Array(32);return so(Xn,fo,ao),Jn(_a,Ft,Xn,Gn)}var ro=Xr,oo=gn;function mo(_a,ao,fo,Xn,uo,Bo){var Mo=new Uint8Array(32);return Kn(Mo,uo,Bo),ro(_a,ao,fo,Xn,Mo)}function bo(_a,ao,fo,Xn,uo,Bo){var Mo=new Uint8Array(32);return Kn(Mo,uo,Bo),oo(_a,ao,fo,Xn,Mo)}var vo=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wo(_a,ao,fo,Xn){for(var uo=new Int32Array(16),Bo=new Int32Array(16),Mo,Do,Xo,es,Jo,Rs,hs,bs,As,ks,Ms,Es,ws,xs,fs,gs,cs,ds,ps,ls,qo,Vo,ts,no,ho,po,To=_a[0],ko=_a[1],Io=_a[2],Uo=_a[3],yo=_a[4],Wo=_a[5],Yo=_a[6],Ko=_a[7],os=ao[0],ms=ao[1],_s=ao[2],Is=ao[3],Bs=ao[4],$s=ao[5],Ds=ao[6],Ns=ao[7],Ps=0;Xn>=128;){for(ps=0;ps<16;ps++)ls=8*ps+Ps,uo[ps]=fo[ls+0]<<24|fo[ls+1]<<16|fo[ls+2]<<8|fo[ls+3],Bo[ps]=fo[ls+4]<<24|fo[ls+5]<<16|fo[ls+6]<<8|fo[ls+7];for(ps=0;ps<80;ps++)if(Mo=To,Do=ko,Xo=Io,es=Uo,Jo=yo,Rs=Wo,hs=Yo,bs=Ko,As=os,ks=ms,Ms=_s,Es=Is,ws=Bs,xs=$s,fs=Ds,gs=Ns,qo=Ko,Vo=Ns,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=(yo>>>14|Bs<<18)^(yo>>>18|Bs<<14)^(Bs>>>9|yo<<23),Vo=(Bs>>>14|yo<<18)^(Bs>>>18|yo<<14)^(yo>>>9|Bs<<23),ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,qo=yo&Wo^~yo&Yo,Vo=Bs&$s^~Bs&Ds,ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,qo=vo[ps*2],Vo=vo[ps*2+1],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,qo=uo[ps%16],Vo=Bo[ps%16],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,cs=ho&65535|po<<16,ds=ts&65535|no<<16,qo=cs,Vo=ds,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=(To>>>28|os<<4)^(os>>>2|To<<30)^(os>>>7|To<<25),Vo=(os>>>28|To<<4)^(To>>>2|os<<30)^(To>>>7|os<<25),ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,qo=To&ko^To&Io^ko&Io,Vo=os&ms^os&_s^ms&_s,ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,bs=ho&65535|po<<16,gs=ts&65535|no<<16,qo=es,Vo=Es,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=cs,Vo=ds,ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,es=ho&65535|po<<16,Es=ts&65535|no<<16,ko=Mo,Io=Do,Uo=Xo,yo=es,Wo=Jo,Yo=Rs,Ko=hs,To=bs,ms=As,_s=ks,Is=Ms,Bs=Es,$s=ws,Ds=xs,Ns=fs,os=gs,ps%16===15)for(ls=0;ls<16;ls++)qo=uo[ls],Vo=Bo[ls],ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=uo[(ls+9)%16],Vo=Bo[(ls+9)%16],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,cs=uo[(ls+1)%16],ds=Bo[(ls+1)%16],qo=(cs>>>1|ds<<31)^(cs>>>8|ds<<24)^cs>>>7,Vo=(ds>>>1|cs<<31)^(ds>>>8|cs<<24)^(ds>>>7|cs<<25),ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,cs=uo[(ls+14)%16],ds=Bo[(ls+14)%16],qo=(cs>>>19|ds<<13)^(ds>>>29|cs<<3)^cs>>>6,Vo=(ds>>>19|cs<<13)^(cs>>>29|ds<<3)^(ds>>>6|cs<<26),ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,uo[ls]=ho&65535|po<<16,Bo[ls]=ts&65535|no<<16;qo=To,Vo=os,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[0],Vo=ao[0],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[0]=To=ho&65535|po<<16,ao[0]=os=ts&65535|no<<16,qo=ko,Vo=ms,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[1],Vo=ao[1],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[1]=ko=ho&65535|po<<16,ao[1]=ms=ts&65535|no<<16,qo=Io,Vo=_s,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[2],Vo=ao[2],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[2]=Io=ho&65535|po<<16,ao[2]=_s=ts&65535|no<<16,qo=Uo,Vo=Is,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[3],Vo=ao[3],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[3]=Uo=ho&65535|po<<16,ao[3]=Is=ts&65535|no<<16,qo=yo,Vo=Bs,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[4],Vo=ao[4],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[4]=yo=ho&65535|po<<16,ao[4]=Bs=ts&65535|no<<16,qo=Wo,Vo=$s,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[5],Vo=ao[5],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[5]=Wo=ho&65535|po<<16,ao[5]=$s=ts&65535|no<<16,qo=Yo,Vo=Ds,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[6],Vo=ao[6],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[6]=Yo=ho&65535|po<<16,ao[6]=Ds=ts&65535|no<<16,qo=Ko,Vo=Ns,ts=Vo&65535,no=Vo>>>16,ho=qo&65535,po=qo>>>16,qo=_a[7],Vo=ao[7],ts+=Vo&65535,no+=Vo>>>16,ho+=qo&65535,po+=qo>>>16,no+=ts>>>16,ho+=no>>>16,po+=ho>>>16,_a[7]=Ko=ho&65535|po<<16,ao[7]=Ns=ts&65535|no<<16,Ps+=128,Xn-=128}return Xn}function go(_a,ao,fo){var Xn=new Int32Array(8),uo=new Int32Array(8),Bo=new Uint8Array(256),Mo,Do=fo;for(Xn[0]=1779033703,Xn[1]=3144134277,Xn[2]=1013904242,Xn[3]=2773480762,Xn[4]=1359893119,Xn[5]=2600822924,Xn[6]=528734635,Xn[7]=1541459225,uo[0]=4089235720,uo[1]=2227873595,uo[2]=4271175723,uo[3]=1595750129,uo[4]=2917565137,uo[5]=725511199,uo[6]=4215389547,uo[7]=327033209,wo(Xn,uo,ao,fo),fo%=128,Mo=0;Mo<fo;Mo++)Bo[Mo]=ao[Do-fo+Mo];for(Bo[fo]=128,fo=256-128*(fo<112?1:0),Bo[fo-9]=0,_n(Bo,fo-8,Do/536870912|0,Do<<3),wo(Xn,uo,Bo,fo),Mo=0;Mo<8;Mo++)_n(_a,8*Mo,Xn[Mo],uo[Mo]);return 0}function So(_a,ao){var fo=Mt(),Xn=Mt(),uo=Mt(),Bo=Mt(),Mo=Mt(),Do=Mt(),Xo=Mt(),es=Mt(),Jo=Mt();$a(fo,_a[1],_a[0]),$a(Jo,ao[1],ao[0]),co(fo,fo,Jo),zn(Xn,_a[0],_a[1]),zn(Jo,ao[0],ao[1]),co(Xn,Xn,Jo),co(uo,_a[3],ao[3]),co(uo,uo,fn),co(Bo,_a[2],ao[2]),zn(Bo,Bo,Bo),$a(Mo,Xn,fo),$a(Do,Bo,uo),zn(Xo,Bo,uo),zn(es,Xn,fo),co(_a[0],Mo,Do),co(_a[1],es,Xo),co(_a[2],Xo,Do),co(_a[3],Mo,es)}function Ao(_a,ao,fo){var Xn;for(Xn=0;Xn<4;Xn++)Rn(_a[Xn],ao[Xn],fo)}function Co(_a,ao){var fo=Mt(),Xn=Mt(),uo=Mt();ga(uo,ao[2]),co(fo,ao[0],uo),co(Xn,ao[1],uo),yn(_a,Xn),_a[31]^=Fn(fo)<<7}function Ro(_a,ao,fo){var Xn,uo;for(On(_a[0],Xt),On(_a[1],jr),On(_a[2],jr),On(_a[3],Xt),uo=255;uo>=0;--uo)Xn=fo[uo/8|0]>>(uo&7)&1,Ao(_a,ao,Xn),So(ao,_a),So(_a,_a),Ao(_a,ao,Xn)}function $o(_a,ao){var fo=[Mt(),Mt(),Mt(),Mt()];On(fo[0],dn),On(fo[1],pn),On(fo[2],jr),co(fo[3],dn,pn),Ro(_a,fo,ao)}function Lo(_a,ao,fo){var Xn=new Uint8Array(64),uo=[Mt(),Mt(),Mt(),Mt()],Bo;for(fo||Ot(ao,32),go(Xn,ao,32),Xn[0]&=248,Xn[31]&=127,Xn[31]|=64,$o(uo,Xn),Co(_a,uo),Bo=0;Bo<32;Bo++)ao[Bo+32]=_a[Bo];return 0}var Po=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function No(_a,ao){var fo,Xn,uo,Bo;for(Xn=63;Xn>=32;--Xn){for(fo=0,uo=Xn-32,Bo=Xn-12;uo<Bo;++uo)ao[uo]+=fo-16*ao[Xn]*Po[uo-(Xn-32)],fo=Math.floor((ao[uo]+128)/256),ao[uo]-=fo*256;ao[uo]+=fo,ao[Xn]=0}for(fo=0,uo=0;uo<32;uo++)ao[uo]+=fo-(ao[31]>>4)*Po[uo],fo=ao[uo]>>8,ao[uo]&=255;for(uo=0;uo<32;uo++)ao[uo]-=fo*Po[uo];for(Xn=0;Xn<32;Xn++)ao[Xn+1]+=ao[Xn]>>8,_a[Xn]=ao[Xn]&255}function Go(_a){var ao=new Float64Array(64),fo;for(fo=0;fo<64;fo++)ao[fo]=_a[fo];for(fo=0;fo<64;fo++)_a[fo]=0;No(_a,ao)}function Zo(_a,ao,fo,Xn){var uo=new Uint8Array(64),Bo=new Uint8Array(64),Mo=new Uint8Array(64),Do,Xo,es=new Float64Array(64),Jo=[Mt(),Mt(),Mt(),Mt()];go(uo,Xn,32),uo[0]&=248,uo[31]&=127,uo[31]|=64;var Rs=fo+64;for(Do=0;Do<fo;Do++)_a[64+Do]=ao[Do];for(Do=0;Do<32;Do++)_a[32+Do]=uo[32+Do];for(go(Mo,_a.subarray(32),fo+32),Go(Mo),$o(Jo,Mo),Co(_a,Jo),Do=32;Do<64;Do++)_a[Do]=Xn[Do];for(go(Bo,_a,fo+64),Go(Bo),Do=0;Do<64;Do++)es[Do]=0;for(Do=0;Do<32;Do++)es[Do]=Mo[Do];for(Do=0;Do<32;Do++)for(Xo=0;Xo<32;Xo++)es[Do+Xo]+=Bo[Do]*uo[Xo];return No(_a.subarray(32),es),Rs}function to(_a,ao){var fo=Mt(),Xn=Mt(),uo=Mt(),Bo=Mt(),Mo=Mt(),Do=Mt(),Xo=Mt();return On(_a[2],jr),Cn(_a[1],ao),io(uo,_a[1]),co(Bo,uo,Vr),$a(uo,uo,_a[2]),zn(Bo,_a[2],Bo),io(Mo,Bo),io(Do,Mo),co(Xo,Do,Mo),co(fo,Xo,uo),co(fo,fo,Bo),na(fo,fo),co(fo,fo,uo),co(fo,fo,Bo),co(fo,fo,Bo),co(_a[0],fo,Bo),io(Xn,_a[0]),co(Xn,Xn,Bo),kn(Xn,uo)&&co(_a[0],_a[0],En),io(Xn,_a[0]),co(Xn,Xn,Bo),kn(Xn,uo)?-1:(Fn(_a[0])===ao[31]>>7&&$a(_a[0],Xt,_a[0]),co(_a[3],_a[0],_a[1]),0)}function Zn(_a,ao,fo,Xn){var uo,Bo=new Uint8Array(32),Mo=new Uint8Array(64),Do=[Mt(),Mt(),Mt(),Mt()],Xo=[Mt(),Mt(),Mt(),Mt()];if(fo<64||to(Xo,Xn))return-1;for(uo=0;uo<fo;uo++)_a[uo]=ao[uo];for(uo=0;uo<32;uo++)_a[uo+32]=Xn[uo];if(go(Mo,_a,fo),Go(Mo),Ro(Do,Xo,Mo),$o(Xo,ao.subarray(32)),So(Do,Xo),Co(Bo,Do),fo-=64,Pn(ao,0,Bo,0)){for(uo=0;uo<fo;uo++)_a[uo]=0;return-1}for(uo=0;uo<fo;uo++)_a[uo]=ao[uo+64];return fo}var Qn=32,lo=24,Eo=32,xo=16,_o=32,jo=32,Ho=32,Fo=32,as=32,zo=lo,Qo=Eo,Ss=xo,ss=64,rs=32,Ts=64,ys=32,us=64;d.lowlevel={crypto_core_hsalsa20:Jn,crypto_stream_xor:Yn,crypto_stream:xa,crypto_stream_salsa20_xor:ba,crypto_stream_salsa20:eo,crypto_onetimeauth:Mn,crypto_onetimeauth_verify:mn,crypto_verify_16:Vn,crypto_verify_32:Pn,crypto_secretbox:Xr,crypto_secretbox_open:gn,crypto_scalarmult:so,crypto_scalarmult_base:_i,crypto_box_beforenm:Kn,crypto_box_afternm:ro,crypto_box:mo,crypto_box_open:bo,crypto_box_keypair:Wn,crypto_hash:go,crypto_sign:Zo,crypto_sign_keypair:Lo,crypto_sign_open:Zn,crypto_secretbox_KEYBYTES:Qn,crypto_secretbox_NONCEBYTES:lo,crypto_secretbox_ZEROBYTES:Eo,crypto_secretbox_BOXZEROBYTES:xo,crypto_scalarmult_BYTES:_o,crypto_scalarmult_SCALARBYTES:jo,crypto_box_PUBLICKEYBYTES:Ho,crypto_box_SECRETKEYBYTES:Fo,crypto_box_BEFORENMBYTES:as,crypto_box_NONCEBYTES:zo,crypto_box_ZEROBYTES:Qo,crypto_box_BOXZEROBYTES:Ss,crypto_sign_BYTES:ss,crypto_sign_PUBLICKEYBYTES:rs,crypto_sign_SECRETKEYBYTES:Ts,crypto_sign_SEEDBYTES:ys,crypto_hash_BYTES:us,gf:Mt,D:Vr,L:Po,pack25519:yn,unpack25519:Cn,M:co,A:zn,S:io,Z:$a,pow2523:na,add:So,set25519:On,modL:No,scalarmult:Ro,scalarbase:$o};function Cs(_a,ao){if(_a.length!==Qn)throw new Error("bad key size");if(ao.length!==lo)throw new Error("bad nonce size")}function vs(_a,ao){if(_a.length!==Ho)throw new Error("bad public key size");if(ao.length!==Fo)throw new Error("bad secret key size")}function ns(){for(var _a=0;_a<arguments.length;_a++)if(!(arguments[_a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Os(_a){for(var ao=0;ao<_a.length;ao++)_a[ao]=0}d.randomBytes=function(_a){var ao=new Uint8Array(_a);return Ot(ao,_a),ao},d.secretbox=function(_a,ao,fo){ns(_a,ao,fo),Cs(fo,ao);for(var Xn=new Uint8Array(Eo+_a.length),uo=new Uint8Array(Xn.length),Bo=0;Bo<_a.length;Bo++)Xn[Bo+Eo]=_a[Bo];return Xr(uo,Xn,Xn.length,ao,fo),uo.subarray(xo)},d.secretbox.open=function(_a,ao,fo){ns(_a,ao,fo),Cs(fo,ao);for(var Xn=new Uint8Array(xo+_a.length),uo=new Uint8Array(Xn.length),Bo=0;Bo<_a.length;Bo++)Xn[Bo+xo]=_a[Bo];return Xn.length<32||gn(uo,Xn,Xn.length,ao,fo)!==0?null:uo.subarray(Eo)},d.secretbox.keyLength=Qn,d.secretbox.nonceLength=lo,d.secretbox.overheadLength=xo,d.scalarMult=function(_a,ao){if(ns(_a,ao),_a.length!==jo)throw new Error("bad n size");if(ao.length!==_o)throw new Error("bad p size");var fo=new Uint8Array(_o);return so(fo,_a,ao),fo},d.scalarMult.base=function(_a){if(ns(_a),_a.length!==jo)throw new Error("bad n size");var ao=new Uint8Array(_o);return _i(ao,_a),ao},d.scalarMult.scalarLength=jo,d.scalarMult.groupElementLength=_o,d.box=function(_a,ao,fo,Xn){var uo=d.box.before(fo,Xn);return d.secretbox(_a,ao,uo)},d.box.before=function(_a,ao){ns(_a,ao),vs(_a,ao);var fo=new Uint8Array(as);return Kn(fo,_a,ao),fo},d.box.after=d.secretbox,d.box.open=function(_a,ao,fo,Xn){var uo=d.box.before(fo,Xn);return d.secretbox.open(_a,ao,uo)},d.box.open.after=d.secretbox.open,d.box.keyPair=function(){var _a=new Uint8Array(Ho),ao=new Uint8Array(Fo);return Wn(_a,ao),{publicKey:_a,secretKey:ao}},d.box.keyPair.fromSecretKey=function(_a){if(ns(_a),_a.length!==Fo)throw new Error("bad secret key size");var ao=new Uint8Array(Ho);return _i(ao,_a),{publicKey:ao,secretKey:new Uint8Array(_a)}},d.box.publicKeyLength=Ho,d.box.secretKeyLength=Fo,d.box.sharedKeyLength=as,d.box.nonceLength=zo,d.box.overheadLength=d.secretbox.overheadLength,d.sign=function(_a,ao){if(ns(_a,ao),ao.length!==Ts)throw new Error("bad secret key size");var fo=new Uint8Array(ss+_a.length);return Zo(fo,_a,_a.length,ao),fo},d.sign.open=function(_a,ao){if(ns(_a,ao),ao.length!==rs)throw new Error("bad public key size");var fo=new Uint8Array(_a.length),Xn=Zn(fo,_a,_a.length,ao);if(Xn<0)return null;for(var uo=new Uint8Array(Xn),Bo=0;Bo<uo.length;Bo++)uo[Bo]=fo[Bo];return uo},d.sign.detached=function(_a,ao){for(var fo=d.sign(_a,ao),Xn=new Uint8Array(ss),uo=0;uo<Xn.length;uo++)Xn[uo]=fo[uo];return Xn},d.sign.detached.verify=function(_a,ao,fo){if(ns(_a,ao,fo),ao.length!==ss)throw new Error("bad signature size");if(fo.length!==rs)throw new Error("bad public key size");var Xn=new Uint8Array(ss+_a.length),uo=new Uint8Array(ss+_a.length),Bo;for(Bo=0;Bo<ss;Bo++)Xn[Bo]=ao[Bo];for(Bo=0;Bo<_a.length;Bo++)Xn[Bo+ss]=_a[Bo];return Zn(uo,Xn,Xn.length,fo)>=0},d.sign.keyPair=function(){var _a=new Uint8Array(rs),ao=new Uint8Array(Ts);return Lo(_a,ao),{publicKey:_a,secretKey:ao}},d.sign.keyPair.fromSecretKey=function(_a){if(ns(_a),_a.length!==Ts)throw new Error("bad secret key size");for(var ao=new Uint8Array(rs),fo=0;fo<ao.length;fo++)ao[fo]=_a[32+fo];return{publicKey:ao,secretKey:new Uint8Array(_a)}},d.sign.keyPair.fromSeed=function(_a){if(ns(_a),_a.length!==ys)throw new Error("bad seed size");for(var ao=new Uint8Array(rs),fo=new Uint8Array(Ts),Xn=0;Xn<32;Xn++)fo[Xn]=_a[Xn];return Lo(ao,fo,!0),{publicKey:ao,secretKey:fo}},d.sign.publicKeyLength=rs,d.sign.secretKeyLength=Ts,d.sign.seedLength=ys,d.sign.signatureLength=ss,d.hash=function(_a){ns(_a);var ao=new Uint8Array(us);return go(ao,_a,_a.length),ao},d.hash.hashLength=us,d.verify=function(_a,ao){return ns(_a,ao),_a.length===0||ao.length===0||_a.length!==ao.length?!1:Dn(_a,0,ao,0,_a.length)===0},d.setPRNG=function(_a){Ot=_a},function(){var _a=typeof self<"u"?self.crypto||self.msCrypto:null;if(_a&&_a.getRandomValues){var ao=65536;d.setPRNG(function(fo,Xn){var uo,Bo=new Uint8Array(Xn);for(uo=0;uo<Xn;uo+=ao)_a.getRandomValues(Bo.subarray(uo,uo+Math.min(Xn-uo,ao)));for(uo=0;uo<Xn;uo++)fo[uo]=Bo[uo];Os(Bo)})}else typeof commonjsRequire<"u"&&(_a=requireCryptoBrowserify(),_a&&_a.randomBytes&&d.setPRNG(function(fo,Xn){var uo,Bo=_a.randomBytes(Xn);for(uo=0;uo<Xn;uo++)fo[uo]=Bo[uo];Os(Bo)}))}()})(_e.exports?_e.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl=getDefaultExportFromCjs$1(naclFastExports);var sha512$2={exports:{}};(function(_e){(function(){var d="input is invalid type",Mt="finalize already called",Ot=typeof window=="object",Ft=Ot?window:{};Ft.JS_SHA512_NO_WINDOW&&(Ot=!1);var Ut=!Ot&&typeof self=="object",Xt=!Ft.JS_SHA512_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;Xt?Ft=globalThis:Ut&&(Ft=self);var jr=!Ft.JS_SHA512_NO_COMMON_JS&&!0&&_e.exports,hn=!Ft.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Vr="0123456789abcdef".split(""),fn=[-2147483648,8388608,32768,128],dn=[24,16,8,0],pn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],En=["hex","array","digest","arrayBuffer"],_n=[];(Ft.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Gn){return Object.prototype.toString.call(Gn)==="[object Array]"}),hn&&(Ft.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Gn){return typeof Gn=="object"&&Gn.buffer&&Gn.buffer.constructor===ArrayBuffer});var Dn=function(Gn,ba){return function(eo){return new jn(ba,!0).update(eo)[Gn]()}},Vn=function(Gn){var ba=Dn("hex",Gn);ba.create=function(){return new jn(Gn)},ba.update=function(Yn){return ba.create().update(Yn)};for(var eo=0;eo<En.length;++eo){var xa=En[eo];ba[xa]=Dn(xa,Gn)}return ba},Pn=function(Gn,ba){return function(eo,xa){return new Hn(eo,ba,!0).update(xa)[Gn]()}},qn=function(Gn){var ba=Pn("hex",Gn);ba.create=function(Yn){return new Hn(Yn,Gn)},ba.update=function(Yn,Un){return ba.create(Yn).update(Un)};for(var eo=0;eo<En.length;++eo){var xa=En[eo];ba[xa]=Pn(xa,Gn)}return ba};function jn(Gn,ba){ba?(_n[0]=_n[1]=_n[2]=_n[3]=_n[4]=_n[5]=_n[6]=_n[7]=_n[8]=_n[9]=_n[10]=_n[11]=_n[12]=_n[13]=_n[14]=_n[15]=_n[16]=_n[17]=_n[18]=_n[19]=_n[20]=_n[21]=_n[22]=_n[23]=_n[24]=_n[25]=_n[26]=_n[27]=_n[28]=_n[29]=_n[30]=_n[31]=_n[32]=0,this.blocks=_n):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Gn==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):Gn==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):Gn==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=Gn,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}jn.prototype.update=function(Gn){if(this.finalized)throw new Error(Mt);var ba,eo=typeof Gn;if(eo!=="string"){if(eo==="object"){if(Gn===null)throw new Error(d);if(hn&&Gn.constructor===ArrayBuffer)Gn=new Uint8Array(Gn);else if(!Array.isArray(Gn)&&(!hn||!ArrayBuffer.isView(Gn)))throw new Error(d)}else throw new Error(d);ba=!0}for(var xa,Yn=0,Un,Mn=Gn.length,mn=this.blocks;Yn<Mn;){if(this.hashed&&(this.hashed=!1,mn[0]=this.block,mn[1]=mn[2]=mn[3]=mn[4]=mn[5]=mn[6]=mn[7]=mn[8]=mn[9]=mn[10]=mn[11]=mn[12]=mn[13]=mn[14]=mn[15]=mn[16]=mn[17]=mn[18]=mn[19]=mn[20]=mn[21]=mn[22]=mn[23]=mn[24]=mn[25]=mn[26]=mn[27]=mn[28]=mn[29]=mn[30]=mn[31]=mn[32]=0),ba)for(Un=this.start;Yn<Mn&&Un<128;++Yn)mn[Un>>2]|=Gn[Yn]<<dn[Un++&3];else for(Un=this.start;Yn<Mn&&Un<128;++Yn)xa=Gn.charCodeAt(Yn),xa<128?mn[Un>>2]|=xa<<dn[Un++&3]:xa<2048?(mn[Un>>2]|=(192|xa>>6)<<dn[Un++&3],mn[Un>>2]|=(128|xa&63)<<dn[Un++&3]):xa<55296||xa>=57344?(mn[Un>>2]|=(224|xa>>12)<<dn[Un++&3],mn[Un>>2]|=(128|xa>>6&63)<<dn[Un++&3],mn[Un>>2]|=(128|xa&63)<<dn[Un++&3]):(xa=65536+((xa&1023)<<10|Gn.charCodeAt(++Yn)&1023),mn[Un>>2]|=(240|xa>>18)<<dn[Un++&3],mn[Un>>2]|=(128|xa>>12&63)<<dn[Un++&3],mn[Un>>2]|=(128|xa>>6&63)<<dn[Un++&3],mn[Un>>2]|=(128|xa&63)<<dn[Un++&3]);this.lastByteIndex=Un,this.bytes+=Un-this.start,Un>=128?(this.block=mn[32],this.start=Un-128,this.hash(),this.hashed=!0):this.start=Un}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},jn.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Gn=this.blocks,ba=this.lastByteIndex;Gn[32]=this.block,Gn[ba>>2]|=fn[ba&3],this.block=Gn[32],ba>=112&&(this.hashed||this.hash(),Gn[0]=this.block,Gn[1]=Gn[2]=Gn[3]=Gn[4]=Gn[5]=Gn[6]=Gn[7]=Gn[8]=Gn[9]=Gn[10]=Gn[11]=Gn[12]=Gn[13]=Gn[14]=Gn[15]=Gn[16]=Gn[17]=Gn[18]=Gn[19]=Gn[20]=Gn[21]=Gn[22]=Gn[23]=Gn[24]=Gn[25]=Gn[26]=Gn[27]=Gn[28]=Gn[29]=Gn[30]=Gn[31]=Gn[32]=0),Gn[30]=this.hBytes<<3|this.bytes>>>29,Gn[31]=this.bytes<<3,this.hash()}},jn.prototype.hash=function(){var Gn=this.h0h,ba=this.h0l,eo=this.h1h,xa=this.h1l,Yn=this.h2h,Un=this.h2l,Mn=this.h3h,mn=this.h3l,Xr=this.h4h,gn=this.h4l,On=this.h5h,Ln=this.h5l,Rn=this.h6h,yn=this.h6l,kn=this.h7h,Fn=this.h7l,Cn=this.blocks,zn,$a,co,io,ga,na,so,_i,Wn,Kn,ro,oo,mo,bo,vo,wo,go,So,Ao,Co,Ro,$o,Lo,Po,No;for(zn=32;zn<160;zn+=2)Co=Cn[zn-30],Ro=Cn[zn-29],$a=(Co>>>1|Ro<<31)^(Co>>>8|Ro<<24)^Co>>>7,co=(Ro>>>1|Co<<31)^(Ro>>>8|Co<<24)^(Ro>>>7|Co<<25),Co=Cn[zn-4],Ro=Cn[zn-3],io=(Co>>>19|Ro<<13)^(Ro>>>29|Co<<3)^Co>>>6,ga=(Ro>>>19|Co<<13)^(Co>>>29|Ro<<3)^(Ro>>>6|Co<<26),Co=Cn[zn-32],Ro=Cn[zn-31],$o=Cn[zn-14],Lo=Cn[zn-13],na=(Lo&65535)+(Ro&65535)+(co&65535)+(ga&65535),so=(Lo>>>16)+(Ro>>>16)+(co>>>16)+(ga>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+($a&65535)+(io&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+($a>>>16)+(io>>>16)+(_i>>>16),Cn[zn]=Wn<<16|_i&65535,Cn[zn+1]=so<<16|na&65535;var Go=Gn,Zo=ba,to=eo,Zn=xa,Qn=Yn,lo=Un,Eo=Mn,xo=mn,_o=Xr,jo=gn,Ho=On,Fo=Ln,as=Rn,zo=yn,Qo=kn,Ss=Fn;for(wo=to&Qn,go=Zn&lo,zn=0;zn<160;zn+=8)$a=(Go>>>28|Zo<<4)^(Zo>>>2|Go<<30)^(Zo>>>7|Go<<25),co=(Zo>>>28|Go<<4)^(Go>>>2|Zo<<30)^(Go>>>7|Zo<<25),io=(_o>>>14|jo<<18)^(_o>>>18|jo<<14)^(jo>>>9|_o<<23),ga=(jo>>>14|_o<<18)^(jo>>>18|_o<<14)^(_o>>>9|jo<<23),Kn=Go&to,ro=Zo&Zn,So=Kn^Go&Qn^wo,Ao=ro^Zo&lo^go,Po=_o&Ho^~_o&as,No=jo&Fo^~jo&zo,Co=Cn[zn],Ro=Cn[zn+1],$o=pn[zn],Lo=pn[zn+1],na=(Lo&65535)+(Ro&65535)+(No&65535)+(ga&65535)+(Ss&65535),so=(Lo>>>16)+(Ro>>>16)+(No>>>16)+(ga>>>16)+(Ss>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(Po&65535)+(io&65535)+(Qo&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(Po>>>16)+(io>>>16)+(Qo>>>16)+(_i>>>16),Co=Wn<<16|_i&65535,Ro=so<<16|na&65535,na=(Ao&65535)+(co&65535),so=(Ao>>>16)+(co>>>16)+(na>>>16),_i=(So&65535)+($a&65535)+(so>>>16),Wn=(So>>>16)+($a>>>16)+(_i>>>16),$o=Wn<<16|_i&65535,Lo=so<<16|na&65535,na=(xo&65535)+(Ro&65535),so=(xo>>>16)+(Ro>>>16)+(na>>>16),_i=(Eo&65535)+(Co&65535)+(so>>>16),Wn=(Eo>>>16)+(Co>>>16)+(_i>>>16),Qo=Wn<<16|_i&65535,Ss=so<<16|na&65535,na=(Lo&65535)+(Ro&65535),so=(Lo>>>16)+(Ro>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(_i>>>16),Eo=Wn<<16|_i&65535,xo=so<<16|na&65535,$a=(Eo>>>28|xo<<4)^(xo>>>2|Eo<<30)^(xo>>>7|Eo<<25),co=(xo>>>28|Eo<<4)^(Eo>>>2|xo<<30)^(Eo>>>7|xo<<25),io=(Qo>>>14|Ss<<18)^(Qo>>>18|Ss<<14)^(Ss>>>9|Qo<<23),ga=(Ss>>>14|Qo<<18)^(Ss>>>18|Qo<<14)^(Qo>>>9|Ss<<23),oo=Eo&Go,mo=xo&Zo,So=oo^Eo&to^Kn,Ao=mo^xo&Zn^ro,Po=Qo&_o^~Qo&Ho,No=Ss&jo^~Ss&Fo,Co=Cn[zn+2],Ro=Cn[zn+3],$o=pn[zn+2],Lo=pn[zn+3],na=(Lo&65535)+(Ro&65535)+(No&65535)+(ga&65535)+(zo&65535),so=(Lo>>>16)+(Ro>>>16)+(No>>>16)+(ga>>>16)+(zo>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(Po&65535)+(io&65535)+(as&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(Po>>>16)+(io>>>16)+(as>>>16)+(_i>>>16),Co=Wn<<16|_i&65535,Ro=so<<16|na&65535,na=(Ao&65535)+(co&65535),so=(Ao>>>16)+(co>>>16)+(na>>>16),_i=(So&65535)+($a&65535)+(so>>>16),Wn=(So>>>16)+($a>>>16)+(_i>>>16),$o=Wn<<16|_i&65535,Lo=so<<16|na&65535,na=(lo&65535)+(Ro&65535),so=(lo>>>16)+(Ro>>>16)+(na>>>16),_i=(Qn&65535)+(Co&65535)+(so>>>16),Wn=(Qn>>>16)+(Co>>>16)+(_i>>>16),as=Wn<<16|_i&65535,zo=so<<16|na&65535,na=(Lo&65535)+(Ro&65535),so=(Lo>>>16)+(Ro>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(_i>>>16),Qn=Wn<<16|_i&65535,lo=so<<16|na&65535,$a=(Qn>>>28|lo<<4)^(lo>>>2|Qn<<30)^(lo>>>7|Qn<<25),co=(lo>>>28|Qn<<4)^(Qn>>>2|lo<<30)^(Qn>>>7|lo<<25),io=(as>>>14|zo<<18)^(as>>>18|zo<<14)^(zo>>>9|as<<23),ga=(zo>>>14|as<<18)^(zo>>>18|as<<14)^(as>>>9|zo<<23),bo=Qn&Eo,vo=lo&xo,So=bo^Qn&Go^oo,Ao=vo^lo&Zo^mo,Po=as&Qo^~as&_o,No=zo&Ss^~zo&jo,Co=Cn[zn+4],Ro=Cn[zn+5],$o=pn[zn+4],Lo=pn[zn+5],na=(Lo&65535)+(Ro&65535)+(No&65535)+(ga&65535)+(Fo&65535),so=(Lo>>>16)+(Ro>>>16)+(No>>>16)+(ga>>>16)+(Fo>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(Po&65535)+(io&65535)+(Ho&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(Po>>>16)+(io>>>16)+(Ho>>>16)+(_i>>>16),Co=Wn<<16|_i&65535,Ro=so<<16|na&65535,na=(Ao&65535)+(co&65535),so=(Ao>>>16)+(co>>>16)+(na>>>16),_i=(So&65535)+($a&65535)+(so>>>16),Wn=(So>>>16)+($a>>>16)+(_i>>>16),$o=Wn<<16|_i&65535,Lo=so<<16|na&65535,na=(Zn&65535)+(Ro&65535),so=(Zn>>>16)+(Ro>>>16)+(na>>>16),_i=(to&65535)+(Co&65535)+(so>>>16),Wn=(to>>>16)+(Co>>>16)+(_i>>>16),Ho=Wn<<16|_i&65535,Fo=so<<16|na&65535,na=(Lo&65535)+(Ro&65535),so=(Lo>>>16)+(Ro>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(_i>>>16),to=Wn<<16|_i&65535,Zn=so<<16|na&65535,$a=(to>>>28|Zn<<4)^(Zn>>>2|to<<30)^(Zn>>>7|to<<25),co=(Zn>>>28|to<<4)^(to>>>2|Zn<<30)^(to>>>7|Zn<<25),io=(Ho>>>14|Fo<<18)^(Ho>>>18|Fo<<14)^(Fo>>>9|Ho<<23),ga=(Fo>>>14|Ho<<18)^(Fo>>>18|Ho<<14)^(Ho>>>9|Fo<<23),wo=to&Qn,go=Zn&lo,So=wo^to&Eo^bo,Ao=go^Zn&xo^vo,Po=Ho&as^~Ho&Qo,No=Fo&zo^~Fo&Ss,Co=Cn[zn+6],Ro=Cn[zn+7],$o=pn[zn+6],Lo=pn[zn+7],na=(Lo&65535)+(Ro&65535)+(No&65535)+(ga&65535)+(jo&65535),so=(Lo>>>16)+(Ro>>>16)+(No>>>16)+(ga>>>16)+(jo>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(Po&65535)+(io&65535)+(_o&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(Po>>>16)+(io>>>16)+(_o>>>16)+(_i>>>16),Co=Wn<<16|_i&65535,Ro=so<<16|na&65535,na=(Ao&65535)+(co&65535),so=(Ao>>>16)+(co>>>16)+(na>>>16),_i=(So&65535)+($a&65535)+(so>>>16),Wn=(So>>>16)+($a>>>16)+(_i>>>16),$o=Wn<<16|_i&65535,Lo=so<<16|na&65535,na=(Zo&65535)+(Ro&65535),so=(Zo>>>16)+(Ro>>>16)+(na>>>16),_i=(Go&65535)+(Co&65535)+(so>>>16),Wn=(Go>>>16)+(Co>>>16)+(_i>>>16),_o=Wn<<16|_i&65535,jo=so<<16|na&65535,na=(Lo&65535)+(Ro&65535),so=(Lo>>>16)+(Ro>>>16)+(na>>>16),_i=($o&65535)+(Co&65535)+(so>>>16),Wn=($o>>>16)+(Co>>>16)+(_i>>>16),Go=Wn<<16|_i&65535,Zo=so<<16|na&65535;na=(ba&65535)+(Zo&65535),so=(ba>>>16)+(Zo>>>16)+(na>>>16),_i=(Gn&65535)+(Go&65535)+(so>>>16),Wn=(Gn>>>16)+(Go>>>16)+(_i>>>16),this.h0h=Wn<<16|_i&65535,this.h0l=so<<16|na&65535,na=(xa&65535)+(Zn&65535),so=(xa>>>16)+(Zn>>>16)+(na>>>16),_i=(eo&65535)+(to&65535)+(so>>>16),Wn=(eo>>>16)+(to>>>16)+(_i>>>16),this.h1h=Wn<<16|_i&65535,this.h1l=so<<16|na&65535,na=(Un&65535)+(lo&65535),so=(Un>>>16)+(lo>>>16)+(na>>>16),_i=(Yn&65535)+(Qn&65535)+(so>>>16),Wn=(Yn>>>16)+(Qn>>>16)+(_i>>>16),this.h2h=Wn<<16|_i&65535,this.h2l=so<<16|na&65535,na=(mn&65535)+(xo&65535),so=(mn>>>16)+(xo>>>16)+(na>>>16),_i=(Mn&65535)+(Eo&65535)+(so>>>16),Wn=(Mn>>>16)+(Eo>>>16)+(_i>>>16),this.h3h=Wn<<16|_i&65535,this.h3l=so<<16|na&65535,na=(gn&65535)+(jo&65535),so=(gn>>>16)+(jo>>>16)+(na>>>16),_i=(Xr&65535)+(_o&65535)+(so>>>16),Wn=(Xr>>>16)+(_o>>>16)+(_i>>>16),this.h4h=Wn<<16|_i&65535,this.h4l=so<<16|na&65535,na=(Ln&65535)+(Fo&65535),so=(Ln>>>16)+(Fo>>>16)+(na>>>16),_i=(On&65535)+(Ho&65535)+(so>>>16),Wn=(On>>>16)+(Ho>>>16)+(_i>>>16),this.h5h=Wn<<16|_i&65535,this.h5l=so<<16|na&65535,na=(yn&65535)+(zo&65535),so=(yn>>>16)+(zo>>>16)+(na>>>16),_i=(Rn&65535)+(as&65535)+(so>>>16),Wn=(Rn>>>16)+(as>>>16)+(_i>>>16),this.h6h=Wn<<16|_i&65535,this.h6l=so<<16|na&65535,na=(Fn&65535)+(Ss&65535),so=(Fn>>>16)+(Ss>>>16)+(na>>>16),_i=(kn&65535)+(Qo&65535)+(so>>>16),Wn=(kn>>>16)+(Qo>>>16)+(_i>>>16),this.h7h=Wn<<16|_i&65535,this.h7l=so<<16|na&65535},jn.prototype.hex=function(){this.finalize();var Gn=this.h0h,ba=this.h0l,eo=this.h1h,xa=this.h1l,Yn=this.h2h,Un=this.h2l,Mn=this.h3h,mn=this.h3l,Xr=this.h4h,gn=this.h4l,On=this.h5h,Ln=this.h5l,Rn=this.h6h,yn=this.h6l,kn=this.h7h,Fn=this.h7l,Cn=this.bits,zn=Vr[Gn>>28&15]+Vr[Gn>>24&15]+Vr[Gn>>20&15]+Vr[Gn>>16&15]+Vr[Gn>>12&15]+Vr[Gn>>8&15]+Vr[Gn>>4&15]+Vr[Gn&15]+Vr[ba>>28&15]+Vr[ba>>24&15]+Vr[ba>>20&15]+Vr[ba>>16&15]+Vr[ba>>12&15]+Vr[ba>>8&15]+Vr[ba>>4&15]+Vr[ba&15]+Vr[eo>>28&15]+Vr[eo>>24&15]+Vr[eo>>20&15]+Vr[eo>>16&15]+Vr[eo>>12&15]+Vr[eo>>8&15]+Vr[eo>>4&15]+Vr[eo&15]+Vr[xa>>28&15]+Vr[xa>>24&15]+Vr[xa>>20&15]+Vr[xa>>16&15]+Vr[xa>>12&15]+Vr[xa>>8&15]+Vr[xa>>4&15]+Vr[xa&15]+Vr[Yn>>28&15]+Vr[Yn>>24&15]+Vr[Yn>>20&15]+Vr[Yn>>16&15]+Vr[Yn>>12&15]+Vr[Yn>>8&15]+Vr[Yn>>4&15]+Vr[Yn&15]+Vr[Un>>28&15]+Vr[Un>>24&15]+Vr[Un>>20&15]+Vr[Un>>16&15]+Vr[Un>>12&15]+Vr[Un>>8&15]+Vr[Un>>4&15]+Vr[Un&15]+Vr[Mn>>28&15]+Vr[Mn>>24&15]+Vr[Mn>>20&15]+Vr[Mn>>16&15]+Vr[Mn>>12&15]+Vr[Mn>>8&15]+Vr[Mn>>4&15]+Vr[Mn&15];return Cn>=256&&(zn+=Vr[mn>>28&15]+Vr[mn>>24&15]+Vr[mn>>20&15]+Vr[mn>>16&15]+Vr[mn>>12&15]+Vr[mn>>8&15]+Vr[mn>>4&15]+Vr[mn&15]),Cn>=384&&(zn+=Vr[Xr>>28&15]+Vr[Xr>>24&15]+Vr[Xr>>20&15]+Vr[Xr>>16&15]+Vr[Xr>>12&15]+Vr[Xr>>8&15]+Vr[Xr>>4&15]+Vr[Xr&15]+Vr[gn>>28&15]+Vr[gn>>24&15]+Vr[gn>>20&15]+Vr[gn>>16&15]+Vr[gn>>12&15]+Vr[gn>>8&15]+Vr[gn>>4&15]+Vr[gn&15]+Vr[On>>28&15]+Vr[On>>24&15]+Vr[On>>20&15]+Vr[On>>16&15]+Vr[On>>12&15]+Vr[On>>8&15]+Vr[On>>4&15]+Vr[On&15]+Vr[Ln>>28&15]+Vr[Ln>>24&15]+Vr[Ln>>20&15]+Vr[Ln>>16&15]+Vr[Ln>>12&15]+Vr[Ln>>8&15]+Vr[Ln>>4&15]+Vr[Ln&15]),Cn==512&&(zn+=Vr[Rn>>28&15]+Vr[Rn>>24&15]+Vr[Rn>>20&15]+Vr[Rn>>16&15]+Vr[Rn>>12&15]+Vr[Rn>>8&15]+Vr[Rn>>4&15]+Vr[Rn&15]+Vr[yn>>28&15]+Vr[yn>>24&15]+Vr[yn>>20&15]+Vr[yn>>16&15]+Vr[yn>>12&15]+Vr[yn>>8&15]+Vr[yn>>4&15]+Vr[yn&15]+Vr[kn>>28&15]+Vr[kn>>24&15]+Vr[kn>>20&15]+Vr[kn>>16&15]+Vr[kn>>12&15]+Vr[kn>>8&15]+Vr[kn>>4&15]+Vr[kn&15]+Vr[Fn>>28&15]+Vr[Fn>>24&15]+Vr[Fn>>20&15]+Vr[Fn>>16&15]+Vr[Fn>>12&15]+Vr[Fn>>8&15]+Vr[Fn>>4&15]+Vr[Fn&15]),zn},jn.prototype.toString=jn.prototype.hex,jn.prototype.digest=function(){this.finalize();var Gn=this.h0h,ba=this.h0l,eo=this.h1h,xa=this.h1l,Yn=this.h2h,Un=this.h2l,Mn=this.h3h,mn=this.h3l,Xr=this.h4h,gn=this.h4l,On=this.h5h,Ln=this.h5l,Rn=this.h6h,yn=this.h6l,kn=this.h7h,Fn=this.h7l,Cn=this.bits,zn=[Gn>>24&255,Gn>>16&255,Gn>>8&255,Gn&255,ba>>24&255,ba>>16&255,ba>>8&255,ba&255,eo>>24&255,eo>>16&255,eo>>8&255,eo&255,xa>>24&255,xa>>16&255,xa>>8&255,xa&255,Yn>>24&255,Yn>>16&255,Yn>>8&255,Yn&255,Un>>24&255,Un>>16&255,Un>>8&255,Un&255,Mn>>24&255,Mn>>16&255,Mn>>8&255,Mn&255];return Cn>=256&&zn.push(mn>>24&255,mn>>16&255,mn>>8&255,mn&255),Cn>=384&&zn.push(Xr>>24&255,Xr>>16&255,Xr>>8&255,Xr&255,gn>>24&255,gn>>16&255,gn>>8&255,gn&255,On>>24&255,On>>16&255,On>>8&255,On&255,Ln>>24&255,Ln>>16&255,Ln>>8&255,Ln&255),Cn==512&&zn.push(Rn>>24&255,Rn>>16&255,Rn>>8&255,Rn&255,yn>>24&255,yn>>16&255,yn>>8&255,yn&255,kn>>24&255,kn>>16&255,kn>>8&255,kn&255,Fn>>24&255,Fn>>16&255,Fn>>8&255,Fn&255),zn},jn.prototype.array=jn.prototype.digest,jn.prototype.arrayBuffer=function(){this.finalize();var Gn=this.bits,ba=new ArrayBuffer(Gn/8),eo=new DataView(ba);return eo.setUint32(0,this.h0h),eo.setUint32(4,this.h0l),eo.setUint32(8,this.h1h),eo.setUint32(12,this.h1l),eo.setUint32(16,this.h2h),eo.setUint32(20,this.h2l),eo.setUint32(24,this.h3h),Gn>=256&&eo.setUint32(28,this.h3l),Gn>=384&&(eo.setUint32(32,this.h4h),eo.setUint32(36,this.h4l),eo.setUint32(40,this.h5h),eo.setUint32(44,this.h5l)),Gn==512&&(eo.setUint32(48,this.h6h),eo.setUint32(52,this.h6l),eo.setUint32(56,this.h7h),eo.setUint32(60,this.h7l)),ba},jn.prototype.clone=function(){var Gn=new jn(this.bits,!1);return this.copyTo(Gn),Gn},jn.prototype.copyTo=function(Gn){var ba=0,eo=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(ba=0;ba<eo.length;++ba)Gn[eo[ba]]=this[eo[ba]];for(ba=0;ba<this.blocks.length;++ba)Gn.blocks[ba]=this.blocks[ba]};function Hn(Gn,ba,eo){var xa,Yn=typeof Gn;if(Yn!=="string"){if(Yn==="object"){if(Gn===null)throw new Error(d);if(hn&&Gn.constructor===ArrayBuffer)Gn=new Uint8Array(Gn);else if(!Array.isArray(Gn)&&(!hn||!ArrayBuffer.isView(Gn)))throw new Error(d)}else throw new Error(d);xa=!0}var Un=Gn.length;if(!xa){for(var Mn=[],Un=Gn.length,mn=0,Xr,gn=0;gn<Un;++gn)Xr=Gn.charCodeAt(gn),Xr<128?Mn[mn++]=Xr:Xr<2048?(Mn[mn++]=192|Xr>>6,Mn[mn++]=128|Xr&63):Xr<55296||Xr>=57344?(Mn[mn++]=224|Xr>>12,Mn[mn++]=128|Xr>>6&63,Mn[mn++]=128|Xr&63):(Xr=65536+((Xr&1023)<<10|Gn.charCodeAt(++gn)&1023),Mn[mn++]=240|Xr>>18,Mn[mn++]=128|Xr>>12&63,Mn[mn++]=128|Xr>>6&63,Mn[mn++]=128|Xr&63);Gn=Mn}Gn.length>128&&(Gn=new jn(ba,!0).update(Gn).array());for(var On=[],Ln=[],gn=0;gn<128;++gn){var Rn=Gn[gn]||0;On[gn]=92^Rn,Ln[gn]=54^Rn}jn.call(this,ba,eo),this.update(Ln),this.oKeyPad=On,this.inner=!0,this.sharedMemory=eo}Hn.prototype=new jn,Hn.prototype.finalize=function(){if(jn.prototype.finalize.call(this),this.inner){this.inner=!1;var Gn=this.array();jn.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(Gn),jn.prototype.finalize.call(this)}},Hn.prototype.clone=function(){var Gn=new Hn([],this.bits,!1);this.copyTo(Gn),Gn.inner=this.inner;for(var ba=0;ba<this.oKeyPad.length;++ba)Gn.oKeyPad[ba]=this.oKeyPad[ba];return Gn};var Jn=Vn(512);Jn.sha512=Jn,Jn.sha384=Vn(384),Jn.sha512_256=Vn(256),Jn.sha512_224=Vn(224),Jn.sha512.hmac=qn(512),Jn.sha384.hmac=qn(384),Jn.sha512_256.hmac=qn(256),Jn.sha512_224.hmac=qn(224),jr?_e.exports=Jn:(Ft.sha512=Jn.sha512,Ft.sha384=Jn.sha384,Ft.sha512_256=Jn.sha512_256,Ft.sha512_224=Jn.sha512_224)})()})(sha512$2);var sha512Exports$1=sha512$2.exports;const sha512$1=getDefaultExportFromCjs$1(sha512Exports$1);var jsonBigint={exports:{}},stringify={exports:{}},bignumber={exports:{}};(function(_e){(function(d){var Mt,Ot=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ft=Math.ceil,Ut=Math.floor,Xt="[BigNumber Error] ",jr=Xt+"Number primitive has more than 15 significant digits: ",hn=1e14,Vr=14,fn=9007199254740991,dn=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],pn=1e7,En=1e9;function _n(Gn){var ba,eo,xa,Yn=$a.prototype={constructor:$a,toString:null,valueOf:null},Un=new $a(1),Mn=20,mn=4,Xr=-7,gn=21,On=-1e7,Ln=1e7,Rn=!1,yn=1,kn=0,Fn={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Cn="0123456789abcdefghijklmnopqrstuvwxyz",zn=!0;function $a(_i,Wn){var Kn,ro,oo,mo,bo,vo,wo,go,So=this;if(!(So instanceof $a))return new $a(_i,Wn);if(Wn==null){if(_i&&_i._isBigNumber===!0){So.s=_i.s,!_i.c||_i.e>Ln?So.c=So.e=null:_i.e<On?So.c=[So.e=0]:(So.e=_i.e,So.c=_i.c.slice());return}if((vo=typeof _i=="number")&&_i*0==0){if(So.s=1/_i<0?(_i=-_i,-1):1,_i===~~_i){for(mo=0,bo=_i;bo>=10;bo/=10,mo++);mo>Ln?So.c=So.e=null:(So.e=mo,So.c=[_i]);return}go=String(_i)}else{if(!Ot.test(go=String(_i)))return xa(So,go,vo);So.s=go.charCodeAt(0)==45?(go=go.slice(1),-1):1}(mo=go.indexOf("."))>-1&&(go=go.replace(".","")),(bo=go.search(/e/i))>0?(mo<0&&(mo=bo),mo+=+go.slice(bo+1),go=go.substring(0,bo)):mo<0&&(mo=go.length)}else{if(qn(Wn,2,Cn.length,"Base"),Wn==10&&zn)return So=new $a(_i),na(So,Mn+So.e+1,mn);if(go=String(_i),vo=typeof _i=="number"){if(_i*0!=0)return xa(So,go,vo,Wn);if(So.s=1/_i<0?(go=go.slice(1),-1):1,$a.DEBUG&&go.replace(/^0\.0*|\./,"").length>15)throw Error(jr+_i)}else So.s=go.charCodeAt(0)===45?(go=go.slice(1),-1):1;for(Kn=Cn.slice(0,Wn),mo=bo=0,wo=go.length;bo<wo;bo++)if(Kn.indexOf(ro=go.charAt(bo))<0){if(ro=="."){if(bo>mo){mo=wo;continue}}else if(!oo&&(go==go.toUpperCase()&&(go=go.toLowerCase())||go==go.toLowerCase()&&(go=go.toUpperCase()))){oo=!0,bo=-1,mo=0;continue}return xa(So,String(_i),vo,Wn)}vo=!1,go=eo(go,Wn,10,So.s),(mo=go.indexOf("."))>-1?go=go.replace(".",""):mo=go.length}for(bo=0;go.charCodeAt(bo)===48;bo++);for(wo=go.length;go.charCodeAt(--wo)===48;);if(go=go.slice(bo,++wo)){if(wo-=bo,vo&&$a.DEBUG&&wo>15&&(_i>fn||_i!==Ut(_i)))throw Error(jr+So.s*_i);if((mo=mo-bo-1)>Ln)So.c=So.e=null;else if(mo<On)So.c=[So.e=0];else{if(So.e=mo,So.c=[],bo=(mo+1)%Vr,mo<0&&(bo+=Vr),bo<wo){for(bo&&So.c.push(+go.slice(0,bo)),wo-=Vr;bo<wo;)So.c.push(+go.slice(bo,bo+=Vr));bo=Vr-(go=go.slice(bo)).length}else bo-=wo;for(;bo--;go+="0");So.c.push(+go)}}else So.c=[So.e=0]}$a.clone=_n,$a.ROUND_UP=0,$a.ROUND_DOWN=1,$a.ROUND_CEIL=2,$a.ROUND_FLOOR=3,$a.ROUND_HALF_UP=4,$a.ROUND_HALF_DOWN=5,$a.ROUND_HALF_EVEN=6,$a.ROUND_HALF_CEIL=7,$a.ROUND_HALF_FLOOR=8,$a.EUCLID=9,$a.config=$a.set=function(_i){var Wn,Kn;if(_i!=null)if(typeof _i=="object"){if(_i.hasOwnProperty(Wn="DECIMAL_PLACES")&&(Kn=_i[Wn],qn(Kn,0,En,Wn),Mn=Kn),_i.hasOwnProperty(Wn="ROUNDING_MODE")&&(Kn=_i[Wn],qn(Kn,0,8,Wn),mn=Kn),_i.hasOwnProperty(Wn="EXPONENTIAL_AT")&&(Kn=_i[Wn],Kn&&Kn.pop?(qn(Kn[0],-En,0,Wn),qn(Kn[1],0,En,Wn),Xr=Kn[0],gn=Kn[1]):(qn(Kn,-En,En,Wn),Xr=-(gn=Kn<0?-Kn:Kn))),_i.hasOwnProperty(Wn="RANGE"))if(Kn=_i[Wn],Kn&&Kn.pop)qn(Kn[0],-En,-1,Wn),qn(Kn[1],1,En,Wn),On=Kn[0],Ln=Kn[1];else if(qn(Kn,-En,En,Wn),Kn)On=-(Ln=Kn<0?-Kn:Kn);else throw Error(Xt+Wn+" cannot be zero: "+Kn);if(_i.hasOwnProperty(Wn="CRYPTO"))if(Kn=_i[Wn],Kn===!!Kn)if(Kn)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Rn=Kn;else throw Rn=!Kn,Error(Xt+"crypto unavailable");else Rn=Kn;else throw Error(Xt+Wn+" not true or false: "+Kn);if(_i.hasOwnProperty(Wn="MODULO_MODE")&&(Kn=_i[Wn],qn(Kn,0,9,Wn),yn=Kn),_i.hasOwnProperty(Wn="POW_PRECISION")&&(Kn=_i[Wn],qn(Kn,0,En,Wn),kn=Kn),_i.hasOwnProperty(Wn="FORMAT"))if(Kn=_i[Wn],typeof Kn=="object")Fn=Kn;else throw Error(Xt+Wn+" not an object: "+Kn);if(_i.hasOwnProperty(Wn="ALPHABET"))if(Kn=_i[Wn],typeof Kn=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Kn))zn=Kn.slice(0,10)=="0123456789",Cn=Kn;else throw Error(Xt+Wn+" invalid: "+Kn)}else throw Error(Xt+"Object expected: "+_i);return{DECIMAL_PLACES:Mn,ROUNDING_MODE:mn,EXPONENTIAL_AT:[Xr,gn],RANGE:[On,Ln],CRYPTO:Rn,MODULO_MODE:yn,POW_PRECISION:kn,FORMAT:Fn,ALPHABET:Cn}},$a.isBigNumber=function(_i){if(!_i||_i._isBigNumber!==!0)return!1;if(!$a.DEBUG)return!0;var Wn,Kn,ro=_i.c,oo=_i.e,mo=_i.s;e:if({}.toString.call(ro)=="[object Array]"){if((mo===1||mo===-1)&&oo>=-En&&oo<=En&&oo===Ut(oo)){if(ro[0]===0){if(oo===0&&ro.length===1)return!0;break e}if(Wn=(oo+1)%Vr,Wn<1&&(Wn+=Vr),String(ro[0]).length==Wn){for(Wn=0;Wn<ro.length;Wn++)if(Kn=ro[Wn],Kn<0||Kn>=hn||Kn!==Ut(Kn))break e;if(Kn!==0)return!0}}}else if(ro===null&&oo===null&&(mo===null||mo===1||mo===-1))return!0;throw Error(Xt+"Invalid BigNumber: "+_i)},$a.maximum=$a.max=function(){return io(arguments,-1)},$a.minimum=$a.min=function(){return io(arguments,1)},$a.random=function(){var _i=9007199254740992,Wn=Math.random()*_i&2097151?function(){return Ut(Math.random()*_i)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Kn){var ro,oo,mo,bo,vo,wo=0,go=[],So=new $a(Un);if(Kn==null?Kn=Mn:qn(Kn,0,En),bo=Ft(Kn/Vr),Rn)if(crypto.getRandomValues){for(ro=crypto.getRandomValues(new Uint32Array(bo*=2));wo<bo;)vo=ro[wo]*131072+(ro[wo+1]>>>11),vo>=9e15?(oo=crypto.getRandomValues(new Uint32Array(2)),ro[wo]=oo[0],ro[wo+1]=oo[1]):(go.push(vo%1e14),wo+=2);wo=bo/2}else if(crypto.randomBytes){for(ro=crypto.randomBytes(bo*=7);wo<bo;)vo=(ro[wo]&31)*281474976710656+ro[wo+1]*1099511627776+ro[wo+2]*4294967296+ro[wo+3]*16777216+(ro[wo+4]<<16)+(ro[wo+5]<<8)+ro[wo+6],vo>=9e15?crypto.randomBytes(7).copy(ro,wo):(go.push(vo%1e14),wo+=7);wo=bo/7}else throw Rn=!1,Error(Xt+"crypto unavailable");if(!Rn)for(;wo<bo;)vo=Wn(),vo<9e15&&(go[wo++]=vo%1e14);for(bo=go[--wo],Kn%=Vr,bo&&Kn&&(vo=dn[Vr-Kn],go[wo]=Ut(bo/vo)*vo);go[wo]===0;go.pop(),wo--);if(wo<0)go=[mo=0];else{for(mo=-1;go[0]===0;go.splice(0,1),mo-=Vr);for(wo=1,vo=go[0];vo>=10;vo/=10,wo++);wo<Vr&&(mo-=Vr-wo)}return So.e=mo,So.c=go,So}}(),$a.sum=function(){for(var _i=1,Wn=arguments,Kn=new $a(Wn[0]);_i<Wn.length;)Kn=Kn.plus(Wn[_i++]);return Kn},eo=function(){var _i="0123456789";function Wn(Kn,ro,oo,mo){for(var bo,vo=[0],wo,go=0,So=Kn.length;go<So;){for(wo=vo.length;wo--;vo[wo]*=ro);for(vo[0]+=mo.indexOf(Kn.charAt(go++)),bo=0;bo<vo.length;bo++)vo[bo]>oo-1&&(vo[bo+1]==null&&(vo[bo+1]=0),vo[bo+1]+=vo[bo]/oo|0,vo[bo]%=oo)}return vo.reverse()}return function(Kn,ro,oo,mo,bo){var vo,wo,go,So,Ao,Co,Ro,$o,Lo=Kn.indexOf("."),Po=Mn,No=mn;for(Lo>=0&&(So=kn,kn=0,Kn=Kn.replace(".",""),$o=new $a(ro),Co=$o.pow(Kn.length-Lo),kn=So,$o.c=Wn(Jn(Vn(Co.c),Co.e,"0"),10,oo,_i),$o.e=$o.c.length),Ro=Wn(Kn,ro,oo,bo?(vo=Cn,_i):(vo=_i,Cn)),go=So=Ro.length;Ro[--So]==0;Ro.pop());if(!Ro[0])return vo.charAt(0);if(Lo<0?--go:(Co.c=Ro,Co.e=go,Co.s=mo,Co=ba(Co,$o,Po,No,oo),Ro=Co.c,Ao=Co.r,go=Co.e),wo=go+Po+1,Lo=Ro[wo],So=oo/2,Ao=Ao||wo<0||Ro[wo+1]!=null,Ao=No<4?(Lo!=null||Ao)&&(No==0||No==(Co.s<0?3:2)):Lo>So||Lo==So&&(No==4||Ao||No==6&&Ro[wo-1]&1||No==(Co.s<0?8:7)),wo<1||!Ro[0])Kn=Ao?Jn(vo.charAt(1),-Po,vo.charAt(0)):vo.charAt(0);else{if(Ro.length=wo,Ao)for(--oo;++Ro[--wo]>oo;)Ro[wo]=0,wo||(++go,Ro=[1].concat(Ro));for(So=Ro.length;!Ro[--So];);for(Lo=0,Kn="";Lo<=So;Kn+=vo.charAt(Ro[Lo++]));Kn=Jn(Kn,go,vo.charAt(0))}return Kn}}(),ba=function(){function _i(ro,oo,mo){var bo,vo,wo,go,So=0,Ao=ro.length,Co=oo%pn,Ro=oo/pn|0;for(ro=ro.slice();Ao--;)wo=ro[Ao]%pn,go=ro[Ao]/pn|0,bo=Ro*wo+go*Co,vo=Co*wo+bo%pn*pn+So,So=(vo/mo|0)+(bo/pn|0)+Ro*go,ro[Ao]=vo%mo;return So&&(ro=[So].concat(ro)),ro}function Wn(ro,oo,mo,bo){var vo,wo;if(mo!=bo)wo=mo>bo?1:-1;else for(vo=wo=0;vo<mo;vo++)if(ro[vo]!=oo[vo]){wo=ro[vo]>oo[vo]?1:-1;break}return wo}function Kn(ro,oo,mo,bo){for(var vo=0;mo--;)ro[mo]-=vo,vo=ro[mo]<oo[mo]?1:0,ro[mo]=vo*bo+ro[mo]-oo[mo];for(;!ro[0]&&ro.length>1;ro.splice(0,1));}return function(ro,oo,mo,bo,vo){var wo,go,So,Ao,Co,Ro,$o,Lo,Po,No,Go,Zo,to,Zn,Qn,lo,Eo,xo=ro.s==oo.s?1:-1,_o=ro.c,jo=oo.c;if(!_o||!_o[0]||!jo||!jo[0])return new $a(!ro.s||!oo.s||(_o?jo&&_o[0]==jo[0]:!jo)?NaN:_o&&_o[0]==0||!jo?xo*0:xo/0);for(Lo=new $a(xo),Po=Lo.c=[],go=ro.e-oo.e,xo=mo+go+1,vo||(vo=hn,go=Dn(ro.e/Vr)-Dn(oo.e/Vr),xo=xo/Vr|0),So=0;jo[So]==(_o[So]||0);So++);if(jo[So]>(_o[So]||0)&&go--,xo<0)Po.push(1),Ao=!0;else{for(Zn=_o.length,lo=jo.length,So=0,xo+=2,Co=Ut(vo/(jo[0]+1)),Co>1&&(jo=_i(jo,Co,vo),_o=_i(_o,Co,vo),lo=jo.length,Zn=_o.length),to=lo,No=_o.slice(0,lo),Go=No.length;Go<lo;No[Go++]=0);Eo=jo.slice(),Eo=[0].concat(Eo),Qn=jo[0],jo[1]>=vo/2&&Qn++;do{if(Co=0,wo=Wn(jo,No,lo,Go),wo<0){if(Zo=No[0],lo!=Go&&(Zo=Zo*vo+(No[1]||0)),Co=Ut(Zo/Qn),Co>1)for(Co>=vo&&(Co=vo-1),Ro=_i(jo,Co,vo),$o=Ro.length,Go=No.length;Wn(Ro,No,$o,Go)==1;)Co--,Kn(Ro,lo<$o?Eo:jo,$o,vo),$o=Ro.length,wo=1;else Co==0&&(wo=Co=1),Ro=jo.slice(),$o=Ro.length;if($o<Go&&(Ro=[0].concat(Ro)),Kn(No,Ro,Go,vo),Go=No.length,wo==-1)for(;Wn(jo,No,lo,Go)<1;)Co++,Kn(No,lo<Go?Eo:jo,Go,vo),Go=No.length}else wo===0&&(Co++,No=[0]);Po[So++]=Co,No[0]?No[Go++]=_o[to]||0:(No=[_o[to]],Go=1)}while((to++<Zn||No[0]!=null)&&xo--);Ao=No[0]!=null,Po[0]||Po.splice(0,1)}if(vo==hn){for(So=1,xo=Po[0];xo>=10;xo/=10,So++);na(Lo,mo+(Lo.e=So+go*Vr-1)+1,bo,Ao)}else Lo.e=go,Lo.r=+Ao;return Lo}}();function co(_i,Wn,Kn,ro){var oo,mo,bo,vo,wo;if(Kn==null?Kn=mn:qn(Kn,0,8),!_i.c)return _i.toString();if(oo=_i.c[0],bo=_i.e,Wn==null)wo=Vn(_i.c),wo=ro==1||ro==2&&(bo<=Xr||bo>=gn)?Hn(wo,bo):Jn(wo,bo,"0");else if(_i=na(new $a(_i),Wn,Kn),mo=_i.e,wo=Vn(_i.c),vo=wo.length,ro==1||ro==2&&(Wn<=mo||mo<=Xr)){for(;vo<Wn;wo+="0",vo++);wo=Hn(wo,mo)}else if(Wn-=bo+(ro===2&&mo>bo),wo=Jn(wo,mo,"0"),mo+1>vo){if(--Wn>0)for(wo+=".";Wn--;wo+="0");}else if(Wn+=mo-vo,Wn>0)for(mo+1==vo&&(wo+=".");Wn--;wo+="0");return _i.s<0&&oo?"-"+wo:wo}function io(_i,Wn){for(var Kn,ro,oo=1,mo=new $a(_i[0]);oo<_i.length;oo++)ro=new $a(_i[oo]),(!ro.s||(Kn=Pn(mo,ro))===Wn||Kn===0&&mo.s===Wn)&&(mo=ro);return mo}function ga(_i,Wn,Kn){for(var ro=1,oo=Wn.length;!Wn[--oo];Wn.pop());for(oo=Wn[0];oo>=10;oo/=10,ro++);return(Kn=ro+Kn*Vr-1)>Ln?_i.c=_i.e=null:Kn<On?_i.c=[_i.e=0]:(_i.e=Kn,_i.c=Wn),_i}xa=function(){var _i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Wn=/^([^.]+)\.$/,Kn=/^\.([^.]+)$/,ro=/^-?(Infinity|NaN)$/,oo=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(mo,bo,vo,wo){var go,So=vo?bo:bo.replace(oo,"");if(ro.test(So))mo.s=isNaN(So)?null:So<0?-1:1;else{if(!vo&&(So=So.replace(_i,function(Ao,Co,Ro){return go=(Ro=Ro.toLowerCase())=="x"?16:Ro=="b"?2:8,!wo||wo==go?Co:Ao}),wo&&(go=wo,So=So.replace(Wn,"$1").replace(Kn,"0.$1")),bo!=So))return new $a(So,go);if($a.DEBUG)throw Error(Xt+"Not a"+(wo?" base "+wo:"")+" number: "+bo);mo.s=null}mo.c=mo.e=null}}();function na(_i,Wn,Kn,ro){var oo,mo,bo,vo,wo,go,So,Ao=_i.c,Co=dn;if(Ao){e:{for(oo=1,vo=Ao[0];vo>=10;vo/=10,oo++);if(mo=Wn-oo,mo<0)mo+=Vr,bo=Wn,wo=Ao[go=0],So=Ut(wo/Co[oo-bo-1]%10);else if(go=Ft((mo+1)/Vr),go>=Ao.length)if(ro){for(;Ao.length<=go;Ao.push(0));wo=So=0,oo=1,mo%=Vr,bo=mo-Vr+1}else break e;else{for(wo=vo=Ao[go],oo=1;vo>=10;vo/=10,oo++);mo%=Vr,bo=mo-Vr+oo,So=bo<0?0:Ut(wo/Co[oo-bo-1]%10)}if(ro=ro||Wn<0||Ao[go+1]!=null||(bo<0?wo:wo%Co[oo-bo-1]),ro=Kn<4?(So||ro)&&(Kn==0||Kn==(_i.s<0?3:2)):So>5||So==5&&(Kn==4||ro||Kn==6&&(mo>0?bo>0?wo/Co[oo-bo]:0:Ao[go-1])%10&1||Kn==(_i.s<0?8:7)),Wn<1||!Ao[0])return Ao.length=0,ro?(Wn-=_i.e+1,Ao[0]=Co[(Vr-Wn%Vr)%Vr],_i.e=-Wn||0):Ao[0]=_i.e=0,_i;if(mo==0?(Ao.length=go,vo=1,go--):(Ao.length=go+1,vo=Co[Vr-mo],Ao[go]=bo>0?Ut(wo/Co[oo-bo]%Co[bo])*vo:0),ro)for(;;)if(go==0){for(mo=1,bo=Ao[0];bo>=10;bo/=10,mo++);for(bo=Ao[0]+=vo,vo=1;bo>=10;bo/=10,vo++);mo!=vo&&(_i.e++,Ao[0]==hn&&(Ao[0]=1));break}else{if(Ao[go]+=vo,Ao[go]!=hn)break;Ao[go--]=0,vo=1}for(mo=Ao.length;Ao[--mo]===0;Ao.pop());}_i.e>Ln?_i.c=_i.e=null:_i.e<On&&(_i.c=[_i.e=0])}return _i}function so(_i){var Wn,Kn=_i.e;return Kn===null?_i.toString():(Wn=Vn(_i.c),Wn=Kn<=Xr||Kn>=gn?Hn(Wn,Kn):Jn(Wn,Kn,"0"),_i.s<0?"-"+Wn:Wn)}return Yn.absoluteValue=Yn.abs=function(){var _i=new $a(this);return _i.s<0&&(_i.s=1),_i},Yn.comparedTo=function(_i,Wn){return Pn(this,new $a(_i,Wn))},Yn.decimalPlaces=Yn.dp=function(_i,Wn){var Kn,ro,oo,mo=this;if(_i!=null)return qn(_i,0,En),Wn==null?Wn=mn:qn(Wn,0,8),na(new $a(mo),_i+mo.e+1,Wn);if(!(Kn=mo.c))return null;if(ro=((oo=Kn.length-1)-Dn(this.e/Vr))*Vr,oo=Kn[oo])for(;oo%10==0;oo/=10,ro--);return ro<0&&(ro=0),ro},Yn.dividedBy=Yn.div=function(_i,Wn){return ba(this,new $a(_i,Wn),Mn,mn)},Yn.dividedToIntegerBy=Yn.idiv=function(_i,Wn){return ba(this,new $a(_i,Wn),0,1)},Yn.exponentiatedBy=Yn.pow=function(_i,Wn){var Kn,ro,oo,mo,bo,vo,wo,go,So,Ao=this;if(_i=new $a(_i),_i.c&&!_i.isInteger())throw Error(Xt+"Exponent not an integer: "+so(_i));if(Wn!=null&&(Wn=new $a(Wn)),vo=_i.e>14,!Ao.c||!Ao.c[0]||Ao.c[0]==1&&!Ao.e&&Ao.c.length==1||!_i.c||!_i.c[0])return So=new $a(Math.pow(+so(Ao),vo?_i.s*(2-jn(_i)):+so(_i))),Wn?So.mod(Wn):So;if(wo=_i.s<0,Wn){if(Wn.c?!Wn.c[0]:!Wn.s)return new $a(NaN);ro=!wo&&Ao.isInteger()&&Wn.isInteger(),ro&&(Ao=Ao.mod(Wn))}else{if(_i.e>9&&(Ao.e>0||Ao.e<-1||(Ao.e==0?Ao.c[0]>1||vo&&Ao.c[1]>=24e7:Ao.c[0]<8e13||vo&&Ao.c[0]<=9999975e7)))return mo=Ao.s<0&&jn(_i)?-0:0,Ao.e>-1&&(mo=1/mo),new $a(wo?1/mo:mo);kn&&(mo=Ft(kn/Vr+2))}for(vo?(Kn=new $a(.5),wo&&(_i.s=1),go=jn(_i)):(oo=Math.abs(+so(_i)),go=oo%2),So=new $a(Un);;){if(go){if(So=So.times(Ao),!So.c)break;mo?So.c.length>mo&&(So.c.length=mo):ro&&(So=So.mod(Wn))}if(oo){if(oo=Ut(oo/2),oo===0)break;go=oo%2}else if(_i=_i.times(Kn),na(_i,_i.e+1,1),_i.e>14)go=jn(_i);else{if(oo=+so(_i),oo===0)break;go=oo%2}Ao=Ao.times(Ao),mo?Ao.c&&Ao.c.length>mo&&(Ao.c.length=mo):ro&&(Ao=Ao.mod(Wn))}return ro?So:(wo&&(So=Un.div(So)),Wn?So.mod(Wn):mo?na(So,kn,mn,bo):So)},Yn.integerValue=function(_i){var Wn=new $a(this);return _i==null?_i=mn:qn(_i,0,8),na(Wn,Wn.e+1,_i)},Yn.isEqualTo=Yn.eq=function(_i,Wn){return Pn(this,new $a(_i,Wn))===0},Yn.isFinite=function(){return!!this.c},Yn.isGreaterThan=Yn.gt=function(_i,Wn){return Pn(this,new $a(_i,Wn))>0},Yn.isGreaterThanOrEqualTo=Yn.gte=function(_i,Wn){return(Wn=Pn(this,new $a(_i,Wn)))===1||Wn===0},Yn.isInteger=function(){return!!this.c&&Dn(this.e/Vr)>this.c.length-2},Yn.isLessThan=Yn.lt=function(_i,Wn){return Pn(this,new $a(_i,Wn))<0},Yn.isLessThanOrEqualTo=Yn.lte=function(_i,Wn){return(Wn=Pn(this,new $a(_i,Wn)))===-1||Wn===0},Yn.isNaN=function(){return!this.s},Yn.isNegative=function(){return this.s<0},Yn.isPositive=function(){return this.s>0},Yn.isZero=function(){return!!this.c&&this.c[0]==0},Yn.minus=function(_i,Wn){var Kn,ro,oo,mo,bo=this,vo=bo.s;if(_i=new $a(_i,Wn),Wn=_i.s,!vo||!Wn)return new $a(NaN);if(vo!=Wn)return _i.s=-Wn,bo.plus(_i);var wo=bo.e/Vr,go=_i.e/Vr,So=bo.c,Ao=_i.c;if(!wo||!go){if(!So||!Ao)return So?(_i.s=-Wn,_i):new $a(Ao?bo:NaN);if(!So[0]||!Ao[0])return Ao[0]?(_i.s=-Wn,_i):new $a(So[0]?bo:mn==3?-0:0)}if(wo=Dn(wo),go=Dn(go),So=So.slice(),vo=wo-go){for((mo=vo<0)?(vo=-vo,oo=So):(go=wo,oo=Ao),oo.reverse(),Wn=vo;Wn--;oo.push(0));oo.reverse()}else for(ro=(mo=(vo=So.length)<(Wn=Ao.length))?vo:Wn,vo=Wn=0;Wn<ro;Wn++)if(So[Wn]!=Ao[Wn]){mo=So[Wn]<Ao[Wn];break}if(mo&&(oo=So,So=Ao,Ao=oo,_i.s=-_i.s),Wn=(ro=Ao.length)-(Kn=So.length),Wn>0)for(;Wn--;So[Kn++]=0);for(Wn=hn-1;ro>vo;){if(So[--ro]<Ao[ro]){for(Kn=ro;Kn&&!So[--Kn];So[Kn]=Wn);--So[Kn],So[ro]+=hn}So[ro]-=Ao[ro]}for(;So[0]==0;So.splice(0,1),--go);return So[0]?ga(_i,So,go):(_i.s=mn==3?-1:1,_i.c=[_i.e=0],_i)},Yn.modulo=Yn.mod=function(_i,Wn){var Kn,ro,oo=this;return _i=new $a(_i,Wn),!oo.c||!_i.s||_i.c&&!_i.c[0]?new $a(NaN):!_i.c||oo.c&&!oo.c[0]?new $a(oo):(yn==9?(ro=_i.s,_i.s=1,Kn=ba(oo,_i,0,3),_i.s=ro,Kn.s*=ro):Kn=ba(oo,_i,0,yn),_i=oo.minus(Kn.times(_i)),!_i.c[0]&&yn==1&&(_i.s=oo.s),_i)},Yn.multipliedBy=Yn.times=function(_i,Wn){var Kn,ro,oo,mo,bo,vo,wo,go,So,Ao,Co,Ro,$o,Lo,Po,No=this,Go=No.c,Zo=(_i=new $a(_i,Wn)).c;if(!Go||!Zo||!Go[0]||!Zo[0])return!No.s||!_i.s||Go&&!Go[0]&&!Zo||Zo&&!Zo[0]&&!Go?_i.c=_i.e=_i.s=null:(_i.s*=No.s,!Go||!Zo?_i.c=_i.e=null:(_i.c=[0],_i.e=0)),_i;for(ro=Dn(No.e/Vr)+Dn(_i.e/Vr),_i.s*=No.s,wo=Go.length,Ao=Zo.length,wo<Ao&&($o=Go,Go=Zo,Zo=$o,oo=wo,wo=Ao,Ao=oo),oo=wo+Ao,$o=[];oo--;$o.push(0));for(Lo=hn,Po=pn,oo=Ao;--oo>=0;){for(Kn=0,Co=Zo[oo]%Po,Ro=Zo[oo]/Po|0,bo=wo,mo=oo+bo;mo>oo;)go=Go[--bo]%Po,So=Go[bo]/Po|0,vo=Ro*go+So*Co,go=Co*go+vo%Po*Po+$o[mo]+Kn,Kn=(go/Lo|0)+(vo/Po|0)+Ro*So,$o[mo--]=go%Lo;$o[mo]=Kn}return Kn?++ro:$o.splice(0,1),ga(_i,$o,ro)},Yn.negated=function(){var _i=new $a(this);return _i.s=-_i.s||null,_i},Yn.plus=function(_i,Wn){var Kn,ro=this,oo=ro.s;if(_i=new $a(_i,Wn),Wn=_i.s,!oo||!Wn)return new $a(NaN);if(oo!=Wn)return _i.s=-Wn,ro.minus(_i);var mo=ro.e/Vr,bo=_i.e/Vr,vo=ro.c,wo=_i.c;if(!mo||!bo){if(!vo||!wo)return new $a(oo/0);if(!vo[0]||!wo[0])return wo[0]?_i:new $a(vo[0]?ro:oo*0)}if(mo=Dn(mo),bo=Dn(bo),vo=vo.slice(),oo=mo-bo){for(oo>0?(bo=mo,Kn=wo):(oo=-oo,Kn=vo),Kn.reverse();oo--;Kn.push(0));Kn.reverse()}for(oo=vo.length,Wn=wo.length,oo-Wn<0&&(Kn=wo,wo=vo,vo=Kn,Wn=oo),oo=0;Wn;)oo=(vo[--Wn]=vo[Wn]+wo[Wn]+oo)/hn|0,vo[Wn]=hn===vo[Wn]?0:vo[Wn]%hn;return oo&&(vo=[oo].concat(vo),++bo),ga(_i,vo,bo)},Yn.precision=Yn.sd=function(_i,Wn){var Kn,ro,oo,mo=this;if(_i!=null&&_i!==!!_i)return qn(_i,1,En),Wn==null?Wn=mn:qn(Wn,0,8),na(new $a(mo),_i,Wn);if(!(Kn=mo.c))return null;if(oo=Kn.length-1,ro=oo*Vr+1,oo=Kn[oo]){for(;oo%10==0;oo/=10,ro--);for(oo=Kn[0];oo>=10;oo/=10,ro++);}return _i&&mo.e+1>ro&&(ro=mo.e+1),ro},Yn.shiftedBy=function(_i){return qn(_i,-fn,fn),this.times("1e"+_i)},Yn.squareRoot=Yn.sqrt=function(){var _i,Wn,Kn,ro,oo,mo=this,bo=mo.c,vo=mo.s,wo=mo.e,go=Mn+4,So=new $a("0.5");if(vo!==1||!bo||!bo[0])return new $a(!vo||vo<0&&(!bo||bo[0])?NaN:bo?mo:1/0);if(vo=Math.sqrt(+so(mo)),vo==0||vo==1/0?(Wn=Vn(bo),(Wn.length+wo)%2==0&&(Wn+="0"),vo=Math.sqrt(+Wn),wo=Dn((wo+1)/2)-(wo<0||wo%2),vo==1/0?Wn="5e"+wo:(Wn=vo.toExponential(),Wn=Wn.slice(0,Wn.indexOf("e")+1)+wo),Kn=new $a(Wn)):Kn=new $a(vo+""),Kn.c[0]){for(wo=Kn.e,vo=wo+go,vo<3&&(vo=0);;)if(oo=Kn,Kn=So.times(oo.plus(ba(mo,oo,go,1))),Vn(oo.c).slice(0,vo)===(Wn=Vn(Kn.c)).slice(0,vo))if(Kn.e<wo&&--vo,Wn=Wn.slice(vo-3,vo+1),Wn=="9999"||!ro&&Wn=="4999"){if(!ro&&(na(oo,oo.e+Mn+2,0),oo.times(oo).eq(mo))){Kn=oo;break}go+=4,vo+=4,ro=1}else{(!+Wn||!+Wn.slice(1)&&Wn.charAt(0)=="5")&&(na(Kn,Kn.e+Mn+2,1),_i=!Kn.times(Kn).eq(mo));break}}return na(Kn,Kn.e+Mn+1,mn,_i)},Yn.toExponential=function(_i,Wn){return _i!=null&&(qn(_i,0,En),_i++),co(this,_i,Wn,1)},Yn.toFixed=function(_i,Wn){return _i!=null&&(qn(_i,0,En),_i=_i+this.e+1),co(this,_i,Wn)},Yn.toFormat=function(_i,Wn,Kn){var ro,oo=this;if(Kn==null)_i!=null&&Wn&&typeof Wn=="object"?(Kn=Wn,Wn=null):_i&&typeof _i=="object"?(Kn=_i,_i=Wn=null):Kn=Fn;else if(typeof Kn!="object")throw Error(Xt+"Argument not an object: "+Kn);if(ro=oo.toFixed(_i,Wn),oo.c){var mo,bo=ro.split("."),vo=+Kn.groupSize,wo=+Kn.secondaryGroupSize,go=Kn.groupSeparator||"",So=bo[0],Ao=bo[1],Co=oo.s<0,Ro=Co?So.slice(1):So,$o=Ro.length;if(wo&&(mo=vo,vo=wo,wo=mo,$o-=mo),vo>0&&$o>0){for(mo=$o%vo||vo,So=Ro.substr(0,mo);mo<$o;mo+=vo)So+=go+Ro.substr(mo,vo);wo>0&&(So+=go+Ro.slice(mo)),Co&&(So="-"+So)}ro=Ao?So+(Kn.decimalSeparator||"")+((wo=+Kn.fractionGroupSize)?Ao.replace(new RegExp("\\d{"+wo+"}\\B","g"),"$&"+(Kn.fractionGroupSeparator||"")):Ao):So}return(Kn.prefix||"")+ro+(Kn.suffix||"")},Yn.toFraction=function(_i){var Wn,Kn,ro,oo,mo,bo,vo,wo,go,So,Ao,Co,Ro=this,$o=Ro.c;if(_i!=null&&(vo=new $a(_i),!vo.isInteger()&&(vo.c||vo.s!==1)||vo.lt(Un)))throw Error(Xt+"Argument "+(vo.isInteger()?"out of range: ":"not an integer: ")+so(vo));if(!$o)return new $a(Ro);for(Wn=new $a(Un),go=Kn=new $a(Un),ro=wo=new $a(Un),Co=Vn($o),mo=Wn.e=Co.length-Ro.e-1,Wn.c[0]=dn[(bo=mo%Vr)<0?Vr+bo:bo],_i=!_i||vo.comparedTo(Wn)>0?mo>0?Wn:go:vo,bo=Ln,Ln=1/0,vo=new $a(Co),wo.c[0]=0;So=ba(vo,Wn,0,1),oo=Kn.plus(So.times(ro)),oo.comparedTo(_i)!=1;)Kn=ro,ro=oo,go=wo.plus(So.times(oo=go)),wo=oo,Wn=vo.minus(So.times(oo=Wn)),vo=oo;return oo=ba(_i.minus(Kn),ro,0,1),wo=wo.plus(oo.times(go)),Kn=Kn.plus(oo.times(ro)),wo.s=go.s=Ro.s,mo=mo*2,Ao=ba(go,ro,mo,mn).minus(Ro).abs().comparedTo(ba(wo,Kn,mo,mn).minus(Ro).abs())<1?[go,ro]:[wo,Kn],Ln=bo,Ao},Yn.toNumber=function(){return+so(this)},Yn.toPrecision=function(_i,Wn){return _i!=null&&qn(_i,1,En),co(this,_i,Wn,2)},Yn.toString=function(_i){var Wn,Kn=this,ro=Kn.s,oo=Kn.e;return oo===null?ro?(Wn="Infinity",ro<0&&(Wn="-"+Wn)):Wn="NaN":(_i==null?Wn=oo<=Xr||oo>=gn?Hn(Vn(Kn.c),oo):Jn(Vn(Kn.c),oo,"0"):_i===10&&zn?(Kn=na(new $a(Kn),Mn+oo+1,mn),Wn=Jn(Vn(Kn.c),Kn.e,"0")):(qn(_i,2,Cn.length,"Base"),Wn=eo(Jn(Vn(Kn.c),oo,"0"),10,_i,ro,!0)),ro<0&&Kn.c[0]&&(Wn="-"+Wn)),Wn},Yn.valueOf=Yn.toJSON=function(){return so(this)},Yn._isBigNumber=!0,Gn!=null&&$a.set(Gn),$a}function Dn(Gn){var ba=Gn|0;return Gn>0||Gn===ba?ba:ba-1}function Vn(Gn){for(var ba,eo,xa=1,Yn=Gn.length,Un=Gn[0]+"";xa<Yn;){for(ba=Gn[xa++]+"",eo=Vr-ba.length;eo--;ba="0"+ba);Un+=ba}for(Yn=Un.length;Un.charCodeAt(--Yn)===48;);return Un.slice(0,Yn+1||1)}function Pn(Gn,ba){var eo,xa,Yn=Gn.c,Un=ba.c,Mn=Gn.s,mn=ba.s,Xr=Gn.e,gn=ba.e;if(!Mn||!mn)return null;if(eo=Yn&&!Yn[0],xa=Un&&!Un[0],eo||xa)return eo?xa?0:-mn:Mn;if(Mn!=mn)return Mn;if(eo=Mn<0,xa=Xr==gn,!Yn||!Un)return xa?0:!Yn^eo?1:-1;if(!xa)return Xr>gn^eo?1:-1;for(mn=(Xr=Yn.length)<(gn=Un.length)?Xr:gn,Mn=0;Mn<mn;Mn++)if(Yn[Mn]!=Un[Mn])return Yn[Mn]>Un[Mn]^eo?1:-1;return Xr==gn?0:Xr>gn^eo?1:-1}function qn(Gn,ba,eo,xa){if(Gn<ba||Gn>eo||Gn!==Ut(Gn))throw Error(Xt+(xa||"Argument")+(typeof Gn=="number"?Gn<ba||Gn>eo?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Gn))}function jn(Gn){var ba=Gn.c.length-1;return Dn(Gn.e/Vr)==ba&&Gn.c[ba]%2!=0}function Hn(Gn,ba){return(Gn.length>1?Gn.charAt(0)+"."+Gn.slice(1):Gn)+(ba<0?"e":"e+")+ba}function Jn(Gn,ba,eo){var xa,Yn;if(ba<0){for(Yn=eo+".";++ba;Yn+=eo);Gn=Yn+Gn}else if(xa=Gn.length,++ba>xa){for(Yn=eo,ba-=xa;--ba;Yn+=eo);Gn+=Yn}else ba<xa&&(Gn=Gn.slice(0,ba)+"."+Gn.slice(ba));return Gn}Mt=_n(),Mt.default=Mt.BigNumber=Mt,_e.exports?_e.exports=Mt:(d||(d=typeof self<"u"&&self?self:window),d.BigNumber=Mt)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;(function(_e){var d=bignumberExports,Mt=_e.exports;(function(){var Ot=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Ft,Ut,Xt={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},jr;function hn(fn){return Ot.lastIndex=0,Ot.test(fn)?'"'+fn.replace(Ot,function(dn){var pn=Xt[dn];return typeof pn=="string"?pn:"\\u"+("0000"+dn.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+fn+'"'}function Vr(fn,dn){var pn,En,_n,Dn,Vn=Ft,Pn,qn=dn[fn],jn=qn!=null&&(qn instanceof d||d.isBigNumber(qn));switch(qn&&typeof qn=="object"&&typeof qn.toJSON=="function"&&(qn=qn.toJSON(fn)),typeof jr=="function"&&(qn=jr.call(dn,fn,qn)),typeof qn){case"string":return jn?qn:hn(qn);case"number":return isFinite(qn)?String(qn):"null";case"boolean":case"null":case"bigint":return String(qn);case"object":if(!qn)return"null";if(Ft+=Ut,Pn=[],Object.prototype.toString.apply(qn)==="[object Array]"){for(Dn=qn.length,pn=0;pn<Dn;pn+=1)Pn[pn]=Vr(pn,qn)||"null";return _n=Pn.length===0?"[]":Ft?`[
`+Ft+Pn.join(`,
`+Ft)+`
`+Vn+"]":"["+Pn.join(",")+"]",Ft=Vn,_n}if(jr&&typeof jr=="object")for(Dn=jr.length,pn=0;pn<Dn;pn+=1)typeof jr[pn]=="string"&&(En=jr[pn],_n=Vr(En,qn),_n&&Pn.push(hn(En)+(Ft?": ":":")+_n));else Object.keys(qn).forEach(function(Hn){var Jn=Vr(Hn,qn);Jn&&Pn.push(hn(Hn)+(Ft?": ":":")+Jn)});return _n=Pn.length===0?"{}":Ft?`{
`+Ft+Pn.join(`,
`+Ft)+`
`+Vn+"}":"{"+Pn.join(",")+"}",Ft=Vn,_n}}typeof Mt.stringify!="function"&&(Mt.stringify=function(fn,dn,pn){var En;if(Ft="",Ut="",typeof pn=="number")for(En=0;En<pn;En+=1)Ut+=" ";else typeof pn=="string"&&(Ut=pn);if(jr=dn,dn&&typeof dn!="function"&&(typeof dn!="object"||typeof dn.length!="number"))throw new Error("JSON.stringify");return Vr("",{"":fn})})})()})(stringify);var stringifyExports=stringify.exports,BigNumber=null;const suspectProtoRx=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,suspectConstructorRx=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var json_parse$1=function(_e){var d={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(_e!=null){if(_e.strict===!0&&(d.strict=!0),_e.storeAsString===!0&&(d.storeAsString=!0),d.alwaysParseAsBig=_e.alwaysParseAsBig===!0?_e.alwaysParseAsBig:!1,d.useNativeBigInt=_e.useNativeBigInt===!0?_e.useNativeBigInt:!1,typeof _e.constructorAction<"u")if(_e.constructorAction==="error"||_e.constructorAction==="ignore"||_e.constructorAction==="preserve")d.constructorAction=_e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${_e.constructorAction}`);if(typeof _e.protoAction<"u")if(_e.protoAction==="error"||_e.protoAction==="ignore"||_e.protoAction==="preserve")d.protoAction=_e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${_e.protoAction}`)}var Mt,Ot,Ft={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Ut,Xt=function(Dn){throw{name:"SyntaxError",message:Dn,at:Mt,text:Ut}},jr=function(Dn){return Dn&&Dn!==Ot&&Xt("Expected '"+Dn+"' instead of '"+Ot+"'"),Ot=Ut.charAt(Mt),Mt+=1,Ot},hn=function(){var Dn,Vn="";for(Ot==="-"&&(Vn="-",jr("-"));Ot>="0"&&Ot<="9";)Vn+=Ot,jr();if(Ot===".")for(Vn+=".";jr()&&Ot>="0"&&Ot<="9";)Vn+=Ot;if(Ot==="e"||Ot==="E")for(Vn+=Ot,jr(),(Ot==="-"||Ot==="+")&&(Vn+=Ot,jr());Ot>="0"&&Ot<="9";)Vn+=Ot,jr();if(Dn=+Vn,!isFinite(Dn))Xt("Bad number");else return BigNumber==null&&(BigNumber=bignumberExports),Vn.length>15?d.storeAsString?Vn:d.useNativeBigInt?BigInt(Vn):new BigNumber(Vn):d.alwaysParseAsBig?d.useNativeBigInt?BigInt(Dn):new BigNumber(Dn):Dn},Vr=function(){var Dn,Vn,Pn="",qn;if(Ot==='"')for(var jn=Mt;jr();){if(Ot==='"')return Mt-1>jn&&(Pn+=Ut.substring(jn,Mt-1)),jr(),Pn;if(Ot==="\\"){if(Mt-1>jn&&(Pn+=Ut.substring(jn,Mt-1)),jr(),Ot==="u"){for(qn=0,Vn=0;Vn<4&&(Dn=parseInt(jr(),16),!!isFinite(Dn));Vn+=1)qn=qn*16+Dn;Pn+=String.fromCharCode(qn)}else if(typeof Ft[Ot]=="string")Pn+=Ft[Ot];else break;jn=Mt}}Xt("Bad string")},fn=function(){for(;Ot&&Ot<=" ";)jr()},dn=function(){switch(Ot){case"t":return jr("t"),jr("r"),jr("u"),jr("e"),!0;case"f":return jr("f"),jr("a"),jr("l"),jr("s"),jr("e"),!1;case"n":return jr("n"),jr("u"),jr("l"),jr("l"),null}Xt("Unexpected '"+Ot+"'")},pn,En=function(){var Dn=[];if(Ot==="["){if(jr("["),fn(),Ot==="]")return jr("]"),Dn;for(;Ot;){if(Dn.push(pn()),fn(),Ot==="]")return jr("]"),Dn;jr(","),fn()}}Xt("Bad array")},_n=function(){var Dn,Vn=Object.create(null);if(Ot==="{"){if(jr("{"),fn(),Ot==="}")return jr("}"),Vn;for(;Ot;){if(Dn=Vr(),fn(),jr(":"),d.strict===!0&&Object.hasOwnProperty.call(Vn,Dn)&&Xt('Duplicate key "'+Dn+'"'),suspectProtoRx.test(Dn)===!0?d.protoAction==="error"?Xt("Object contains forbidden prototype property"):d.protoAction==="ignore"?pn():Vn[Dn]=pn():suspectConstructorRx.test(Dn)===!0?d.constructorAction==="error"?Xt("Object contains forbidden constructor property"):d.constructorAction==="ignore"?pn():Vn[Dn]=pn():Vn[Dn]=pn(),fn(),Ot==="}")return jr("}"),Vn;jr(","),fn()}}Xt("Bad object")};return pn=function(){switch(fn(),Ot){case"{":return _n();case"[":return En();case'"':return Vr();case"-":return hn();default:return Ot>="0"&&Ot<="9"?hn():dn()}},function(Dn,Vn){var Pn;return Ut=Dn+"",Mt=0,Ot=" ",Pn=pn(),fn(),Ot&&Xt("Syntax error"),typeof Vn=="function"?function qn(jn,Hn){var Jn,Gn=jn[Hn];return Gn&&typeof Gn=="object"&&Object.keys(Gn).forEach(function(ba){Jn=qn(Gn,ba),Jn!==void 0?Gn[ba]=Jn:delete Gn[ba]}),Vn.call(jn,Hn,Gn)}({"":Pn},""):Pn}},parse=json_parse$1,json_stringify=stringifyExports.stringify,json_parse=parse;jsonBigint.exports=function(_e){return{parse:json_parse(_e),stringify:json_stringify}};jsonBigint.exports.parse=json_parse();jsonBigint.exports.stringify=json_stringify;var jsonBigintExports=jsonBigint.exports;const JSONbigWithoutConfig=getDefaultExportFromCjs$1(jsonBigintExports);var IntDecoding;(function(_e){_e.UNSAFE="unsafe",_e.SAFE="safe",_e.MIXED="mixed",_e.BIGINT="bigint"})(IntDecoding||(IntDecoding={}));const IntDecoding$1=IntDecoding,JSONbig=JSONbigWithoutConfig({useNativeBigInt:!0,strict:!0});function parseJSON(_e,{intDecoding:d}){if(d!==IntDecoding$1.SAFE&&d!==IntDecoding$1.UNSAFE&&d!==IntDecoding$1.BIGINT&&d!==IntDecoding$1.MIXED)throw new Error(`Invalid intDecoding option: ${d}`);return JSONbig.parse(_e,(Mt,Ot)=>{if(Ot!=null&&typeof Ot=="object"&&Object.getPrototypeOf(Ot)==null&&Object.setPrototypeOf(Ot,Object.prototype),typeof Ot=="bigint"){if(d===IntDecoding$1.SAFE&&Ot>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${Ot.toString()}. Try parsing with a different intDecoding option.`);return d===IntDecoding$1.BIGINT||d===IntDecoding$1.MIXED&&Ot>Number.MAX_SAFE_INTEGER?Ot:Number(Ot)}return typeof Ot=="number"&&d===IntDecoding$1.BIGINT&&Number.isInteger(Ot)?BigInt(Ot):Ot})}function stringifyJSON(_e,d,Mt){return JSONbig.stringify(_e,d,Mt)}function arrayEqual(_e,d){return _e.length!==d.length?!1:Array.from(_e).every((Mt,Ot)=>Mt===d[Ot])}function concatArrays(..._e){const d=_e.reduce((Ft,Ut)=>Ft+Ut.length,0),Mt=new Uint8Array(d);let Ot=0;for(let Ft=0;Ft<_e.length;Ft++)Mt.set(_e[Ft],Ot),Ot+=_e[Ft].length;return Mt}function isNode(){return typeof process$1=="object"&&typeof process$1.versions=="object"&&typeof process$1.versions.node<"u"}function isReactNative(){const{navigator:_e}=globalThis;return typeof _e=="object"&&_e.product==="ReactNative"}function ensureSafeInteger(_e){if(typeof _e>"u")throw new Error("Value is undefined");if(typeof _e=="bigint"){if(_e>BigInt(Number.MAX_SAFE_INTEGER)||_e<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${_e} is not a safe integer`);return Number(_e)}if(typeof _e=="number"){if(Number.isSafeInteger(_e))return _e;throw new Error(`Value ${_e} is not a safe integer`)}throw new Error(`Unexpected type ${typeof _e}, ${_e}`)}function ensureSafeUnsignedInteger(_e){const d=ensureSafeInteger(_e);if(d<0)throw new Error(`Value ${d} is negative`);return d}function ensureBigInt(_e){if(typeof _e>"u")throw new Error("Value is undefined");if(typeof _e=="bigint")return _e;if(typeof _e=="number"){if(!Number.isSafeInteger(_e))throw new Error(`Value ${_e} is not a safe integer`);return BigInt(_e)}throw new Error(`Unexpected type ${typeof _e}, ${_e}`)}function ensureUint64(_e){const d=ensureBigInt(_e);if(d<0||d>BigInt("0xffffffffffffffff"))throw new Error(`Value ${d} is not a uint64`);return d}function genericHash(_e){return sha512$1.sha512_256.array(_e)}function randomBytes(_e){return isReactNative()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),nacl.randomBytes(_e)}function keyPairFromSeed(_e){return nacl.sign.keyPair.fromSeed(_e)}function keyPair(){const _e=randomBytes(nacl.box.secretKeyLength);return keyPairFromSeed(_e)}function isValidSignatureLength(_e){return _e===nacl.sign.signatureLength}function keyPairFromSecretKey(_e){return nacl.sign.keyPair.fromSecretKey(_e)}function sign(_e,d){return nacl.sign.detached(_e,d)}function bytesEqual(_e,d){return nacl.verify(_e,d)}function verify(_e,d,Mt){return nacl.sign.detached.verify(_e,d,Mt)}const PUBLIC_KEY_LENGTH=nacl.sign.publicKeyLength;nacl.sign.secretKeyLength;const HASH_BYTES_LENGTH=32,SEED_BTYES_LENGTH=32;var base32$1={exports:{}};(function(_e){(function(){var d=typeof window=="object"?window:{},Mt=!d.HI_BASE32_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;Mt&&(d=globalThis);var Ot=!d.HI_BASE32_NO_COMMON_JS&&!0&&_e.exports,Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),Ut={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},Xt=[0,0,0,0,0,0,0,0],jr=function(Vn,Pn){Pn.length>10&&(Pn="..."+Pn.substr(-10));var qn=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+Vn+" bytes: "+Pn+" <-");throw qn.position=Vn,qn},hn=function(Vn){for(var Pn="",qn=Vn.length,jn=0,Hn=0,Jn,Gn;jn<qn;){if(Jn=Vn[jn++],Jn<=127){Pn+=String.fromCharCode(Jn);continue}else Jn>191&&Jn<=223?(Gn=Jn&31,Hn=1):Jn<=239?(Gn=Jn&15,Hn=2):Jn<=247?(Gn=Jn&7,Hn=3):jr(jn,Pn);for(var ba=0;ba<Hn;++ba)Jn=Vn[jn++],(Jn<128||Jn>191)&&jr(jn,Pn),Gn<<=6,Gn+=Jn&63;Gn>=55296&&Gn<=57343&&jr(jn,Pn),Gn>1114111&&jr(jn,Pn),Gn<=65535?Pn+=String.fromCharCode(Gn):(Gn-=65536,Pn+=String.fromCharCode((Gn>>10)+55296),Pn+=String.fromCharCode((Gn&1023)+56320))}return Pn},Vr=function(Vn){if(Vn==="")return[];if(!/^[A-Z2-7=]+$/.test(Vn))throw new Error("Invalid base32 characters");Vn=Vn.replace(/=/g,"");for(var Pn,qn,jn,Hn,Jn,Gn,ba,eo,xa=[],Yn=0,Un=Vn.length,Mn=0,mn=Un>>3<<3;Mn<mn;)Pn=Ut[Vn.charAt(Mn++)],qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Gn=Ut[Vn.charAt(Mn++)],ba=Ut[Vn.charAt(Mn++)],eo=Ut[Vn.charAt(Mn++)],xa[Yn++]=(Pn<<3|qn>>>2)&255,xa[Yn++]=(qn<<6|jn<<1|Hn>>>4)&255,xa[Yn++]=(Hn<<4|Jn>>>1)&255,xa[Yn++]=(Jn<<7|Gn<<2|ba>>>3)&255,xa[Yn++]=(ba<<5|eo)&255;var Xr=Un-mn;return Xr===2?(Pn=Ut[Vn.charAt(Mn++)],qn=Ut[Vn.charAt(Mn++)],xa[Yn++]=(Pn<<3|qn>>>2)&255):Xr===4?(Pn=Ut[Vn.charAt(Mn++)],qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],xa[Yn++]=(Pn<<3|qn>>>2)&255,xa[Yn++]=(qn<<6|jn<<1|Hn>>>4)&255):Xr===5?(Pn=Ut[Vn.charAt(Mn++)],qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],xa[Yn++]=(Pn<<3|qn>>>2)&255,xa[Yn++]=(qn<<6|jn<<1|Hn>>>4)&255,xa[Yn++]=(Hn<<4|Jn>>>1)&255):Xr===7&&(Pn=Ut[Vn.charAt(Mn++)],qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Gn=Ut[Vn.charAt(Mn++)],ba=Ut[Vn.charAt(Mn++)],xa[Yn++]=(Pn<<3|qn>>>2)&255,xa[Yn++]=(qn<<6|jn<<1|Hn>>>4)&255,xa[Yn++]=(Hn<<4|Jn>>>1)&255,xa[Yn++]=(Jn<<7|Gn<<2|ba>>>3)&255),xa},fn=function(Vn){for(var Pn,qn,jn,Hn,Jn,Gn="",ba=Vn.length,eo=0,xa=parseInt(ba/5)*5;eo<xa;)Pn=Vn.charCodeAt(eo++),qn=Vn.charCodeAt(eo++),jn=Vn.charCodeAt(eo++),Hn=Vn.charCodeAt(eo++),Jn=Vn.charCodeAt(eo++),Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[(Hn<<3|Jn>>>5)&31]+Ft[Jn&31];var Yn=ba-xa;return Yn===1?(Pn=Vn.charCodeAt(eo),Gn+=Ft[Pn>>>3]+Ft[Pn<<2&31]+"======"):Yn===2?(Pn=Vn.charCodeAt(eo++),qn=Vn.charCodeAt(eo),Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[qn<<4&31]+"===="):Yn===3?(Pn=Vn.charCodeAt(eo++),qn=Vn.charCodeAt(eo++),jn=Vn.charCodeAt(eo),Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[jn<<1&31]+"==="):Yn===4&&(Pn=Vn.charCodeAt(eo++),qn=Vn.charCodeAt(eo++),jn=Vn.charCodeAt(eo++),Hn=Vn.charCodeAt(eo),Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[Hn<<3&31]+"="),Gn},dn=function(Vn){var Pn,qn,jn,Hn,Jn,Gn,ba=!1,eo="",xa=0,Yn,Un=0,Mn=Vn.length;if(Vn==="")return eo;do{for(Xt[0]=Xt[5],Xt[1]=Xt[6],Xt[2]=Xt[7],Yn=Un;xa<Mn&&Yn<5;++xa)Gn=Vn.charCodeAt(xa),Gn<128?Xt[Yn++]=Gn:Gn<2048?(Xt[Yn++]=192|Gn>>6,Xt[Yn++]=128|Gn&63):Gn<55296||Gn>=57344?(Xt[Yn++]=224|Gn>>12,Xt[Yn++]=128|Gn>>6&63,Xt[Yn++]=128|Gn&63):(Gn=65536+((Gn&1023)<<10|Vn.charCodeAt(++xa)&1023),Xt[Yn++]=240|Gn>>18,Xt[Yn++]=128|Gn>>12&63,Xt[Yn++]=128|Gn>>6&63,Xt[Yn++]=128|Gn&63);Un=Yn-5,xa===Mn&&++xa,xa>Mn&&Yn<6&&(ba=!0),Pn=Xt[0],Yn>4?(qn=Xt[1],jn=Xt[2],Hn=Xt[3],Jn=Xt[4],eo+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[(Hn<<3|Jn>>>5)&31]+Ft[Jn&31]):Yn===1?eo+=Ft[Pn>>>3]+Ft[Pn<<2&31]+"======":Yn===2?(qn=Xt[1],eo+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[qn<<4&31]+"===="):Yn===3?(qn=Xt[1],jn=Xt[2],eo+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[jn<<1&31]+"==="):(qn=Xt[1],jn=Xt[2],Hn=Xt[3],eo+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[Hn<<3&31]+"=")}while(!ba);return eo},pn=function(Vn){for(var Pn,qn,jn,Hn,Jn,Gn="",ba=Vn.length,eo=0,xa=parseInt(ba/5)*5;eo<xa;)Pn=Vn[eo++],qn=Vn[eo++],jn=Vn[eo++],Hn=Vn[eo++],Jn=Vn[eo++],Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[(Hn<<3|Jn>>>5)&31]+Ft[Jn&31];var Yn=ba-xa;return Yn===1?(Pn=Vn[eo],Gn+=Ft[Pn>>>3]+Ft[Pn<<2&31]+"======"):Yn===2?(Pn=Vn[eo++],qn=Vn[eo],Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[qn<<4&31]+"===="):Yn===3?(Pn=Vn[eo++],qn=Vn[eo++],jn=Vn[eo],Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[jn<<1&31]+"==="):Yn===4&&(Pn=Vn[eo++],qn=Vn[eo++],jn=Vn[eo++],Hn=Vn[eo],Gn+=Ft[Pn>>>3]+Ft[(Pn<<2|qn>>>6)&31]+Ft[qn>>>1&31]+Ft[(qn<<4|jn>>>4)&31]+Ft[(jn<<1|Hn>>>7)&31]+Ft[Hn>>>2&31]+Ft[Hn<<3&31]+"="),Gn},En=function(Vn,Pn){var qn=typeof Vn!="string";return qn&&Vn.constructor===ArrayBuffer&&(Vn=new Uint8Array(Vn)),qn?pn(Vn):Pn?fn(Vn):dn(Vn)},_n=function(Vn,Pn){if(!Pn)return hn(Vr(Vn));if(Vn==="")return"";if(!/^[A-Z2-7=]+$/.test(Vn))throw new Error("Invalid base32 characters");var qn,jn,Hn,Jn,Gn,ba,eo,xa,Yn="",Un=Vn.indexOf("=");Un===-1&&(Un=Vn.length);for(var Mn=0,mn=Un>>3<<3;Mn<mn;)qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Gn=Ut[Vn.charAt(Mn++)],ba=Ut[Vn.charAt(Mn++)],eo=Ut[Vn.charAt(Mn++)],xa=Ut[Vn.charAt(Mn++)],Yn+=String.fromCharCode((qn<<3|jn>>>2)&255)+String.fromCharCode((jn<<6|Hn<<1|Jn>>>4)&255)+String.fromCharCode((Jn<<4|Gn>>>1)&255)+String.fromCharCode((Gn<<7|ba<<2|eo>>>3)&255)+String.fromCharCode((eo<<5|xa)&255);var Xr=Un-mn;return Xr===2?(qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Yn+=String.fromCharCode((qn<<3|jn>>>2)&255)):Xr===4?(qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Yn+=String.fromCharCode((qn<<3|jn>>>2)&255)+String.fromCharCode((jn<<6|Hn<<1|Jn>>>4)&255)):Xr===5?(qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Gn=Ut[Vn.charAt(Mn++)],Yn+=String.fromCharCode((qn<<3|jn>>>2)&255)+String.fromCharCode((jn<<6|Hn<<1|Jn>>>4)&255)+String.fromCharCode((Jn<<4|Gn>>>1)&255)):Xr===7&&(qn=Ut[Vn.charAt(Mn++)],jn=Ut[Vn.charAt(Mn++)],Hn=Ut[Vn.charAt(Mn++)],Jn=Ut[Vn.charAt(Mn++)],Gn=Ut[Vn.charAt(Mn++)],ba=Ut[Vn.charAt(Mn++)],eo=Ut[Vn.charAt(Mn++)],Yn+=String.fromCharCode((qn<<3|jn>>>2)&255)+String.fromCharCode((jn<<6|Hn<<1|Jn>>>4)&255)+String.fromCharCode((Jn<<4|Gn>>>1)&255)+String.fromCharCode((Gn<<7|ba<<2|eo>>>3)&255)),Yn},Dn={encode:En,decode:_n};_n.asBytes=Vr,Ot?_e.exports=Dn:d.base32=Dn})()})(base32$1);var base32Exports=base32$1.exports;const base32=getDefaultExportFromCjs$1(base32Exports);function encodeUint64(_e){if(!(typeof _e=="bigint"||Number.isInteger(_e))||_e<0||_e>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const Mt=new Uint8Array(8);return new DataView(Mt.buffer).setBigUint64(0,BigInt(_e)),Mt}function decodeUint64(_e,d="safe"){if(d!=="safe"&&d!=="mixed"&&d!=="bigint")throw new Error(`Unknown decodingMode option: ${d}`);if(_e.byteLength===0||_e.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${_e.byteLength}`);const Mt=new Uint8Array(8-_e.byteLength),Ot=concatArrays(Mt,_e),Ut=new DataView(Ot.buffer).getBigUint64(0),Xt=Ut>BigInt(Number.MAX_SAFE_INTEGER);if(d==="safe"){if(Xt)throw new Error(`Integer exceeds maximum safe integer: ${Ut.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(Ut)}return d==="mixed"&&!Xt?Number(Ut):Ut}function base64ToBytes(_e){if(isNode())return new Uint8Array(Buffer.from(_e,"base64"));const d=atob(_e);return Uint8Array.from(d,Mt=>Mt.codePointAt(0))}function bytesToBase64(_e){if(isNode())return Buffer.from(_e).toString("base64");const d=Array.from(_e,Mt=>String.fromCodePoint(Mt)).join("");return btoa(d)}function bytesToString(_e){return new TextDecoder().decode(_e)}function coerceToBytes(_e){return typeof _e=="string"?new TextEncoder().encode(_e):_e}function bytesToHex(_e){return isNode()?Buffer.from(_e).toString("hex"):Array.from(_e).map(d=>d.toString(16).padStart(2,"0")).join("")}function hexToBytes(_e){if(isNode())return Buffer.from(_e,"hex");let d=_e;_e.length%2!==0&&(d=_e.padStart(1,"0"));const Mt=new Uint8Array(d.length/2);for(let Ot=0;Ot<d.length/2;Ot++)Mt[Ot]=parseInt(d.slice(2*Ot,2*Ot+2),16);return Mt}const ALGORAND_ADDRESS_BYTE_LENGTH=36,ALGORAND_CHECKSUM_BYTE_LENGTH=4,ALGORAND_ADDRESS_LENGTH=58,ALGORAND_ZERO_ADDRESS_STRING="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",MALFORMED_ADDRESS_ERROR_MSG="address seems to be malformed",CHECKSUM_ADDRESS_ERROR_MSG="wrong checksum for address";function checksumFromPublicKey(_e){return Uint8Array.from(genericHash(_e).slice(HASH_BYTES_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH,HASH_BYTES_LENGTH))}class Address{constructor(d){if(!(d instanceof Uint8Array))throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: ${d} is not Uint8Array, type ${typeof d}`);if(d.length!==ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: 0x${bytesToHex(d)}, length ${d.length}`);this.publicKey=d}equals(d){return d instanceof Address&&arrayEqual(this.publicKey,d.publicKey)}checksum(){return checksumFromPublicKey(this.publicKey)}toString(){return base32.encode(concatArrays(this.publicKey,this.checksum())).slice(0,ALGORAND_ADDRESS_LENGTH)}static fromString(d){if(typeof d!="string")throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected string, got ${typeof d}, ${d}`);if(d.length!==ALGORAND_ADDRESS_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected length ${ALGORAND_ADDRESS_LENGTH}, got ${d.length}: ${d}`);const Mt=base32.decode.asBytes(d);if(Mt.length!==ALGORAND_ADDRESS_BYTE_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected byte length ${ALGORAND_ADDRESS_BYTE_LENGTH}, got ${Mt.length}`);const Ot=new Uint8Array(Mt.slice(0,ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH)),Ft=new Uint8Array(Mt.slice(PUBLIC_KEY_LENGTH,ALGORAND_ADDRESS_BYTE_LENGTH)),Ut=checksumFromPublicKey(Ot);if(!arrayEqual(Ut,Ft))throw new Error(CHECKSUM_ADDRESS_ERROR_MSG);return new Address(Ot)}static zeroAddress(){return new Address(new Uint8Array(ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH))}}function decodeAddress(_e){return Address.fromString(_e)}function isValidAddress(_e){try{Address.fromString(_e)}catch{return!1}return!0}function encodeAddress(_e){return new Address(_e).toString()}const APP_ID_PREFIX=new TextEncoder().encode("appID");function getApplicationAddress(_e){const d=concatArrays(APP_ID_PREFIX,encodeUint64(_e)),Mt=genericHash(d);return new Address(Uint8Array.from(Mt))}const MICROALGOS_TO_ALGOS_RATIO=1e6,INVALID_MICROALGOS_ERROR_MSG="Microalgos should be positive and less than 2^53 - 1.";function microalgosToAlgos(_e){if(_e<0||!Number.isSafeInteger(_e))throw new Error(INVALID_MICROALGOS_ERROR_MSG);return _e/MICROALGOS_TO_ALGOS_RATIO}function algosToMicroalgos(_e){const d=_e*MICROALGOS_TO_ALGOS_RATIO;return Math.round(d)}class URLTokenBaseHTTPError extends Error{constructor(d,Mt){super(d),this.response=Mt,this.name="URLTokenBaseHTTPError",this.response=Mt}}class URLTokenBaseHTTPClient{constructor(d,Mt,Ot,Ft={}){this.defaultHeaders=Ft;const Ut=Mt.endsWith("/")?Mt:`${Mt}/`,Xt=new URL(Ut);if(typeof Ot<"u"&&(Xt.port=Ot.toString()),Xt.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=Xt,this.tokenHeader=d}getURL(d,Mt){let Ot;d.startsWith("./")?Ot=d:d.startsWith("/")?Ot=`.${d}`:Ot=`./${d}`;const Ft=new URL(Ot,this.baseURL);if(Mt)for(const[Ut,Xt]of Object.entries(Mt))Ft.searchParams.set(Ut,Xt.toString());return Ft.toString()}static formatFetchResponseHeaders(d){const Mt={};return d.forEach((Ot,Ft)=>{Mt[Ot]=Ft}),Mt}static async checkHttpError(d){if(d.ok)return;let Mt,Ot;try{Mt=new Uint8Array(await d.arrayBuffer());const Ut=JSON.parse(new TextDecoder().decode(Mt));Ut.message&&(Ot=Ut.message)}catch{}let Ft=`Network request error. Received status ${d.status} (${d.statusText})`;throw Ot&&(Ft+=`: ${Ot}`),new URLTokenBaseHTTPError(Ft,{body:Mt??new Uint8Array,status:d.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(d.headers)})}static async formatFetchResponse(d){return await this.checkHttpError(d),{body:new Uint8Array(await d.arrayBuffer()),status:d.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(d.headers)}}async get(d,Mt,Ot,Ft){const Ut={...this.tokenHeader,...this.defaultHeaders,...Ot??{}},Xt=await fetch(this.getURL(d,Mt),{headers:Ut,...Ft??{}});return URLTokenBaseHTTPClient.formatFetchResponse(Xt)}async post(d,Mt,Ot,Ft,Ut){const Xt={...this.tokenHeader,...this.defaultHeaders,...Ft??{}},jr=await fetch(this.getURL(d,Ot),{method:"POST",body:Mt,headers:Xt,...Ut??{}});return URLTokenBaseHTTPClient.formatFetchResponse(jr)}async delete(d,Mt,Ot,Ft,Ut){const Xt={...this.tokenHeader,...this.defaultHeaders,...Ft??{}},jr=await fetch(this.getURL(d,Ot),{method:"DELETE",body:Mt,headers:Xt,...Ut??{}});return URLTokenBaseHTTPClient.formatFetchResponse(jr)}}class HTTPClientResponse{constructor(d){this.body=d.body,this.text=d.text,this.format=d.format,this.headers=d.headers,this.status=d.status,this.ok=d.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(d){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return HTTPClient.parseJSON(this.text,this.status,d)}}function removeFalsyOrEmpty(_e){for(const d in _e)Object.prototype.hasOwnProperty.call(_e,d)&&(!_e[d]||_e[d].length===0)&&delete _e[d];return _e}function tolowerCaseKeys(_e){return Object.keys(_e).reduce((d,Mt)=>(d[Mt.toLowerCase()]=_e[Mt],d),{})}function getAcceptFormat(_e){if(_e!==void 0&&Object.prototype.hasOwnProperty.call(_e,"format"))switch(_e.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class HTTPClient{constructor(d,Mt,Ot,Ft={}){Mt!==void 0?this.bc=new URLTokenBaseHTTPClient(d,Mt,Ot,Ft):this.bc=d}static parseJSON(d,Mt,Ot){try{return d?parseJSON(d,Ot):null}catch(Ft){const Ut=Ft;throw Ut.rawResponse=d||null,Ut.statusCode=Mt,Ut}}static serializeData(d,Mt){if(!d)return new Uint8Array(0);if(Mt["content-type"]==="application/json")return new TextEncoder().encode(stringifyJSON(d));if(typeof d=="string")return new TextEncoder().encode(d);if(d instanceof Uint8Array)return d;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(d,Mt){const{body:Ot}=d;let Ft;return Mt!=="application/msgpack"&&(Ft=Ot&&new TextDecoder().decode(Ot)||""),new HTTPClientResponse({...d,format:Mt,text:Ft,ok:Math.trunc(d.status/100)===2})}static prepareResponseError(d){return d.response&&(d.response=HTTPClient.prepareResponse(d.response,"application/json"),d.status=d.response.status),d}async get({relativePath:d,query:Mt,requestHeaders:Ot,customOptions:Ft}){const Ut=getAcceptFormat(Mt),Xt={...Ot??{},accept:Ut};try{const jr=await this.bc.get(d,Mt?removeFalsyOrEmpty(Mt):void 0,Xt,Ft);return HTTPClient.prepareResponse(jr,Ut)}catch(jr){throw HTTPClient.prepareResponseError(jr)}}async post({relativePath:d,data:Mt,query:Ot,requestHeaders:Ft,customOptions:Ut}){const Xt={"content-type":"application/json",...tolowerCaseKeys(Ft??{})};try{const jr=await this.bc.post(d,HTTPClient.serializeData(Mt,Xt),Ot,Xt,Ut);return HTTPClient.prepareResponse(jr,"application/json")}catch(jr){throw HTTPClient.prepareResponseError(jr)}}async delete({relativePath:d,data:Mt,requestHeaders:Ot,customOptions:Ft}){const Ut={"content-type":"application/json",...tolowerCaseKeys(Ot??{})};try{const Xt=await this.bc.delete(d,typeof Mt<"u"?HTTPClient.serializeData(Mt,Ut):void 0,void 0,Ut,Ft);return HTTPClient.prepareResponse(Xt,"application/json")}catch(Xt){throw HTTPClient.prepareResponseError(Xt)}}}function convertTokenStringToTokenHeader(_e,d=""){const Mt={};return d===""||(Mt[_e]=d),Mt}function isBaseHTTPClient(_e){return typeof _e.get=="function"}class ServiceClient{constructor(d,Mt,Ot,Ft,Ut={}){if(isBaseHTTPClient(Mt))this.c=new HTTPClient(Mt);else{let Xt;typeof Mt=="string"?Xt=convertTokenStringToTokenHeader(d,Mt):Xt=Mt,this.c=new HTTPClient(Xt,Ot,Ft,Ut)}}}function utf8Count(_e){for(var d=_e.length,Mt=0,Ot=0;Ot<d;){var Ft=_e.charCodeAt(Ot++);if(Ft&4294967168)if(!(Ft&4294965248))Mt+=2;else{if(Ft>=55296&&Ft<=56319&&Ot<d){var Ut=_e.charCodeAt(Ot);(Ut&64512)===56320&&(++Ot,Ft=((Ft&1023)<<10)+(Ut&1023)+65536)}Ft&4294901760?Mt+=4:Mt+=3}else{Mt++;continue}}return Mt}function utf8EncodeJs(_e,d,Mt){for(var Ot=_e.length,Ft=Mt,Ut=0;Ut<Ot;){var Xt=_e.charCodeAt(Ut++);if(Xt&4294967168)if(!(Xt&4294965248))d[Ft++]=Xt>>6&31|192;else{if(Xt>=55296&&Xt<=56319&&Ut<Ot){var jr=_e.charCodeAt(Ut);(jr&64512)===56320&&(++Ut,Xt=((Xt&1023)<<10)+(jr&1023)+65536)}Xt&4294901760?(d[Ft++]=Xt>>18&7|240,d[Ft++]=Xt>>12&63|128,d[Ft++]=Xt>>6&63|128):(d[Ft++]=Xt>>12&15|224,d[Ft++]=Xt>>6&63|128)}else{d[Ft++]=Xt;continue}d[Ft++]=Xt&63|128}}var sharedTextEncoder=new TextEncoder,TEXT_ENCODER_THRESHOLD=50;function utf8EncodeTE(_e,d,Mt){sharedTextEncoder.encodeInto(_e,d.subarray(Mt))}function utf8Encode(_e,d,Mt){_e.length>TEXT_ENCODER_THRESHOLD?utf8EncodeTE(_e,d,Mt):utf8EncodeJs(_e,d,Mt)}var CHUNK_SIZE=4096;function utf8DecodeJs(_e,d,Mt){for(var Ot=d,Ft=Ot+Mt,Ut=[],Xt="";Ot<Ft;){var jr=_e[Ot++];if(!(jr&128))Ut.push(jr);else if((jr&224)===192){var hn=_e[Ot++]&63;Ut.push((jr&31)<<6|hn)}else if((jr&240)===224){var hn=_e[Ot++]&63,Vr=_e[Ot++]&63;Ut.push((jr&31)<<12|hn<<6|Vr)}else if((jr&248)===240){var hn=_e[Ot++]&63,Vr=_e[Ot++]&63,fn=_e[Ot++]&63,dn=(jr&7)<<18|hn<<12|Vr<<6|fn;dn>65535&&(dn-=65536,Ut.push(dn>>>10&1023|55296),dn=56320|dn&1023),Ut.push(dn)}else Ut.push(jr);Ut.length>=CHUNK_SIZE&&(Xt+=String.fromCharCode.apply(String,Ut),Ut.length=0)}return Ut.length>0&&(Xt+=String.fromCharCode.apply(String,Ut)),Xt}var sharedTextDecoder=new TextDecoder,TEXT_DECODER_THRESHOLD=200;function utf8DecodeTD(_e,d,Mt){var Ot=_e.subarray(d,d+Mt);return sharedTextDecoder.decode(Ot)}function utf8Decode(_e,d,Mt){return Mt>TEXT_DECODER_THRESHOLD?utf8DecodeTD(_e,d,Mt):utf8DecodeJs(_e,d,Mt)}var ExtData=function(){function _e(d,Mt){this.type=d,this.data=Mt}return _e}(),__extends=function(){var _e=function(d,Mt){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,Ft){Ot.__proto__=Ft}||function(Ot,Ft){for(var Ut in Ft)Object.prototype.hasOwnProperty.call(Ft,Ut)&&(Ot[Ut]=Ft[Ut])},_e(d,Mt)};return function(d,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Class extends value "+String(Mt)+" is not a constructor or null");_e(d,Mt);function Ot(){this.constructor=d}d.prototype=Mt===null?Object.create(Mt):(Ot.prototype=Mt.prototype,new Ot)}}(),DecodeError=function(_e){__extends(d,_e);function d(Mt){var Ot=_e.call(this,Mt)||this,Ft=Object.create(d.prototype);return Object.setPrototypeOf(Ot,Ft),Object.defineProperty(Ot,"name",{configurable:!0,enumerable:!1,value:d.name}),Ot}return d}(Error),IntMode;(function(_e){_e[_e.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",_e[_e.SAFE_NUMBER=1]="SAFE_NUMBER",_e[_e.AS_ENCODED=2]="AS_ENCODED",_e[_e.MIXED=3]="MIXED",_e[_e.BIGINT=4]="BIGINT"})(IntMode||(IntMode={}));var UINT32_MAX=4294967295;function setUint64(_e,d,Mt){var Ot=Mt/4294967296,Ft=Mt;_e.setUint32(d,Ot),_e.setUint32(d+4,Ft)}function setInt64(_e,d,Mt){var Ot=Math.floor(Mt/4294967296),Ft=Mt;_e.setUint32(d,Ot),_e.setUint32(d+4,Ft)}function getInt64(_e,d,Mt){if(Mt===IntMode.UNSAFE_NUMBER||Mt===IntMode.SAFE_NUMBER){var Ot=_e.getInt32(d),Ft=_e.getUint32(d+4);if(Mt===IntMode.SAFE_NUMBER&&(Ot<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||Ot===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&Ft===0||Ot>(Number.MAX_SAFE_INTEGER-Ft)/4294967296)){var Ut="".concat(Ot<0?"-":"","0x").concat(Math.abs(Ot).toString(16)).concat(Ft.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(Ut))}return Ot*4294967296+Ft}var Xt=_e.getBigInt64(d);return Mt===IntMode.MIXED&&Xt>=Number.MIN_SAFE_INTEGER&&Xt<=Number.MAX_SAFE_INTEGER?Number(Xt):Xt}function getUint64(_e,d,Mt){if(Mt===IntMode.UNSAFE_NUMBER||Mt===IntMode.SAFE_NUMBER){var Ot=_e.getUint32(d),Ft=_e.getUint32(d+4);if(Mt===IntMode.SAFE_NUMBER&&Ot>(Number.MAX_SAFE_INTEGER-Ft)/4294967296){var Ut="0x".concat(Ot.toString(16)).concat(Ft.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(Ut))}return Ot*4294967296+Ft}var Xt=_e.getBigUint64(d);return Mt===IntMode.MIXED&&Xt<=Number.MAX_SAFE_INTEGER?Number(Xt):Xt}function convertSafeIntegerToMode(_e,d){return d===IntMode.BIGINT?BigInt(_e):Number(_e)}var EXT_TIMESTAMP=-1,TIMESTAMP32_MAX_SEC=4294967296-1,TIMESTAMP64_MAX_SEC=17179869184-1;function encodeTimeSpecToTimestamp(_e){var d=_e.sec,Mt=_e.nsec;if(d>=0&&Mt>=0&&d<=TIMESTAMP64_MAX_SEC)if(Mt===0&&d<=TIMESTAMP32_MAX_SEC){var Ot=new Uint8Array(4),Ft=new DataView(Ot.buffer);return Ft.setUint32(0,d),Ot}else{var Ut=d/4294967296,Xt=d&4294967295,Ot=new Uint8Array(8),Ft=new DataView(Ot.buffer);return Ft.setUint32(0,Mt<<2|Ut&3),Ft.setUint32(4,Xt),Ot}else{var Ot=new Uint8Array(12),Ft=new DataView(Ot.buffer);return Ft.setUint32(0,Mt),setInt64(Ft,4,d),Ot}}function encodeDateToTimeSpec(_e){var d=_e.getTime(),Mt=Math.floor(d/1e3),Ot=(d-Mt*1e3)*1e6,Ft=Math.floor(Ot/1e9);return{sec:Mt+Ft,nsec:Ot-Ft*1e9}}function encodeTimestampExtension(_e){if(_e instanceof Date){var d=encodeDateToTimeSpec(_e);return encodeTimeSpecToTimestamp(d)}else return null}function decodeTimestampToTimeSpec(_e){var d=new DataView(_e.buffer,_e.byteOffset,_e.byteLength);switch(_e.byteLength){case 4:{var Mt=d.getUint32(0),Ot=0;return{sec:Mt,nsec:Ot}}case 8:{var Ft=d.getUint32(0),Ut=d.getUint32(4),Mt=(Ft&3)*4294967296+Ut,Ot=Ft>>>2;return{sec:Mt,nsec:Ot}}case 12:{var Mt=getInt64(d,4,IntMode.UNSAFE_NUMBER),Ot=d.getUint32(0);return{sec:Mt,nsec:Ot}}default:throw new DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(_e.length))}}function decodeTimestampExtension(_e){var d=decodeTimestampToTimeSpec(_e);return new Date(d.sec*1e3+d.nsec/1e6)}var timestampExtension={type:EXT_TIMESTAMP,encode:encodeTimestampExtension,decode:decodeTimestampExtension},ExtensionCodec=function(){function _e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(timestampExtension)}return _e.prototype.register=function(d){var Mt=d.type,Ot=d.encode,Ft=d.decode;if(Mt>=0)this.encoders[Mt]=Ot,this.decoders[Mt]=Ft;else{var Ut=1+Mt;this.builtInEncoders[Ut]=Ot,this.builtInDecoders[Ut]=Ft}},_e.prototype.tryToEncode=function(d,Mt){for(var Ot=0;Ot<this.builtInEncoders.length;Ot++){var Ft=this.builtInEncoders[Ot];if(Ft!=null){var Ut=Ft(d,Mt);if(Ut!=null){var Xt=-1-Ot;return new ExtData(Xt,Ut)}}}for(var Ot=0;Ot<this.encoders.length;Ot++){var Ft=this.encoders[Ot];if(Ft!=null){var Ut=Ft(d,Mt);if(Ut!=null){var Xt=Ot;return new ExtData(Xt,Ut)}}}return d instanceof ExtData?d:null},_e.prototype.decode=function(d,Mt,Ot){var Ft=Mt<0?this.builtInDecoders[-1-Mt]:this.decoders[Mt];return Ft?Ft(d,Mt,Ot):new ExtData(Mt,d)},_e.defaultCodec=new _e,_e}();function ensureUint8Array$1(_e){return _e instanceof Uint8Array?_e:ArrayBuffer.isView(_e)?new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength):_e instanceof ArrayBuffer?new Uint8Array(_e):Uint8Array.from(_e)}function createDataView(_e){if(_e instanceof ArrayBuffer)return new DataView(_e);var d=ensureUint8Array$1(_e);return new DataView(d.buffer,d.byteOffset,d.byteLength)}function compareUint8Arrays(_e,d){for(var Mt=Math.min(_e.length,d.length),Ot=0;Ot<Mt;Ot++){var Ft=_e[Ot]-d[Ot];if(Ft!==0)return Ft}return _e.length-d.length}var RawBinaryString=function(){function _e(d){if(this.rawBinaryValue=d,!ArrayBuffer.isView(d))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return _e}(),DEFAULT_MAX_DEPTH=100,DEFAULT_INITIAL_BUFFER_SIZE=2048,Encoder=function(){function _e(d){var Mt,Ot,Ft,Ut,Xt,jr,hn,Vr;this.extensionCodec=(Mt=d==null?void 0:d.extensionCodec)!==null&&Mt!==void 0?Mt:ExtensionCodec.defaultCodec,this.context=d==null?void 0:d.context,this.forceBigIntToInt64=(Ot=d==null?void 0:d.forceBigIntToInt64)!==null&&Ot!==void 0?Ot:!1,this.maxDepth=(Ft=d==null?void 0:d.maxDepth)!==null&&Ft!==void 0?Ft:DEFAULT_MAX_DEPTH,this.initialBufferSize=(Ut=d==null?void 0:d.initialBufferSize)!==null&&Ut!==void 0?Ut:DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=(Xt=d==null?void 0:d.sortKeys)!==null&&Xt!==void 0?Xt:!1,this.forceFloat32=(jr=d==null?void 0:d.forceFloat32)!==null&&jr!==void 0?jr:!1,this.ignoreUndefined=(hn=d==null?void 0:d.ignoreUndefined)!==null&&hn!==void 0?hn:!1,this.forceIntegerToFloat=(Vr=d==null?void 0:d.forceIntegerToFloat)!==null&&Vr!==void 0?Vr:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return _e.prototype.reinitializeState=function(){this.pos=0},_e.prototype.encodeSharedRef=function(d){return this.reinitializeState(),this.doEncode(d,1),this.bytes.subarray(0,this.pos)},_e.prototype.encode=function(d){return this.reinitializeState(),this.doEncode(d,1),this.bytes.slice(0,this.pos)},_e.prototype.doEncode=function(d,Mt){if(Mt>this.maxDepth)throw new Error("Too deep objects in depth ".concat(Mt));d==null?this.encodeNil():typeof d=="boolean"?this.encodeBoolean(d):typeof d=="number"?this.encodeNumber(d):typeof d=="string"?this.encodeString(d):this.encodeObject(d,Mt)},_e.prototype.ensureBufferSizeToWrite=function(d){var Mt=this.pos+d;this.view.byteLength<Mt&&this.resizeBuffer(Mt*2)},_e.prototype.resizeBuffer=function(d){var Mt=new ArrayBuffer(d),Ot=new Uint8Array(Mt),Ft=new DataView(Mt);Ot.set(this.bytes),this.view=Ft,this.bytes=Ot},_e.prototype.encodeNil=function(){this.writeU8(192)},_e.prototype.encodeBoolean=function(d){d===!1?this.writeU8(194):this.writeU8(195)},_e.prototype.encodeNumber=function(d){!this.forceIntegerToFloat&&Number.isSafeInteger(d)?d>=0?d<128?this.writeU8(d):d<256?(this.writeU8(204),this.writeU8(d)):d<65536?(this.writeU8(205),this.writeU16(d)):d<4294967296?(this.writeU8(206),this.writeU32(d)):(this.writeU8(207),this.writeU64(d)):d>=-32?this.writeU8(224|d+32):d>=-128?(this.writeU8(208),this.writeI8(d)):d>=-32768?(this.writeU8(209),this.writeI16(d)):d>=-2147483648?(this.writeU8(210),this.writeI32(d)):(this.writeU8(211),this.writeI64(d)):this.encodeNumberAsFloat(d)},_e.prototype.encodeNumberAsFloat=function(d){this.forceFloat32?(this.writeU8(202),this.writeF32(d)):(this.writeU8(203),this.writeF64(d))},_e.prototype.encodeBigInt=function(d){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(d);else if(d>=0)if(d<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(d));else if(d<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(d);else throw new Error("Bigint is too large for uint64: ".concat(d));else if(d>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(d));else if(d>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(d);else throw new Error("Bigint is too small for int64: ".concat(d))},_e.prototype.encodeBigIntAsInt64=function(d){d>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(d)):(this.writeU8(211),this.writeBigInt64(d))},_e.prototype.writeStringHeader=function(d){if(d<32)this.writeU8(160+d);else if(d<256)this.writeU8(217),this.writeU8(d);else if(d<65536)this.writeU8(218),this.writeU16(d);else if(d<4294967296)this.writeU8(219),this.writeU32(d);else throw new Error("Too long string: ".concat(d," bytes in UTF-8"))},_e.prototype.encodeString=function(d){var Mt=5,Ot=utf8Count(d);this.ensureBufferSizeToWrite(Mt+Ot),this.writeStringHeader(Ot),utf8Encode(d,this.bytes,this.pos),this.pos+=Ot},_e.prototype.encodeObject=function(d,Mt){var Ot=this.extensionCodec.tryToEncode(d,this.context);if(Ot!=null)this.encodeExtension(Ot);else if(Array.isArray(d))this.encodeArray(d,Mt);else if(ArrayBuffer.isView(d))this.encodeBinary(d);else if(d instanceof RawBinaryString)this.encodeBinaryAsString(d);else if(typeof d=="bigint")this.encodeBigInt(d);else if(d instanceof Map)this.encodeMap(d,Mt);else if(typeof d=="object")this.encodeMapObject(d,Mt);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(d)))},_e.prototype.encodeBinary=function(d){var Mt=d.byteLength;if(Mt<256)this.writeU8(196),this.writeU8(Mt);else if(Mt<65536)this.writeU8(197),this.writeU16(Mt);else if(Mt<4294967296)this.writeU8(198),this.writeU32(Mt);else throw new Error("Too large binary: ".concat(Mt));var Ot=ensureUint8Array$1(d);this.writeU8a(Ot)},_e.prototype.encodeBinaryAsString=function(d){var Mt=d.rawBinaryValue;this.writeStringHeader(Mt.byteLength);var Ot=ensureUint8Array$1(Mt);this.writeU8a(Ot)},_e.prototype.encodeArray=function(d,Mt){var Ot=d.length;if(Ot<16)this.writeU8(144+Ot);else if(Ot<65536)this.writeU8(220),this.writeU16(Ot);else if(Ot<4294967296)this.writeU8(221),this.writeU32(Ot);else throw new Error("Too large array: ".concat(Ot));for(var Ft=0,Ut=d;Ft<Ut.length;Ft++){var Xt=Ut[Ft];this.doEncode(Xt,Mt+1)}},_e.prototype.countWithoutUndefined=function(d,Mt){for(var Ot=0,Ft=0,Ut=Mt;Ft<Ut.length;Ft++){var Xt=Ut[Ft];d.get(Xt)!==void 0&&Ot++}return Ot},_e.prototype.sortMapKeys=function(d){for(var Mt=[],Ot=[],Ft=[],Ut=[],Xt=0,jr=d;Xt<jr.length;Xt++){var hn=jr[Xt];if(typeof hn=="number"){if(isNaN(hn))throw new Error("Cannot sort map keys with NaN value");Mt.push(hn)}else if(typeof hn=="bigint")Mt.push(hn);else if(typeof hn=="string")Ot.push(hn);else if(ArrayBuffer.isView(hn))Ut.push(ensureUint8Array$1(hn));else if(hn instanceof RawBinaryString)Ft.push(hn);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(hn)))}return Mt.sort(function(Vr,fn){return Vr<fn?-1:Vr>fn?1:0}),Ot.sort(),Ft.sort(function(Vr,fn){return compareUint8Arrays(ensureUint8Array$1(Vr.rawBinaryValue),ensureUint8Array$1(fn.rawBinaryValue))}),Ut.sort(compareUint8Arrays),[].concat(Mt,Ot,Ft,Ut)},_e.prototype.encodeMapObject=function(d,Mt){this.encodeMap(new Map(Object.entries(d)),Mt)},_e.prototype.encodeMap=function(d,Mt){var Ot=Array.from(d.keys());this.sortKeys&&(Ot=this.sortMapKeys(Ot));var Ft=this.ignoreUndefined?this.countWithoutUndefined(d,Ot):Ot.length;if(Ft<16)this.writeU8(128+Ft);else if(Ft<65536)this.writeU8(222),this.writeU16(Ft);else if(Ft<4294967296)this.writeU8(223),this.writeU32(Ft);else throw new Error("Too large map object: ".concat(Ft));for(var Ut=0,Xt=Ot;Ut<Xt.length;Ut++){var jr=Xt[Ut],hn=d.get(jr);if(!(this.ignoreUndefined&&hn===void 0)){if(typeof jr=="string")this.encodeString(jr);else if(typeof jr=="number")this.encodeNumber(jr);else if(typeof jr=="bigint")this.encodeBigInt(jr);else if(ArrayBuffer.isView(jr))this.encodeBinary(jr);else if(jr instanceof RawBinaryString)this.encodeBinaryAsString(jr);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(jr)));this.doEncode(hn,Mt+1)}}},_e.prototype.encodeExtension=function(d){var Mt=d.data.length;if(Mt===1)this.writeU8(212);else if(Mt===2)this.writeU8(213);else if(Mt===4)this.writeU8(214);else if(Mt===8)this.writeU8(215);else if(Mt===16)this.writeU8(216);else if(Mt<256)this.writeU8(199),this.writeU8(Mt);else if(Mt<65536)this.writeU8(200),this.writeU16(Mt);else if(Mt<4294967296)this.writeU8(201),this.writeU32(Mt);else throw new Error("Too large extension object: ".concat(Mt));this.writeI8(d.type),this.writeU8a(d.data)},_e.prototype.writeU8=function(d){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,d),this.pos++},_e.prototype.writeU8a=function(d){var Mt=d.length;this.ensureBufferSizeToWrite(Mt),this.bytes.set(d,this.pos),this.pos+=Mt},_e.prototype.writeI8=function(d){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,d),this.pos++},_e.prototype.writeU16=function(d){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,d),this.pos+=2},_e.prototype.writeI16=function(d){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,d),this.pos+=2},_e.prototype.writeU32=function(d){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,d),this.pos+=4},_e.prototype.writeI32=function(d){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,d),this.pos+=4},_e.prototype.writeF32=function(d){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,d),this.pos+=4},_e.prototype.writeF64=function(d){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,d),this.pos+=8},_e.prototype.writeU64=function(d){this.ensureBufferSizeToWrite(8),setUint64(this.view,this.pos,d),this.pos+=8},_e.prototype.writeI64=function(d){this.ensureBufferSizeToWrite(8),setInt64(this.view,this.pos,d),this.pos+=8},_e.prototype.writeBigUint64=function(d){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,d),this.pos+=8},_e.prototype.writeBigInt64=function(d){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,d),this.pos+=8},_e}();function encode(_e,d){var Mt=new Encoder(d);return Mt.encodeSharedRef(_e)}function prettyByte(_e){return"".concat(_e<0?"-":"","0x").concat(Math.abs(_e).toString(16).padStart(2,"0"))}var DEFAULT_MAX_KEY_LENGTH=16,DEFAULT_MAX_LENGTH_PER_KEY=16,CachedKeyDecoder=function(){function _e(d,Mt){d===void 0&&(d=DEFAULT_MAX_KEY_LENGTH),Mt===void 0&&(Mt=DEFAULT_MAX_LENGTH_PER_KEY),this.maxKeyLength=d,this.maxLengthPerKey=Mt,this.hit=0,this.miss=0,this.caches=[];for(var Ot=0;Ot<this.maxKeyLength;Ot++)this.caches.push([])}return _e.prototype.canBeCached=function(d){return d>0&&d<=this.maxKeyLength},_e.prototype.find=function(d,Mt,Ot){var Ft=this.caches[Ot-1];e:for(var Ut=0,Xt=Ft;Ut<Xt.length;Ut++){for(var jr=Xt[Ut],hn=jr.bytes,Vr=0;Vr<Ot;Vr++)if(hn[Vr]!==d[Mt+Vr])continue e;return jr.str}return null},_e.prototype.store=function(d,Mt){var Ot=this.caches[d.length-1],Ft={bytes:d,str:Mt};Ot.length>=this.maxLengthPerKey?Ot[Math.random()*Ot.length|0]=Ft:Ot.push(Ft)},_e.prototype.decode=function(d,Mt,Ot){var Ft=this.find(d,Mt,Ot);if(Ft!=null)return this.hit++,Ft;this.miss++;var Ut=utf8DecodeJs(d,Mt,Ot),Xt=Uint8Array.prototype.slice.call(d,Mt,Mt+Ot);return this.store(Xt,Ut),Ut},_e}(),__awaiter=function(_e,d,Mt,Ot){function Ft(Ut){return Ut instanceof Mt?Ut:new Mt(function(Xt){Xt(Ut)})}return new(Mt||(Mt=Promise))(function(Ut,Xt){function jr(fn){try{Vr(Ot.next(fn))}catch(dn){Xt(dn)}}function hn(fn){try{Vr(Ot.throw(fn))}catch(dn){Xt(dn)}}function Vr(fn){fn.done?Ut(fn.value):Ft(fn.value).then(jr,hn)}Vr((Ot=Ot.apply(_e,d||[])).next())})},__generator=function(_e,d){var Mt={label:0,sent:function(){if(Ut[0]&1)throw Ut[1];return Ut[1]},trys:[],ops:[]},Ot,Ft,Ut,Xt;return Xt={next:jr(0),throw:jr(1),return:jr(2)},typeof Symbol=="function"&&(Xt[Symbol.iterator]=function(){return this}),Xt;function jr(Vr){return function(fn){return hn([Vr,fn])}}function hn(Vr){if(Ot)throw new TypeError("Generator is already executing.");for(;Xt&&(Xt=0,Vr[0]&&(Mt=0)),Mt;)try{if(Ot=1,Ft&&(Ut=Vr[0]&2?Ft.return:Vr[0]?Ft.throw||((Ut=Ft.return)&&Ut.call(Ft),0):Ft.next)&&!(Ut=Ut.call(Ft,Vr[1])).done)return Ut;switch(Ft=0,Ut&&(Vr=[Vr[0]&2,Ut.value]),Vr[0]){case 0:case 1:Ut=Vr;break;case 4:return Mt.label++,{value:Vr[1],done:!1};case 5:Mt.label++,Ft=Vr[1],Vr=[0];continue;case 7:Vr=Mt.ops.pop(),Mt.trys.pop();continue;default:if(Ut=Mt.trys,!(Ut=Ut.length>0&&Ut[Ut.length-1])&&(Vr[0]===6||Vr[0]===2)){Mt=0;continue}if(Vr[0]===3&&(!Ut||Vr[1]>Ut[0]&&Vr[1]<Ut[3])){Mt.label=Vr[1];break}if(Vr[0]===6&&Mt.label<Ut[1]){Mt.label=Ut[1],Ut=Vr;break}if(Ut&&Mt.label<Ut[2]){Mt.label=Ut[2],Mt.ops.push(Vr);break}Ut[2]&&Mt.ops.pop(),Mt.trys.pop();continue}Vr=d.call(_e,Mt)}catch(fn){Vr=[6,fn],Ft=0}finally{Ot=Ut=0}if(Vr[0]&5)throw Vr[1];return{value:Vr[0]?Vr[1]:void 0,done:!0}}},__asyncValues=function(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=_e[Symbol.asyncIterator],Mt;return d?d.call(_e):(_e=typeof __values=="function"?__values(_e):_e[Symbol.iterator](),Mt={},Ot("next"),Ot("throw"),Ot("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt);function Ot(Ut){Mt[Ut]=_e[Ut]&&function(Xt){return new Promise(function(jr,hn){Xt=_e[Ut](Xt),Ft(jr,hn,Xt.done,Xt.value)})}}function Ft(Ut,Xt,jr,hn){Promise.resolve(hn).then(function(Vr){Ut({value:Vr,done:jr})},Xt)}},__await=function(_e){return this instanceof __await?(this.v=_e,this):new __await(_e)},__asyncGenerator=function(_e,d,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=Mt.apply(_e,d||[]),Ft,Ut=[];return Ft={},Xt("next"),Xt("throw"),Xt("return"),Ft[Symbol.asyncIterator]=function(){return this},Ft;function Xt(pn){Ot[pn]&&(Ft[pn]=function(En){return new Promise(function(_n,Dn){Ut.push([pn,En,_n,Dn])>1||jr(pn,En)})})}function jr(pn,En){try{hn(Ot[pn](En))}catch(_n){dn(Ut[0][3],_n)}}function hn(pn){pn.value instanceof __await?Promise.resolve(pn.value.v).then(Vr,fn):dn(Ut[0][2],pn)}function Vr(pn){jr("next",pn)}function fn(pn){jr("throw",pn)}function dn(pn,En){pn(En),Ut.shift(),Ut.length&&jr(Ut[0][0],Ut[0][1])}},STATE_ARRAY="array",STATE_MAP_KEY="map_key",STATE_MAP_VALUE="map_value";function isValidMapKeyType(_e,d,Mt){return d?typeof _e=="string"||typeof _e=="number"||typeof _e=="bigint"||_e instanceof Uint8Array||_e instanceof RawBinaryString:typeof _e=="string"||Mt&&typeof _e=="number"}var StackPool=function(){function _e(d){this.useMap=d,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(_e.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),_e.prototype.top=function(){return this.stack[this.stackHeadPosition]},_e.prototype.pushArrayState=function(d){var Mt=this.getUninitializedStateFromPool();Mt.type=STATE_ARRAY,Mt.position=0,Mt.size=d,Mt.array=new Array(d)},_e.prototype.pushMapState=function(d){var Mt=this.getUninitializedStateFromPool();Mt.type=STATE_MAP_KEY,Mt.readCount=0,Mt.size=d,Mt.map=this.useMap?new Map:{}},_e.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var d={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(d)}return this.stack[this.stackHeadPosition]},_e.prototype.release=function(d){var Mt=this.stack[this.stackHeadPosition];if(Mt!==d)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(d.type===STATE_ARRAY){var Ot=d;Ot.size=0,Ot.array=void 0,Ot.position=0,Ot.type=void 0}if(d.type===STATE_MAP_KEY||d.type===STATE_MAP_VALUE){var Ot=d;Ot.size=0,Ot.map=void 0,Ot.readCount=0,Ot.type=void 0}this.stackHeadPosition--},_e.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},_e}(),HEAD_BYTE_REQUIRED=-1,EMPTY_VIEW=new DataView(new ArrayBuffer(0)),EMPTY_BYTES=new Uint8Array(EMPTY_VIEW.buffer);try{EMPTY_VIEW.getInt8(0)}catch(_e){if(!(_e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var DataViewIndexOutOfBoundsError=RangeError,MORE_DATA=new DataViewIndexOutOfBoundsError("Insufficient data"),sharedCachedKeyDecoder=new CachedKeyDecoder,Decoder=function(){function _e(d){var Mt,Ot,Ft,Ut,Xt,jr,hn,Vr,fn,dn,pn,En;if(this.totalPos=0,this.pos=0,this.view=EMPTY_VIEW,this.bytes=EMPTY_BYTES,this.headByte=HEAD_BYTE_REQUIRED,this.extensionCodec=(Mt=d==null?void 0:d.extensionCodec)!==null&&Mt!==void 0?Mt:ExtensionCodec.defaultCodec,this.context=d==null?void 0:d.context,this.intMode=(Ot=d==null?void 0:d.intMode)!==null&&Ot!==void 0?Ot:d!=null&&d.useBigInt64?IntMode.AS_ENCODED:IntMode.UNSAFE_NUMBER,this.rawBinaryStringValues=(Ft=d==null?void 0:d.rawBinaryStringValues)!==null&&Ft!==void 0?Ft:!1,this.rawBinaryStringKeys=(Ut=d==null?void 0:d.rawBinaryStringKeys)!==null&&Ut!==void 0?Ut:!1,this.useRawBinaryStringClass=(Xt=d==null?void 0:d.useRawBinaryStringClass)!==null&&Xt!==void 0?Xt:!1,this.useMap=(jr=d==null?void 0:d.useMap)!==null&&jr!==void 0?jr:!1,this.supportObjectNumberKeys=(hn=d==null?void 0:d.supportObjectNumberKeys)!==null&&hn!==void 0?hn:!1,this.maxStrLength=(Vr=d==null?void 0:d.maxStrLength)!==null&&Vr!==void 0?Vr:UINT32_MAX,this.maxBinLength=(fn=d==null?void 0:d.maxBinLength)!==null&&fn!==void 0?fn:UINT32_MAX,this.maxArrayLength=(dn=d==null?void 0:d.maxArrayLength)!==null&&dn!==void 0?dn:UINT32_MAX,this.maxMapLength=(pn=d==null?void 0:d.maxMapLength)!==null&&pn!==void 0?pn:UINT32_MAX,this.maxExtLength=(En=d==null?void 0:d.maxExtLength)!==null&&En!==void 0?En:UINT32_MAX,this.keyDecoder=(d==null?void 0:d.keyDecoder)!==void 0?d.keyDecoder:sharedCachedKeyDecoder,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new StackPool(this.useMap)}return _e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=HEAD_BYTE_REQUIRED,this.stack.reset()},_e.prototype.setBuffer=function(d){this.bytes=ensureUint8Array$1(d),this.view=createDataView(this.bytes),this.pos=0},_e.prototype.appendBuffer=function(d){if(this.headByte===HEAD_BYTE_REQUIRED&&!this.hasRemaining(1))this.setBuffer(d);else{var Mt=this.bytes.subarray(this.pos),Ot=ensureUint8Array$1(d),Ft=new Uint8Array(Mt.length+Ot.length);Ft.set(Mt),Ft.set(Ot,Mt.length),this.setBuffer(Ft)}},_e.prototype.hasRemaining=function(d){return this.view.byteLength-this.pos>=d},_e.prototype.createExtraByteError=function(d){var Mt=this,Ot=Mt.view,Ft=Mt.pos;return new RangeError("Extra ".concat(Ot.byteLength-Ft," of ").concat(Ot.byteLength," byte(s) found at buffer[").concat(d,"]"))},_e.prototype.decode=function(d){this.reinitializeState(),this.setBuffer(d);var Mt=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return Mt},_e.prototype.decodeMulti=function(d){return __generator(this,function(Mt){switch(Mt.label){case 0:this.reinitializeState(),this.setBuffer(d),Mt.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return Mt.sent(),[3,1];case 3:return[2]}})},_e.prototype.decodeAsync=function(d){var Mt,Ot,Ft,Ut,Xt,jr,hn;return __awaiter(this,void 0,void 0,function(){var Vr,fn,dn,pn,En,_n,Dn,Vn;return __generator(this,function(Pn){switch(Pn.label){case 0:Vr=!1,Pn.label=1;case 1:Pn.trys.push([1,6,7,12]),Mt=!0,Ot=__asyncValues(d),Pn.label=2;case 2:return[4,Ot.next()];case 3:if(Ft=Pn.sent(),Ut=Ft.done,!!Ut)return[3,5];if(hn=Ft.value,Mt=!1,dn=hn,Vr)throw this.createExtraByteError(this.totalPos);this.appendBuffer(dn);try{fn=this.doDecodeSync(),Vr=!0}catch(qn){if(!(qn instanceof DataViewIndexOutOfBoundsError))throw qn}this.totalPos+=this.pos,Pn.label=4;case 4:return Mt=!0,[3,2];case 5:return[3,12];case 6:return pn=Pn.sent(),Xt={error:pn},[3,12];case 7:return Pn.trys.push([7,,10,11]),!Mt&&!Ut&&(jr=Ot.return)?[4,jr.call(Ot)]:[3,9];case 8:Pn.sent(),Pn.label=9;case 9:return[3,11];case 10:if(Xt)throw Xt.error;return[7];case 11:return[7];case 12:if(Vr){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,fn]}throw En=this,_n=En.headByte,Dn=En.pos,Vn=En.totalPos,new RangeError("Insufficient data in parsing ".concat(prettyByte(_n)," at ").concat(Vn," (").concat(Dn," in the current buffer)"))}})})},_e.prototype.decodeArrayStream=function(d){return this.decodeMultiAsync(d,!0)},_e.prototype.decodeStream=function(d){return this.decodeMultiAsync(d,!1)},_e.prototype.decodeMultiAsync=function(d,Mt){return __asyncGenerator(this,arguments,function(){var Ft,Ut,Xt,jr,hn,Vr,fn,dn,pn,En,_n,Dn;return __generator(this,function(Vn){switch(Vn.label){case 0:Ft=Mt,Ut=-1,Vn.label=1;case 1:Vn.trys.push([1,13,14,19]),Xt=!0,jr=__asyncValues(d),Vn.label=2;case 2:return[4,__await(jr.next())];case 3:if(hn=Vn.sent(),pn=hn.done,!!pn)return[3,12];if(Dn=hn.value,Xt=!1,Vr=Dn,Mt&&Ut===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(Vr),Ft&&(Ut=this.readArraySize(),Ft=!1,this.complete()),Vn.label=4;case 4:Vn.trys.push([4,9,,10]),Vn.label=5;case 5:return[4,__await(this.doDecodeSync())];case 6:return[4,Vn.sent()];case 7:return Vn.sent(),--Ut===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(fn=Vn.sent(),!(fn instanceof DataViewIndexOutOfBoundsError))throw fn;return[3,10];case 10:this.totalPos+=this.pos,Vn.label=11;case 11:return Xt=!0,[3,2];case 12:return[3,19];case 13:return dn=Vn.sent(),En={error:dn},[3,19];case 14:return Vn.trys.push([14,,17,18]),!Xt&&!pn&&(_n=jr.return)?[4,__await(_n.call(jr))]:[3,16];case 15:Vn.sent(),Vn.label=16;case 16:return[3,18];case 17:if(En)throw En.error;return[7];case 18:return[7];case 19:return[2]}})})},_e.prototype.doDecodeSync=function(){e:for(;;){var d=this.readHeadByte(),Mt=void 0;if(d>=224)Mt=this.convertNumber(d-256);else if(d<192)if(d<128)Mt=this.convertNumber(d);else if(d<144){var Ot=d-128;if(Ot!==0){this.pushMapState(Ot),this.complete();continue e}else Mt=this.useMap?new Map:{}}else if(d<160){var Ot=d-144;if(Ot!==0){this.pushArrayState(Ot),this.complete();continue e}else Mt=[]}else{var Ft=d-160;Mt=this.decodeString(Ft,0)}else if(d===192)Mt=null;else if(d===194)Mt=!1;else if(d===195)Mt=!0;else if(d===202)Mt=this.readF32();else if(d===203)Mt=this.readF64();else if(d===204)Mt=this.convertNumber(this.readU8());else if(d===205)Mt=this.convertNumber(this.readU16());else if(d===206)Mt=this.convertNumber(this.readU32());else if(d===207)Mt=this.readU64();else if(d===208)Mt=this.convertNumber(this.readI8());else if(d===209)Mt=this.convertNumber(this.readI16());else if(d===210)Mt=this.convertNumber(this.readI32());else if(d===211)Mt=this.readI64();else if(d===217){var Ft=this.lookU8();Mt=this.decodeString(Ft,1)}else if(d===218){var Ft=this.lookU16();Mt=this.decodeString(Ft,2)}else if(d===219){var Ft=this.lookU32();Mt=this.decodeString(Ft,4)}else if(d===220){var Ot=this.readU16();if(Ot!==0){this.pushArrayState(Ot),this.complete();continue e}else Mt=[]}else if(d===221){var Ot=this.readU32();if(Ot!==0){this.pushArrayState(Ot),this.complete();continue e}else Mt=[]}else if(d===222){var Ot=this.readU16();if(Ot!==0){this.pushMapState(Ot),this.complete();continue e}else Mt={}}else if(d===223){var Ot=this.readU32();if(Ot!==0){this.pushMapState(Ot),this.complete();continue e}else Mt={}}else if(d===196){var Ot=this.lookU8();Mt=this.decodeBinary(Ot,1)}else if(d===197){var Ot=this.lookU16();Mt=this.decodeBinary(Ot,2)}else if(d===198){var Ot=this.lookU32();Mt=this.decodeBinary(Ot,4)}else if(d===212)Mt=this.decodeExtension(1,0);else if(d===213)Mt=this.decodeExtension(2,0);else if(d===214)Mt=this.decodeExtension(4,0);else if(d===215)Mt=this.decodeExtension(8,0);else if(d===216)Mt=this.decodeExtension(16,0);else if(d===199){var Ot=this.lookU8();Mt=this.decodeExtension(Ot,1)}else if(d===200){var Ot=this.lookU16();Mt=this.decodeExtension(Ot,2)}else if(d===201){var Ot=this.lookU32();Mt=this.decodeExtension(Ot,4)}else throw new DecodeError("Unrecognized type byte: ".concat(prettyByte(d)));this.complete();for(var Ut=this.stack;Ut.length>0;){var Xt=Ut.top();if(Xt.type===STATE_ARRAY)if(Xt.array[Xt.position]=Mt,Xt.position++,Xt.position===Xt.size)Mt=Xt.array,Ut.release(Xt);else continue e;else if(Xt.type===STATE_MAP_KEY){if(!isValidMapKeyType(Mt,this.useMap,this.supportObjectNumberKeys)){var jr=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new DecodeError("The type of key must be ".concat(jr," but got ").concat(typeof Mt))}if(!this.useMap&&Mt==="__proto__")throw new DecodeError("The key __proto__ is not allowed");Xt.key=Mt,Xt.type=STATE_MAP_VALUE;continue e}else if(this.useMap?Xt.map.set(Xt.key,Mt):Xt.map[Xt.key]=Mt,Xt.readCount++,Xt.readCount===Xt.size)Mt=Xt.map,Ut.release(Xt);else{Xt.key=null,Xt.type=STATE_MAP_KEY;continue e}}return Mt}},_e.prototype.readHeadByte=function(){return this.headByte===HEAD_BYTE_REQUIRED&&(this.headByte=this.readU8()),this.headByte},_e.prototype.complete=function(){this.headByte=HEAD_BYTE_REQUIRED},_e.prototype.readArraySize=function(){var d=this.readHeadByte();switch(d){case 220:return this.readU16();case 221:return this.readU32();default:{if(d<160)return d-144;throw new DecodeError("Unrecognized array type byte: ".concat(prettyByte(d)))}}},_e.prototype.pushMapState=function(d){if(d>this.maxMapLength)throw new DecodeError("Max length exceeded: map length (".concat(d,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(d)},_e.prototype.pushArrayState=function(d){if(d>this.maxArrayLength)throw new DecodeError("Max length exceeded: array length (".concat(d,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(d)},_e.prototype.decodeString=function(d,Mt){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var Ot=this.decodeBinary(d,Mt);return this.useRawBinaryStringClass?new RawBinaryString(Ot):Ot}return this.decodeUtf8String(d,Mt)},_e.prototype.decodeUtf8String=function(d,Mt){var Ot;if(d>this.maxStrLength)throw new DecodeError("Max length exceeded: UTF-8 byte length (".concat(d,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+Mt+d)throw MORE_DATA;var Ft=this.pos+Mt,Ut;return this.stateIsMapKey()&&(!((Ot=this.keyDecoder)===null||Ot===void 0)&&Ot.canBeCached(d))?Ut=this.keyDecoder.decode(this.bytes,Ft,d):Ut=utf8Decode(this.bytes,Ft,d),this.pos+=Mt+d,Ut},_e.prototype.stateIsMapKey=function(){if(this.stack.length>0){var d=this.stack.top();return d.type===STATE_MAP_KEY}return!1},_e.prototype.decodeBinary=function(d,Mt){if(d>this.maxBinLength)throw new DecodeError("Max length exceeded: bin length (".concat(d,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(d+Mt))throw MORE_DATA;var Ot=this.pos+Mt,Ft=this.bytes.subarray(Ot,Ot+d);return this.pos+=Mt+d,Ft},_e.prototype.decodeExtension=function(d,Mt){if(d>this.maxExtLength)throw new DecodeError("Max length exceeded: ext length (".concat(d,") > maxExtLength (").concat(this.maxExtLength,")"));var Ot=this.view.getInt8(this.pos+Mt),Ft=this.decodeBinary(d,Mt+1);return this.extensionCodec.decode(Ft,Ot,this.context)},_e.prototype.convertNumber=function(d){return convertSafeIntegerToMode(d,this.intMode)},_e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},_e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},_e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},_e.prototype.readU8=function(){var d=this.view.getUint8(this.pos);return this.pos++,d},_e.prototype.readI8=function(){var d=this.view.getInt8(this.pos);return this.pos++,d},_e.prototype.readU16=function(){var d=this.view.getUint16(this.pos);return this.pos+=2,d},_e.prototype.readI16=function(){var d=this.view.getInt16(this.pos);return this.pos+=2,d},_e.prototype.readU32=function(){var d=this.view.getUint32(this.pos);return this.pos+=4,d},_e.prototype.readI32=function(){var d=this.view.getInt32(this.pos);return this.pos+=4,d},_e.prototype.readU64=function(){var d=getUint64(this.view,this.pos,this.intMode);return this.pos+=8,d},_e.prototype.readI64=function(){var d=getInt64(this.view,this.pos,this.intMode);return this.pos+=8,d},_e.prototype.readF32=function(){var d=this.view.getFloat32(this.pos);return this.pos+=4,d},_e.prototype.readF64=function(){var d=this.view.getFloat64(this.pos);return this.pos+=8,d},_e}();function decode$1(_e,d){var Mt=new Decoder(d);return Mt.decode(_e)}const ERROR_CONTAINS_EMPTY_STRING="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function containsEmpty(_e){for(const d in _e)if(Object.prototype.hasOwnProperty.call(_e,d)&&(!_e[d]||_e[d].length===0))return{containsEmpty:!0,firstEmptyKey:d};return{containsEmpty:!1,firstEmptyKey:void 0}}function msgpackRawEncode(_e){return encode(_e,{sortKeys:!0})}function encodeObj(_e){const d=containsEmpty(_e);if(d.containsEmpty)throw new Error(ERROR_CONTAINS_EMPTY_STRING+d.firstEmptyKey);return msgpackRawEncode(_e)}function intDecodingToIntMode(_e){switch(_e){case IntDecoding$1.UNSAFE:return IntMode.UNSAFE_NUMBER;case IntDecoding$1.SAFE:return IntMode.SAFE_NUMBER;case IntDecoding$1.MIXED:return IntMode.MIXED;case IntDecoding$1.BIGINT:return IntMode.BIGINT;default:throw new Error(`Invalid intDecoding: ${_e}`)}}function msgpackRawDecode(_e,d){const Mt={intMode:d!=null&&d.intDecoding?intDecodingToIntMode(d==null?void 0:d.intDecoding):IntMode.BIGINT};return decode$1(_e,Mt)}function decodeObj(_e){return msgpackRawDecode(_e,{intDecoding:IntDecoding$1.MIXED})}function msgpackRawDecodeAsMap(_e,d){const Mt={intMode:d!=null&&d.intDecoding?intDecodingToIntMode(d==null?void 0:d.intDecoding):IntMode.BIGINT,useMap:!0};return decode$1(_e,Mt)}function msgpackRawDecodeAsMapWithRawStrings(_e,d){const Mt={intMode:IntMode.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return decode$1(_e,Mt)}function msgpackEncodingDataToJSONEncodingData(_e){if(_e==null)return _e;if(_e instanceof Uint8Array)return bytesToBase64(_e);if(Array.isArray(_e))return _e.map(msgpackEncodingDataToJSONEncodingData);if(_e instanceof Map){const d={};for(const[Mt,Ot]of _e){if(typeof Mt!="string")throw new Error(`JSON map key must be a string: ${Mt}`);d[Mt]=msgpackEncodingDataToJSONEncodingData(Ot)}return d}return _e}function jsonEncodingDataToMsgpackEncodingData(_e){if(_e==null||typeof _e=="string"||typeof _e=="number"||typeof _e=="bigint"||typeof _e=="boolean")return _e;if(Array.isArray(_e))return _e.map(jsonEncodingDataToMsgpackEncodingData);if(typeof _e=="object"){const d=new Map;for(const[Mt,Ot]of Object.entries(_e))d.set(Mt,jsonEncodingDataToMsgpackEncodingData(Ot));return d}throw new Error(`Invalid JSON encoding data: ${_e}`)}var MsgpackObjectPathSegmentKind;(function(_e){_e[_e.MAP_VALUE=0]="MAP_VALUE",_e[_e.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(MsgpackObjectPathSegmentKind||(MsgpackObjectPathSegmentKind={}));class MsgpackRawStringProvider{constructor({parent:d,segment:Mt,baseObjectBytes:Ot}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=d,this.segment=Mt,this.baseObjectBytes=Ot}withMapValue(d){return new MsgpackRawStringProvider({parent:this,segment:{kind:MsgpackObjectPathSegmentKind.MAP_VALUE,key:d}})}withArrayElement(d){return new MsgpackRawStringProvider({parent:this,segment:{kind:MsgpackObjectPathSegmentKind.ARRAY_ELEMENT,key:d}})}getRawStringAtCurrentLocation(){const d=this.resolve();if(d instanceof RawBinaryString)return d.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${d} (${typeof d})`)}getRawStringKeysAndValuesAtCurrentLocation(){const d=this.resolve();if(!(d instanceof Map))throw new Error(`Invalid type. Expected Map, got ${d} (${typeof d})`);const Mt=new Map;for(const[Ot,Ft]of d)if(Ot instanceof RawBinaryString)Mt.set(Ot.rawBinaryValue,Ft);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${Ot} (${typeof Ot})`);return Mt}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let d;if(this.parent?d=this.parent.resolve():d=msgpackRawDecodeAsMapWithRawStrings(this.baseObjectBytes),!this.segment)return this.resolvedCache=d,this.resolvedCachePresent=!0,d;if(this.segment.kind===MsgpackObjectPathSegmentKind.MAP_VALUE){if(!(d instanceof Map))throw new Error(`Invalid type. Expected Map, got ${d} (${typeof d})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof RawBinaryString){const Mt=this.segment.key instanceof RawBinaryString?this.segment.key.rawBinaryValue:coerceToBytes(this.segment.key),Ot=typeof this.segment.key=="string"||this.segment.key instanceof RawBinaryString;for(const[Ft,Ut]of d){let Xt;if(Ot?Ft instanceof RawBinaryString&&(Xt=Ft.rawBinaryValue):Ft instanceof Uint8Array&&(Xt=Ft),Xt&&arrayEqual(Mt,Xt)){this.resolvedCache=Ut;break}}}else this.resolvedCache=d.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===MsgpackObjectPathSegmentKind.ARRAY_ELEMENT){if(!Array.isArray(d))throw new Error(`Invalid type. Expected Array, got ${d} (${typeof d})`);return this.resolvedCache=d[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const d=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===MsgpackObjectPathSegmentKind.MAP_VALUE?`${d} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===MsgpackObjectPathSegmentKind.ARRAY_ELEMENT?`${d} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${d} -> unknown segment kind ${this.segment.kind}`:d}}class Schema{}function decodeMsgpack(_e,d){const Mt=msgpackRawDecodeAsMap(_e),Ot=new MsgpackRawStringProvider({baseObjectBytes:_e});return d.fromEncodingData(d.encodingSchema.fromPreparedMsgpack(Mt,Ot))}function encodeMsgpack(_e){return msgpackRawEncode(_e.getEncodingSchema().prepareMsgpack(_e.toEncodingData()))}function decodeJSON(_e,d){const Mt=parseJSON(_e,{intDecoding:IntDecoding$1.BIGINT});return d.fromEncodingData(d.encodingSchema.fromPreparedJSON(Mt))}function encodeJSON(_e,d){const{space:Mt,...Ot}=d??{},Ft=_e.getEncodingSchema().prepareJSON(_e.toEncodingData(),Ot);return stringifyJSON(Ft,void 0,Mt)}class BooleanSchema extends Schema{defaultValue(){return!1}isDefaultValue(d){return d===!1}prepareMsgpack(d){if(typeof d=="boolean")return d;throw new Error("Invalid boolean")}fromPreparedMsgpack(d,Mt){if(typeof d=="boolean")return d;throw new Error("Invalid boolean")}prepareJSON(d,Mt){if(typeof d=="boolean")return d;throw new Error("Invalid boolean")}fromPreparedJSON(d){if(typeof d=="boolean")return d;throw new Error("Invalid boolean")}}class StringSchema extends Schema{defaultValue(){return""}isDefaultValue(d){return d===""}prepareMsgpack(d){if(typeof d=="string")return d;throw new Error(`Invalid string: (${typeof d}) ${d}`)}fromPreparedMsgpack(d,Mt){if(typeof d=="string")return d;throw new Error(`Invalid string: (${typeof d}) ${d}`)}prepareJSON(d,Mt){if(typeof d=="string")return d;throw new Error(`Invalid string: (${typeof d}) ${d}`)}fromPreparedJSON(d){if(typeof d=="string")return d;throw new Error(`Invalid string: (${typeof d}) ${d}`)}}class Uint64Schema extends Schema{defaultValue(){return BigInt(0)}isDefaultValue(d){return typeof d=="bigint"?d===BigInt(0):typeof d=="number"?d===0:!1}prepareMsgpack(d){return ensureUint64(d)}fromPreparedMsgpack(d,Mt){return ensureUint64(d)}prepareJSON(d,Mt){return ensureUint64(d)}fromPreparedJSON(d){return ensureUint64(d)}}class AddressSchema extends Schema{defaultValue(){return Address.zeroAddress()}isDefaultValue(d){return Address.zeroAddress().equals(d)}prepareMsgpack(d){if(d instanceof Address)return d.publicKey;throw new Error(`Invalid address: (${typeof d}) ${d}`)}fromPreparedMsgpack(d,Mt){return new Address(d)}prepareJSON(d,Mt){if(d instanceof Address)return d.toString();throw new Error(`Invalid address: (${typeof d}) ${d}`)}fromPreparedJSON(d){return Address.fromString(d)}}class ByteArraySchema extends Schema{defaultValue(){return new Uint8Array}isDefaultValue(d){return d instanceof Uint8Array&&d.byteLength===0}prepareMsgpack(d){if(d instanceof Uint8Array)return d;throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}fromPreparedMsgpack(d,Mt){if(d instanceof Uint8Array)return d;throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}prepareJSON(d,Mt){if(d instanceof Uint8Array)return bytesToBase64(d);throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}fromPreparedJSON(d){if(d==null)return this.defaultValue();if(typeof d=="string")return base64ToBytes(d);throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}}class FixedLengthByteArraySchema extends Schema{constructor(d){super(),this.length=d}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(d){return d instanceof Uint8Array&&d.byteLength===this.length&&d.every(Mt=>Mt===0)}prepareMsgpack(d){if(d instanceof Uint8Array){if(d.byteLength===this.length)return d;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${d.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(d,Mt){if(d instanceof Uint8Array){if(d.byteLength===this.length)return d;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${d.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(d){if(d instanceof Uint8Array){if(d.byteLength===this.length)return bytesToBase64(d);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${d.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(d){if(typeof d=="string"){const Mt=base64ToBytes(d);if(Mt.byteLength===this.length)return Mt;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${Mt.byteLength}`)}throw new Error("Invalid base64 byte array")}}const blockHashByteLength=32,base32Length=52;class BlockHashSchema extends Schema{defaultValue(){return new Uint8Array(blockHashByteLength)}isDefaultValue(d){return d instanceof Uint8Array&&d.byteLength===blockHashByteLength&&d.every(Mt=>Mt===0)}prepareMsgpack(d){if(d instanceof Uint8Array&&d.byteLength===blockHashByteLength)return d;throw new Error(`Invalid block hash: (${typeof d}) ${d}`)}fromPreparedMsgpack(d,Mt){if(d instanceof Uint8Array&&d.byteLength===blockHashByteLength)return d;throw new Error(`Invalid block hash: (${typeof d}) ${d}`)}prepareJSON(d,Mt){if(d instanceof Uint8Array&&d.byteLength===blockHashByteLength)return`blk-${base32.encode(d).slice(0,base32Length)}`;throw new Error(`Invalid block hash: (${typeof d}) ${d}`)}fromPreparedJSON(d){if(typeof d=="string"&&d.length===base32Length+4&&d.startsWith("blk-"))return Uint8Array.from(base32.decode.asBytes(d.slice(4)));throw new Error(`Invalid block hash: (${typeof d}) ${d}`)}}class SpecialCaseBinaryStringSchema extends Schema{defaultValue(){return new Uint8Array}isDefaultValue(d){return d instanceof Uint8Array&&d.byteLength===0}prepareMsgpack(d){if(d instanceof Uint8Array)return new RawBinaryString(d);throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}fromPreparedMsgpack(d,Mt){return Mt.getRawStringAtCurrentLocation()}prepareJSON(d,Mt){if(d instanceof Uint8Array){const Ot=bytesToString(d);if(!Mt.lossyBinaryStringConversion&&!arrayEqual(coerceToBytes(Ot),d))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${bytesToBase64(d)}`);return Ot}throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}fromPreparedJSON(d){if(typeof d=="string")return coerceToBytes(d);throw new Error(`Invalid byte array: (${typeof d}) ${d}`)}}class ArraySchema extends Schema{constructor(d){super(),this.itemSchema=d}defaultValue(){return[]}isDefaultValue(d){return Array.isArray(d)&&d.length===0}prepareMsgpack(d){if(Array.isArray(d))return d.map(Mt=>this.itemSchema.prepareMsgpack(Mt));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(d,Mt){if(Array.isArray(d))return d.map((Ot,Ft)=>this.itemSchema.fromPreparedMsgpack(Ot,Mt.withArrayElement(Ft)));throw new Error(`ArraySchema encoded data must be an array: ${d} (${typeof d})`)}prepareJSON(d,Mt){if(Array.isArray(d))return d.map(Ot=>this.itemSchema.prepareJSON(Ot,Mt));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(d){if(Array.isArray(d))return d.map(Mt=>this.itemSchema.fromPreparedJSON(Mt));throw new Error(`ArraySchema encoded data must be an array: ${d} (${typeof d})`)}}function allOmitEmpty(_e){return _e.map(d=>({...d,omitEmpty:!0}))}class NamedMapSchema extends Schema{constructor(d){super(),this.entries=d,this.checkEntries()}pushEntries(...d){this.entries.push(...d),this.checkEntries()}checkEntries(){for(const Mt of this.entries)if(Mt.embedded){if(Mt.key!=="")throw new Error("Embedded entries must have an empty key");if(!(Mt.valueSchema instanceof NamedMapSchema))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const d=new Set;for(const Mt of this.getEntries()){if(d.has(Mt.key))throw new Error(`Duplicate key: ${Mt.key}`);d.add(Mt.key)}}getEntries(){const d=[];for(const Mt of this.entries)if(Mt.embedded){const Ot=Mt.valueSchema;d.push(...Ot.getEntries())}else d.push(Mt);return d}defaultValue(){const d=new Map;for(const Mt of this.getEntries())d.set(Mt.key,Mt.valueSchema.defaultValue());return d}isDefaultValue(d){if(!(d instanceof Map))return!1;for(const Mt of this.getEntries())if(!Mt.valueSchema.isDefaultValue(d.get(Mt.key)))return!1;return!0}prepareMsgpack(d){if(!(d instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof d}) ${d}`);const Mt=new Map;for(const Ot of this.getEntries()){const Ft=d.get(Ot.key);Ot.omitEmpty&&Ot.valueSchema.isDefaultValue(Ft)||Mt.set(Ot.key,Ot.valueSchema.prepareMsgpack(Ft))}return Mt}fromPreparedMsgpack(d,Mt){if(!(d instanceof Map))throw new Error("NamedMapSchema data must be a Map");const Ot=new Map;for(const Ft of this.getEntries())if(d.has(Ft.key))Ot.set(Ft.key,Ft.valueSchema.fromPreparedMsgpack(d.get(Ft.key),Mt.withMapValue(Ft.key)));else if(Ft.omitEmpty)Ot.set(Ft.key,Ft.valueSchema.defaultValue());else throw new Error(`Missing key: ${Ft.key}`);return Ot}prepareJSON(d,Mt){if(!(d instanceof Map))throw new Error("NamedMapSchema data must be a Map");const Ot={};for(const Ft of this.getEntries()){const Ut=d.get(Ft.key);Ft.omitEmpty&&Ft.valueSchema.isDefaultValue(Ut)||(Ot[Ft.key]=Ft.valueSchema.prepareJSON(Ut,Mt))}return Ot}fromPreparedJSON(d){if(d==null||typeof d!="object"||Array.isArray(d))throw new Error("NamedMapSchema data must be an object");const Mt=new Map;for(const Ot of this.getEntries())if(Object.prototype.hasOwnProperty.call(d,Ot.key))Mt.set(Ot.key,Ot.valueSchema.fromPreparedJSON(d[Ot.key]));else if(Ot.omitEmpty)Mt.set(Ot.key,Ot.valueSchema.defaultValue());else throw new Error(`Missing key: ${Ot.key}`);return Mt}}function combineMaps(..._e){const d=new Map;for(const Mt of _e)for(const[Ot,Ft]of Mt){if(d.has(Ot))throw new Error(`Duplicate key: ${Ot}`);d.set(Ot,Ft)}return d}function convertMap(_e,d){const Mt=new Map;for(const[Ot,Ft]of _e){const[Ut,Xt]=d(Ot,Ft);Mt.set(Ut,Xt)}return Mt}class Uint64MapSchema extends Schema{constructor(d){super(),this.valueSchema=d}defaultValue(){return new Map}isDefaultValue(d){return d instanceof Map&&d.size===0}prepareMsgpack(d){if(!(d instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof d}) ${d}`);const Mt=new Map;for(const[Ot,Ft]of d){const Ut=ensureUint64(Ot);if(Mt.has(Ut))throw new Error(`Duplicate key: ${Ut}`);Mt.set(Ut,this.valueSchema.prepareMsgpack(Ft))}return Mt}fromPreparedMsgpack(d,Mt){if(!(d instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const Ot=new Map;for(const[Ft,Ut]of d){const Xt=ensureUint64(Ft);if(Ot.has(Xt))throw new Error(`Duplicate key: ${Xt}`);Ot.set(Xt,this.valueSchema.fromPreparedMsgpack(Ut,Mt.withMapValue(Ft)))}return Ot}prepareJSON(d,Mt){if(!(d instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof d}) ${d}`);const Ot=new Map;for(const[Ut,Xt]of d){const jr=ensureUint64(Ut);if(Ot.has(jr))throw new Error(`Duplicate key: ${jr}`);Ot.set(jr,this.valueSchema.prepareJSON(Xt,Mt))}const Ft={};for(const[Ut,Xt]of Ot)Ft[Ut.toString()]=Xt;return Ft}fromPreparedJSON(d){if(d==null||typeof d!="object"||Array.isArray(d))throw new Error("Uint64MapSchema data must be an object");const Mt=new Map;for(const[Ot,Ft]of Object.entries(d)){const Ut=BigInt(Ot);if(Mt.has(Ut))throw new Error(`Duplicate key: ${Ut}`);Mt.set(Ut,this.valueSchema.fromPreparedJSON(Ft))}return Mt}}class ByteArrayMapSchema extends Schema{constructor(d){super(),this.valueSchema=d}defaultValue(){return new Map}isDefaultValue(d){return d instanceof Map&&d.size===0}prepareMsgpack(d){if(!(d instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof d}) ${d}`);const Mt=new Map;for(const[Ot,Ft]of d){if(!(Ot instanceof Uint8Array))throw new Error(`Invalid key: ${Ot} (${typeof Ot})`);Mt.set(Ot,this.valueSchema.prepareMsgpack(Ft))}return Mt}fromPreparedMsgpack(d,Mt){if(!(d instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const Ot=new Map;for(const[Ft,Ut]of d){if(!(Ft instanceof Uint8Array))throw new Error(`Invalid key: ${Ft} (${typeof Ft})`);Ot.set(Ft,this.valueSchema.fromPreparedMsgpack(Ut,Mt.withMapValue(Ft)))}return Ot}prepareJSON(d,Mt){if(!(d instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof d}) ${d}`);const Ot=new Map;for(const[Ut,Xt]of d){if(!(Ut instanceof Uint8Array))throw new Error(`Invalid key: ${Ut} (${typeof Ut})`);const jr=bytesToBase64(Ut);if(Ot.has(jr))throw new Error(`Duplicate key (base64): ${jr}`);Ot.set(jr,this.valueSchema.prepareJSON(Xt,Mt))}const Ft={};for(const[Ut,Xt]of Ot)Ft[Ut]=Xt;return Ft}fromPreparedJSON(d){if(d==null||typeof d!="object"||Array.isArray(d))throw new Error("ByteArrayMapSchema data must be an object");const Mt=new Map;for(const[Ot,Ft]of Object.entries(d))Mt.set(base64ToBytes(Ot),this.valueSchema.fromPreparedJSON(Ft));return Mt}}function convertRawStringsInMsgpackValue(_e){if(_e instanceof RawBinaryString)return bytesToString(_e.rawBinaryValue);if(_e instanceof Map){const d=new Map;for(const[Mt,Ot]of _e)d.set(convertRawStringsInMsgpackValue(Mt),convertRawStringsInMsgpackValue(Ot));return d}return Array.isArray(_e)?_e.map(convertRawStringsInMsgpackValue):_e}class SpecialCaseBinaryStringMapSchema extends Schema{constructor(d){super(),this.valueSchema=d}defaultValue(){return new Map}isDefaultValue(d){return d instanceof Map&&d.size===0}prepareMsgpack(d){if(!(d instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof d}) ${d}`);const Mt=new Map;for(const[Ot,Ft]of d){if(!(Ot instanceof Uint8Array))throw new Error(`Invalid key: ${Ot} (${typeof Ot})`);Mt.set(new RawBinaryString(Ot),this.valueSchema.prepareMsgpack(Ft))}return Mt}fromPreparedMsgpack(d,Mt){const Ot=new Map,Ft=Mt.getRawStringKeysAndValuesAtCurrentLocation();for(const[Ut,Xt]of Ft)Ot.set(Ut,this.valueSchema.fromPreparedMsgpack(convertRawStringsInMsgpackValue(Xt),Mt.withMapValue(new RawBinaryString(Ut))));return Ot}prepareJSON(d,Mt){if(!(d instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof d}) ${d}`);const Ot=new Map;for(const[Ut,Xt]of d){if(!(Ut instanceof Uint8Array))throw new Error(`Invalid key: ${Ut}`);const jr=bytesToString(Ut);if(!Mt.lossyBinaryStringConversion&&!arrayEqual(coerceToBytes(jr),Ut))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${bytesToBase64(Ut)}`);Ot.set(jr,this.valueSchema.prepareJSON(Xt,Mt))}const Ft={};for(const[Ut,Xt]of Ot)Ft[Ut]=Xt;return Ft}fromPreparedJSON(d){if(d==null||typeof d!="object"||Array.isArray(d))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const Mt=new Map;for(const[Ot,Ft]of Object.entries(d))Mt.set(coerceToBytes(Ot),this.valueSchema.fromPreparedJSON(Ft));return Mt}}class OptionalSchema extends Schema{constructor(d){super(),this.valueSchema=d}defaultValue(){}isDefaultValue(d){return d===void 0||this.valueSchema.isDefaultValue(d)}prepareMsgpack(d){if(d!==void 0)return this.valueSchema.prepareMsgpack(d)}fromPreparedMsgpack(d,Mt){if(d!=null)return this.valueSchema.fromPreparedMsgpack(d,Mt)}prepareJSON(d,Mt){return d===void 0?null:this.valueSchema.prepareJSON(d,Mt)}fromPreparedJSON(d){if(d!=null)return this.valueSchema.fromPreparedJSON(d)}}class UntypedSchema extends Schema{defaultValue(){}isDefaultValue(d){return d===void 0}prepareMsgpack(d){return d}fromPreparedMsgpack(d,Mt){return d}prepareJSON(d,Mt){return msgpackEncodingDataToJSONEncodingData(d)}fromPreparedJSON(d){return jsonEncodingDataToMsgpackEncodingData(d)}}function boxReferenceToEncodingData(_e,d,Mt){const Ot=BigInt(_e.appIndex),Ft=_e.name,Ut=Ot===BigInt(0)||Ot===Mt,Xt=d.indexOf(Ot)+1;if(Xt===0&&!Ut)throw new Error(`Box ref with appId ${Ot} not in foreign-apps`);return new Map([["i",Xt],["n",Ft]])}function boxReferencesToEncodingData(_e,d,Mt){const Ot=BigInt(Mt),Ft=d.map(BigInt);return _e.map(Ut=>boxReferenceToEncodingData(Ut,Ft,Ot))}var TransactionType;(function(_e){_e.pay="pay",_e.keyreg="keyreg",_e.acfg="acfg",_e.axfer="axfer",_e.afrz="afrz",_e.appl="appl",_e.stpf="stpf",_e.hb="hb"})(TransactionType||(TransactionType={}));function isTransactionType(_e){return _e===TransactionType.pay||_e===TransactionType.keyreg||_e===TransactionType.acfg||_e===TransactionType.axfer||_e===TransactionType.afrz||_e===TransactionType.appl||_e===TransactionType.stpf||_e===TransactionType.hb}var OnApplicationComplete$2;(function(_e){_e[_e.NoOpOC=0]="NoOpOC",_e[_e.OptInOC=1]="OptInOC",_e[_e.CloseOutOC=2]="CloseOutOC",_e[_e.ClearStateOC=3]="ClearStateOC",_e[_e.UpdateApplicationOC=4]="UpdateApplicationOC",_e[_e.DeleteApplicationOC=5]="DeleteApplicationOC"})(OnApplicationComplete$2||(OnApplicationComplete$2={}));function isOnApplicationComplete(_e){return _e===OnApplicationComplete$2.NoOpOC||_e===OnApplicationComplete$2.OptInOC||_e===OnApplicationComplete$2.CloseOutOC||_e===OnApplicationComplete$2.ClearStateOC||_e===OnApplicationComplete$2.UpdateApplicationOC||_e===OnApplicationComplete$2.DeleteApplicationOC}let HashFactory$1=class Ml{constructor(d){this.hashType=d.hashType}getEncodingSchema(){return Ml.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded HashFactory: ${d}`);return new Ml({hashType:Number(d.get("t"))})}};HashFactory$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema}]));let MerkleArrayProof$1=class Tl{constructor(d){this.path=d.path,this.hashFactory=d.hashFactory,this.treeDepth=d.treeDepth}getEncodingSchema(){return Tl.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${d}`);return new Tl({path:d.get("pth"),hashFactory:HashFactory$1.fromEncodingData(d.get("hsh")),treeDepth:Number(d.get("td"))})}};MerkleArrayProof$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"pth",valueSchema:new ArraySchema(new ByteArraySchema)},{key:"hsh",valueSchema:HashFactory$1.encodingSchema},{key:"td",valueSchema:new Uint64Schema}]));class MerkleSignatureVerifier{constructor(d){this.commitment=d.commitment,this.keyLifetime=d.keyLifetime}getEncodingSchema(){return MerkleSignatureVerifier.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${d}`);return new MerkleSignatureVerifier({commitment:d.get("cmt"),keyLifetime:d.get("lf")})}}MerkleSignatureVerifier.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"cmt",valueSchema:new FixedLengthByteArraySchema(64)},{key:"lf",valueSchema:new Uint64Schema}]));class Participant{constructor(d){this.pk=d.pk,this.weight=d.weight}getEncodingSchema(){return Participant.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Participant: ${d}`);return new Participant({pk:MerkleSignatureVerifier.fromEncodingData(d.get("p")),weight:d.get("w")})}}Participant.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"p",valueSchema:MerkleSignatureVerifier.encodingSchema},{key:"w",valueSchema:new Uint64Schema}]));class FalconVerifier{constructor(d){this.publicKey=d.publicKey}getEncodingSchema(){return FalconVerifier.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${d}`);return new FalconVerifier({publicKey:d.get("k")})}}FalconVerifier.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"k",valueSchema:new FixedLengthByteArraySchema(1793)}]));class FalconSignatureStruct{constructor(d){this.signature=d.signature,this.vectorCommitmentIndex=d.index,this.proof=d.proof,this.verifyingKey=d.verifyingKey}getEncodingSchema(){return FalconSignatureStruct.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${d}`);return new FalconSignatureStruct({signature:d.get("sig"),index:d.get("idx"),proof:MerkleArrayProof$1.fromEncodingData(d.get("prf")),verifyingKey:FalconVerifier.fromEncodingData(d.get("vkey"))})}}FalconSignatureStruct.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"sig",valueSchema:new ByteArraySchema},{key:"idx",valueSchema:new Uint64Schema},{key:"prf",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"vkey",valueSchema:FalconVerifier.encodingSchema}]));class SigslotCommit{constructor(d){this.sig=d.sig,this.l=d.l}getEncodingSchema(){return SigslotCommit.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${d}`);return new SigslotCommit({sig:FalconSignatureStruct.fromEncodingData(d.get("s")),l:d.get("l")})}}SigslotCommit.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:FalconSignatureStruct.encodingSchema},{key:"l",valueSchema:new Uint64Schema}]));class Reveal{constructor(d){this.sigslot=d.sigslot,this.participant=d.participant}getEncodingSchema(){return Reveal.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Reveal: ${d}`);return new Reveal({sigslot:SigslotCommit.fromEncodingData(d.get("s")),participant:Participant.fromEncodingData(d.get("p"))})}}Reveal.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:SigslotCommit.encodingSchema},{key:"p",valueSchema:Participant.encodingSchema}]));let StateProof$2=class Rl{constructor(d){this.sigCommit=d.sigCommit,this.signedWeight=d.signedWeight,this.sigProofs=d.sigProofs,this.partProofs=d.partProofs,this.merkleSignatureSaltVersion=d.merkleSignatureSaltVersion,this.reveals=d.reveals,this.positionsToReveal=d.positionsToReveal}getEncodingSchema(){return Rl.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",convertMap(this.reveals,(d,Mt)=>[d,Mt.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProof: ${d}`);return new Rl({sigCommit:d.get("c"),signedWeight:d.get("w"),sigProofs:MerkleArrayProof$1.fromEncodingData(d.get("S")),partProofs:MerkleArrayProof$1.fromEncodingData(d.get("P")),merkleSignatureSaltVersion:Number(d.get("v")),reveals:convertMap(d.get("r"),(Mt,Ot)=>[Mt,Reveal.fromEncodingData(Ot)]),positionsToReveal:d.get("pr")})}};StateProof$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"c",valueSchema:new ByteArraySchema},{key:"w",valueSchema:new Uint64Schema},{key:"S",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"P",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"v",valueSchema:new Uint64Schema},{key:"r",valueSchema:new Uint64MapSchema(Reveal.encodingSchema)},{key:"pr",valueSchema:new ArraySchema(new Uint64Schema)}]));let StateProofMessage$1=class zs{constructor(d){this.blockHeadersCommitment=d.blockHeadersCommitment,this.votersCommitment=d.votersCommitment,this.lnProvenWeight=d.lnProvenWeight,this.firstAttestedRound=d.firstAttestedRound,this.lastAttestedRound=d.lastAttestedRound}getEncodingSchema(){return zs.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${d}`);return new zs({blockHeadersCommitment:d.get("b"),votersCommitment:d.get("v"),lnProvenWeight:d.get("P"),firstAttestedRound:d.get("f"),lastAttestedRound:d.get("l")})}static fromMap(d){return new zs({blockHeadersCommitment:d.get("b"),votersCommitment:d.get("v"),lnProvenWeight:d.get("P"),firstAttestedRound:d.get("f"),lastAttestedRound:d.get("l")})}};StateProofMessage$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"b",valueSchema:new ByteArraySchema},{key:"v",valueSchema:new ByteArraySchema},{key:"P",valueSchema:new Uint64Schema},{key:"f",valueSchema:new Uint64Schema},{key:"l",valueSchema:new Uint64Schema}]));class HeartbeatProof{constructor(d){this.sig=d.sig,this.pk=d.pk,this.pk2=d.pk2,this.pk1Sig=d.pk1Sig,this.pk2Sig=d.pk2Sig}getEncodingSchema(){return HeartbeatProof.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${d}`);return new HeartbeatProof({sig:d.get("s"),pk:d.get("p"),pk2:d.get("p2"),pk1Sig:d.get("p1s"),pk2Sig:d.get("p2s")})}}HeartbeatProof.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:new FixedLengthByteArraySchema(64)},{key:"p",valueSchema:new FixedLengthByteArraySchema(32)},{key:"p2",valueSchema:new FixedLengthByteArraySchema(32)},{key:"p1s",valueSchema:new FixedLengthByteArraySchema(64)},{key:"p2s",valueSchema:new FixedLengthByteArraySchema(64)}]));class Heartbeat{constructor(d){this.address=d.address,this.proof=d.proof,this.seed=d.seed,this.voteID=d.voteID,this.keyDilution=d.keyDilution}getEncodingSchema(){return Heartbeat.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${d}`);return new Heartbeat({address:d.get("a"),proof:HeartbeatProof.fromEncodingData(d.get("prf")),seed:d.get("sd"),voteID:d.get("vid"),keyDilution:d.get("kd")})}}Heartbeat.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"a",valueSchema:new AddressSchema},{key:"prf",valueSchema:HeartbeatProof.encodingSchema},{key:"sd",valueSchema:new ByteArraySchema},{key:"vid",valueSchema:new FixedLengthByteArraySchema(32)},{key:"kd",valueSchema:new Uint64Schema}]));const ALGORAND_TRANSACTION_LENGTH=52,ALGORAND_TRANSACTION_LEASE_LENGTH=32,NUM_ADDL_BYTES_AFTER_SIGNING=75,ASSET_METADATA_HASH_LENGTH=32,KEYREG_VOTE_KEY_LENGTH=32,KEYREG_SELECTION_KEY_LENGTH=32,KEYREG_STATE_PROOF_KEY_LENGTH=64,ALGORAND_TRANSACTION_GROUP_LENGTH=32;function uint8ArrayIsEmpty(_e){return _e.every(d=>d===0)}function getKeyregKey(_e,d,Mt){if(_e==null)return;let Ot;if(_e instanceof Uint8Array&&(Ot=_e),Ot==null||Ot.byteLength!==Mt)throw Error(`${d} must be a ${Mt} byte Uint8Array`);return Ot}function ensureAddress(_e){if(_e==null)throw new Error("Address must not be null or undefined");if(typeof _e=="string")return Address.fromString(_e);if(_e instanceof Address)return _e;throw new Error(`Not an address: ${_e}`)}function optionalAddress(_e){if(_e==null)return;let d;if(_e instanceof Address)d=_e;else if(typeof _e=="string")d=Address.fromString(_e);else throw new Error(`Not an address: ${_e}`);if(uint8ArrayIsEmpty(d.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return d}function optionalUint8Array(_e){if(!(typeof _e>"u")){if(_e instanceof Uint8Array)return _e;throw new Error(`Not a Uint8Array: ${_e}`)}}function ensureUint8Array(_e){if(_e instanceof Uint8Array)return _e;throw new Error(`Not a Uint8Array: ${_e}`)}function optionalUint64(_e){if(!(typeof _e>"u"))return ensureUint64(_e)}function ensureBoolean(_e){if(_e===!0||_e===!1)return _e;throw new Error(`Not a boolean: ${_e}`)}function ensureArray(_e){if(Array.isArray(_e))return _e.slice();throw new Error(`Not an array: ${_e}`)}function optionalFixedLengthByteArray(_e,d,Mt){const Ot=optionalUint8Array(_e);if(!(typeof Ot>"u")){if(Ot.byteLength!==d)throw new Error(`${Mt} must be ${d} bytes long, was ${Ot.byteLength}`);if(!uint8ArrayIsEmpty(Ot))return Ot}}function ensureBoxReference(_e){if(_e!=null&&typeof _e=="object"){const{appIndex:d,name:Mt}=_e;return{appIndex:ensureUint64(d),name:ensureUint8Array(Mt)}}throw new Error(`Not a box reference: ${_e}`)}const TX_TAG=new TextEncoder().encode("TX");let Transaction$1=class Hs{constructor(d){if(!isTransactionType(d.type))throw new Error(`Invalid transaction type: ${d.type}`);if(this.type=d.type,this.sender=ensureAddress(d.sender),this.note=ensureUint8Array(d.note??new Uint8Array),this.lease=optionalFixedLengthByteArray(d.lease,ALGORAND_TRANSACTION_LEASE_LENGTH,"lease"),this.rekeyTo=optionalAddress(d.rekeyTo),this.group=void 0,this.firstValid=ensureUint64(d.suggestedParams.firstValid),this.lastValid=ensureUint64(d.suggestedParams.lastValid),d.suggestedParams.genesisID){if(typeof d.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=d.suggestedParams.genesisID}this.genesisHash=optionalUint8Array(d.suggestedParams.genesisHash);const Mt=[];if(d.paymentParams&&Mt.push(TransactionType.pay),d.keyregParams&&Mt.push(TransactionType.keyreg),d.assetConfigParams&&Mt.push(TransactionType.acfg),d.assetTransferParams&&Mt.push(TransactionType.axfer),d.assetFreezeParams&&Mt.push(TransactionType.afrz),d.appCallParams&&Mt.push(TransactionType.appl),d.stateProofParams&&Mt.push(TransactionType.stpf),d.heartbeatParams&&Mt.push(TransactionType.hb),Mt.length!==1)throw new Error(`Transaction has wrong number of type fields present (${Mt.length}): ${Mt}`);if(this.type!==Mt[0])throw new Error(`Transaction has type ${this.type} but fields present for ${Mt[0]}`);if(d.paymentParams&&(this.payment={receiver:ensureAddress(d.paymentParams.receiver),amount:ensureUint64(d.paymentParams.amount),closeRemainderTo:optionalAddress(d.paymentParams.closeRemainderTo)}),d.keyregParams){if(this.keyreg={voteKey:getKeyregKey(d.keyregParams.voteKey,"voteKey",KEYREG_VOTE_KEY_LENGTH),selectionKey:getKeyregKey(d.keyregParams.selectionKey,"selectionKey",KEYREG_SELECTION_KEY_LENGTH),stateProofKey:getKeyregKey(d.keyregParams.stateProofKey,"stateProofKey",KEYREG_STATE_PROOF_KEY_LENGTH),voteFirst:optionalUint64(d.keyregParams.voteFirst),voteLast:optionalUint64(d.keyregParams.voteLast),voteKeyDilution:optionalUint64(d.keyregParams.voteKeyDilution),nonParticipation:ensureBoolean(d.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(d.assetConfigParams&&(this.assetConfig={assetIndex:ensureUint64(d.assetConfigParams.assetIndex??0),total:ensureUint64(d.assetConfigParams.total??0),decimals:ensureSafeUnsignedInteger(d.assetConfigParams.decimals??0),defaultFrozen:ensureBoolean(d.assetConfigParams.defaultFrozen??!1),manager:optionalAddress(d.assetConfigParams.manager),reserve:optionalAddress(d.assetConfigParams.reserve),freeze:optionalAddress(d.assetConfigParams.freeze),clawback:optionalAddress(d.assetConfigParams.clawback),unitName:d.assetConfigParams.unitName,assetName:d.assetConfigParams.assetName,assetURL:d.assetConfigParams.assetURL,assetMetadataHash:optionalFixedLengthByteArray(d.assetConfigParams.assetMetadataHash,ASSET_METADATA_HASH_LENGTH,"assetMetadataHash")}),d.assetTransferParams&&(this.assetTransfer={assetIndex:ensureUint64(d.assetTransferParams.assetIndex),amount:ensureUint64(d.assetTransferParams.amount),assetSender:optionalAddress(d.assetTransferParams.assetSender),receiver:ensureAddress(d.assetTransferParams.receiver),closeRemainderTo:optionalAddress(d.assetTransferParams.closeRemainderTo)}),d.assetFreezeParams&&(this.assetFreeze={assetIndex:ensureUint64(d.assetFreezeParams.assetIndex),freezeAccount:ensureAddress(d.assetFreezeParams.freezeTarget),frozen:ensureBoolean(d.assetFreezeParams.frozen)}),d.appCallParams){const{onComplete:Ft}=d.appCallParams;if(!isOnApplicationComplete(Ft))throw new Error(`Invalid onCompletion value: ${Ft}`);this.applicationCall={appIndex:ensureUint64(d.appCallParams.appIndex),onComplete:Ft,numLocalInts:ensureSafeUnsignedInteger(d.appCallParams.numLocalInts??0),numLocalByteSlices:ensureSafeUnsignedInteger(d.appCallParams.numLocalByteSlices??0),numGlobalInts:ensureSafeUnsignedInteger(d.appCallParams.numGlobalInts??0),numGlobalByteSlices:ensureSafeUnsignedInteger(d.appCallParams.numGlobalByteSlices??0),extraPages:ensureSafeUnsignedInteger(d.appCallParams.extraPages??0),approvalProgram:ensureUint8Array(d.appCallParams.approvalProgram??new Uint8Array),clearProgram:ensureUint8Array(d.appCallParams.clearProgram??new Uint8Array),appArgs:ensureArray(d.appCallParams.appArgs??[]).map(ensureUint8Array),accounts:ensureArray(d.appCallParams.accounts??[]).map(ensureAddress),foreignApps:ensureArray(d.appCallParams.foreignApps??[]).map(ensureUint64),foreignAssets:ensureArray(d.appCallParams.foreignAssets??[]).map(ensureUint64),boxes:ensureArray(d.appCallParams.boxes??[]).map(ensureBoxReference)}}if(d.stateProofParams&&(this.stateProof={stateProofType:ensureSafeUnsignedInteger(d.stateProofParams.stateProofType??0),stateProof:d.stateProofParams.stateProof,message:d.stateProofParams.message}),d.heartbeatParams&&(this.heartbeat=new Heartbeat({address:d.heartbeatParams.address,proof:d.heartbeatParams.proof,seed:d.heartbeatParams.seed,voteID:d.heartbeatParams.voteID,keyDilution:d.heartbeatParams.keyDilution})),this.fee=ensureUint64(d.suggestedParams.fee),!ensureBoolean(d.suggestedParams.flatFee??!1)){const Ft=ensureUint64(d.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<Ft&&(this.fee=Ft)}}getEncodingSchema(){return Hs.encodingSchema}toEncodingData(){const d=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return d.set("amt",this.payment.amount),d.set("rcv",this.payment.receiver),d.set("close",this.payment.closeRemainderTo),d;if(this.keyreg)return d.set("votekey",this.keyreg.voteKey),d.set("selkey",this.keyreg.selectionKey),d.set("sprfkey",this.keyreg.stateProofKey),d.set("votefst",this.keyreg.voteFirst),d.set("votelst",this.keyreg.voteLast),d.set("votekd",this.keyreg.voteKeyDilution),d.set("nonpart",this.keyreg.nonParticipation),d;if(this.assetConfig){d.set("caid",this.assetConfig.assetIndex);const Mt=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return d.set("apar",Mt),d}if(this.assetTransfer)return d.set("xaid",this.assetTransfer.assetIndex),d.set("aamt",this.assetTransfer.amount),d.set("arcv",this.assetTransfer.receiver),d.set("aclose",this.assetTransfer.closeRemainderTo),d.set("asnd",this.assetTransfer.assetSender),d;if(this.assetFreeze)return d.set("faid",this.assetFreeze.assetIndex),d.set("afrz",this.assetFreeze.frozen),d.set("fadd",this.assetFreeze.freezeAccount),d;if(this.applicationCall)return d.set("apid",this.applicationCall.appIndex),d.set("apan",this.applicationCall.onComplete),d.set("apaa",this.applicationCall.appArgs),d.set("apat",this.applicationCall.accounts),d.set("apas",this.applicationCall.foreignAssets),d.set("apfa",this.applicationCall.foreignApps),d.set("apbx",boxReferencesToEncodingData(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),d.set("apap",this.applicationCall.approvalProgram),d.set("apsu",this.applicationCall.clearProgram),d.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),d.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),d.set("apep",this.applicationCall.extraPages),d;if(this.stateProof)return d.set("sptype",this.stateProof.stateProofType),d.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),d.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),d;if(this.heartbeat){const Mt=new Heartbeat({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return d.set("hb",Mt.toEncodingData()),d}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded logic sig account: ${d}`);const Mt={minFee:BigInt(0),flatFee:!0,fee:d.get("fee")??0,firstValid:d.get("fv")??0,lastValid:d.get("lv")??0,genesisHash:d.get("gh"),genesisID:d.get("gen")},Ot=d.get("type");if(!isTransactionType(Ot))throw new Error(`Unrecognized transaction type: ${Ot}`);const Ft={type:Ot,sender:d.get("snd")??Address.zeroAddress(),note:d.get("note"),lease:d.get("lx"),suggestedParams:Mt};if(d.get("rekey")&&(Ft.rekeyTo=d.get("rekey")),Ft.type===TransactionType.pay){const Xt={amount:d.get("amt")??0,receiver:d.get("rcv")??Address.zeroAddress()};d.get("close")&&(Xt.closeRemainderTo=d.get("close")),Ft.paymentParams=Xt}else if(Ft.type===TransactionType.keyreg){const Xt={voteKey:d.get("votekey"),selectionKey:d.get("selkey"),stateProofKey:d.get("sprfkey"),voteFirst:d.get("votefst"),voteLast:d.get("votelst"),voteKeyDilution:d.get("votekd"),nonParticipation:d.get("nonpart")};Ft.keyregParams=Xt}else if(Ft.type===TransactionType.acfg){const Xt={assetIndex:d.get("caid")};if(d.get("apar")){const jr=d.get("apar");Xt.total=jr.get("t"),Xt.decimals=jr.get("dc"),Xt.defaultFrozen=jr.get("df"),Xt.unitName=jr.get("un"),Xt.assetName=jr.get("an"),Xt.assetURL=jr.get("au"),Xt.assetMetadataHash=jr.get("am"),jr.get("m")&&(Xt.manager=jr.get("m")),jr.get("r")&&(Xt.reserve=jr.get("r")),jr.get("f")&&(Xt.freeze=jr.get("f")),jr.get("c")&&(Xt.clawback=jr.get("c"))}Ft.assetConfigParams=Xt}else if(Ft.type===TransactionType.axfer){const Xt={assetIndex:d.get("xaid")??0,amount:d.get("aamt")??0,receiver:d.get("arcv")??Address.zeroAddress()};d.get("aclose")&&(Xt.closeRemainderTo=d.get("aclose")),d.get("asnd")&&(Xt.assetSender=d.get("asnd")),Ft.assetTransferParams=Xt}else if(Ft.type===TransactionType.afrz){const Xt={assetIndex:d.get("faid")??0,freezeTarget:d.get("fadd")??Address.zeroAddress(),frozen:d.get("afrz")??!1};Ft.assetFreezeParams=Xt}else if(Ft.type===TransactionType.appl){const Xt={appIndex:d.get("apid")??0,onComplete:ensureSafeUnsignedInteger(d.get("apan")??0),appArgs:d.get("apaa"),accounts:d.get("apat"),foreignAssets:d.get("apas"),foreignApps:d.get("apfa"),approvalProgram:d.get("apap"),clearProgram:d.get("apsu"),extraPages:d.get("apep")},jr=d.get("apls");jr&&(Xt.numLocalInts=jr.get("nui"),Xt.numLocalByteSlices=jr.get("nbs"));const hn=d.get("apgs");hn&&(Xt.numGlobalInts=hn.get("nui"),Xt.numGlobalByteSlices=hn.get("nbs"));const Vr=d.get("apbx");Vr&&(Xt.boxes=Vr.map(fn=>{const dn=ensureSafeUnsignedInteger(fn.get("i")??0),pn=ensureUint8Array(fn.get("n")??new Uint8Array);if(dn===0)return{appIndex:0,name:pn};if(!Xt.foreignApps||dn>Xt.foreignApps.length)throw new Error(`Cannot find foreign app index ${dn} in ${Xt.foreignApps}`);return{appIndex:Xt.foreignApps[dn-1],name:pn}})),Ft.appCallParams=Xt}else if(Ft.type===TransactionType.stpf){const Xt={stateProofType:d.get("sptype"),stateProof:d.get("sp")?StateProof$2.fromEncodingData(d.get("sp")):void 0,message:d.get("spmsg")?StateProofMessage$1.fromEncodingData(d.get("spmsg")):void 0};Ft.stateProofParams=Xt}else if(Ft.type===TransactionType.hb){const Xt=Heartbeat.fromEncodingData(d.get("hb")),jr={address:Xt.address,proof:Xt.proof,seed:Xt.seed,voteID:Xt.voteID,keyDilution:Xt.keyDilution};Ft.heartbeatParams=jr}else{const Xt=Ft.type;throw new Error(`Unexpected transaction type: ${Xt}`)}const Ut=new Hs(Ft);if(d.get("grp")){const Xt=ensureUint8Array(d.get("grp"));if(Xt.byteLength!==ALGORAND_TRANSACTION_GROUP_LENGTH)throw new Error(`Invalid group length: ${Xt.byteLength}`);Ut.group=Xt}return Ut}estimateSize(){return this.toByte().length+NUM_ADDL_BYTES_AFTER_SIGNING}bytesToSign(){const d=this.toByte();return concatArrays(TX_TAG,d)}toByte(){return encodeMsgpack(this)}rawSignTxn(d){const Mt=this.bytesToSign();return sign(Mt,d)}signTxn(d){const Mt=keyPairFromSecretKey(d),Ot=new Address(Mt.publicKey),Ft=this.rawSignTxn(d);return this.attachSignature(Ot,Ft)}attachSignature(d,Mt){if(!isValidSignatureLength(Mt.length))throw new Error("Invalid signature length");const Ot=new Map([["sig",Mt],["txn",this.toEncodingData()]]),Ft=ensureAddress(d);this.sender.equals(Ft)||Ot.set("sgnr",Ft);const Ut=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:Hs.encodingSchema},{key:"sig",valueSchema:new FixedLengthByteArraySchema(64)},{key:"sgnr",valueSchema:new OptionalSchema(new AddressSchema)}]));return msgpackRawEncode(Ut.prepareMsgpack(Ot))}rawTxID(){const d=this.toByte(),Mt=concatArrays(TX_TAG,d);return Uint8Array.from(genericHash(Mt))}txID(){const d=this.rawTxID();return base32.encode(d).slice(0,ALGORAND_TRANSACTION_LENGTH)}};Transaction$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"type",valueSchema:new StringSchema},{key:"snd",valueSchema:new AddressSchema},{key:"lv",valueSchema:new Uint64Schema},{key:"gen",valueSchema:new OptionalSchema(new StringSchema)},{key:"gh",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"fee",valueSchema:new Uint64Schema},{key:"fv",valueSchema:new Uint64Schema},{key:"note",valueSchema:new ByteArraySchema},{key:"lx",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"rekey",valueSchema:new OptionalSchema(new AddressSchema)},{key:"grp",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"amt",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rcv",valueSchema:new OptionalSchema(new AddressSchema)},{key:"close",valueSchema:new OptionalSchema(new AddressSchema)},{key:"votekey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"selkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"sprfkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"votefst",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"votelst",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"votekd",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"nonpart",valueSchema:new OptionalSchema(new BooleanSchema)},{key:"caid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apar",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema},{key:"dc",valueSchema:new Uint64Schema},{key:"df",valueSchema:new BooleanSchema},{key:"m",valueSchema:new OptionalSchema(new AddressSchema)},{key:"r",valueSchema:new OptionalSchema(new AddressSchema)},{key:"f",valueSchema:new OptionalSchema(new AddressSchema)},{key:"c",valueSchema:new OptionalSchema(new AddressSchema)},{key:"un",valueSchema:new OptionalSchema(new StringSchema)},{key:"an",valueSchema:new OptionalSchema(new StringSchema)},{key:"au",valueSchema:new OptionalSchema(new StringSchema)},{key:"am",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))}])))},{key:"xaid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"aamt",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"arcv",valueSchema:new OptionalSchema(new AddressSchema)},{key:"aclose",valueSchema:new OptionalSchema(new AddressSchema)},{key:"asnd",valueSchema:new OptionalSchema(new AddressSchema)},{key:"faid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"afrz",valueSchema:new OptionalSchema(new BooleanSchema)},{key:"fadd",valueSchema:new OptionalSchema(new AddressSchema)},{key:"apid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apan",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apaa",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema))},{key:"apat",valueSchema:new OptionalSchema(new ArraySchema(new AddressSchema))},{key:"apas",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema))},{key:"apfa",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema))},{key:"apbx",valueSchema:new OptionalSchema(new ArraySchema(new NamedMapSchema(allOmitEmpty([{key:"i",valueSchema:new Uint64Schema},{key:"n",valueSchema:new ByteArraySchema}]))))},{key:"apap",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"apsu",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"apls",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}])))},{key:"apgs",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}])))},{key:"apep",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"sptype",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"sp",valueSchema:new OptionalSchema(StateProof$2.encodingSchema)},{key:"spmsg",valueSchema:new OptionalSchema(StateProofMessage$1.encodingSchema)},{key:"hb",valueSchema:new OptionalSchema(Heartbeat.encodingSchema)}]));function encodeUnsignedTransaction(_e){return encodeMsgpack(_e)}function decodeUnsignedTransaction(_e){return decodeMsgpack(_e,Transaction$1)}const MULTISIG_PREIMG2ADDR_PREFIX=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),INVALID_MSIG_VERSION_ERROR_MSG="invalid multisig version",INVALID_MSIG_THRESHOLD_ERROR_MSG="bad multisig threshold",INVALID_MSIG_PK_ERROR_MSG="bad multisig public key - wrong length",UNEXPECTED_PK_LEN_ERROR_MSG="nacl public key length is not 32 bytes";function pksFromAddresses(_e){return _e.map(d=>typeof d=="string"?Address.fromString(d).publicKey:d.publicKey)}function addressFromMultisigPreImg({version:_e,threshold:d,pks:Mt}){if(_e!==1||_e>255||_e<0)throw new Error(INVALID_MSIG_VERSION_ERROR_MSG);if(d===0||Mt.length===0||d>Mt.length||d>255)throw new Error(INVALID_MSIG_THRESHOLD_ERROR_MSG);const Ot=ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH;if(Ot!==PUBLIC_KEY_LENGTH)throw new Error(UNEXPECTED_PK_LEN_ERROR_MSG);const Ft=new Uint8Array(MULTISIG_PREIMG2ADDR_PREFIX.length+2+Ot*Mt.length);Ft.set(MULTISIG_PREIMG2ADDR_PREFIX,0),Ft.set([_e],MULTISIG_PREIMG2ADDR_PREFIX.length),Ft.set([d],MULTISIG_PREIMG2ADDR_PREFIX.length+1);for(let Ut=0;Ut<Mt.length;Ut++){if(Mt[Ut].length!==Ot)throw new Error(INVALID_MSIG_PK_ERROR_MSG);Ft.set(Mt[Ut],MULTISIG_PREIMG2ADDR_PREFIX.length+2+Ut*Ot)}return new Address(Uint8Array.from(genericHash(Ft)))}function addressFromMultisigPreImgAddrs({version:_e,threshold:d,addrs:Mt}){const Ot=pksFromAddresses(Mt);return addressFromMultisigPreImg({version:_e,threshold:d,pks:Ot})}function verifyMultisig(_e,d,Mt){const Ot=d.v,Ft=d.thr,Ut=d.subsig,Xt=Ut.map(fn=>fn.pk);if(d.subsig.length<Ft)return!1;let jr;try{jr=addressFromMultisigPreImg({version:Ot,threshold:Ft,pks:Xt}).publicKey}catch{return!1}if(!arrayEqual(jr,Mt))return!1;let hn=0;for(const fn of Ut)fn.s!==void 0&&(hn+=1);if(hn<Ft)return!1;let Vr=0;for(const fn of Ut)fn.s!==void 0&&verify(_e,fn.s,fn.pk)&&(Vr+=1);return!(Vr<Ft)}function multisigAddress({version:_e,threshold:d,addrs:Mt}){return addressFromMultisigPreImgAddrs({version:_e,threshold:d,addrs:Mt})}const ENCODED_SUBSIG_SCHEMA=new NamedMapSchema(allOmitEmpty([{key:"pk",valueSchema:new FixedLengthByteArraySchema(32)},{key:"s",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))}]));function encodedSubsigFromEncodingData(_e){if(!(_e instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${_e}`);const d={pk:_e.get("pk")};return _e.get("s")&&(d.s=_e.get("s")),d}function encodedSubsigToEncodingData(_e){const d=new Map([["pk",_e.pk]]);return _e.s&&d.set("s",_e.s),d}const ENCODED_MULTISIG_SCHEMA=new NamedMapSchema(allOmitEmpty([{key:"v",valueSchema:new Uint64Schema},{key:"thr",valueSchema:new Uint64Schema},{key:"subsig",valueSchema:new ArraySchema(ENCODED_SUBSIG_SCHEMA)}]));function encodedMultiSigFromEncodingData(_e){if(!(_e instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${_e}`);return{v:ensureSafeUnsignedInteger(_e.get("v")),thr:ensureSafeUnsignedInteger(_e.get("thr")),subsig:_e.get("subsig").map(encodedSubsigFromEncodingData)}}function encodedMultiSigToEncodingData(_e){return new Map([["v",_e.v],["thr",_e.thr],["subsig",_e.subsig.map(encodedSubsigToEncodingData)]])}const base64regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function sanityCheckProgram(_e){if(!_e||_e.length===0)throw new Error("empty program");const d=10,Mt=32,Ot=126,Ft=Xt=>Mt<=Xt&&Xt<=Ot;if(_e.every(Xt=>Xt===d||Ft(Xt))){const Xt=new TextDecoder().decode(_e);throw isValidAddress(Xt)?new Error("requesting program bytes, get Algorand address"):base64regex.test(Xt)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const programTag=new TextEncoder().encode("Program");class LogicSig{constructor(d,Mt){if(Mt&&(!Array.isArray(Mt)||!Mt.every(Ft=>Ft.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let Ot=[];Mt!=null&&(Ot=Mt.map(Ft=>new Uint8Array(Ft))),sanityCheckProgram(d),this.logic=d,this.args=Ot,this.sig=void 0,this.msig=void 0}getEncodingSchema(){return LogicSig.encodingSchema}toEncodingData(){const d=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&d.set("msig",encodedMultiSigToEncodingData(this.msig)),d}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded logic sig: ${d}`);const Mt=new LogicSig(d.get("l"),d.get("arg"));return Mt.sig=d.get("sig"),d.get("msig")&&(Mt.msig=encodedMultiSigFromEncodingData(d.get("msig"))),Mt}verify(d){if(this.sig&&this.msig)return!1;try{sanityCheckProgram(this.logic)}catch{return!1}const Mt=concatArrays(programTag,this.logic);if(!this.sig&&!this.msig){const Ot=genericHash(Mt);return arrayEqual(Ot,d)}return this.sig?verify(Mt,this.sig,d):verifyMultisig(Mt,this.msig,d)}address(){const d=concatArrays(programTag,this.logic),Mt=genericHash(d);return new Address(Uint8Array.from(Mt))}sign(d,Mt){if(Mt==null)this.sig=this.signProgram(d);else{const Ot=pksFromAddresses(Mt.addrs).map(Xt=>({pk:Xt}));this.msig={v:Mt.version,thr:Mt.threshold,subsig:Ot};const[Ft,Ut]=this.singleSignMultisig(d,this.msig);this.msig.subsig[Ut].s=Ft}}appendToMultisig(d){if(this.msig===void 0)throw new Error("no multisig present");const[Mt,Ot]=this.singleSignMultisig(d,this.msig);this.msig.subsig[Ot].s=Mt}signProgram(d){const Mt=concatArrays(programTag,this.logic);return sign(Mt,d)}singleSignMultisig(d,Mt){let Ot=-1;const Ft=keyPairFromSecretKey(d).publicKey;for(let Xt=0;Xt<Mt.subsig.length;Xt++){const{pk:jr}=Mt.subsig[Xt];if(arrayEqual(jr,Ft)){Ot=Xt;break}}if(Ot===-1)throw new Error("invalid secret key");return[this.signProgram(d),Ot]}toByte(){return encodeMsgpack(this)}static fromByte(d){return decodeMsgpack(d,LogicSig)}}LogicSig.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"l",valueSchema:new ByteArraySchema},{key:"arg",valueSchema:new ArraySchema(new ByteArraySchema)},{key:"sig",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"msig",valueSchema:new OptionalSchema(ENCODED_MULTISIG_SCHEMA)}]));let LogicSigAccount$1=class Ws{constructor(d,Mt){this.lsig=new LogicSig(d,Mt),this.sigkey=void 0}getEncodingSchema(){return Ws.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded logic sig account: ${d}`);const Mt=d,Ot=LogicSig.fromEncodingData(Mt.get("lsig")),Ft=new Ws(Ot.logic,Ot.args);return Ft.lsig=Ot,Ft.sigkey=Mt.get("sigkey"),Ft}toByte(){return encodeMsgpack(this)}static fromByte(d){return decodeMsgpack(d,Ws)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const d=this.address();return this.lsig.verify(d.publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new Address(this.sigkey)}if(this.lsig.msig){const d={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(Mt=>Mt.pk)};return addressFromMultisigPreImg(d)}return this.lsig.address()}signMultisig(d,Mt){this.lsig.sign(Mt,d)}appendToMultisig(d){this.lsig.appendToMultisig(d)}sign(d){this.lsig.sign(d),this.sigkey=keyPairFromSecretKey(d).publicKey}};LogicSigAccount$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"lsig",valueSchema:LogicSig.encodingSchema},{key:"sigkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))}]));function logicSigFromByte(_e){return decodeMsgpack(_e,LogicSig)}const SIGN_PROGRAM_DATA_PREFIX=new TextEncoder().encode("ProgData");function tealSign(_e,d,Mt){const Ot=typeof Mt=="string"?Address.fromString(Mt):Mt,Ft=concatArrays(Ot.publicKey,d),Ut=concatArrays(SIGN_PROGRAM_DATA_PREFIX,Ft);return sign(Ut,_e)}function verifyTealSign(_e,d,Mt,Ot){const Ft=typeof d=="string"?Address.fromString(d):d,Ut=concatArrays(Ft.publicKey,_e),Xt=concatArrays(SIGN_PROGRAM_DATA_PREFIX,Ut);return verify(Xt,Mt,Ot)}function tealSignFromProgram(_e,d,Mt){const Ft=new LogicSig(Mt).address();return tealSign(_e,d,Ft)}class SignedTransaction{constructor({txn:d,sig:Mt,msig:Ot,lsig:Ft,sgnr:Ut}){this.txn=d,this.sig=Mt,this.msig=Ot,this.lsig=Ft,this.sgnr=Ut;let Xt=0;if(Mt&&(Xt+=1),Ot&&(Xt+=1),Ft&&(Xt+=1),Xt>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${Xt}`)}getEncodingSchema(){return SignedTransaction.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?encodedMultiSigToEncodingData(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${d}`);return new SignedTransaction({txn:Transaction$1.fromEncodingData(d.get("txn")),sig:d.get("sig"),msig:d.get("msig")?encodedMultiSigFromEncodingData(d.get("msig")):void 0,lsig:d.get("lsig")?LogicSig.fromEncodingData(d.get("lsig")):void 0,sgnr:d.get("sgnr")})}}SignedTransaction.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:Transaction$1.encodingSchema},{key:"sig",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"msig",valueSchema:new OptionalSchema(ENCODED_MULTISIG_SCHEMA)},{key:"lsig",valueSchema:new OptionalSchema(LogicSig.encodingSchema)},{key:"sgnr",valueSchema:new OptionalSchema(new AddressSchema)}]));function decodeSignedTransaction(_e){return decodeMsgpack(_e,SignedTransaction)}function encodeUnsignedSimulateTransaction(_e){const d=new SignedTransaction({txn:_e});return encodeMsgpack(d)}class StateProofTrackingData{constructor(d){this.stateProofVotersCommitment=d.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=d.stateProofOnlineTotalWeight,this.stateProofNextRound=d.stateProofNextRound}getEncodingSchema(){return StateProofTrackingData.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${d}`);return new StateProofTrackingData({stateProofVotersCommitment:d.get("v"),stateProofOnlineTotalWeight:d.get("t"),stateProofNextRound:d.get("n")})}}StateProofTrackingData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"v",valueSchema:new ByteArraySchema},{key:"t",valueSchema:new Uint64Schema},{key:"n",valueSchema:new Uint64Schema}]));class TxnCommitments{constructor(d){this.nativeSha512_256Commitment=d.nativeSha512_256Commitment,this.sha256Commitment=d.sha256Commitment}getEncodingSchema(){return TxnCommitments.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${d}`);return new TxnCommitments({nativeSha512_256Commitment:d.get("txn"),sha256Commitment:d.get("txn256")})}}TxnCommitments.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:new FixedLengthByteArraySchema(32)},{key:"txn256",valueSchema:new FixedLengthByteArraySchema(32)}]));class RewardState{constructor(d){this.feeSink=d.feeSink,this.rewardsPool=d.rewardsPool,this.rewardsLevel=d.rewardsLevel,this.rewardsRate=d.rewardsRate,this.rewardsResidue=d.rewardsResidue,this.rewardsRecalculationRound=d.rewardsRecalculationRound}getEncodingSchema(){return RewardState.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded RewardState: ${d}`);return new RewardState({feeSink:d.get("fees"),rewardsPool:d.get("rwd"),rewardsLevel:d.get("earn"),rewardsRate:d.get("rate"),rewardsResidue:d.get("frac"),rewardsRecalculationRound:d.get("rwcalr")})}}RewardState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"fees",valueSchema:new AddressSchema},{key:"rwd",valueSchema:new AddressSchema},{key:"earn",valueSchema:new Uint64Schema},{key:"rate",valueSchema:new Uint64Schema},{key:"frac",valueSchema:new Uint64Schema},{key:"rwcalr",valueSchema:new Uint64Schema}]));class UpgradeState{constructor(d){this.currentProtocol=d.currentProtocol,this.nextProtocol=d.nextProtocol,this.nextProtocolApprovals=d.nextProtocolApprovals,this.nextProtocolVoteBefore=d.nextProtocolVoteBefore,this.nextProtocolSwitchOn=d.nextProtocolSwitchOn}getEncodingSchema(){return UpgradeState.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${d}`);return new UpgradeState({currentProtocol:d.get("proto"),nextProtocol:d.get("nextproto"),nextProtocolApprovals:d.get("nextyes"),nextProtocolVoteBefore:d.get("nextbefore"),nextProtocolSwitchOn:d.get("nextswitch")})}}UpgradeState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"proto",valueSchema:new StringSchema},{key:"nextproto",valueSchema:new StringSchema},{key:"nextyes",valueSchema:new Uint64Schema},{key:"nextbefore",valueSchema:new Uint64Schema},{key:"nextswitch",valueSchema:new Uint64Schema}]));class UpgradeVote{constructor(d){this.upgradePropose=d.upgradePropose,this.upgradeDelay=d.upgradeDelay,this.upgradeApprove=d.upgradeApprove}getEncodingSchema(){return UpgradeVote.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${d}`);return new UpgradeVote({upgradePropose:d.get("upgradeprop"),upgradeDelay:d.get("upgradedelay"),upgradeApprove:d.get("upgradeyes")})}}UpgradeVote.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"upgradeprop",valueSchema:new StringSchema},{key:"upgradedelay",valueSchema:new Uint64Schema},{key:"upgradeyes",valueSchema:new BooleanSchema}]));let ParticipationUpdates$1=class Il{constructor(d){this.expiredParticipationAccounts=d.expiredParticipationAccounts,this.absentParticipationAccounts=d.absentParticipationAccounts}getEncodingSchema(){return Il.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${d}`);return new Il({expiredParticipationAccounts:d.get("partupdrmv"),absentParticipationAccounts:d.get("partupdabs")})}};ParticipationUpdates$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"partupdrmv",valueSchema:new ArraySchema(new AddressSchema)},{key:"partupdabs",valueSchema:new ArraySchema(new AddressSchema)}]));class BlockHeader{constructor(d){this.round=d.round,this.branch=d.branch,this.seed=d.seed,this.txnCommitments=d.txnCommitments,this.timestamp=d.timestamp,this.genesisID=d.genesisID,this.genesisHash=d.genesisHash,this.proposer=d.proposer,this.feesCollected=d.feesCollected,this.bonus=d.bonus,this.proposerPayout=d.proposerPayout,this.rewardState=d.rewardState,this.upgradeState=d.upgradeState,this.upgradeVote=d.upgradeVote,this.txnCounter=d.txnCounter,this.stateproofTracking=d.stateproofTracking,this.participationUpdates=d.participationUpdates}getEncodingSchema(){return BlockHeader.encodingSchema}toEncodingData(){const d=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",convertMap(this.stateproofTracking,(Mt,Ot)=>[Mt,Ot.toEncodingData()])]]);return combineMaps(d,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${d}`);return new BlockHeader({round:d.get("rnd"),branch:d.get("prev"),seed:d.get("seed"),txnCommitments:TxnCommitments.fromEncodingData(d),timestamp:d.get("ts"),genesisID:d.get("gen"),genesisHash:d.get("gh"),proposer:d.get("prp"),feesCollected:d.get("fc"),bonus:d.get("bi"),proposerPayout:d.get("pp"),rewardState:RewardState.fromEncodingData(d),upgradeState:UpgradeState.fromEncodingData(d),upgradeVote:UpgradeVote.fromEncodingData(d),txnCounter:d.get("tc"),stateproofTracking:convertMap(d.get("spt"),(Mt,Ot)=>[Number(Mt),StateProofTrackingData.fromEncodingData(Ot)]),participationUpdates:ParticipationUpdates$1.fromEncodingData(d)})}}BlockHeader.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"rnd",valueSchema:new Uint64Schema},{key:"prev",valueSchema:new BlockHashSchema},{key:"seed",valueSchema:new ByteArraySchema},{key:"",valueSchema:TxnCommitments.encodingSchema,embedded:!0},{key:"ts",valueSchema:new Uint64Schema},{key:"gen",valueSchema:new StringSchema},{key:"gh",valueSchema:new FixedLengthByteArraySchema(32)},{key:"prp",valueSchema:new AddressSchema},{key:"fc",valueSchema:new Uint64Schema},{key:"bi",valueSchema:new Uint64Schema},{key:"pp",valueSchema:new Uint64Schema},{key:"",valueSchema:RewardState.encodingSchema,embedded:!0},{key:"",valueSchema:UpgradeState.encodingSchema,embedded:!0},{key:"",valueSchema:UpgradeVote.encodingSchema,embedded:!0},{key:"tc",valueSchema:new Uint64Schema},{key:"spt",valueSchema:new Uint64MapSchema(StateProofTrackingData.encodingSchema)},{key:"",valueSchema:ParticipationUpdates$1.encodingSchema,embedded:!0}]));class ValueDelta{constructor(d){this.action=d.action,this.bytes=d.bytes,this.uint=d.uint}getEncodingSchema(){return ValueDelta.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${d}`);return new ValueDelta({action:Number(d.get("at")),bytes:d.get("bs"),uint:d.get("ui")})}}ValueDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"at",valueSchema:new Uint64Schema},{key:"bs",valueSchema:new SpecialCaseBinaryStringSchema},{key:"ui",valueSchema:new Uint64Schema}]));let EvalDelta$2=class Bl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"gd",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringMapSchema(ValueDelta.encodingSchema))},{key:"ld",valueSchema:new OptionalSchema(new Uint64MapSchema(new SpecialCaseBinaryStringMapSchema(ValueDelta.encodingSchema)))},{key:"sa",valueSchema:new OptionalSchema(new ArraySchema(new AddressSchema))},{key:"lg",valueSchema:new OptionalSchema(new ArraySchema(new SpecialCaseBinaryStringSchema))},{key:"itx",valueSchema:new OptionalSchema(new ArraySchema(SignedTxnWithAD.encodingSchema))}]))),this.encodingSchemaValue}constructor(d){this.globalDelta=d.globalDelta??new Map,this.localDeltas=d.localDeltas??new Map,this.sharedAccts=d.sharedAccts??[],this.logs=d.logs??[],this.innerTxns=d.innerTxns??[]}getEncodingSchema(){return Bl.encodingSchema}toEncodingData(){return new Map([["gd",convertMap(this.globalDelta,(d,Mt)=>[d,Mt.toEncodingData()])],["ld",convertMap(this.localDeltas,(d,Mt)=>[d,convertMap(Mt,(Ot,Ft)=>[Ot,Ft.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${d}`);return new Bl({globalDelta:d.get("gd")?convertMap(d.get("gd"),(Mt,Ot)=>[Mt,ValueDelta.fromEncodingData(Ot)]):void 0,localDeltas:d.get("ld")?convertMap(d.get("ld"),(Mt,Ot)=>[Number(Mt),convertMap(Ot,(Ft,Ut)=>[Ft,ValueDelta.fromEncodingData(Ut)])]):void 0,sharedAccts:d.get("sa"),logs:d.get("lg"),innerTxns:(d.get("itx")??[]).map(SignedTxnWithAD.fromEncodingData)})}};class ApplyData{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"ca",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"aca",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rs",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rr",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rc",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"dt",valueSchema:new OptionalSchema(EvalDelta$2.encodingSchema)},{key:"caid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apid",valueSchema:new OptionalSchema(new Uint64Schema)}]))),this.encodingSchemaValue}constructor(d){this.closingAmount=d.closingAmount,this.assetClosingAmount=d.assetClosingAmount,this.senderRewards=d.senderRewards,this.receiverRewards=d.receiverRewards,this.closeRewards=d.closeRewards,this.evalDelta=d.evalDelta,this.configAsset=d.configAsset,this.applicationID=d.applicationID}getEncodingSchema(){return ApplyData.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplyData: ${d}`);return new ApplyData({closingAmount:d.get("ca"),assetClosingAmount:d.get("aca"),senderRewards:d.get("rs"),receiverRewards:d.get("rr"),closeRewards:d.get("rc"),evalDelta:d.get("dt")?EvalDelta$2.fromEncodingData(d.get("dt")):void 0,configAsset:d.get("caid"),applicationID:d.get("apid")})}}class SignedTxnWithAD{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"",valueSchema:SignedTransaction.encodingSchema,embedded:!0},{key:"",valueSchema:ApplyData.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(d){this.signedTxn=d.signedTxn,this.applyData=d.applyData}getEncodingSchema(){return SignedTxnWithAD.encodingSchema}toEncodingData(){return combineMaps(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${d}`);return new SignedTxnWithAD({signedTxn:SignedTransaction.fromEncodingData(d),applyData:ApplyData.fromEncodingData(d)})}}class SignedTxnInBlock{constructor(d){this.signedTxn=d.signedTxn,this.hasGenesisID=d.hasGenesisID,this.hasGenesisHash=d.hasGenesisHash}getEncodingSchema(){return SignedTxnInBlock.encodingSchema}toEncodingData(){const d=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return combineMaps(d,this.signedTxn.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${d}`);return new SignedTxnInBlock({signedTxn:SignedTxnWithAD.fromEncodingData(d),hasGenesisID:d.get("hgi"),hasGenesisHash:d.get("hgh")})}}SignedTxnInBlock.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:SignedTxnWithAD.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new BooleanSchema},{key:"hgh",valueSchema:new BooleanSchema}]));let Block$2=class $l{constructor(d){this.header=d.header,this.payset=d.payset}getEncodingSchema(){return $l.encodingSchema}toEncodingData(){const d=new Map([["txns",this.payset.map(Mt=>Mt.toEncodingData())]]);return combineMaps(d,this.header.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${d}`);return new $l({header:BlockHeader.fromEncodingData(d),payset:d.get("txns").map(SignedTxnInBlock.fromEncodingData)})}};Block$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:BlockHeader.encodingSchema,embedded:!0},{key:"txns",valueSchema:new ArraySchema(SignedTxnInBlock.encodingSchema)}]));class UntypedValue{constructor(d){this.data=d}getEncodingSchema(){return UntypedValue.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(d){return new UntypedValue(d)}}UntypedValue.encodingSchema=new UntypedSchema;let TealValue$2=class Dl{constructor(d){this.type=d.type,this.bytes=d.bytes,this.uint=d.uint}getEncodingSchema(){return Dl.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TealValue: ${d}`);return new Dl({type:Number(d.get("tt")),bytes:d.get("tb"),uint:d.get("ui")})}};TealValue$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"tt",valueSchema:new Uint64Schema},{key:"tb",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"ui",valueSchema:new OptionalSchema(new Uint64Schema)}]));let StateSchema$1=class Cl{constructor(d){this.numUints=d.numUints,this.numByteSlices=d.numByteSlices}getEncodingSchema(){return Cl.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateSchema: ${d}`);return new Cl({numUints:Number(d.get("nui")),numByteSlices:Number(d.get("nbs"))})}};StateSchema$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}]));class AppParams{constructor(d){this.approvalProgram=d.approvalProgram,this.clearStateProgram=d.clearStateProgram,this.globalState=d.globalState,this.localStateSchema=d.localStateSchema,this.globalStateSchema=d.globalStateSchema,this.extraProgramPages=d.extraProgramPages}getEncodingSchema(){return AppParams.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",convertMap(this.globalState,(d,Mt)=>[d,Mt.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppParams: ${d}`);return new AppParams({approvalProgram:d.get("approv"),clearStateProgram:d.get("clearp"),globalState:convertMap(d.get("gs"),(Mt,Ot)=>[Mt,TealValue$2.fromEncodingData(Ot)]),localStateSchema:StateSchema$1.fromEncodingData(d.get("lsch")),globalStateSchema:StateSchema$1.fromEncodingData(d.get("gsch")),extraProgramPages:Number(d.get("epp"))})}}AppParams.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"approv",valueSchema:new ByteArraySchema},{key:"clearp",valueSchema:new ByteArraySchema},{key:"gs",valueSchema:new SpecialCaseBinaryStringMapSchema(TealValue$2.encodingSchema)},{key:"lsch",valueSchema:StateSchema$1.encodingSchema},{key:"gsch",valueSchema:StateSchema$1.encodingSchema},{key:"epp",valueSchema:new Uint64Schema}]));class AppLocalState{constructor(d){this.schema=d.schema,this.keyValue=d.keyValue}getEncodingSchema(){return AppLocalState.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",convertMap(this.keyValue,(d,Mt)=>[d,Mt.toEncodingData()])]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${d}`);return new AppLocalState({schema:StateSchema$1.fromEncodingData(d.get("hsch")),keyValue:convertMap(d.get("tkv"),(Mt,Ot)=>[Mt,TealValue$2.fromEncodingData(Ot)])})}}AppLocalState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"hsch",valueSchema:StateSchema$1.encodingSchema},{key:"tkv",valueSchema:new SpecialCaseBinaryStringMapSchema(TealValue$2.encodingSchema)}]));class AppLocalStateDelta{constructor(d){this.localState=d.localState,this.deleted=d.deleted}getEncodingSchema(){return AppLocalStateDelta.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${d}`);return new AppLocalStateDelta({localState:d.get("LocalState")?AppLocalState.fromEncodingData(d.get("LocalState")):void 0,deleted:d.get("Deleted")})}}AppLocalStateDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"LocalState",valueSchema:new OptionalSchema(AppLocalState.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AppParamsDelta{constructor(d){this.params=d.params,this.deleted=d.deleted}getEncodingSchema(){return AppParamsDelta.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${d}`);return new AppParamsDelta({params:d.get("Params")?AppParams.fromEncodingData(d.get("Params")):void 0,deleted:d.get("Deleted")})}}AppParamsDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Params",valueSchema:new OptionalSchema(AppParams.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AppResourceRecord{constructor(d){this.id=d.id,this.address=d.address,this.params=d.params,this.state=d.state}getEncodingSchema(){return AppResourceRecord.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${d}`);return new AppResourceRecord({id:d.get("Aidx"),address:d.get("Addr"),params:AppParamsDelta.fromEncodingData(d.get("Params")),state:AppLocalStateDelta.fromEncodingData(d.get("State"))})}}AppResourceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Aidx",valueSchema:new Uint64Schema},{key:"Addr",valueSchema:new AddressSchema},{key:"Params",valueSchema:AppParamsDelta.encodingSchema},{key:"State",valueSchema:AppLocalStateDelta.encodingSchema}]));let AssetHolding$2=class Ol{constructor(d){this.amount=d.amount,this.frozen=d.frozen}getEncodingSchema(){return Ol.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${d}`);return new Ol({amount:d.get("a"),frozen:d.get("f")})}};AssetHolding$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"a",valueSchema:new Uint64Schema},{key:"f",valueSchema:new BooleanSchema}]));class AssetHoldingDelta{constructor(d){this.holding=d.holding,this.deleted=d.deleted}getEncodingSchema(){return AssetHoldingDelta.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${d}`);return new AssetHoldingDelta({holding:d.get("Holding")?AssetHolding$2.fromEncodingData(d.get("Holding")):void 0,deleted:d.get("Deleted")})}}AssetHoldingDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Holding",valueSchema:new OptionalSchema(AssetHolding$2.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));let AssetParams$2=class Nl{constructor(d){this.total=d.total,this.decimals=d.decimals,this.defaultFrozen=d.defaultFrozen,this.unitName=d.unitName,this.assetName=d.assetName,this.url=d.url,this.metadataHash=d.metadataHash,this.manager=d.manager,this.reserve=d.reserve,this.freeze=d.freeze,this.clawback=d.clawback}getEncodingSchema(){return Nl.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetParams: ${d}`);return new Nl({total:d.get("t"),decimals:d.get("dc"),defaultFrozen:d.get("df"),unitName:d.get("un"),assetName:d.get("an"),url:d.get("au"),metadataHash:d.get("am"),manager:d.get("m"),reserve:d.get("r"),freeze:d.get("f"),clawback:d.get("c")})}};AssetParams$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema},{key:"dc",valueSchema:new Uint64Schema},{key:"df",valueSchema:new BooleanSchema},{key:"un",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"an",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"au",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"am",valueSchema:new FixedLengthByteArraySchema(32)},{key:"m",valueSchema:new OptionalSchema(new AddressSchema)},{key:"r",valueSchema:new OptionalSchema(new AddressSchema)},{key:"f",valueSchema:new OptionalSchema(new AddressSchema)},{key:"c",valueSchema:new OptionalSchema(new AddressSchema)}]));class AssetParamsDelta{constructor(d){this.params=d.params,this.deleted=d.deleted}getEncodingSchema(){return AssetParamsDelta.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${d}`);return new AssetParamsDelta({params:d.get("Params")?AssetParams$2.fromEncodingData(d.get("Params")):void 0,deleted:d.get("Deleted")})}}AssetParamsDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Params",valueSchema:new OptionalSchema(AssetParams$2.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AssetResourceRecord{constructor(d){this.id=d.id,this.address=d.address,this.params=d.params,this.holding=d.holding}getEncodingSchema(){return AssetResourceRecord.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${d}`);return new AssetResourceRecord({id:d.get("Aidx"),address:d.get("Addr"),params:AssetParamsDelta.fromEncodingData(d.get("Params")),holding:AssetHoldingDelta.fromEncodingData(d.get("Holding"))})}}AssetResourceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Aidx",valueSchema:new Uint64Schema},{key:"Addr",valueSchema:new AddressSchema},{key:"Params",valueSchema:AssetParamsDelta.encodingSchema},{key:"Holding",valueSchema:AssetHoldingDelta.encodingSchema}]));class VotingData{constructor(d){this.voteID=d.voteID,this.selectionID=d.selectionID,this.stateProofID=d.stateProofID,this.voteFirstValid=d.voteFirstValid,this.voteLastValid=d.voteLastValid,this.voteKeyDilution=d.voteKeyDilution}getEncodingSchema(){return VotingData.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded VotingData: ${d}`);return new VotingData({voteID:d.get("VoteID"),selectionID:d.get("SelectionID"),stateProofID:d.get("StateProofID"),voteFirstValid:d.get("VoteFirstValid"),voteLastValid:d.get("VoteLastValid"),voteKeyDilution:d.get("VoteKeyDilution")})}}VotingData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"VoteID",valueSchema:new FixedLengthByteArraySchema(32)},{key:"SelectionID",valueSchema:new FixedLengthByteArraySchema(32)},{key:"StateProofID",valueSchema:new FixedLengthByteArraySchema(64)},{key:"VoteFirstValid",valueSchema:new Uint64Schema},{key:"VoteLastValid",valueSchema:new Uint64Schema},{key:"VoteKeyDilution",valueSchema:new Uint64Schema}]));class AccountBaseData{constructor(d){this.status=d.status,this.microAlgos=d.microAlgos,this.rewardsBase=d.rewardsBase,this.rewardedMicroAlgos=d.rewardedMicroAlgos,this.authAddr=d.authAddr,this.incentiveEligible=d.incentiveEligible,this.totalAppSchema=d.totalAppSchema,this.totalExtraAppPages=d.totalExtraAppPages,this.totalAppParams=d.totalAppParams,this.totalAppLocalStates=d.totalAppLocalStates,this.totalAssetParams=d.totalAssetParams,this.totalAssets=d.totalAssets,this.totalBoxes=d.totalBoxes,this.totalBoxBytes=d.totalBoxBytes,this.lastProposed=d.lastProposed,this.lastHeartbeat=d.lastHeartbeat}getEncodingSchema(){return AccountBaseData.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${d}`);return new AccountBaseData({status:Number(d.get("Status")),microAlgos:d.get("MicroAlgos"),rewardsBase:d.get("RewardsBase"),rewardedMicroAlgos:d.get("RewardedMicroAlgos"),authAddr:d.get("AuthAddr"),incentiveEligible:d.get("IncentiveEligible"),totalAppSchema:StateSchema$1.fromEncodingData(d.get("TotalAppSchema")),totalExtraAppPages:Number(d.get("TotalExtraAppPages")),totalAppParams:d.get("TotalAppParams"),totalAppLocalStates:d.get("TotalAppLocalStates"),totalAssetParams:d.get("TotalAssetParams"),totalAssets:d.get("TotalAssets"),totalBoxes:d.get("TotalBoxes"),totalBoxBytes:d.get("TotalBoxBytes"),lastProposed:d.get("LastProposed"),lastHeartbeat:d.get("LastHeartbeat")})}}AccountBaseData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Status",valueSchema:new Uint64Schema},{key:"MicroAlgos",valueSchema:new Uint64Schema},{key:"RewardsBase",valueSchema:new Uint64Schema},{key:"RewardedMicroAlgos",valueSchema:new Uint64Schema},{key:"AuthAddr",valueSchema:new AddressSchema},{key:"IncentiveEligible",valueSchema:new BooleanSchema},{key:"TotalAppSchema",valueSchema:StateSchema$1.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new Uint64Schema},{key:"TotalAppParams",valueSchema:new Uint64Schema},{key:"TotalAppLocalStates",valueSchema:new Uint64Schema},{key:"TotalAssetParams",valueSchema:new Uint64Schema},{key:"TotalAssets",valueSchema:new Uint64Schema},{key:"TotalBoxes",valueSchema:new Uint64Schema},{key:"TotalBoxBytes",valueSchema:new Uint64Schema},{key:"LastProposed",valueSchema:new Uint64Schema},{key:"LastHeartbeat",valueSchema:new Uint64Schema}]));class AccountData{constructor(d){this.accountBaseData=d.accountBaseData,this.votingData=d.votingData}getEncodingSchema(){return AccountData.encodingSchema}toEncodingData(){return combineMaps(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountData: ${d}`);return new AccountData({accountBaseData:AccountBaseData.fromEncodingData(d),votingData:VotingData.fromEncodingData(d)})}}AccountData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:AccountBaseData.encodingSchema,embedded:!0},{key:"",valueSchema:VotingData.encodingSchema,embedded:!0}]));class BalanceRecord{constructor(d){this.addr=d.addr,this.accountData=d.accountData}getEncodingSchema(){return BalanceRecord.encodingSchema}toEncodingData(){return combineMaps(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${d}`);return new BalanceRecord({addr:d.get("Addr"),accountData:AccountData.fromEncodingData(d)})}}BalanceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Addr",valueSchema:new AddressSchema},{key:"",valueSchema:AccountData.encodingSchema,embedded:!0}]));class AccountDeltas{constructor(d){this.accounts=d.accounts,this.appResources=d.appResources,this.assetResources=d.assetResources}getEncodingSchema(){return AccountDeltas.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(d=>d.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(d=>d.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${d}`);return new AccountDeltas({accounts:(d.get("Accts")??[]).map(BalanceRecord.fromEncodingData),appResources:(d.get("AppResources")??[]).map(AppResourceRecord.fromEncodingData),assetResources:(d.get("AssetResources")??[]).map(AssetResourceRecord.fromEncodingData)})}}AccountDeltas.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Accts",valueSchema:new ArraySchema(BalanceRecord.encodingSchema)},{key:"AppResources",valueSchema:new OptionalSchema(new ArraySchema(AppResourceRecord.encodingSchema))},{key:"AssetResources",valueSchema:new OptionalSchema(new ArraySchema(AssetResourceRecord.encodingSchema))}]));class KvValueDelta{constructor(d){this.data=d.data,this.oldData=d.oldData}getEncodingSchema(){return KvValueDelta.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${d}`);return new KvValueDelta({data:d.get("Data"),oldData:d.get("OldData")})}}KvValueDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Data",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"OldData",valueSchema:new OptionalSchema(new ByteArraySchema)}]));class IncludedTransactions{constructor(d){this.lastValid=d.lastValid,this.intra=d.intra}getEncodingSchema(){return IncludedTransactions.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${d}`);return new IncludedTransactions({lastValid:d.get("LastValid"),intra:Number(d.get("Intra"))})}}IncludedTransactions.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"LastValid",valueSchema:new Uint64Schema},{key:"Intra",valueSchema:new Uint64Schema}]));class ModifiedCreatable{constructor(d){this.creatableType=d.creatableType,this.created=d.created,this.creator=d.creator,this.ndeltas=d.ndeltas}getEncodingSchema(){return ModifiedCreatable.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${d}`);return new ModifiedCreatable({creatableType:Number(d.get("Ctype")),created:d.get("Created"),creator:d.get("Creator"),ndeltas:Number(d.get("Ndeltas"))})}}ModifiedCreatable.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Ctype",valueSchema:new Uint64Schema},{key:"Created",valueSchema:new BooleanSchema},{key:"Creator",valueSchema:new AddressSchema},{key:"Ndeltas",valueSchema:new Uint64Schema}]));class AlgoCount{constructor(d){this.money=d.money,this.rewardUnits=d.rewardUnits}getEncodingSchema(){return AlgoCount.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${d}`);return new AlgoCount({money:d.get("mon"),rewardUnits:d.get("rwd")})}}AlgoCount.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"mon",valueSchema:new Uint64Schema},{key:"rwd",valueSchema:new Uint64Schema}]));class AccountTotals{constructor(d){this.online=d.online,this.offline=d.offline,this.notParticipating=d.notParticipating,this.rewardsLevel=d.rewardsLevel}getEncodingSchema(){return AccountTotals.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${d}`);return new AccountTotals({online:AlgoCount.fromEncodingData(d.get("online")),offline:AlgoCount.fromEncodingData(d.get("offline")),notParticipating:AlgoCount.fromEncodingData(d.get("notpart")),rewardsLevel:d.get("rwdlvl")})}}AccountTotals.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"online",valueSchema:AlgoCount.encodingSchema},{key:"offline",valueSchema:AlgoCount.encodingSchema},{key:"notpart",valueSchema:AlgoCount.encodingSchema},{key:"rwdlvl",valueSchema:new Uint64Schema}]));class LedgerStateDelta{constructor(d){this.accounts=d.accounts,this.kvMods=d.kvMods,this.txids=d.txids,this.txleases=d.txleases,this.creatables=d.creatables,this.blockHeader=d.blockHeader,this.stateProofNext=d.stateProofNext,this.prevTimestamp=d.prevTimestamp,this.totals=d.totals}getEncodingSchema(){return LedgerStateDelta.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:convertMap(this.kvMods,(d,Mt)=>[d,Mt.toEncodingData()])],["Txids",convertMap(this.txids,(d,Mt)=>[d,Mt.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:convertMap(this.creatables,(d,Mt)=>[d,Mt.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${d}`);return new LedgerStateDelta({accounts:AccountDeltas.fromEncodingData(d.get("Accts")),kvMods:convertMap(d.get("KvMods")??new Map,(Mt,Ot)=>[Mt,KvValueDelta.fromEncodingData(Ot)]),txids:convertMap(d.get("Txids"),(Mt,Ot)=>[Mt,IncludedTransactions.fromEncodingData(Ot)]),txleases:UntypedValue.fromEncodingData(d.get("Txleases")),creatables:convertMap(d.get("Creatables")??new Map,(Mt,Ot)=>[Mt,ModifiedCreatable.fromEncodingData(Ot)]),blockHeader:BlockHeader.fromEncodingData(d.get("Hdr")),stateProofNext:d.get("StateProofNext"),prevTimestamp:d.get("PrevTimestamp"),totals:AccountTotals.fromEncodingData(d.get("Totals"))})}}LedgerStateDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Accts",valueSchema:AccountDeltas.encodingSchema},{key:"KvMods",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringMapSchema(KvValueDelta.encodingSchema))},{key:"Txids",valueSchema:new ByteArrayMapSchema(IncludedTransactions.encodingSchema)},{key:"Txleases",valueSchema:new OptionalSchema(new UntypedSchema)},{key:"Creatables",valueSchema:new OptionalSchema(new Uint64MapSchema(ModifiedCreatable.encodingSchema))},{key:"Hdr",valueSchema:BlockHeader.encodingSchema},{key:"StateProofNext",valueSchema:new Uint64Schema},{key:"PrevTimestamp",valueSchema:new Uint64Schema},{key:"Totals",valueSchema:AccountTotals.encodingSchema}]));let Account$2=class Pl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-balance",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"status",valueSchema:new StringSchema,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"apps-local-state",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalState$1.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(AssetHolding$1.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"created-apps",valueSchema:new OptionalSchema(new ArraySchema(Application$1.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new OptionalSchema(new ArraySchema(Asset$1.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-proposed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation",valueSchema:new OptionalSchema(AccountParticipation$1.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"total-boxes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,amount:Mt,amountWithoutPendingRewards:Ot,minBalance:Ft,pendingRewards:Ut,rewards:Xt,round:jr,status:hn,totalAppsOptedIn:Vr,totalAssetsOptedIn:fn,totalCreatedApps:dn,totalCreatedAssets:pn,appsLocalState:En,appsTotalExtraPages:_n,appsTotalSchema:Dn,assets:Vn,authAddr:Pn,createdApps:qn,createdAssets:jn,incentiveEligible:Hn,lastHeartbeat:Jn,lastProposed:Gn,participation:ba,rewardBase:eo,sigType:xa,totalBoxBytes:Yn,totalBoxes:Un}){this.address=d,this.amount=ensureBigInt(Mt),this.amountWithoutPendingRewards=ensureBigInt(Ot),this.minBalance=ensureBigInt(Ft),this.pendingRewards=ensureBigInt(Ut),this.rewards=ensureBigInt(Xt),this.round=ensureBigInt(jr),this.status=hn,this.totalAppsOptedIn=ensureSafeInteger(Vr),this.totalAssetsOptedIn=ensureSafeInteger(fn),this.totalCreatedApps=ensureSafeInteger(dn),this.totalCreatedAssets=ensureSafeInteger(pn),this.appsLocalState=En,this.appsTotalExtraPages=typeof _n>"u"?void 0:ensureSafeInteger(_n),this.appsTotalSchema=Dn,this.assets=Vn,this.authAddr=typeof Pn=="string"?Address.fromString(Pn):Pn,this.createdApps=qn,this.createdAssets=jn,this.incentiveEligible=Hn,this.lastHeartbeat=typeof Jn>"u"?void 0:ensureSafeInteger(Jn),this.lastProposed=typeof Gn>"u"?void 0:ensureSafeInteger(Gn),this.participation=ba,this.rewardBase=typeof eo>"u"?void 0:ensureBigInt(eo),this.sigType=xa,this.totalBoxBytes=typeof Yn>"u"?void 0:ensureSafeInteger(Yn),this.totalBoxes=typeof Un>"u"?void 0:ensureSafeInteger(Un)}getEncodingSchema(){return Pl.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(d=>d.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(d=>d.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(d=>d.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(d=>d.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Account: ${d}`);return new Pl({address:d.get("address"),amount:d.get("amount"),amountWithoutPendingRewards:d.get("amount-without-pending-rewards"),minBalance:d.get("min-balance"),pendingRewards:d.get("pending-rewards"),rewards:d.get("rewards"),round:d.get("round"),status:d.get("status"),totalAppsOptedIn:d.get("total-apps-opted-in"),totalAssetsOptedIn:d.get("total-assets-opted-in"),totalCreatedApps:d.get("total-created-apps"),totalCreatedAssets:d.get("total-created-assets"),appsLocalState:typeof d.get("apps-local-state")<"u"?d.get("apps-local-state").map(Mt=>ApplicationLocalState$1.fromEncodingData(Mt)):void 0,appsTotalExtraPages:d.get("apps-total-extra-pages"),appsTotalSchema:typeof d.get("apps-total-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(d.get("apps-total-schema")):void 0,assets:typeof d.get("assets")<"u"?d.get("assets").map(Mt=>AssetHolding$1.fromEncodingData(Mt)):void 0,authAddr:d.get("auth-addr"),createdApps:typeof d.get("created-apps")<"u"?d.get("created-apps").map(Mt=>Application$1.fromEncodingData(Mt)):void 0,createdAssets:typeof d.get("created-assets")<"u"?d.get("created-assets").map(Mt=>Asset$1.fromEncodingData(Mt)):void 0,incentiveEligible:d.get("incentive-eligible"),lastHeartbeat:d.get("last-heartbeat"),lastProposed:d.get("last-proposed"),participation:typeof d.get("participation")<"u"?AccountParticipation$1.fromEncodingData(d.get("participation")):void 0,rewardBase:d.get("reward-base"),sigType:d.get("sig-type"),totalBoxBytes:d.get("total-box-bytes"),totalBoxes:d.get("total-boxes")})}};class AccountApplicationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"app-local-state",valueSchema:new OptionalSchema(ApplicationLocalState$1.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new OptionalSchema(ApplicationParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:d,appLocalState:Mt,createdApp:Ot}){this.round=ensureBigInt(d),this.appLocalState=Mt,this.createdApp=Ot}getEncodingSchema(){return AccountApplicationResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${d}`);return new AccountApplicationResponse({round:d.get("round"),appLocalState:typeof d.get("app-local-state")<"u"?ApplicationLocalState$1.fromEncodingData(d.get("app-local-state")):void 0,createdApp:typeof d.get("created-app")<"u"?ApplicationParams$1.fromEncodingData(d.get("created-app")):void 0})}}class AccountAssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:AssetHolding$1.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new OptionalSchema(AssetParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:d,assetParams:Mt}){this.assetHolding=d,this.assetParams=Mt}getEncodingSchema(){return AccountAssetHolding.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${d}`);return new AccountAssetHolding({assetHolding:AssetHolding$1.fromEncodingData(d.get("asset-holding")??new Map),assetParams:typeof d.get("asset-params")<"u"?AssetParams$1.fromEncodingData(d.get("asset-params")):void 0})}}class AccountAssetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-holding",valueSchema:new OptionalSchema(AssetHolding$1.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new OptionalSchema(AssetParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:d,assetHolding:Mt,createdAsset:Ot}){this.round=ensureBigInt(d),this.assetHolding=Mt,this.createdAsset=Ot}getEncodingSchema(){return AccountAssetResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${d}`);return new AccountAssetResponse({round:d.get("round"),assetHolding:typeof d.get("asset-holding")<"u"?AssetHolding$1.fromEncodingData(d.get("asset-holding")):void 0,createdAsset:typeof d.get("created-asset")<"u"?AssetParams$1.fromEncodingData(d.get("created-asset")):void 0})}}class AccountAssetsInformationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-holdings",valueSchema:new OptionalSchema(new ArraySchema(AccountAssetHolding.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:d,assetHoldings:Mt,nextToken:Ot}){this.round=ensureSafeInteger(d),this.assetHoldings=Mt,this.nextToken=Ot}getEncodingSchema(){return AccountAssetsInformationResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(d=>d.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${d}`);return new AccountAssetsInformationResponse({round:d.get("round"),assetHoldings:typeof d.get("asset-holdings")<"u"?d.get("asset-holdings").map(Mt=>AccountAssetHolding.fromEncodingData(Mt)):void 0,nextToken:d.get("next-token")})}}let AccountParticipation$1=class Ll{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:d,voteFirstValid:Mt,voteKeyDilution:Ot,voteLastValid:Ft,voteParticipationKey:Ut,stateProofKey:Xt}){this.selectionParticipationKey=typeof d=="string"?base64ToBytes(d):d,this.voteFirstValid=ensureBigInt(Mt),this.voteKeyDilution=ensureBigInt(Ot),this.voteLastValid=ensureBigInt(Ft),this.voteParticipationKey=typeof Ut=="string"?base64ToBytes(Ut):Ut,this.stateProofKey=typeof Xt=="string"?base64ToBytes(Xt):Xt}getEncodingSchema(){return Ll.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${d}`);return new Ll({selectionParticipationKey:d.get("selection-participation-key"),voteFirstValid:d.get("vote-first-valid"),voteKeyDilution:d.get("vote-key-dilution"),voteLastValid:d.get("vote-last-valid"),voteParticipationKey:d.get("vote-participation-key"),stateProofKey:d.get("state-proof-key")})}},AccountStateDelta$1=class Ul{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"delta",valueSchema:new ArraySchema(EvalDeltaKeyValue$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,delta:Mt}){this.address=d,this.delta=Mt}getEncodingSchema(){return Ul.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${d}`);return new Ul({address:d.get("address"),delta:(d.get("delta")??[]).map(Mt=>EvalDeltaKeyValue$1.fromEncodingData(Mt))})}};class AppCallLogs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"logs",valueSchema:new ArraySchema(new ByteArraySchema),omitEmpty:!0},{key:"txId",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:d,logs:Mt,txid:Ot}){this.applicationIndex=ensureSafeInteger(d),this.logs=Mt,this.txid=Ot}getEncodingSchema(){return AppCallLogs.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${d}`);return new AppCallLogs({applicationIndex:d.get("application-index"),logs:d.get("logs"),txid:d.get("txId")})}}let Application$1=class Vl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:ApplicationParams$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:d,params:Mt}){this.id=ensureBigInt(d),this.params=Mt}getEncodingSchema(){return Vl.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Application: ${d}`);return new Vl({id:d.get("id"),params:ApplicationParams$1.fromEncodingData(d.get("params")??new Map)})}};class ApplicationInitialStates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"app-boxes",valueSchema:new OptionalSchema(ApplicationKVStorage.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new OptionalSchema(ApplicationKVStorage.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new OptionalSchema(new ArraySchema(ApplicationKVStorage.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:d,appBoxes:Mt,appGlobals:Ot,appLocals:Ft}){this.id=ensureBigInt(d),this.appBoxes=Mt,this.appGlobals=Ot,this.appLocals=Ft}getEncodingSchema(){return ApplicationInitialStates.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${d}`);return new ApplicationInitialStates({id:d.get("id"),appBoxes:typeof d.get("app-boxes")<"u"?ApplicationKVStorage.fromEncodingData(d.get("app-boxes")):void 0,appGlobals:typeof d.get("app-globals")<"u"?ApplicationKVStorage.fromEncodingData(d.get("app-globals")):void 0,appLocals:typeof d.get("app-locals")<"u"?d.get("app-locals").map(Mt=>ApplicationKVStorage.fromEncodingData(Mt)):void 0})}}class ApplicationKVStorage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new ArraySchema(AvmKeyValue.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:d,account:Mt}){this.kvs=d,this.account=typeof Mt=="string"?Address.fromString(Mt):Mt}getEncodingSchema(){return ApplicationKVStorage.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(d=>d.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${d}`);return new ApplicationKVStorage({kvs:(d.get("kvs")??[]).map(Mt=>AvmKeyValue.fromEncodingData(Mt)),account:d.get("account")})}}class ApplicationLocalReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new StringSchema,omitEmpty:!0},{key:"app",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:d,app:Mt}){this.account=typeof d=="string"?Address.fromString(d):d,this.app=ensureBigInt(Mt)}getEncodingSchema(){return ApplicationLocalReference.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${d}`);return new ApplicationLocalReference({account:d.get("account"),app:d.get("app")})}}let ApplicationLocalState$1=class Fl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"schema",valueSchema:ApplicationStateSchema$1.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue$1.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:d,schema:Mt,keyValue:Ot}){this.id=ensureBigInt(d),this.schema=Mt,this.keyValue=Ot}getEncodingSchema(){return Fl.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${d}`);return new Fl({id:d.get("id"),schema:ApplicationStateSchema$1.fromEncodingData(d.get("schema")??new Map),keyValue:typeof d.get("key-value")<"u"?d.get("key-value").map(Mt=>TealKeyValue$1.fromEncodingData(Mt)):void 0})}},ApplicationParams$1=class zl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:d,clearStateProgram:Mt,creator:Ot,extraProgramPages:Ft,globalState:Ut,globalStateSchema:Xt,localStateSchema:jr,version:hn}){this.approvalProgram=typeof d=="string"?base64ToBytes(d):d,this.clearStateProgram=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.creator=typeof Ot=="string"?Address.fromString(Ot):Ot,this.extraProgramPages=typeof Ft>"u"?void 0:ensureSafeInteger(Ft),this.globalState=Ut,this.globalStateSchema=Xt,this.localStateSchema=jr,this.version=typeof hn>"u"?void 0:ensureSafeInteger(hn)}getEncodingSchema(){return zl.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(d=>d.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${d}`);return new zl({approvalProgram:d.get("approval-program"),clearStateProgram:d.get("clear-state-program"),creator:d.get("creator"),extraProgramPages:d.get("extra-program-pages"),globalState:typeof d.get("global-state")<"u"?d.get("global-state").map(Mt=>TealKeyValue$1.fromEncodingData(Mt)):void 0,globalStateSchema:typeof d.get("global-state-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(d.get("global-state-schema")):void 0,localStateSchema:typeof d.get("local-state-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(d.get("local-state-schema")):void 0,version:d.get("version")})}};class ApplicationStateOperation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new StringSchema,omitEmpty:!0},{key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"operation",valueSchema:new StringSchema,omitEmpty:!0},{key:"account",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"new-value",valueSchema:new OptionalSchema(AvmValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:d,key:Mt,operation:Ot,account:Ft,newValue:Ut}){this.appStateType=d,this.key=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.operation=Ot,this.account=typeof Ft=="string"?Address.fromString(Ft):Ft,this.newValue=Ut}getEncodingSchema(){return ApplicationStateOperation.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${d}`);return new ApplicationStateOperation({appStateType:d.get("app-state-type"),key:d.get("key"),operation:d.get("operation"),account:d.get("account"),newValue:typeof d.get("new-value")<"u"?AvmValue.fromEncodingData(d.get("new-value")):void 0})}}let ApplicationStateSchema$1=class Hl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:d,numUint:Mt}){this.numByteSlice=ensureSafeInteger(d),this.numUint=ensureSafeInteger(Mt)}getEncodingSchema(){return Hl.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${d}`);return new Hl({numByteSlice:d.get("num-byte-slice"),numUint:d.get("num-uint")})}},Asset$1=class Wl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:AssetParams$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:d,params:Mt}){this.index=ensureBigInt(d),this.params=Mt}getEncodingSchema(){return Wl.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Asset: ${d}`);return new Wl({index:d.get("index"),params:AssetParams$1.fromEncodingData(d.get("params")??new Map)})}},AssetHolding$1=class Gl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:d,assetId:Mt,isFrozen:Ot}){this.amount=ensureBigInt(d),this.assetId=ensureBigInt(Mt),this.isFrozen=Ot}getEncodingSchema(){return Gl.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${d}`);return new Gl({amount:d.get("amount"),assetId:d.get("asset-id"),isFrozen:d.get("is-frozen")})}};class AssetHoldingReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new StringSchema,omitEmpty:!0},{key:"asset",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:d,asset:Mt}){this.account=typeof d=="string"?Address.fromString(d):d,this.asset=ensureBigInt(Mt)}getEncodingSchema(){return AssetHoldingReference.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${d}`);return new AssetHoldingReference({account:d.get("account"),asset:d.get("asset")})}}let AssetParams$1=class Kl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"decimals",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"clawback",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"default-frozen",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"freeze",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"manager",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"metadata-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"reserve",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"url",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"url-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:d,decimals:Mt,total:Ot,clawback:Ft,defaultFrozen:Ut,freeze:Xt,manager:jr,metadataHash:hn,name:Vr,nameB64:fn,reserve:dn,unitName:pn,unitNameB64:En,url:_n,urlB64:Dn}){this.creator=d,this.decimals=ensureSafeInteger(Mt),this.total=ensureBigInt(Ot),this.clawback=Ft,this.defaultFrozen=Ut,this.freeze=Xt,this.manager=jr,this.metadataHash=typeof hn=="string"?base64ToBytes(hn):hn,this.name=Vr,this.nameB64=typeof fn=="string"?base64ToBytes(fn):fn,this.reserve=dn,this.unitName=pn,this.unitNameB64=typeof En=="string"?base64ToBytes(En):En,this.url=_n,this.urlB64=typeof Dn=="string"?base64ToBytes(Dn):Dn}getEncodingSchema(){return Kl.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetParams: ${d}`);return new Kl({creator:d.get("creator"),decimals:d.get("decimals"),total:d.get("total"),clawback:d.get("clawback"),defaultFrozen:d.get("default-frozen"),freeze:d.get("freeze"),manager:d.get("manager"),metadataHash:d.get("metadata-hash"),name:d.get("name"),nameB64:d.get("name-b64"),reserve:d.get("reserve"),unitName:d.get("unit-name"),unitNameB64:d.get("unit-name-b64"),url:d.get("url"),urlB64:d.get("url-b64")})}};class AvmKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:AvmValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:d,value:Mt}){this.key=typeof d=="string"?base64ToBytes(d):d,this.value=Mt}getEncodingSchema(){return AvmKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${d}`);return new AvmKeyValue({key:d.get("key"),value:AvmValue.fromEncodingData(d.get("value")??new Map)})}}class AvmValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:d,bytes:Mt,uint:Ot}){this.type=ensureSafeInteger(d),this.bytes=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.uint=typeof Ot>"u"?void 0:ensureBigInt(Ot)}getEncodingSchema(){return AvmValue.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AvmValue: ${d}`);return new AvmValue({type:d.get("type"),bytes:d.get("bytes"),uint:d.get("uint")})}}class BlockHashResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:d}){this.blockhash=d}getEncodingSchema(){return BlockHashResponse.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${d}`);return new BlockHashResponse({blockhash:d.get("blockHash")})}}class BlockLogsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new ArraySchema(AppCallLogs.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:d}){this.logs=d}getEncodingSchema(){return BlockLogsResponse.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${d}`);return new BlockLogsResponse({logs:(d.get("logs")??[]).map(Mt=>AppCallLogs.fromEncodingData(Mt))})}}class BlockResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Block$2.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:d,cert:Mt}){this.block=d,this.cert=Mt}getEncodingSchema(){return BlockResponse.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${d}`);return new BlockResponse({block:Block$2.fromEncodingData(d.get("block")??new Map),cert:typeof d.get("cert")<"u"?UntypedValue.fromEncodingData(d.get("cert")):void 0})}}class BlockTxidsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:d}){this.blocktxids=d}getEncodingSchema(){return BlockTxidsResponse.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${d}`);return new BlockTxidsResponse({blocktxids:d.get("blockTxids")})}}let Box$1=class Jl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"value",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:d,round:Mt,value:Ot}){this.name=typeof d=="string"?base64ToBytes(d):d,this.round=ensureBigInt(Mt),this.value=typeof Ot=="string"?base64ToBytes(Ot):Ot}getEncodingSchema(){return Jl.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Box: ${d}`);return new Jl({name:d.get("name"),round:d.get("round"),value:d.get("value")})}},BoxDescriptor$1=class Xl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:d}){this.name=typeof d=="string"?base64ToBytes(d):d}getEncodingSchema(){return Xl.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${d}`);return new Xl({name:d.get("name")})}},BoxReference$1=class Yl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:d,name:Mt}){this.app=ensureBigInt(d),this.name=typeof Mt=="string"?base64ToBytes(Mt):Mt}getEncodingSchema(){return Yl.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxReference: ${d}`);return new Yl({app:d.get("app"),name:d.get("name")})}},BoxesResponse$1=class Zl{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new ArraySchema(BoxDescriptor$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:d}){this.boxes=d}getEncodingSchema(){return Zl.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${d}`);return new Zl({boxes:(d.get("boxes")??[]).map(Mt=>BoxDescriptor$1.fromEncodingData(Mt))})}};class BuildVersion{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new StringSchema,omitEmpty:!0},{key:"build_number",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"channel",valueSchema:new StringSchema,omitEmpty:!0},{key:"commit_hash",valueSchema:new StringSchema,omitEmpty:!0},{key:"major",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"minor",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:d,buildNumber:Mt,channel:Ot,commitHash:Ft,major:Ut,minor:Xt}){this.branch=d,this.buildNumber=ensureSafeInteger(Mt),this.channel=Ot,this.commitHash=Ft,this.major=ensureSafeInteger(Ut),this.minor=ensureSafeInteger(Xt)}getEncodingSchema(){return BuildVersion.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${d}`);return new BuildVersion({branch:d.get("branch"),buildNumber:d.get("build_number"),channel:d.get("channel"),commitHash:d.get("commit_hash"),major:d.get("major"),minor:d.get("minor")})}}class CompileResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new StringSchema,omitEmpty:!0},{key:"result",valueSchema:new StringSchema,omitEmpty:!0},{key:"sourcemap",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:d,result:Mt,sourcemap:Ot}){this.hash=d,this.result=Mt,this.sourcemap=Ot}getEncodingSchema(){return CompileResponse.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${d}`);return new CompileResponse({hash:d.get("hash"),result:d.get("result"),sourcemap:typeof d.get("sourcemap")<"u"?UntypedValue.fromEncodingData(d.get("sourcemap")):void 0})}}class DisassembleResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:d}){this.result=d}getEncodingSchema(){return DisassembleResponse.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${d}`);return new DisassembleResponse({result:d.get("result")})}}class DryrunRequest{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new ArraySchema(Account$2.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new ArraySchema(Application$1.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"protocol-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"sources",valueSchema:new ArraySchema(DryrunSource.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:d,apps:Mt,latestTimestamp:Ot,protocolVersion:Ft,round:Ut,sources:Xt,txns:jr}){this.accounts=d,this.apps=Mt,this.latestTimestamp=ensureSafeInteger(Ot),this.protocolVersion=Ft,this.round=ensureBigInt(Ut),this.sources=Xt,this.txns=jr}getEncodingSchema(){return DryrunRequest.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(d=>d.toEncodingData())],["apps",this.apps.map(d=>d.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(d=>d.toEncodingData())],["txns",this.txns.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${d}`);return new DryrunRequest({accounts:(d.get("accounts")??[]).map(Mt=>Account$2.fromEncodingData(Mt)),apps:(d.get("apps")??[]).map(Mt=>Application$1.fromEncodingData(Mt)),latestTimestamp:d.get("latest-timestamp"),protocolVersion:d.get("protocol-version"),round:d.get("round"),sources:(d.get("sources")??[]).map(Mt=>DryrunSource.fromEncodingData(Mt)),txns:(d.get("txns")??[]).map(Mt=>SignedTransaction.fromEncodingData(Mt))})}}class DryrunResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new StringSchema,omitEmpty:!0},{key:"protocol-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"txns",valueSchema:new ArraySchema(DryrunTxnResult.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:d,protocolVersion:Mt,txns:Ot}){this.error=d,this.protocolVersion=Mt,this.txns=Ot}getEncodingSchema(){return DryrunResponse.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${d}`);return new DryrunResponse({error:d.get("error"),protocolVersion:d.get("protocol-version"),txns:(d.get("txns")??[]).map(Mt=>DryrunTxnResult.fromEncodingData(Mt))})}}class DryrunSource{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"field-name",valueSchema:new StringSchema,omitEmpty:!0},{key:"source",valueSchema:new StringSchema,omitEmpty:!0},{key:"txn-index",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:d,fieldName:Mt,source:Ot,txnIndex:Ft}){this.appIndex=ensureBigInt(d),this.fieldName=Mt,this.source=Ot,this.txnIndex=ensureSafeInteger(Ft)}getEncodingSchema(){return DryrunSource.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${d}`);return new DryrunSource({appIndex:d.get("app-index"),fieldName:d.get("field-name"),source:d.get("source"),txnIndex:d.get("txn-index")})}}class DryrunState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pc",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"stack",valueSchema:new ArraySchema(TealValue$1.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"scratch",valueSchema:new OptionalSchema(new ArraySchema(TealValue$1.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:d,pc:Mt,stack:Ot,error:Ft,scratch:Ut}){this.line=ensureSafeInteger(d),this.pc=ensureSafeInteger(Mt),this.stack=Ot,this.error=Ft,this.scratch=Ut}getEncodingSchema(){return DryrunState.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(d=>d.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DryrunState: ${d}`);return new DryrunState({line:d.get("line"),pc:d.get("pc"),stack:(d.get("stack")??[]).map(Mt=>TealValue$1.fromEncodingData(Mt)),error:d.get("error"),scratch:typeof d.get("scratch")<"u"?d.get("scratch").map(Mt=>TealValue$1.fromEncodingData(Mt)):void 0})}}class DryrunTxnResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0},{key:"app-call-messages",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new OptionalSchema(new ArraySchema(DryrunState.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta$1.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new OptionalSchema(new ArraySchema(DryrunState.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:d,appCallMessages:Mt,appCallTrace:Ot,budgetAdded:Ft,budgetConsumed:Ut,globalDelta:Xt,localDeltas:jr,logicSigDisassembly:hn,logicSigMessages:Vr,logicSigTrace:fn,logs:dn}){this.disassembly=d,this.appCallMessages=Mt,this.appCallTrace=Ot,this.budgetAdded=typeof Ft>"u"?void 0:ensureSafeInteger(Ft),this.budgetConsumed=typeof Ut>"u"?void 0:ensureSafeInteger(Ut),this.globalDelta=Xt,this.localDeltas=jr,this.logicSigDisassembly=hn,this.logicSigMessages=Vr,this.logicSigTrace=fn,this.logs=dn}getEncodingSchema(){return DryrunTxnResult.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(d=>d.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(d=>d.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(d=>d.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(d=>d.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${d}`);return new DryrunTxnResult({disassembly:d.get("disassembly"),appCallMessages:d.get("app-call-messages"),appCallTrace:typeof d.get("app-call-trace")<"u"?d.get("app-call-trace").map(Mt=>DryrunState.fromEncodingData(Mt)):void 0,budgetAdded:d.get("budget-added"),budgetConsumed:d.get("budget-consumed"),globalDelta:typeof d.get("global-delta")<"u"?d.get("global-delta").map(Mt=>EvalDeltaKeyValue$1.fromEncodingData(Mt)):void 0,localDeltas:typeof d.get("local-deltas")<"u"?d.get("local-deltas").map(Mt=>AccountStateDelta$1.fromEncodingData(Mt)):void 0,logicSigDisassembly:d.get("logic-sig-disassembly"),logicSigMessages:d.get("logic-sig-messages"),logicSigTrace:typeof d.get("logic-sig-trace")<"u"?d.get("logic-sig-trace").map(Mt=>DryrunState.fromEncodingData(Mt)):void 0,logs:d.get("logs")})}}let ErrorResponse$1=class Ql{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:d,data:Mt}){this.message=d,this.data=Mt}getEncodingSchema(){return Ql.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${d}`);return new Ql({message:d.get("message"),data:typeof d.get("data")<"u"?UntypedValue.fromEncodingData(d.get("data")):void 0})}},EvalDelta$1=class eu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:d,bytes:Mt,uint:Ot}){this.action=ensureSafeInteger(d),this.bytes=Mt,this.uint=typeof Ot>"u"?void 0:ensureBigInt(Ot)}getEncodingSchema(){return eu.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${d}`);return new eu({action:d.get("action"),bytes:d.get("bytes"),uint:d.get("uint")})}},EvalDeltaKeyValue$1=class tu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new StringSchema,omitEmpty:!0},{key:"value",valueSchema:EvalDelta$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:d,value:Mt}){this.key=d,this.value=Mt}getEncodingSchema(){return tu.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${d}`);return new tu({key:d.get("key"),value:EvalDelta$1.fromEncodingData(d.get("value")??new Map)})}},Genesis$1=class ru{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new ArraySchema(GenesisAllocation.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new StringSchema,omitEmpty:!0},{key:"id",valueSchema:new StringSchema,omitEmpty:!0},{key:"network",valueSchema:new StringSchema,omitEmpty:!0},{key:"proto",valueSchema:new StringSchema,omitEmpty:!0},{key:"rwd",valueSchema:new StringSchema,omitEmpty:!0},{key:"timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"comment",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"devmode",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:d,fees:Mt,id:Ot,network:Ft,proto:Ut,rwd:Xt,timestamp:jr,comment:hn,devmode:Vr}){this.alloc=d,this.fees=Mt,this.id=Ot,this.network=Ft,this.proto=Ut,this.rwd=Xt,this.timestamp=ensureSafeInteger(jr),this.comment=hn,this.devmode=Vr}getEncodingSchema(){return ru.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(d=>d.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Genesis: ${d}`);return new ru({alloc:(d.get("alloc")??[]).map(Mt=>GenesisAllocation.fromEncodingData(Mt)),fees:d.get("fees"),id:d.get("id"),network:d.get("network"),proto:d.get("proto"),rwd:d.get("rwd"),timestamp:d.get("timestamp"),comment:d.get("comment"),devmode:d.get("devmode")})}};class GenesisAllocation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new StringSchema,omitEmpty:!0},{key:"comment",valueSchema:new StringSchema,omitEmpty:!0},{key:"state",valueSchema:UntypedValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:d,comment:Mt,state:Ot}){this.addr=d,this.comment=Mt,this.state=Ot}getEncodingSchema(){return GenesisAllocation.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${d}`);return new GenesisAllocation({addr:d.get("addr"),comment:d.get("comment"),state:UntypedValue.fromEncodingData(d.get("state")??new Map)})}}class GetBlockTimeStampOffsetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:d}){this.offset=ensureSafeInteger(d)}getEncodingSchema(){return GetBlockTimeStampOffsetResponse.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${d}`);return new GetBlockTimeStampOffsetResponse({offset:d.get("offset")})}}class GetSyncRoundResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:d}){this.round=ensureBigInt(d)}getEncodingSchema(){return GetSyncRoundResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${d}`);return new GetSyncRoundResponse({round:d.get("round")})}}class LedgerStateDeltaForTransactionGroup{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:LedgerStateDelta.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:d,ids:Mt}){this.delta=d,this.ids=Mt}getEncodingSchema(){return LedgerStateDeltaForTransactionGroup.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${d}`);return new LedgerStateDeltaForTransactionGroup({delta:LedgerStateDelta.fromEncodingData(d.get("Delta")??new Map),ids:d.get("Ids")})}}let LightBlockHeaderProof$1=class nu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"proof",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"treedepth",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:d,proof:Mt,treedepth:Ot}){this.index=ensureSafeInteger(d),this.proof=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.treedepth=ensureSafeInteger(Ot)}getEncodingSchema(){return nu.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${d}`);return new nu({index:d.get("index"),proof:d.get("proof"),treedepth:d.get("treedepth")})}};class NodeStatusResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-version-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-version-supported",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"catchpoint",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:d,lastRound:Mt,lastVersion:Ot,nextVersion:Ft,nextVersionRound:Ut,nextVersionSupported:Xt,stoppedAtUnsupportedRound:jr,timeSinceLastRound:hn,catchpoint:Vr,catchpointAcquiredBlocks:fn,catchpointProcessedAccounts:dn,catchpointProcessedKvs:pn,catchpointTotalAccounts:En,catchpointTotalBlocks:_n,catchpointTotalKvs:Dn,catchpointVerifiedAccounts:Vn,catchpointVerifiedKvs:Pn,lastCatchpoint:qn,upgradeDelay:jn,upgradeNextProtocolVoteBefore:Hn,upgradeNoVotes:Jn,upgradeNodeVote:Gn,upgradeVoteRounds:ba,upgradeVotes:eo,upgradeVotesRequired:xa,upgradeYesVotes:Yn}){this.catchupTime=ensureBigInt(d),this.lastRound=ensureBigInt(Mt),this.lastVersion=Ot,this.nextVersion=Ft,this.nextVersionRound=ensureBigInt(Ut),this.nextVersionSupported=Xt,this.stoppedAtUnsupportedRound=jr,this.timeSinceLastRound=ensureBigInt(hn),this.catchpoint=Vr,this.catchpointAcquiredBlocks=typeof fn>"u"?void 0:ensureSafeInteger(fn),this.catchpointProcessedAccounts=typeof dn>"u"?void 0:ensureSafeInteger(dn),this.catchpointProcessedKvs=typeof pn>"u"?void 0:ensureSafeInteger(pn),this.catchpointTotalAccounts=typeof En>"u"?void 0:ensureSafeInteger(En),this.catchpointTotalBlocks=typeof _n>"u"?void 0:ensureSafeInteger(_n),this.catchpointTotalKvs=typeof Dn>"u"?void 0:ensureSafeInteger(Dn),this.catchpointVerifiedAccounts=typeof Vn>"u"?void 0:ensureSafeInteger(Vn),this.catchpointVerifiedKvs=typeof Pn>"u"?void 0:ensureSafeInteger(Pn),this.lastCatchpoint=qn,this.upgradeDelay=typeof jn>"u"?void 0:ensureBigInt(jn),this.upgradeNextProtocolVoteBefore=typeof Hn>"u"?void 0:ensureBigInt(Hn),this.upgradeNoVotes=typeof Jn>"u"?void 0:ensureSafeInteger(Jn),this.upgradeNodeVote=Gn,this.upgradeVoteRounds=typeof ba>"u"?void 0:ensureSafeInteger(ba),this.upgradeVotes=typeof eo>"u"?void 0:ensureSafeInteger(eo),this.upgradeVotesRequired=typeof xa>"u"?void 0:ensureSafeInteger(xa),this.upgradeYesVotes=typeof Yn>"u"?void 0:ensureSafeInteger(Yn)}getEncodingSchema(){return NodeStatusResponse.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${d}`);return new NodeStatusResponse({catchupTime:d.get("catchup-time"),lastRound:d.get("last-round"),lastVersion:d.get("last-version"),nextVersion:d.get("next-version"),nextVersionRound:d.get("next-version-round"),nextVersionSupported:d.get("next-version-supported"),stoppedAtUnsupportedRound:d.get("stopped-at-unsupported-round"),timeSinceLastRound:d.get("time-since-last-round"),catchpoint:d.get("catchpoint"),catchpointAcquiredBlocks:d.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:d.get("catchpoint-processed-accounts"),catchpointProcessedKvs:d.get("catchpoint-processed-kvs"),catchpointTotalAccounts:d.get("catchpoint-total-accounts"),catchpointTotalBlocks:d.get("catchpoint-total-blocks"),catchpointTotalKvs:d.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:d.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:d.get("catchpoint-verified-kvs"),lastCatchpoint:d.get("last-catchpoint"),upgradeDelay:d.get("upgrade-delay"),upgradeNextProtocolVoteBefore:d.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:d.get("upgrade-no-votes"),upgradeNodeVote:d.get("upgrade-node-vote"),upgradeVoteRounds:d.get("upgrade-vote-rounds"),upgradeVotes:d.get("upgrade-votes"),upgradeVotesRequired:d.get("upgrade-votes-required"),upgradeYesVotes:d.get("upgrade-yes-votes")})}}class PendingTransactionResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new StringSchema,omitEmpty:!0},{key:"txn",valueSchema:SignedTransaction.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"asset-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"confirmed-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new OptionalSchema(new ArraySchema(PendingTransactionResponse.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta$1.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sender-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:d,txn:Mt,applicationIndex:Ot,assetClosingAmount:Ft,assetIndex:Ut,closeRewards:Xt,closingAmount:jr,confirmedRound:hn,globalStateDelta:Vr,innerTxns:fn,localStateDelta:dn,logs:pn,receiverRewards:En,senderRewards:_n}){this.poolError=d,this.txn=Mt,this.applicationIndex=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.assetClosingAmount=typeof Ft>"u"?void 0:ensureBigInt(Ft),this.assetIndex=typeof Ut>"u"?void 0:ensureBigInt(Ut),this.closeRewards=typeof Xt>"u"?void 0:ensureBigInt(Xt),this.closingAmount=typeof jr>"u"?void 0:ensureBigInt(jr),this.confirmedRound=typeof hn>"u"?void 0:ensureBigInt(hn),this.globalStateDelta=Vr,this.innerTxns=fn,this.localStateDelta=dn,this.logs=pn,this.receiverRewards=typeof En>"u"?void 0:ensureBigInt(En),this.senderRewards=typeof _n>"u"?void 0:ensureBigInt(_n)}getEncodingSchema(){return PendingTransactionResponse.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(d=>d.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(d=>d.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(d=>d.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${d}`);return new PendingTransactionResponse({poolError:d.get("pool-error"),txn:SignedTransaction.fromEncodingData(d.get("txn")??new Map),applicationIndex:d.get("application-index"),assetClosingAmount:d.get("asset-closing-amount"),assetIndex:d.get("asset-index"),closeRewards:d.get("close-rewards"),closingAmount:d.get("closing-amount"),confirmedRound:d.get("confirmed-round"),globalStateDelta:typeof d.get("global-state-delta")<"u"?d.get("global-state-delta").map(Mt=>EvalDeltaKeyValue$1.fromEncodingData(Mt)):void 0,innerTxns:typeof d.get("inner-txns")<"u"?d.get("inner-txns").map(Mt=>PendingTransactionResponse.fromEncodingData(Mt)):void 0,localStateDelta:typeof d.get("local-state-delta")<"u"?d.get("local-state-delta").map(Mt=>AccountStateDelta$1.fromEncodingData(Mt)):void 0,logs:d.get("logs"),receiverRewards:d.get("receiver-rewards"),senderRewards:d.get("sender-rewards")})}}class PendingTransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:d,totalTransactions:Mt}){this.topTransactions=d,this.totalTransactions=ensureSafeInteger(Mt)}getEncodingSchema(){return PendingTransactionsResponse.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(d=>d.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${d}`);return new PendingTransactionsResponse({topTransactions:(d.get("top-transactions")??[]).map(Mt=>SignedTransaction.fromEncodingData(Mt)),totalTransactions:d.get("total-transactions")})}}class PostTransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:d}){this.txid=d}getEncodingSchema(){return PostTransactionsResponse.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${d}`);return new PostTransactionsResponse({txid:d.get("txId")})}}class ScratchChange{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:AvmValue.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:d,slot:Mt}){this.newValue=d,this.slot=ensureSafeInteger(Mt)}getEncodingSchema(){return ScratchChange.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${d}`);return new ScratchChange({newValue:AvmValue.fromEncodingData(d.get("new-value")??new Map),slot:d.get("slot")})}}class SimulateInitialStates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new OptionalSchema(new ArraySchema(ApplicationInitialStates.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:d}){this.appInitialStates=d}getEncodingSchema(){return SimulateInitialStates.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${d}`);return new SimulateInitialStates({appInitialStates:typeof d.get("app-initial-states")<"u"?d.get("app-initial-states").map(Mt=>ApplicationInitialStates.fromEncodingData(Mt)):void 0})}}class SimulateRequest{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new ArraySchema(SimulateRequestTransactionGroup.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new OptionalSchema(SimulateTraceConfig.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fix-signers",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:d,allowEmptySignatures:Mt,allowMoreLogging:Ot,allowUnnamedResources:Ft,execTraceConfig:Ut,extraOpcodeBudget:Xt,fixSigners:jr,round:hn}){this.txnGroups=d,this.allowEmptySignatures=Mt,this.allowMoreLogging=Ot,this.allowUnnamedResources=Ft,this.execTraceConfig=Ut,this.extraOpcodeBudget=typeof Xt>"u"?void 0:ensureSafeInteger(Xt),this.fixSigners=jr,this.round=typeof hn>"u"?void 0:ensureBigInt(hn)}getEncodingSchema(){return SimulateRequest.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(d=>d.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${d}`);return new SimulateRequest({txnGroups:(d.get("txn-groups")??[]).map(Mt=>SimulateRequestTransactionGroup.fromEncodingData(Mt)),allowEmptySignatures:d.get("allow-empty-signatures"),allowMoreLogging:d.get("allow-more-logging"),allowUnnamedResources:d.get("allow-unnamed-resources"),execTraceConfig:typeof d.get("exec-trace-config")<"u"?SimulateTraceConfig.fromEncodingData(d.get("exec-trace-config")):void 0,extraOpcodeBudget:d.get("extra-opcode-budget"),fixSigners:d.get("fix-signers"),round:d.get("round")})}}class SimulateRequestTransactionGroup{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:d}){this.txns=d}getEncodingSchema(){return SimulateRequestTransactionGroup.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${d}`);return new SimulateRequestTransactionGroup({txns:(d.get("txns")??[]).map(Mt=>SignedTransaction.fromEncodingData(Mt))})}}class SimulateResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"txn-groups",valueSchema:new ArraySchema(SimulateTransactionGroupResult.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"eval-overrides",valueSchema:new OptionalSchema(SimulationEvalOverrides.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new OptionalSchema(SimulateTraceConfig.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new OptionalSchema(SimulateInitialStates.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:d,txnGroups:Mt,version:Ot,evalOverrides:Ft,execTraceConfig:Ut,initialStates:Xt}){this.lastRound=ensureBigInt(d),this.txnGroups=Mt,this.version=ensureSafeInteger(Ot),this.evalOverrides=Ft,this.execTraceConfig=Ut,this.initialStates=Xt}getEncodingSchema(){return SimulateResponse.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(d=>d.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${d}`);return new SimulateResponse({lastRound:d.get("last-round"),txnGroups:(d.get("txn-groups")??[]).map(Mt=>SimulateTransactionGroupResult.fromEncodingData(Mt)),version:d.get("version"),evalOverrides:typeof d.get("eval-overrides")<"u"?SimulationEvalOverrides.fromEncodingData(d.get("eval-overrides")):void 0,execTraceConfig:typeof d.get("exec-trace-config")<"u"?SimulateTraceConfig.fromEncodingData(d.get("exec-trace-config")):void 0,initialStates:typeof d.get("initial-states")<"u"?SimulateInitialStates.fromEncodingData(d.get("initial-states")):void 0})}}class SimulateTraceConfig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"scratch-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"stack-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"state-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:d,scratchChange:Mt,stackChange:Ot,stateChange:Ft}){this.enable=d,this.scratchChange=Mt,this.stackChange=Ot,this.stateChange=Ft}getEncodingSchema(){return SimulateTraceConfig.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${d}`);return new SimulateTraceConfig({enable:d.get("enable"),scratchChange:d.get("scratch-change"),stackChange:d.get("stack-change"),stateChange:d.get("state-change")})}}class SimulateTransactionGroupResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new ArraySchema(SimulateTransactionResult.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"failed-at",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"failure-message",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new OptionalSchema(SimulateUnnamedResourcesAccessed.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:d,appBudgetAdded:Mt,appBudgetConsumed:Ot,failedAt:Ft,failureMessage:Ut,unnamedResourcesAccessed:Xt}){this.txnResults=d,this.appBudgetAdded=typeof Mt>"u"?void 0:ensureSafeInteger(Mt),this.appBudgetConsumed=typeof Ot>"u"?void 0:ensureSafeInteger(Ot),this.failedAt=typeof Ft>"u"?void 0:Ft.map(ensureSafeInteger),this.failureMessage=Ut,this.unnamedResourcesAccessed=Xt}getEncodingSchema(){return SimulateTransactionGroupResult.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(d=>d.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${d}`);return new SimulateTransactionGroupResult({txnResults:(d.get("txn-results")??[]).map(Mt=>SimulateTransactionResult.fromEncodingData(Mt)),appBudgetAdded:d.get("app-budget-added"),appBudgetConsumed:d.get("app-budget-consumed"),failedAt:d.get("failed-at"),failureMessage:d.get("failure-message"),unnamedResourcesAccessed:typeof d.get("unnamed-resources-accessed")<"u"?SimulateUnnamedResourcesAccessed.fromEncodingData(d.get("unnamed-resources-accessed")):void 0})}}class SimulateTransactionResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:PendingTransactionResponse.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"exec-trace",valueSchema:new OptionalSchema(SimulationTransactionExecTrace.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new OptionalSchema(SimulateUnnamedResourcesAccessed.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:d,appBudgetConsumed:Mt,execTrace:Ot,fixedSigner:Ft,logicSigBudgetConsumed:Ut,unnamedResourcesAccessed:Xt}){this.txnResult=d,this.appBudgetConsumed=typeof Mt>"u"?void 0:ensureSafeInteger(Mt),this.execTrace=Ot,this.fixedSigner=typeof Ft=="string"?Address.fromString(Ft):Ft,this.logicSigBudgetConsumed=typeof Ut>"u"?void 0:ensureSafeInteger(Ut),this.unnamedResourcesAccessed=Xt}getEncodingSchema(){return SimulateTransactionResult.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${d}`);return new SimulateTransactionResult({txnResult:PendingTransactionResponse.fromEncodingData(d.get("txn-result")??new Map),appBudgetConsumed:d.get("app-budget-consumed"),execTrace:typeof d.get("exec-trace")<"u"?SimulationTransactionExecTrace.fromEncodingData(d.get("exec-trace")):void 0,fixedSigner:d.get("fixed-signer"),logicSigBudgetConsumed:d.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof d.get("unnamed-resources-accessed")<"u"?SimulateUnnamedResourcesAccessed.fromEncodingData(d.get("unnamed-resources-accessed")):void 0})}}class SimulateUnnamedResourcesAccessed{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"app-locals",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalReference.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new OptionalSchema(new ArraySchema(AssetHoldingReference.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"boxes",valueSchema:new OptionalSchema(new ArraySchema(BoxReference$1.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:d,appLocals:Mt,apps:Ot,assetHoldings:Ft,assets:Ut,boxes:Xt,extraBoxRefs:jr}){this.accounts=typeof d<"u"?d.map(hn=>typeof hn=="string"?Address.fromString(hn):hn):void 0,this.appLocals=Mt,this.apps=typeof Ot>"u"?void 0:Ot.map(ensureBigInt),this.assetHoldings=Ft,this.assets=typeof Ut>"u"?void 0:Ut.map(ensureBigInt),this.boxes=Xt,this.extraBoxRefs=typeof jr>"u"?void 0:ensureSafeInteger(jr)}getEncodingSchema(){return SimulateUnnamedResourcesAccessed.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(d=>d.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(d=>d.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(d=>d.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(d=>d.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${d}`);return new SimulateUnnamedResourcesAccessed({accounts:d.get("accounts"),appLocals:typeof d.get("app-locals")<"u"?d.get("app-locals").map(Mt=>ApplicationLocalReference.fromEncodingData(Mt)):void 0,apps:d.get("apps"),assetHoldings:typeof d.get("asset-holdings")<"u"?d.get("asset-holdings").map(Mt=>AssetHoldingReference.fromEncodingData(Mt)):void 0,assets:d.get("assets"),boxes:typeof d.get("boxes")<"u"?d.get("boxes").map(Mt=>BoxReference$1.fromEncodingData(Mt)):void 0,extraBoxRefs:d.get("extra-box-refs")})}}class SimulationEvalOverrides{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fix-signers",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"max-log-calls",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"max-log-size",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:d,allowUnnamedResources:Mt,extraOpcodeBudget:Ot,fixSigners:Ft,maxLogCalls:Ut,maxLogSize:Xt}){this.allowEmptySignatures=d,this.allowUnnamedResources=Mt,this.extraOpcodeBudget=typeof Ot>"u"?void 0:ensureSafeInteger(Ot),this.fixSigners=Ft,this.maxLogCalls=typeof Ut>"u"?void 0:ensureSafeInteger(Ut),this.maxLogSize=typeof Xt>"u"?void 0:ensureSafeInteger(Xt)}getEncodingSchema(){return SimulationEvalOverrides.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${d}`);return new SimulationEvalOverrides({allowEmptySignatures:d.get("allow-empty-signatures"),allowUnnamedResources:d.get("allow-unnamed-resources"),extraOpcodeBudget:d.get("extra-opcode-budget"),fixSigners:d.get("fix-signers"),maxLogCalls:d.get("max-log-calls"),maxLogSize:d.get("max-log-size")})}}class SimulationOpcodeTraceUnit{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"scratch-changes",valueSchema:new OptionalSchema(new ArraySchema(ScratchChange.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"stack-additions",valueSchema:new OptionalSchema(new ArraySchema(AvmValue.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"state-changes",valueSchema:new OptionalSchema(new ArraySchema(ApplicationStateOperation.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:d,scratchChanges:Mt,spawnedInners:Ot,stackAdditions:Ft,stackPopCount:Ut,stateChanges:Xt}){this.pc=ensureSafeInteger(d),this.scratchChanges=Mt,this.spawnedInners=typeof Ot>"u"?void 0:Ot.map(ensureSafeInteger),this.stackAdditions=Ft,this.stackPopCount=typeof Ut>"u"?void 0:ensureSafeInteger(Ut),this.stateChanges=Xt}getEncodingSchema(){return SimulationOpcodeTraceUnit.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(d=>d.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(d=>d.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${d}`);return new SimulationOpcodeTraceUnit({pc:d.get("pc"),scratchChanges:typeof d.get("scratch-changes")<"u"?d.get("scratch-changes").map(Mt=>ScratchChange.fromEncodingData(Mt)):void 0,spawnedInners:d.get("spawned-inners"),stackAdditions:typeof d.get("stack-additions")<"u"?d.get("stack-additions").map(Mt=>AvmValue.fromEncodingData(Mt)):void 0,stackPopCount:d.get("stack-pop-count"),stateChanges:typeof d.get("state-changes")<"u"?d.get("state-changes").map(Mt=>ApplicationStateOperation.fromEncodingData(Mt)):void 0})}}class SimulationTransactionExecTrace{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"inner-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationTransactionExecTrace.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:d,approvalProgramTrace:Mt,clearStateProgramHash:Ot,clearStateProgramTrace:Ft,clearStateRollback:Ut,clearStateRollbackError:Xt,innerTrace:jr,logicSigHash:hn,logicSigTrace:Vr}){this.approvalProgramHash=typeof d=="string"?base64ToBytes(d):d,this.approvalProgramTrace=Mt,this.clearStateProgramHash=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.clearStateProgramTrace=Ft,this.clearStateRollback=Ut,this.clearStateRollbackError=Xt,this.innerTrace=jr,this.logicSigHash=typeof hn=="string"?base64ToBytes(hn):hn,this.logicSigTrace=Vr}getEncodingSchema(){return SimulationTransactionExecTrace.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(d=>d.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(d=>d.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(d=>d.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(d=>d.toEncodingData()):void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${d}`);return new SimulationTransactionExecTrace({approvalProgramHash:d.get("approval-program-hash"),approvalProgramTrace:typeof d.get("approval-program-trace")<"u"?d.get("approval-program-trace").map(Mt=>SimulationOpcodeTraceUnit.fromEncodingData(Mt)):void 0,clearStateProgramHash:d.get("clear-state-program-hash"),clearStateProgramTrace:typeof d.get("clear-state-program-trace")<"u"?d.get("clear-state-program-trace").map(Mt=>SimulationOpcodeTraceUnit.fromEncodingData(Mt)):void 0,clearStateRollback:d.get("clear-state-rollback"),clearStateRollbackError:d.get("clear-state-rollback-error"),innerTrace:typeof d.get("inner-trace")<"u"?d.get("inner-trace").map(Mt=>SimulationTransactionExecTrace.fromEncodingData(Mt)):void 0,logicSigHash:d.get("logic-sig-hash"),logicSigTrace:typeof d.get("logic-sig-trace")<"u"?d.get("logic-sig-trace").map(Mt=>SimulationOpcodeTraceUnit.fromEncodingData(Mt)):void 0})}}let StateProof$1=class iu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:StateProofMessage.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:d,stateproof:Mt}){this.message=d,this.stateproof=typeof Mt=="string"?base64ToBytes(Mt):Mt}getEncodingSchema(){return iu.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProof: ${d}`);return new iu({message:StateProofMessage.fromEncodingData(d.get("Message")??new Map),stateproof:d.get("StateProof")})}};class StateProofMessage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:d,firstattestedround:Mt,lastattestedround:Ot,lnprovenweight:Ft,voterscommitment:Ut}){this.blockheaderscommitment=typeof d=="string"?base64ToBytes(d):d,this.firstattestedround=ensureBigInt(Mt),this.lastattestedround=ensureBigInt(Ot),this.lnprovenweight=ensureBigInt(Ft),this.voterscommitment=typeof Ut=="string"?base64ToBytes(Ut):Ut}getEncodingSchema(){return StateProofMessage.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${d}`);return new StateProofMessage({blockheaderscommitment:d.get("BlockHeadersCommitment"),firstattestedround:d.get("FirstAttestedRound"),lastattestedround:d.get("LastAttestedRound"),lnprovenweight:d.get("LnProvenWeight"),voterscommitment:d.get("VotersCommitment")})}}class SupplyResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"online-money",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-money",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:d,onlineMoney:Mt,totalMoney:Ot}){this.currentRound=ensureBigInt(d),this.onlineMoney=ensureBigInt(Mt),this.totalMoney=ensureBigInt(Ot)}getEncodingSchema(){return SupplyResponse.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${d}`);return new SupplyResponse({currentRound:d.get("current_round"),onlineMoney:d.get("online-money"),totalMoney:d.get("total-money")})}}let TealKeyValue$1=class au{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:TealValue$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:d,value:Mt}){this.key=typeof d=="string"?base64ToBytes(d):d,this.value=Mt}getEncodingSchema(){return au.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${d}`);return new au({key:d.get("key"),value:TealValue$1.fromEncodingData(d.get("value")??new Map)})}},TealValue$1=class ou{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:d,type:Mt,uint:Ot}){this.bytes=typeof d=="string"?base64ToBytes(d):d,this.type=ensureSafeInteger(Mt),this.uint=ensureBigInt(Ot)}getEncodingSchema(){return ou.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TealValue: ${d}`);return new ou({bytes:d.get("bytes"),type:d.get("type"),uint:d.get("uint")})}};class TransactionGroupLedgerStateDeltasForRoundResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new ArraySchema(LedgerStateDeltaForTransactionGroup.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:d}){this.deltas=d}getEncodingSchema(){return TransactionGroupLedgerStateDeltasForRoundResponse.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${d}`);return new TransactionGroupLedgerStateDeltasForRoundResponse({deltas:(d.get("Deltas")??[]).map(Mt=>LedgerStateDeltaForTransactionGroup.fromEncodingData(Mt))})}}class TransactionParametersResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"fee",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"genesis-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis-id",valueSchema:new StringSchema,omitEmpty:!0},{key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-fee",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:d,fee:Mt,genesisHash:Ot,genesisId:Ft,lastRound:Ut,minFee:Xt}){this.consensusVersion=d,this.fee=ensureBigInt(Mt),this.genesisHash=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.genesisId=Ft,this.lastRound=ensureBigInt(Ut),this.minFee=ensureBigInt(Xt)}getEncodingSchema(){return TransactionParametersResponse.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${d}`);return new TransactionParametersResponse({consensusVersion:d.get("consensus-version"),fee:d.get("fee"),genesisHash:d.get("genesis-hash"),genesisId:d.get("genesis-id"),lastRound:d.get("last-round"),minFee:d.get("min-fee")})}}class TransactionProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"proof",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"stibhash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"treedepth",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"hashtype",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:d,proof:Mt,stibhash:Ot,treedepth:Ft,hashtype:Ut}){this.idx=ensureSafeInteger(d),this.proof=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.stibhash=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.treedepth=ensureSafeInteger(Ft),this.hashtype=Ut}getEncodingSchema(){return TransactionProof.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionProof: ${d}`);return new TransactionProof({idx:d.get("idx"),proof:d.get("proof"),stibhash:d.get("stibhash"),treedepth:d.get("treedepth"),hashtype:d.get("hashtype")})}}class Version{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:BuildVersion.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis_id",valueSchema:new StringSchema,omitEmpty:!0},{key:"versions",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:d,genesisHashB64:Mt,genesisId:Ot,versions:Ft}){this.build=d,this.genesisHashB64=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.genesisId=Ot,this.versions=Ft}getEncodingSchema(){return Version.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Version: ${d}`);return new Version({build:BuildVersion.fromEncodingData(d.get("build")??new Map),genesisHashB64:d.get("genesis_hash_b64"),genesisId:d.get("genesis_id"),versions:d.get("versions")})}}const types$1=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$2,AccountApplicationResponse,AccountAssetHolding,AccountAssetResponse,AccountAssetsInformationResponse,AccountParticipation:AccountParticipation$1,AccountStateDelta:AccountStateDelta$1,AppCallLogs,Application:Application$1,ApplicationInitialStates,ApplicationKVStorage,ApplicationLocalReference,ApplicationLocalState:ApplicationLocalState$1,ApplicationParams:ApplicationParams$1,ApplicationStateOperation,ApplicationStateSchema:ApplicationStateSchema$1,Asset:Asset$1,AssetHolding:AssetHolding$1,AssetHoldingReference,AssetParams:AssetParams$1,AvmKeyValue,AvmValue,BlockHashResponse,BlockLogsResponse,BlockResponse,BlockTxidsResponse,Box:Box$1,BoxDescriptor:BoxDescriptor$1,BoxReference:BoxReference$1,BoxesResponse:BoxesResponse$1,BuildVersion,CompileResponse,DisassembleResponse,DryrunRequest,DryrunResponse,DryrunSource,DryrunState,DryrunTxnResult,ErrorResponse:ErrorResponse$1,EvalDelta:EvalDelta$1,EvalDeltaKeyValue:EvalDeltaKeyValue$1,Genesis:Genesis$1,GenesisAllocation,GetBlockTimeStampOffsetResponse,GetSyncRoundResponse,LedgerStateDeltaForTransactionGroup,LightBlockHeaderProof:LightBlockHeaderProof$1,NodeStatusResponse,PendingTransactionResponse,PendingTransactionsResponse,PostTransactionsResponse,ScratchChange,SimulateInitialStates,SimulateRequest,SimulateRequestTransactionGroup,SimulateResponse,SimulateTraceConfig,SimulateTransactionGroupResult,SimulateTransactionResult,SimulateUnnamedResourcesAccessed,SimulationEvalOverrides,SimulationOpcodeTraceUnit,SimulationTransactionExecTrace,StateProof:StateProof$1,StateProofMessage,SupplyResponse,TealKeyValue:TealKeyValue$1,TealValue:TealValue$1,TransactionGroupLedgerStateDeltasForRoundResponse,TransactionParametersResponse,TransactionProof,Version},Symbol.toStringTag,{value:"Module"}));class JSONRequest{constructor(d){this.c=d,this.query={}}executeRequest(d,Mt){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:d,customOptions:Mt})}async do(d,Mt){const Ot=await this.executeRequest(d,Mt);return this.prepare(Ot)}async doRaw(d,Mt){return(await this.executeRequest(d,Mt)).body}}class AccountInformation extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}`}exclude(d){return this.query.exclude=d,this}prepare(d){return decodeJSON(d.getJSONText(),Account$2)}}class AccountAssetInformation extends JSONRequest{constructor(d,Mt,Ot){super(d),this.account=Mt.toString(),this.assetID=BigInt(Ot)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(d){return decodeJSON(d.getJSONText(),AccountAssetResponse)}}class AccountApplicationInformation extends JSONRequest{constructor(d,Mt,Ot){super(d),this.account=Mt.toString(),this.applicationID=BigInt(Ot)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(d){return decodeJSON(d.getJSONText(),AccountApplicationResponse)}}let Block$1=class extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(d){return this.query["header-only"]=d,this}prepare(d){return decodeMsgpack(d.body,BlockResponse)}};function setHeaders$1(_e={}){let d=_e;return Object.keys(d).every(Mt=>Mt.toLowerCase()!=="content-type")&&(d={..._e},d["Content-Type"]="text/plain"),d}class Compile extends JSONRequest{constructor(d,Mt){super(d),this.source=Mt}path(){return"/v2/teal/compile"}sourcemap(d=!0){return this.query.sourcemap=d,this}executeRequest(d,Mt){const Ot=setHeaders$1(d);return this.c.post({relativePath:this.path(),data:coerceToBytes(this.source),query:this.query,requestHeaders:Ot,customOptions:Mt})}prepare(d){return decodeJSON(d.getJSONText(),CompileResponse)}}class Dryrun extends JSONRequest{constructor(d,Mt){super(d),this.blob=encodeMsgpack(Mt)}path(){return"/v2/teal/dryrun"}executeRequest(d,Mt){const Ot=setHeaders$1(d);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:Ot,customOptions:Mt})}prepare(d){return decodeJSON(d.getJSONText(),DryrunResponse)}}class Genesis extends JSONRequest{path(){return"/genesis"}prepare(d){return d.getJSONText()}}class GetAssetByID extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/assets/${this.index}`}prepare(d){return decodeJSON(d.getJSONText(),Asset$1)}}class GetApplicationByID extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/applications/${this.index}`}prepare(d){return decodeJSON(d.getJSONText(),Application$1)}}class GetBlockHash extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/blocks/${this.round}/hash`}prepare(d){return decodeJSON(d.getJSONText(),BlockHashResponse)}}class GetBlockTxids extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/blocks/${this.round}/txids`}prepare(d){return decodeJSON(d.getJSONText(),BlockTxidsResponse)}}class GetApplicationBoxByName extends JSONRequest{constructor(d,Mt,Ot){super(d),this.index=BigInt(Mt);const Ft=bytesToBase64(Ot);this.query.name=encodeURI(`b64:${Ft}`)}path(){return`/v2/applications/${this.index}/box`}prepare(d){return decodeJSON(d.getJSONText(),Box$1)}}class GetApplicationBoxes extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(d){return this.query.max=d,this}prepare(d){return decodeJSON(d.getJSONText(),BoxesResponse$1)}}let HealthCheck$1=class extends JSONRequest{path(){return"/health"}prepare(d){}};class PendingTransactionInformation extends JSONRequest{constructor(d,Mt){super(d),this.txid=Mt,this.query.format="msgpack"}prepare(d){return decodeMsgpack(d.body,PendingTransactionResponse)}path(){return`/v2/transactions/pending/${this.txid}`}max(d){return this.query.max=d,this}}class PendingTransactions extends JSONRequest{constructor(d){super(d),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(d){return decodeMsgpack(d.body,PendingTransactionsResponse)}max(d){return this.query.max=d,this}}class PendingTransactionsByAddress extends JSONRequest{constructor(d,Mt){super(d),this.address=Mt.toString(),this.query.format="msgpack"}prepare(d){return decodeMsgpack(d.body,PendingTransactionsResponse)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(d){return this.query.max=d,this}}class GetTransactionProof extends JSONRequest{constructor(d,Mt,Ot){super(d),this.txID=Ot,this.round=BigInt(Mt)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(d){return this.query.hashtype=d,this}prepare(d){return decodeJSON(d.getJSONText(),TransactionProof)}}function setSendTransactionHeaders(_e={}){let d=_e;return Object.keys(d).every(Mt=>Mt.toLowerCase()!=="content-type")&&(d={..._e},d["Content-Type"]="application/x-binary"),d}function isByteArray(_e){return _e&&_e.byteLength!==void 0}class SendRawTransaction extends JSONRequest{constructor(d,Mt){super(d);let Ot=Mt;if(Array.isArray(Mt)){if(!Mt.every(isByteArray))throw new TypeError("Array elements must be byte arrays");Ot=concatArrays(...Mt)}else if(!isByteArray(Ot))throw new TypeError("Argument must be byte array");this.txnBytesToPost=Ot}path(){return"/v2/transactions"}executeRequest(d,Mt){const Ot=setSendTransactionHeaders(d);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:Ot,customOptions:Mt})}prepare(d){return decodeJSON(d.getJSONText(),PostTransactionsResponse)}}class Status extends JSONRequest{path(){return"/v2/status"}prepare(d){return decodeJSON(d.getJSONText(),NodeStatusResponse)}}class StatusAfterBlock extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(d){return decodeJSON(d.getJSONText(),NodeStatusResponse)}}class SuggestedParamsRequest extends JSONRequest{path(){return"/v2/transactions/params"}prepare(d){const Mt=decodeJSON(d.getJSONText(),TransactionParametersResponse);return{flatFee:!1,fee:Mt.fee,firstValid:Mt.lastRound,lastValid:Mt.lastRound+BigInt(1e3),genesisID:Mt.genesisId,genesisHash:Mt.genesisHash,minFee:Mt.minFee,consensusVersion:Mt.consensusVersion}}}class Supply extends JSONRequest{path(){return"/v2/ledger/supply"}prepare(d){return decodeJSON(d.getJSONText(),SupplyResponse)}}class Versions extends JSONRequest{path(){return"/versions"}prepare(d){return decodeJSON(d.getJSONText(),Version)}}class LightBlockHeaderProof extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(d){return decodeJSON(d.getJSONText(),LightBlockHeaderProof$1)}}class StateProof extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/stateproofs/${this.round}`}prepare(d){return decodeJSON(d.getJSONText(),StateProof$1)}}class SetSyncRound extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(d,Mt){return this.c.post({relativePath:this.path(),data:null,requestHeaders:d,customOptions:Mt})}prepare(d){}}class GetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}prepare(d){return decodeJSON(d.getJSONText(),GetSyncRoundResponse)}}class SetBlockOffsetTimestamp extends JSONRequest{constructor(d,Mt){super(d),this.offset=BigInt(Mt)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(d,Mt){return this.c.post({relativePath:this.path(),data:null,requestHeaders:d,customOptions:Mt})}prepare(d){}}class GetBlockOffsetTimestamp extends JSONRequest{path(){return"/v2/devmode/blocks/offset"}prepare(d){return decodeJSON(d.getJSONText(),GetBlockTimeStampOffsetResponse)}}function setHeaders(_e={}){let d=_e;return Object.keys(d).every(Mt=>Mt.toLowerCase()!=="content-type")&&(d={..._e},d["Content-Type"]="text/plain"),d}class Disassemble extends JSONRequest{constructor(d,Mt){super(d),this.source=Mt}path(){return"/v2/teal/disassemble"}executeRequest(d,Mt){const Ot=setHeaders(d);return this.c.post({relativePath:this.path(),data:coerceToBytes(this.source),query:this.query,requestHeaders:Ot,customOptions:Mt})}prepare(d){return decodeJSON(d.getJSONText(),DisassembleResponse)}}function setSimulateTransactionsHeaders(_e={}){let d=_e;return Object.keys(d).every(Mt=>Mt.toLowerCase()!=="content-type")&&(d={..._e},d["Content-Type"]="application/msgpack"),d}class SimulateRawTransactions extends JSONRequest{constructor(d,Mt){super(d),this.query.format="msgpack",this.requestBytes=encodeMsgpack(Mt)}path(){return"/v2/transactions/simulate"}executeRequest(d,Mt){const Ot=setSimulateTransactionsHeaders(d);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:Ot,customOptions:Mt})}prepare(d){return decodeMsgpack(d.body,SimulateResponse)}}class Ready extends JSONRequest{path(){return"/ready"}prepare(d){}}class UnsetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}executeRequest(d,Mt){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:d,customOptions:Mt})}prepare(d){}}class GetLedgerStateDeltaForTransactionGroup extends JSONRequest{constructor(d,Mt){super(d),this.id=Mt,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(d){return decodeMsgpack(d.body,LedgerStateDelta)}}class GetLedgerStateDelta extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(d){return decodeMsgpack(d.body,LedgerStateDelta)}}class GetTransactionGroupLedgerStateDeltasForRound extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(d){return decodeMsgpack(d.body,TransactionGroupLedgerStateDeltasForRoundResponse)}}class AlgodClient extends ServiceClient{constructor(d,Mt,Ot,Ft={}){super("X-Algo-API-Token",d,Mt,Ot,Ft)}healthCheck(){return new HealthCheck$1(this.c)}versionsCheck(){return new Versions(this.c)}sendRawTransaction(d){return new SendRawTransaction(this.c,d)}accountInformation(d){return new AccountInformation(this.c,d)}accountAssetInformation(d,Mt){return new AccountAssetInformation(this.c,d,Mt)}accountApplicationInformation(d,Mt){return new AccountApplicationInformation(this.c,d,Mt)}block(d){return new Block$1(this.c,d)}getBlockHash(d){return new GetBlockHash(this.c,d)}getBlockTxids(d){return new GetBlockTxids(this.c,d)}pendingTransactionInformation(d){return new PendingTransactionInformation(this.c,d)}pendingTransactionsInformation(){return new PendingTransactions(this.c)}pendingTransactionByAddress(d){return new PendingTransactionsByAddress(this.c,d)}status(){return new Status(this.c)}statusAfterBlock(d){return new StatusAfterBlock(this.c,d)}getTransactionParams(){return new SuggestedParamsRequest(this.c)}supply(){return new Supply(this.c)}compile(d){return new Compile(this.c,d)}disassemble(d){return new Disassemble(this.c,d)}dryrun(d){return new Dryrun(this.c,d)}getAssetByID(d){return new GetAssetByID(this.c,d)}getApplicationByID(d){return new GetApplicationByID(this.c,d)}getApplicationBoxByName(d,Mt){return new GetApplicationBoxByName(this.c,d,Mt)}getApplicationBoxes(d){return new GetApplicationBoxes(this.c,d)}genesis(){return new Genesis(this.c)}getTransactionProof(d,Mt){return new GetTransactionProof(this.c,d,Mt)}getLightBlockHeaderProof(d){return new LightBlockHeaderProof(this.c,d)}getStateProof(d){return new StateProof(this.c,d)}simulateRawTransactions(d){const Mt=[];if(Array.isArray(d))for(const Ft of d)Mt.push(decodeMsgpack(Ft,SignedTransaction));else Mt.push(decodeMsgpack(d,SignedTransaction));const Ot=new SimulateRequest({txnGroups:[new SimulateRequestTransactionGroup({txns:Mt})]});return this.simulateTransactions(Ot)}simulateTransactions(d){return new SimulateRawTransactions(this.c,d)}setBlockOffsetTimestamp(d){return new SetBlockOffsetTimestamp(this.c,d)}getBlockOffsetTimestamp(){return new GetBlockOffsetTimestamp(this.c)}setSyncRound(d){return new SetSyncRound(this.c,d)}unsetSyncRound(){return new UnsetSyncRound(this.c)}getSyncRound(){return new GetSyncRound(this.c)}ready(){return new Ready(this.c)}getLedgerStateDeltaForTransactionGroup(d){return new GetLedgerStateDeltaForTransactionGroup(this.c,d)}getLedgerStateDelta(d){return new GetLedgerStateDelta(this.c,d)}getTransactionGroupLedgerStateDeltasForRound(d){return new GetTransactionGroupLedgerStateDeltasForRound(this.c,d)}}class KmdClient extends ServiceClient{constructor(d,Mt="http://127.0.0.1",Ot=7833,Ft={}){super("X-KMD-API-Token",d,Mt,Ot,Ft)}async get(d){return(await this.c.get({relativePath:d})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async delete(d,Mt){return(await this.c.delete({relativePath:d,data:Mt})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async post(d,Mt){return(await this.c.post({relativePath:d,data:Mt})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(d,Mt,Ot=new Uint8Array,Ft="sqlite"){const Ut={wallet_name:d,wallet_driver_name:Ft,wallet_password:Mt,master_derivation_key:bytesToBase64(Ot)};return this.post("/v1/wallet",Ut)}async initWalletHandle(d,Mt){const Ot={wallet_id:d,wallet_password:Mt};return this.post("/v1/wallet/init",Ot)}async releaseWalletHandle(d){const Mt={wallet_handle_token:d};return this.post("/v1/wallet/release",Mt)}async renewWalletHandle(d){const Mt={wallet_handle_token:d};return this.post("/v1/wallet/renew",Mt)}async renameWallet(d,Mt,Ot){const Ft={wallet_id:d,wallet_password:Mt,wallet_name:Ot};return this.post("/v1/wallet/rename",Ft)}async getWallet(d){const Mt={wallet_handle_token:d};return this.post("/v1/wallet/info",Mt)}async exportMasterDerivationKey(d,Mt){const Ot={wallet_handle_token:d,wallet_password:Mt},Ft=await this.post("/v1/master-key/export",Ot);return{master_derivation_key:base64ToBytes(Ft.master_derivation_key)}}async importKey(d,Mt){const Ot={wallet_handle_token:d,private_key:bytesToBase64(Mt)};return this.post("/v1/key/import",Ot)}async exportKey(d,Mt,Ot){const Ft={wallet_handle_token:d,address:Ot,wallet_password:Mt},Ut=await this.post("/v1/key/export",Ft);return{private_key:base64ToBytes(Ut.private_key)}}async generateKey(d){const Mt={wallet_handle_token:d,display_mnemonic:!1};return this.post("/v1/key",Mt)}async deleteKey(d,Mt,Ot){const Ft={wallet_handle_token:d,address:Ot,wallet_password:Mt};return this.delete("/v1/key",Ft)}async listKeys(d){const Mt={wallet_handle_token:d};return this.post("/v1/key/list",Mt)}async signTransaction(d,Mt,Ot){const Ft={wallet_handle_token:d,wallet_password:Mt,transaction:bytesToBase64(Ot.toByte())},Ut=await this.post("/v1/transaction/sign",Ft);return base64ToBytes(Ut.signed_transaction)}async signTransactionWithSpecificPublicKey(d,Mt,Ot,Ft){const Ut=coerceToBytes(Ft),Xt={wallet_handle_token:d,wallet_password:Mt,transaction:bytesToBase64(Ot.toByte()),public_key:bytesToBase64(Ut)},jr=await this.post("/v1/transaction/sign",Xt);return base64ToBytes(jr.signed_transaction)}async listMultisig(d){const Mt={wallet_handle_token:d};return this.post("/v1/multisig/list",Mt)}async importMultisig(d,Mt,Ot,Ft){const Ut={wallet_handle_token:d,multisig_version:Mt,threshold:Ot,pks:Ft};return this.post("/v1/multisig/import",Ut)}async exportMultisig(d,Mt){const Ot={wallet_handle_token:d,address:Mt};return this.post("/v1/multisig/export",Ot)}async signMultisigTransaction(d,Mt,Ot,Ft,Ut){const Xt=coerceToBytes(Ft),jr={wallet_handle_token:d,transaction:bytesToBase64(Ot.toByte()),public_key:bytesToBase64(Xt),partial_multisig:Ut,wallet_password:Mt};return this.post("/v1/multisig/sign",jr)}async deleteMultisig(d,Mt,Ot){const Ft={wallet_handle_token:d,address:Ot,wallet_password:Mt};return this.delete("/v1/multisig",Ft)}}let Account$1=class su{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-balance",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"status",valueSchema:new StringSchema,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-boxes",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"apps-local-state",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalState.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(AssetHolding.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"closed-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-apps",valueSchema:new OptionalSchema(new ArraySchema(Application.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new OptionalSchema(new ArraySchema(Asset.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-proposed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation",valueSchema:new OptionalSchema(AccountParticipation.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,amount:Mt,amountWithoutPendingRewards:Ot,minBalance:Ft,pendingRewards:Ut,rewards:Xt,round:jr,status:hn,totalAppsOptedIn:Vr,totalAssetsOptedIn:fn,totalBoxBytes:dn,totalBoxes:pn,totalCreatedApps:En,totalCreatedAssets:_n,appsLocalState:Dn,appsTotalExtraPages:Vn,appsTotalSchema:Pn,assets:qn,authAddr:jn,closedAtRound:Hn,createdApps:Jn,createdAssets:Gn,createdAtRound:ba,deleted:eo,incentiveEligible:xa,lastHeartbeat:Yn,lastProposed:Un,participation:Mn,rewardBase:mn,sigType:Xr}){this.address=d,this.amount=ensureBigInt(Mt),this.amountWithoutPendingRewards=ensureBigInt(Ot),this.minBalance=ensureSafeInteger(Ft),this.pendingRewards=ensureBigInt(Ut),this.rewards=ensureBigInt(Xt),this.round=ensureBigInt(jr),this.status=hn,this.totalAppsOptedIn=ensureSafeInteger(Vr),this.totalAssetsOptedIn=ensureSafeInteger(fn),this.totalBoxBytes=ensureSafeInteger(dn),this.totalBoxes=ensureSafeInteger(pn),this.totalCreatedApps=ensureSafeInteger(En),this.totalCreatedAssets=ensureSafeInteger(_n),this.appsLocalState=Dn,this.appsTotalExtraPages=typeof Vn>"u"?void 0:ensureSafeInteger(Vn),this.appsTotalSchema=Pn,this.assets=qn,this.authAddr=typeof jn=="string"?Address.fromString(jn):jn,this.closedAtRound=typeof Hn>"u"?void 0:ensureBigInt(Hn),this.createdApps=Jn,this.createdAssets=Gn,this.createdAtRound=typeof ba>"u"?void 0:ensureBigInt(ba),this.deleted=eo,this.incentiveEligible=xa,this.lastHeartbeat=typeof Yn>"u"?void 0:ensureSafeInteger(Yn),this.lastProposed=typeof Un>"u"?void 0:ensureSafeInteger(Un),this.participation=Mn,this.rewardBase=typeof mn>"u"?void 0:ensureBigInt(mn),this.sigType=Xr}getEncodingSchema(){return su.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(d=>d.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(d=>d.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(d=>d.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(d=>d.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Account: ${d}`);return new su({address:d.get("address"),amount:d.get("amount"),amountWithoutPendingRewards:d.get("amount-without-pending-rewards"),minBalance:d.get("min-balance"),pendingRewards:d.get("pending-rewards"),rewards:d.get("rewards"),round:d.get("round"),status:d.get("status"),totalAppsOptedIn:d.get("total-apps-opted-in"),totalAssetsOptedIn:d.get("total-assets-opted-in"),totalBoxBytes:d.get("total-box-bytes"),totalBoxes:d.get("total-boxes"),totalCreatedApps:d.get("total-created-apps"),totalCreatedAssets:d.get("total-created-assets"),appsLocalState:typeof d.get("apps-local-state")<"u"?d.get("apps-local-state").map(Mt=>ApplicationLocalState.fromEncodingData(Mt)):void 0,appsTotalExtraPages:d.get("apps-total-extra-pages"),appsTotalSchema:typeof d.get("apps-total-schema")<"u"?ApplicationStateSchema.fromEncodingData(d.get("apps-total-schema")):void 0,assets:typeof d.get("assets")<"u"?d.get("assets").map(Mt=>AssetHolding.fromEncodingData(Mt)):void 0,authAddr:d.get("auth-addr"),closedAtRound:d.get("closed-at-round"),createdApps:typeof d.get("created-apps")<"u"?d.get("created-apps").map(Mt=>Application.fromEncodingData(Mt)):void 0,createdAssets:typeof d.get("created-assets")<"u"?d.get("created-assets").map(Mt=>Asset.fromEncodingData(Mt)):void 0,createdAtRound:d.get("created-at-round"),deleted:d.get("deleted"),incentiveEligible:d.get("incentive-eligible"),lastHeartbeat:d.get("last-heartbeat"),lastProposed:d.get("last-proposed"),participation:typeof d.get("participation")<"u"?AccountParticipation.fromEncodingData(d.get("participation")):void 0,rewardBase:d.get("reward-base"),sigType:d.get("sig-type")})}};class AccountParticipation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:d,voteFirstValid:Mt,voteKeyDilution:Ot,voteLastValid:Ft,voteParticipationKey:Ut,stateProofKey:Xt}){this.selectionParticipationKey=typeof d=="string"?base64ToBytes(d):d,this.voteFirstValid=ensureBigInt(Mt),this.voteKeyDilution=ensureBigInt(Ot),this.voteLastValid=ensureBigInt(Ft),this.voteParticipationKey=typeof Ut=="string"?base64ToBytes(Ut):Ut,this.stateProofKey=typeof Xt=="string"?base64ToBytes(Xt):Xt}getEncodingSchema(){return AccountParticipation.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${d}`);return new AccountParticipation({selectionParticipationKey:d.get("selection-participation-key"),voteFirstValid:d.get("vote-first-valid"),voteKeyDilution:d.get("vote-key-dilution"),voteLastValid:d.get("vote-last-valid"),voteParticipationKey:d.get("vote-participation-key"),stateProofKey:d.get("state-proof-key")})}}class AccountResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:Account$1.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:d,currentRound:Mt}){this.account=d,this.currentRound=ensureBigInt(Mt)}getEncodingSchema(){return AccountResponse.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${d}`);return new AccountResponse({account:Account$1.fromEncodingData(d.get("account")??new Map),currentRound:d.get("current-round")})}}class AccountStateDelta{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"delta",valueSchema:new ArraySchema(EvalDeltaKeyValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,delta:Mt}){this.address=d,this.delta=Mt}getEncodingSchema(){return AccountStateDelta.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(d=>d.toEncodingData())]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${d}`);return new AccountStateDelta({address:d.get("address"),delta:(d.get("delta")??[]).map(Mt=>EvalDeltaKeyValue.fromEncodingData(Mt))})}}class AccountsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new ArraySchema(Account$1.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:d,currentRound:Mt,nextToken:Ot}){this.accounts=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return AccountsResponse.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${d}`);return new AccountsResponse({accounts:(d.get("accounts")??[]).map(Mt=>Account$1.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class Application{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:ApplicationParams.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:d,params:Mt,createdAtRound:Ot,deleted:Ft,deletedAtRound:Ut}){this.id=ensureBigInt(d),this.params=Mt,this.createdAtRound=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.deleted=Ft,this.deletedAtRound=typeof Ut>"u"?void 0:ensureBigInt(Ut)}getEncodingSchema(){return Application.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Application: ${d}`);return new Application({id:d.get("id"),params:ApplicationParams.fromEncodingData(d.get("params")??new Map),createdAtRound:d.get("created-at-round"),deleted:d.get("deleted"),deletedAtRound:d.get("deleted-at-round")})}}class ApplicationLocalState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"schema",valueSchema:ApplicationStateSchema.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"key-value",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:d,schema:Mt,closedOutAtRound:Ot,deleted:Ft,keyValue:Ut,optedInAtRound:Xt}){this.id=ensureBigInt(d),this.schema=Mt,this.closedOutAtRound=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.deleted=Ft,this.keyValue=Ut,this.optedInAtRound=typeof Xt>"u"?void 0:ensureBigInt(Xt)}getEncodingSchema(){return ApplicationLocalState.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(d=>d.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${d}`);return new ApplicationLocalState({id:d.get("id"),schema:ApplicationStateSchema.fromEncodingData(d.get("schema")??new Map),closedOutAtRound:d.get("closed-out-at-round"),deleted:d.get("deleted"),keyValue:typeof d.get("key-value")<"u"?d.get("key-value").map(Mt=>TealKeyValue.fromEncodingData(Mt)):void 0,optedInAtRound:d.get("opted-in-at-round")})}}class ApplicationLocalStatesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new ArraySchema(ApplicationLocalState.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:d,currentRound:Mt,nextToken:Ot}){this.appsLocalStates=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return ApplicationLocalStatesResponse.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${d}`);return new ApplicationLocalStatesResponse({appsLocalStates:(d.get("apps-local-states")??[]).map(Mt=>ApplicationLocalState.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class ApplicationLogData{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new ArraySchema(new ByteArraySchema),omitEmpty:!0},{key:"txid",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:d,txid:Mt}){this.logs=d,this.txid=Mt}getEncodingSchema(){return ApplicationLogData.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${d}`);return new ApplicationLogData({logs:d.get("logs"),txid:d.get("txid")})}}class ApplicationLogsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"log-data",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLogData.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:d,currentRound:Mt,logData:Ot,nextToken:Ft}){this.applicationId=ensureBigInt(d),this.currentRound=ensureBigInt(Mt),this.logData=Ot,this.nextToken=Ft}getEncodingSchema(){return ApplicationLogsResponse.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(d=>d.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${d}`);return new ApplicationLogsResponse({applicationId:d.get("application-id"),currentRound:d.get("current-round"),logData:typeof d.get("log-data")<"u"?d.get("log-data").map(Mt=>ApplicationLogData.fromEncodingData(Mt)):void 0,nextToken:d.get("next-token")})}}class ApplicationParams{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"creator",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:d,clearStateProgram:Mt,creator:Ot,extraProgramPages:Ft,globalState:Ut,globalStateSchema:Xt,localStateSchema:jr,version:hn}){this.approvalProgram=typeof d=="string"?base64ToBytes(d):d,this.clearStateProgram=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.creator=typeof Ot=="string"?Address.fromString(Ot):Ot,this.extraProgramPages=typeof Ft>"u"?void 0:ensureSafeInteger(Ft),this.globalState=Ut,this.globalStateSchema=Xt,this.localStateSchema=jr,this.version=typeof hn>"u"?void 0:ensureSafeInteger(hn)}getEncodingSchema(){return ApplicationParams.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(d=>d.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${d}`);return new ApplicationParams({approvalProgram:d.get("approval-program"),clearStateProgram:d.get("clear-state-program"),creator:d.get("creator"),extraProgramPages:d.get("extra-program-pages"),globalState:typeof d.get("global-state")<"u"?d.get("global-state").map(Mt=>TealKeyValue.fromEncodingData(Mt)):void 0,globalStateSchema:typeof d.get("global-state-schema")<"u"?ApplicationStateSchema.fromEncodingData(d.get("global-state-schema")):void 0,localStateSchema:typeof d.get("local-state-schema")<"u"?ApplicationStateSchema.fromEncodingData(d.get("local-state-schema")):void 0,version:d.get("version")})}}class ApplicationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"application",valueSchema:new OptionalSchema(Application.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:d,application:Mt}){this.currentRound=ensureBigInt(d),this.application=Mt}getEncodingSchema(){return ApplicationResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${d}`);return new ApplicationResponse({currentRound:d.get("current-round"),application:typeof d.get("application")<"u"?Application.fromEncodingData(d.get("application")):void 0})}}class ApplicationStateSchema{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:d,numUint:Mt}){this.numByteSlice=ensureSafeInteger(d),this.numUint=ensureSafeInteger(Mt)}getEncodingSchema(){return ApplicationStateSchema.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${d}`);return new ApplicationStateSchema({numByteSlice:d.get("num-byte-slice"),numUint:d.get("num-uint")})}}class ApplicationsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new ArraySchema(Application.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:d,currentRound:Mt,nextToken:Ot}){this.applications=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return ApplicationsResponse.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${d}`);return new ApplicationsResponse({applications:(d.get("applications")??[]).map(Mt=>Application.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class Asset{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:AssetParams.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:d,params:Mt,createdAtRound:Ot,deleted:Ft,destroyedAtRound:Ut}){this.index=ensureBigInt(d),this.params=Mt,this.createdAtRound=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.deleted=Ft,this.destroyedAtRound=typeof Ut>"u"?void 0:ensureBigInt(Ut)}getEncodingSchema(){return Asset.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Asset: ${d}`);return new Asset({index:d.get("index"),params:AssetParams.fromEncodingData(d.get("params")??new Map),createdAtRound:d.get("created-at-round"),deleted:d.get("deleted"),destroyedAtRound:d.get("destroyed-at-round")})}}class AssetBalancesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new ArraySchema(MiniAssetHolding.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:d,currentRound:Mt,nextToken:Ot}){this.balances=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return AssetBalancesResponse.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${d}`);return new AssetBalancesResponse({balances:(d.get("balances")??[]).map(Mt=>MiniAssetHolding.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class AssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:d,assetId:Mt,isFrozen:Ot,deleted:Ft,optedInAtRound:Ut,optedOutAtRound:Xt}){this.amount=ensureBigInt(d),this.assetId=ensureBigInt(Mt),this.isFrozen=Ot,this.deleted=Ft,this.optedInAtRound=typeof Ut>"u"?void 0:ensureBigInt(Ut),this.optedOutAtRound=typeof Xt>"u"?void 0:ensureBigInt(Xt)}getEncodingSchema(){return AssetHolding.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${d}`);return new AssetHolding({amount:d.get("amount"),assetId:d.get("asset-id"),isFrozen:d.get("is-frozen"),deleted:d.get("deleted"),optedInAtRound:d.get("opted-in-at-round"),optedOutAtRound:d.get("opted-out-at-round")})}}class AssetHoldingsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new ArraySchema(AssetHolding.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:d,currentRound:Mt,nextToken:Ot}){this.assets=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return AssetHoldingsResponse.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${d}`);return new AssetHoldingsResponse({assets:(d.get("assets")??[]).map(Mt=>AssetHolding.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class AssetParams{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"decimals",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"clawback",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"default-frozen",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"freeze",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"manager",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"metadata-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"reserve",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"url",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"url-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:d,decimals:Mt,total:Ot,clawback:Ft,defaultFrozen:Ut,freeze:Xt,manager:jr,metadataHash:hn,name:Vr,nameB64:fn,reserve:dn,unitName:pn,unitNameB64:En,url:_n,urlB64:Dn}){this.creator=d,this.decimals=ensureSafeInteger(Mt),this.total=ensureBigInt(Ot),this.clawback=Ft,this.defaultFrozen=Ut,this.freeze=Xt,this.manager=jr,this.metadataHash=typeof hn=="string"?base64ToBytes(hn):hn,this.name=Vr,this.nameB64=typeof fn=="string"?base64ToBytes(fn):fn,this.reserve=dn,this.unitName=pn,this.unitNameB64=typeof En=="string"?base64ToBytes(En):En,this.url=_n,this.urlB64=typeof Dn=="string"?base64ToBytes(Dn):Dn}getEncodingSchema(){return AssetParams.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetParams: ${d}`);return new AssetParams({creator:d.get("creator"),decimals:d.get("decimals"),total:d.get("total"),clawback:d.get("clawback"),defaultFrozen:d.get("default-frozen"),freeze:d.get("freeze"),manager:d.get("manager"),metadataHash:d.get("metadata-hash"),name:d.get("name"),nameB64:d.get("name-b64"),reserve:d.get("reserve"),unitName:d.get("unit-name"),unitNameB64:d.get("unit-name-b64"),url:d.get("url"),urlB64:d.get("url-b64")})}}class AssetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:Asset.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:d,currentRound:Mt}){this.asset=d,this.currentRound=ensureBigInt(Mt)}getEncodingSchema(){return AssetResponse.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${d}`);return new AssetResponse({asset:Asset.fromEncodingData(d.get("asset")??new Map),currentRound:d.get("current-round")})}}class AssetsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new ArraySchema(Asset.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:d,currentRound:Mt,nextToken:Ot}){this.assets=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return AssetsResponse.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${d}`);return new AssetsResponse({assets:(d.get("assets")??[]).map(Mt=>Asset.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class Block{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis-id",valueSchema:new StringSchema,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"seed",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transactions-root",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"bonus",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fees-collected",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation-updates",valueSchema:new OptionalSchema(ParticipationUpdates.encodingSchema),omitEmpty:!0},{key:"proposer",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"proposer-payout",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"rewards",valueSchema:new OptionalSchema(BlockRewards.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new OptionalSchema(new ArraySchema(StateProofTracking.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new OptionalSchema(new ArraySchema(Transaction.encodingSchema)),omitEmpty:!0},{key:"txn-counter",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-state",valueSchema:new OptionalSchema(BlockUpgradeState.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new OptionalSchema(BlockUpgradeVote.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:d,genesisId:Mt,previousBlockHash:Ot,round:Ft,seed:Ut,timestamp:Xt,transactionsRoot:jr,transactionsRootSha256:hn,bonus:Vr,feesCollected:fn,participationUpdates:dn,proposer:pn,proposerPayout:En,rewards:_n,stateProofTracking:Dn,transactions:Vn,txnCounter:Pn,upgradeState:qn,upgradeVote:jn}){this.genesisHash=typeof d=="string"?base64ToBytes(d):d,this.genesisId=Mt,this.previousBlockHash=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.round=ensureBigInt(Ft),this.seed=typeof Ut=="string"?base64ToBytes(Ut):Ut,this.timestamp=ensureSafeInteger(Xt),this.transactionsRoot=typeof jr=="string"?base64ToBytes(jr):jr,this.transactionsRootSha256=typeof hn=="string"?base64ToBytes(hn):hn,this.bonus=typeof Vr>"u"?void 0:ensureSafeInteger(Vr),this.feesCollected=typeof fn>"u"?void 0:ensureSafeInteger(fn),this.participationUpdates=dn,this.proposer=typeof pn=="string"?Address.fromString(pn):pn,this.proposerPayout=typeof En>"u"?void 0:ensureSafeInteger(En),this.rewards=_n,this.stateProofTracking=Dn,this.transactions=Vn,this.txnCounter=typeof Pn>"u"?void 0:ensureSafeInteger(Pn),this.upgradeState=qn,this.upgradeVote=jn}getEncodingSchema(){return Block.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(d=>d.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(d=>d.toEncodingData()):void 0],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Block: ${d}`);return new Block({genesisHash:d.get("genesis-hash"),genesisId:d.get("genesis-id"),previousBlockHash:d.get("previous-block-hash"),round:d.get("round"),seed:d.get("seed"),timestamp:d.get("timestamp"),transactionsRoot:d.get("transactions-root"),transactionsRootSha256:d.get("transactions-root-sha256"),bonus:d.get("bonus"),feesCollected:d.get("fees-collected"),participationUpdates:typeof d.get("participation-updates")<"u"?ParticipationUpdates.fromEncodingData(d.get("participation-updates")):void 0,proposer:d.get("proposer"),proposerPayout:d.get("proposer-payout"),rewards:typeof d.get("rewards")<"u"?BlockRewards.fromEncodingData(d.get("rewards")):void 0,stateProofTracking:typeof d.get("state-proof-tracking")<"u"?d.get("state-proof-tracking").map(Mt=>StateProofTracking.fromEncodingData(Mt)):void 0,transactions:typeof d.get("transactions")<"u"?d.get("transactions").map(Mt=>Transaction.fromEncodingData(Mt)):void 0,txnCounter:d.get("txn-counter"),upgradeState:typeof d.get("upgrade-state")<"u"?BlockUpgradeState.fromEncodingData(d.get("upgrade-state")):void 0,upgradeVote:typeof d.get("upgrade-vote")<"u"?BlockUpgradeVote.fromEncodingData(d.get("upgrade-vote")):void 0})}}class BlockHeadersResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new ArraySchema(Block.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:d,currentRound:Mt,nextToken:Ot}){this.blocks=d,this.currentRound=ensureBigInt(Mt),this.nextToken=Ot}getEncodingSchema(){return BlockHeadersResponse.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(d=>d.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${d}`);return new BlockHeadersResponse({blocks:(d.get("blocks")??[]).map(Mt=>Block.fromEncodingData(Mt)),currentRound:d.get("current-round"),nextToken:d.get("next-token")})}}class BlockRewards{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new StringSchema,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-level",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-pool",valueSchema:new StringSchema,omitEmpty:!0},{key:"rewards-rate",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-residue",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:d,rewardsCalculationRound:Mt,rewardsLevel:Ot,rewardsPool:Ft,rewardsRate:Ut,rewardsResidue:Xt}){this.feeSink=d,this.rewardsCalculationRound=ensureBigInt(Mt),this.rewardsLevel=ensureBigInt(Ot),this.rewardsPool=Ft,this.rewardsRate=ensureBigInt(Ut),this.rewardsResidue=ensureBigInt(Xt)}getEncodingSchema(){return BlockRewards.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${d}`);return new BlockRewards({feeSink:d.get("fee-sink"),rewardsCalculationRound:d.get("rewards-calculation-round"),rewardsLevel:d.get("rewards-level"),rewardsPool:d.get("rewards-pool"),rewardsRate:d.get("rewards-rate"),rewardsResidue:d.get("rewards-residue")})}}class BlockUpgradeState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-protocol",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:d,nextProtocol:Mt,nextProtocolApprovals:Ot,nextProtocolSwitchOn:Ft,nextProtocolVoteBefore:Ut}){this.currentProtocol=d,this.nextProtocol=Mt,this.nextProtocolApprovals=typeof Ot>"u"?void 0:ensureSafeInteger(Ot),this.nextProtocolSwitchOn=typeof Ft>"u"?void 0:ensureBigInt(Ft),this.nextProtocolVoteBefore=typeof Ut>"u"?void 0:ensureBigInt(Ut)}getEncodingSchema(){return BlockUpgradeState.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${d}`);return new BlockUpgradeState({currentProtocol:d.get("current-protocol"),nextProtocol:d.get("next-protocol"),nextProtocolApprovals:d.get("next-protocol-approvals"),nextProtocolSwitchOn:d.get("next-protocol-switch-on"),nextProtocolVoteBefore:d.get("next-protocol-vote-before")})}}class BlockUpgradeVote{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:d,upgradeDelay:Mt,upgradePropose:Ot}){this.upgradeApprove=d,this.upgradeDelay=typeof Mt>"u"?void 0:ensureBigInt(Mt),this.upgradePropose=Ot}getEncodingSchema(){return BlockUpgradeVote.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${d}`);return new BlockUpgradeVote({upgradeApprove:d.get("upgrade-approve"),upgradeDelay:d.get("upgrade-delay"),upgradePropose:d.get("upgrade-propose")})}}class Box{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"value",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:d,round:Mt,value:Ot}){this.name=typeof d=="string"?base64ToBytes(d):d,this.round=ensureBigInt(Mt),this.value=typeof Ot=="string"?base64ToBytes(Ot):Ot}getEncodingSchema(){return Box.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Box: ${d}`);return new Box({name:d.get("name"),round:d.get("round"),value:d.get("value")})}}class BoxDescriptor{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:d}){this.name=typeof d=="string"?base64ToBytes(d):d}getEncodingSchema(){return BoxDescriptor.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${d}`);return new BoxDescriptor({name:d.get("name")})}}class BoxReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:d,name:Mt}){this.app=ensureSafeInteger(d),this.name=typeof Mt=="string"?base64ToBytes(Mt):Mt}getEncodingSchema(){return BoxReference.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxReference: ${d}`);return new BoxReference({app:d.get("app"),name:d.get("name")})}}class BoxesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"boxes",valueSchema:new ArraySchema(BoxDescriptor.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:d,boxes:Mt,nextToken:Ot}){this.applicationId=ensureBigInt(d),this.boxes=Mt,this.nextToken=Ot}getEncodingSchema(){return BoxesResponse.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(d=>d.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${d}`);return new BoxesResponse({applicationId:d.get("application-id"),boxes:(d.get("boxes")??[]).map(Mt=>BoxDescriptor.fromEncodingData(Mt)),nextToken:d.get("next-token")})}}class ErrorResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:d,data:Mt}){this.message=d,this.data=Mt}getEncodingSchema(){return ErrorResponse.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${d}`);return new ErrorResponse({message:d.get("message"),data:typeof d.get("data")<"u"?UntypedValue.fromEncodingData(d.get("data")):void 0})}}class EvalDelta{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:d,bytes:Mt,uint:Ot}){this.action=ensureSafeInteger(d),this.bytes=Mt,this.uint=typeof Ot>"u"?void 0:ensureBigInt(Ot)}getEncodingSchema(){return EvalDelta.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${d}`);return new EvalDelta({action:d.get("action"),bytes:d.get("bytes"),uint:d.get("uint")})}}class EvalDeltaKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new StringSchema,omitEmpty:!0},{key:"value",valueSchema:EvalDelta.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:d,value:Mt}){this.key=d,this.value=Mt}getEncodingSchema(){return EvalDeltaKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${d}`);return new EvalDeltaKeyValue({key:d.get("key"),value:EvalDelta.fromEncodingData(d.get("value")??new Map)})}}class HashFactory{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:d}){this.hashType=typeof d>"u"?void 0:ensureSafeInteger(d)}getEncodingSchema(){return HashFactory.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded HashFactory: ${d}`);return new HashFactory({hashType:d.get("hash-type")})}}class HbProofFields{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk2",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:d,hbPk1sig:Mt,hbPk2:Ot,hbPk2sig:Ft,hbSig:Ut}){this.hbPk=typeof d=="string"?base64ToBytes(d):d,this.hbPk1sig=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.hbPk2=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.hbPk2sig=typeof Ft=="string"?base64ToBytes(Ft):Ft,this.hbSig=typeof Ut=="string"?base64ToBytes(Ut):Ut}getEncodingSchema(){return HbProofFields.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${d}`);return new HbProofFields({hbPk:d.get("hb-pk"),hbPk1sig:d.get("hb-pk1sig"),hbPk2:d.get("hb-pk2"),hbPk2sig:d.get("hb-pk2sig"),hbSig:d.get("hb-sig")})}}class HealthCheck{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"is-migrating",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"version",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:d,isMigrating:Mt,message:Ot,round:Ft,version:Ut,data:Xt,errors:jr}){this.dbAvailable=d,this.isMigrating=Mt,this.message=Ot,this.round=ensureBigInt(Ft),this.version=Ut,this.data=Xt,this.errors=jr}getEncodingSchema(){return HealthCheck.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${d}`);return new HealthCheck({dbAvailable:d.get("db-available"),isMigrating:d.get("is-migrating"),message:d.get("message"),round:d.get("round"),version:d.get("version"),data:typeof d.get("data")<"u"?UntypedValue.fromEncodingData(d.get("data")):void 0,errors:d.get("errors")})}}class IndexerStateProofMessage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"first-attested-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"voters-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:d,firstAttestedRound:Mt,latestAttestedRound:Ot,lnProvenWeight:Ft,votersCommitment:Ut}){this.blockHeadersCommitment=typeof d=="string"?base64ToBytes(d):d,this.firstAttestedRound=typeof Mt>"u"?void 0:ensureBigInt(Mt),this.latestAttestedRound=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.lnProvenWeight=typeof Ft>"u"?void 0:ensureBigInt(Ft),this.votersCommitment=typeof Ut=="string"?base64ToBytes(Ut):Ut}getEncodingSchema(){return IndexerStateProofMessage.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${d}`);return new IndexerStateProofMessage({blockHeadersCommitment:d.get("block-headers-commitment"),firstAttestedRound:d.get("first-attested-round"),latestAttestedRound:d.get("latest-attested-round"),lnProvenWeight:d.get("ln-proven-weight"),votersCommitment:d.get("voters-commitment")})}}class MerkleArrayProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new OptionalSchema(HashFactory.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"tree-depth",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:d,path:Mt,treeDepth:Ot}){this.hashFactory=d,this.path=Mt,this.treeDepth=typeof Ot>"u"?void 0:ensureSafeInteger(Ot)}getEncodingSchema(){return MerkleArrayProof.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${d}`);return new MerkleArrayProof({hashFactory:typeof d.get("hash-factory")<"u"?HashFactory.fromEncodingData(d.get("hash-factory")):void 0,path:d.get("path"),treeDepth:d.get("tree-depth")})}}class MiniAssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,amount:Mt,isFrozen:Ot,deleted:Ft,optedInAtRound:Ut,optedOutAtRound:Xt}){this.address=d,this.amount=ensureBigInt(Mt),this.isFrozen=Ot,this.deleted=Ft,this.optedInAtRound=typeof Ut>"u"?void 0:ensureBigInt(Ut),this.optedOutAtRound=typeof Xt>"u"?void 0:ensureBigInt(Xt)}getEncodingSchema(){return MiniAssetHolding.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${d}`);return new MiniAssetHolding({address:d.get("address"),amount:d.get("amount"),isFrozen:d.get("is-frozen"),deleted:d.get("deleted"),optedInAtRound:d.get("opted-in-at-round"),optedOutAtRound:d.get("opted-out-at-round")})}}class ParticipationUpdates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:d,expiredParticipationAccounts:Mt}){this.absentParticipationAccounts=d,this.expiredParticipationAccounts=Mt}getEncodingSchema(){return ParticipationUpdates.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${d}`);return new ParticipationUpdates({absentParticipationAccounts:d.get("absent-participation-accounts"),expiredParticipationAccounts:d.get("expired-participation-accounts")})}}class StateProofFields{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"reveals",valueSchema:new OptionalSchema(new ArraySchema(StateProofReveal.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-commit",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"sig-proofs",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:d,positionsToReveal:Mt,reveals:Ot,saltVersion:Ft,sigCommit:Ut,sigProofs:Xt,signedWeight:jr}){this.partProofs=d,this.positionsToReveal=typeof Mt>"u"?void 0:Mt.map(ensureBigInt),this.reveals=Ot,this.saltVersion=typeof Ft>"u"?void 0:ensureSafeInteger(Ft),this.sigCommit=typeof Ut=="string"?base64ToBytes(Ut):Ut,this.sigProofs=Xt,this.signedWeight=typeof jr>"u"?void 0:ensureBigInt(jr)}getEncodingSchema(){return StateProofFields.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(d=>d.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${d}`);return new StateProofFields({partProofs:typeof d.get("part-proofs")<"u"?MerkleArrayProof.fromEncodingData(d.get("part-proofs")):void 0,positionsToReveal:d.get("positions-to-reveal"),reveals:typeof d.get("reveals")<"u"?d.get("reveals").map(Mt=>StateProofReveal.fromEncodingData(Mt)):void 0,saltVersion:d.get("salt-version"),sigCommit:d.get("sig-commit"),sigProofs:typeof d.get("sig-proofs")<"u"?MerkleArrayProof.fromEncodingData(d.get("sig-proofs")):void 0,signedWeight:d.get("signed-weight")})}}class StateProofParticipant{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new OptionalSchema(StateProofVerifier.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:d,weight:Mt}){this.verifier=d,this.weight=typeof Mt>"u"?void 0:ensureBigInt(Mt)}getEncodingSchema(){return StateProofParticipant.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${d}`);return new StateProofParticipant({verifier:typeof d.get("verifier")<"u"?StateProofVerifier.fromEncodingData(d.get("verifier")):void 0,weight:d.get("weight")})}}class StateProofReveal{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new OptionalSchema(StateProofParticipant.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-slot",valueSchema:new OptionalSchema(StateProofSigSlot.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:d,position:Mt,sigSlot:Ot}){this.participant=d,this.position=typeof Mt>"u"?void 0:ensureBigInt(Mt),this.sigSlot=Ot}getEncodingSchema(){return StateProofReveal.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${d}`);return new StateProofReveal({participant:typeof d.get("participant")<"u"?StateProofParticipant.fromEncodingData(d.get("participant")):void 0,position:d.get("position"),sigSlot:typeof d.get("sig-slot")<"u"?StateProofSigSlot.fromEncodingData(d.get("sig-slot")):void 0})}}class StateProofSigSlot{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(StateProofSignature.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:d,signature:Mt}){this.lowerSigWeight=typeof d>"u"?void 0:ensureBigInt(d),this.signature=Mt}getEncodingSchema(){return StateProofSigSlot.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${d}`);return new StateProofSigSlot({lowerSigWeight:d.get("lower-sig-weight"),signature:typeof d.get("signature")<"u"?StateProofSignature.fromEncodingData(d.get("signature")):void 0})}}class StateProofSignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"proof",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:d,merkleArrayIndex:Mt,proof:Ot,verifyingKey:Ft}){this.falconSignature=typeof d=="string"?base64ToBytes(d):d,this.merkleArrayIndex=typeof Mt>"u"?void 0:ensureSafeInteger(Mt),this.proof=Ot,this.verifyingKey=typeof Ft=="string"?base64ToBytes(Ft):Ft}getEncodingSchema(){return StateProofSignature.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${d}`);return new StateProofSignature({falconSignature:d.get("falcon-signature"),merkleArrayIndex:d.get("merkle-array-index"),proof:typeof d.get("proof")<"u"?MerkleArrayProof.fromEncodingData(d.get("proof")):void 0,verifyingKey:d.get("verifying-key")})}}class StateProofTracking{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"online-total-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"voters-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:d,onlineTotalWeight:Mt,type:Ot,votersCommitment:Ft}){this.nextRound=typeof d>"u"?void 0:ensureBigInt(d),this.onlineTotalWeight=typeof Mt>"u"?void 0:ensureBigInt(Mt),this.type=typeof Ot>"u"?void 0:ensureSafeInteger(Ot),this.votersCommitment=typeof Ft=="string"?base64ToBytes(Ft):Ft}getEncodingSchema(){return StateProofTracking.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${d}`);return new StateProofTracking({nextRound:d.get("next-round"),onlineTotalWeight:d.get("online-total-weight"),type:d.get("type"),votersCommitment:d.get("voters-commitment")})}}class StateProofVerifier{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"key-lifetime",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:d,keyLifetime:Mt}){this.commitment=typeof d=="string"?base64ToBytes(d):d,this.keyLifetime=typeof Mt>"u"?void 0:ensureBigInt(Mt)}getEncodingSchema(){return StateProofVerifier.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${d}`);return new StateProofVerifier({commitment:d.get("commitment"),keyLifetime:d.get("key-lifetime")})}}class StateSchema{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:d,numUint:Mt}){this.numByteSlice=ensureSafeInteger(d),this.numUint=ensureSafeInteger(Mt)}getEncodingSchema(){return StateSchema.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded StateSchema: ${d}`);return new StateSchema({numByteSlice:d.get("num-byte-slice"),numUint:d.get("num-uint")})}}class TealKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:TealValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:d,value:Mt}){this.key=typeof d=="string"?base64ToBytes(d):d,this.value=Mt}getEncodingSchema(){return TealKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${d}`);return new TealKeyValue({key:d.get("key"),value:TealValue.fromEncodingData(d.get("value")??new Map)})}}class TealValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:d,type:Mt,uint:Ot}){this.bytes=typeof d=="string"?base64ToBytes(d):d,this.type=ensureSafeInteger(Mt),this.uint=ensureBigInt(Ot)}getEncodingSchema(){return TealValue.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TealValue: ${d}`);return new TealValue({bytes:d.get("bytes"),type:d.get("type"),uint:d.get("uint")})}}class Transaction{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"sender",valueSchema:new StringSchema,omitEmpty:!0},{key:"application-transaction",valueSchema:new OptionalSchema(TransactionApplication.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new OptionalSchema(TransactionAssetConfig.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new OptionalSchema(TransactionAssetFreeze.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new OptionalSchema(TransactionAssetTransfer.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"close-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"confirmed-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-application-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-asset-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"genesis-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"genesis-id",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"global-state-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new OptionalSchema(TransactionHeartbeat.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"inner-txns",valueSchema:new OptionalSchema(new ArraySchema(Transaction.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new OptionalSchema(TransactionKeyreg.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"local-state-delta",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"note",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"payment-transaction",valueSchema:new OptionalSchema(TransactionPayment.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"rekey-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"round-time",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sender-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(TransactionSignature.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new OptionalSchema(TransactionStateProof.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:d,firstValid:Mt,lastValid:Ot,sender:Ft,applicationTransaction:Ut,assetConfigTransaction:Xt,assetFreezeTransaction:jr,assetTransferTransaction:hn,authAddr:Vr,closeRewards:fn,closingAmount:dn,confirmedRound:pn,createdApplicationIndex:En,createdAssetIndex:_n,genesisHash:Dn,genesisId:Vn,globalStateDelta:Pn,group:qn,heartbeatTransaction:jn,id:Hn,innerTxns:Jn,intraRoundOffset:Gn,keyregTransaction:ba,lease:eo,localStateDelta:xa,logs:Yn,note:Un,paymentTransaction:Mn,receiverRewards:mn,rekeyTo:Xr,roundTime:gn,senderRewards:On,signature:Ln,stateProofTransaction:Rn,txType:yn}){this.fee=ensureBigInt(d),this.firstValid=ensureBigInt(Mt),this.lastValid=ensureBigInt(Ot),this.sender=Ft,this.applicationTransaction=Ut,this.assetConfigTransaction=Xt,this.assetFreezeTransaction=jr,this.assetTransferTransaction=hn,this.authAddr=typeof Vr=="string"?Address.fromString(Vr):Vr,this.closeRewards=typeof fn>"u"?void 0:ensureBigInt(fn),this.closingAmount=typeof dn>"u"?void 0:ensureBigInt(dn),this.confirmedRound=typeof pn>"u"?void 0:ensureBigInt(pn),this.createdApplicationIndex=typeof En>"u"?void 0:ensureBigInt(En),this.createdAssetIndex=typeof _n>"u"?void 0:ensureBigInt(_n),this.genesisHash=typeof Dn=="string"?base64ToBytes(Dn):Dn,this.genesisId=Vn,this.globalStateDelta=Pn,this.group=typeof qn=="string"?base64ToBytes(qn):qn,this.heartbeatTransaction=jn,this.id=Hn,this.innerTxns=Jn,this.intraRoundOffset=typeof Gn>"u"?void 0:ensureSafeInteger(Gn),this.keyregTransaction=ba,this.lease=typeof eo=="string"?base64ToBytes(eo):eo,this.localStateDelta=xa,this.logs=Yn,this.note=typeof Un=="string"?base64ToBytes(Un):Un,this.paymentTransaction=Mn,this.receiverRewards=typeof mn>"u"?void 0:ensureBigInt(mn),this.rekeyTo=typeof Xr=="string"?Address.fromString(Xr):Xr,this.roundTime=typeof gn>"u"?void 0:ensureSafeInteger(gn),this.senderRewards=typeof On>"u"?void 0:ensureBigInt(On),this.signature=Ln,this.stateProofTransaction=Rn,this.txType=yn}getEncodingSchema(){return Transaction.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(d=>d.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(d=>d.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(d=>d.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded Transaction: ${d}`);return new Transaction({fee:d.get("fee"),firstValid:d.get("first-valid"),lastValid:d.get("last-valid"),sender:d.get("sender"),applicationTransaction:typeof d.get("application-transaction")<"u"?TransactionApplication.fromEncodingData(d.get("application-transaction")):void 0,assetConfigTransaction:typeof d.get("asset-config-transaction")<"u"?TransactionAssetConfig.fromEncodingData(d.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof d.get("asset-freeze-transaction")<"u"?TransactionAssetFreeze.fromEncodingData(d.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof d.get("asset-transfer-transaction")<"u"?TransactionAssetTransfer.fromEncodingData(d.get("asset-transfer-transaction")):void 0,authAddr:d.get("auth-addr"),closeRewards:d.get("close-rewards"),closingAmount:d.get("closing-amount"),confirmedRound:d.get("confirmed-round"),createdApplicationIndex:d.get("created-application-index"),createdAssetIndex:d.get("created-asset-index"),genesisHash:d.get("genesis-hash"),genesisId:d.get("genesis-id"),globalStateDelta:typeof d.get("global-state-delta")<"u"?d.get("global-state-delta").map(Mt=>EvalDeltaKeyValue.fromEncodingData(Mt)):void 0,group:d.get("group"),heartbeatTransaction:typeof d.get("heartbeat-transaction")<"u"?TransactionHeartbeat.fromEncodingData(d.get("heartbeat-transaction")):void 0,id:d.get("id"),innerTxns:typeof d.get("inner-txns")<"u"?d.get("inner-txns").map(Mt=>Transaction.fromEncodingData(Mt)):void 0,intraRoundOffset:d.get("intra-round-offset"),keyregTransaction:typeof d.get("keyreg-transaction")<"u"?TransactionKeyreg.fromEncodingData(d.get("keyreg-transaction")):void 0,lease:d.get("lease"),localStateDelta:typeof d.get("local-state-delta")<"u"?d.get("local-state-delta").map(Mt=>AccountStateDelta.fromEncodingData(Mt)):void 0,logs:d.get("logs"),note:d.get("note"),paymentTransaction:typeof d.get("payment-transaction")<"u"?TransactionPayment.fromEncodingData(d.get("payment-transaction")):void 0,receiverRewards:d.get("receiver-rewards"),rekeyTo:d.get("rekey-to"),roundTime:d.get("round-time"),senderRewards:d.get("sender-rewards"),signature:typeof d.get("signature")<"u"?TransactionSignature.fromEncodingData(d.get("signature")):void 0,stateProofTransaction:typeof d.get("state-proof-transaction")<"u"?TransactionStateProof.fromEncodingData(d.get("state-proof-transaction")):void 0,txType:d.get("tx-type")})}}class TransactionApplication{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"application-args",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"approval-program",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"box-references",valueSchema:new OptionalSchema(new ArraySchema(BoxReference.encodingSchema)),omitEmpty:!0},{key:"clear-state-program",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"foreign-apps",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(StateSchema.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(StateSchema.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"reject-version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:d,accounts:Mt,applicationArgs:Ot,approvalProgram:Ft,boxReferences:Ut,clearStateProgram:Xt,extraProgramPages:jr,foreignApps:hn,foreignAssets:Vr,globalStateSchema:fn,localStateSchema:dn,onCompletion:pn,rejectVersion:En}){this.applicationId=ensureBigInt(d),this.accounts=typeof Mt<"u"?Mt.map(_n=>typeof _n=="string"?Address.fromString(_n):_n):void 0,this.applicationArgs=Ot,this.approvalProgram=typeof Ft=="string"?base64ToBytes(Ft):Ft,this.boxReferences=Ut,this.clearStateProgram=typeof Xt=="string"?base64ToBytes(Xt):Xt,this.extraProgramPages=typeof jr>"u"?void 0:ensureSafeInteger(jr),this.foreignApps=typeof hn>"u"?void 0:hn.map(ensureBigInt),this.foreignAssets=typeof Vr>"u"?void 0:Vr.map(ensureBigInt),this.globalStateSchema=fn,this.localStateSchema=dn,this.onCompletion=pn,this.rejectVersion=typeof En>"u"?void 0:ensureSafeInteger(En)}getEncodingSchema(){return TransactionApplication.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["accounts",typeof this.accounts<"u"?this.accounts.map(d=>d.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["box-references",typeof this.boxReferences<"u"?this.boxReferences.map(d=>d.toEncodingData()):void 0],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion],["reject-version",this.rejectVersion]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${d}`);return new TransactionApplication({applicationId:d.get("application-id"),accounts:d.get("accounts"),applicationArgs:d.get("application-args"),approvalProgram:d.get("approval-program"),boxReferences:typeof d.get("box-references")<"u"?d.get("box-references").map(Mt=>BoxReference.fromEncodingData(Mt)):void 0,clearStateProgram:d.get("clear-state-program"),extraProgramPages:d.get("extra-program-pages"),foreignApps:d.get("foreign-apps"),foreignAssets:d.get("foreign-assets"),globalStateSchema:typeof d.get("global-state-schema")<"u"?StateSchema.fromEncodingData(d.get("global-state-schema")):void 0,localStateSchema:typeof d.get("local-state-schema")<"u"?StateSchema.fromEncodingData(d.get("local-state-schema")):void 0,onCompletion:d.get("on-completion"),rejectVersion:d.get("reject-version")})}}class TransactionAssetConfig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"params",valueSchema:new OptionalSchema(AssetParams.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:d,params:Mt}){this.assetId=typeof d>"u"?void 0:ensureBigInt(d),this.params=Mt}getEncodingSchema(){return TransactionAssetConfig.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${d}`);return new TransactionAssetConfig({assetId:d.get("asset-id"),params:typeof d.get("params")<"u"?AssetParams.fromEncodingData(d.get("params")):void 0})}}class TransactionAssetFreeze{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new BooleanSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:d,assetId:Mt,newFreezeStatus:Ot}){this.address=d,this.assetId=ensureBigInt(Mt),this.newFreezeStatus=Ot}getEncodingSchema(){return TransactionAssetFreeze.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${d}`);return new TransactionAssetFreeze({address:d.get("address"),assetId:d.get("asset-id"),newFreezeStatus:d.get("new-freeze-status")})}}class TransactionAssetTransfer{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"receiver",valueSchema:new StringSchema,omitEmpty:!0},{key:"close-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"sender",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:d,assetId:Mt,receiver:Ot,closeAmount:Ft,closeTo:Ut,sender:Xt}){this.amount=ensureBigInt(d),this.assetId=ensureBigInt(Mt),this.receiver=Ot,this.closeAmount=typeof Ft>"u"?void 0:ensureBigInt(Ft),this.closeTo=Ut,this.sender=Xt}getEncodingSchema(){return TransactionAssetTransfer.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${d}`);return new TransactionAssetTransfer({amount:d.get("amount"),assetId:d.get("asset-id"),receiver:d.get("receiver"),closeAmount:d.get("close-amount"),closeTo:d.get("close-to"),sender:d.get("sender")})}}class TransactionHeartbeat{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new StringSchema,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"hb-proof",valueSchema:HbProofFields.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:d,hbKeyDilution:Mt,hbProof:Ot,hbSeed:Ft,hbVoteId:Ut}){this.hbAddress=d,this.hbKeyDilution=ensureBigInt(Mt),this.hbProof=Ot,this.hbSeed=typeof Ft=="string"?base64ToBytes(Ft):Ft,this.hbVoteId=typeof Ut=="string"?base64ToBytes(Ut):Ut}getEncodingSchema(){return TransactionHeartbeat.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${d}`);return new TransactionHeartbeat({hbAddress:d.get("hb-address"),hbKeyDilution:d.get("hb-key-dilution"),hbProof:HbProofFields.fromEncodingData(d.get("hb-proof")??new Map),hbSeed:d.get("hb-seed"),hbVoteId:d.get("hb-vote-id")})}}class TransactionKeyreg{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:d,selectionParticipationKey:Mt,stateProofKey:Ot,voteFirstValid:Ft,voteKeyDilution:Ut,voteLastValid:Xt,voteParticipationKey:jr}){this.nonParticipation=d,this.selectionParticipationKey=typeof Mt=="string"?base64ToBytes(Mt):Mt,this.stateProofKey=typeof Ot=="string"?base64ToBytes(Ot):Ot,this.voteFirstValid=typeof Ft>"u"?void 0:ensureBigInt(Ft),this.voteKeyDilution=typeof Ut>"u"?void 0:ensureBigInt(Ut),this.voteLastValid=typeof Xt>"u"?void 0:ensureBigInt(Xt),this.voteParticipationKey=typeof jr=="string"?base64ToBytes(jr):jr}getEncodingSchema(){return TransactionKeyreg.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${d}`);return new TransactionKeyreg({nonParticipation:d.get("non-participation"),selectionParticipationKey:d.get("selection-participation-key"),stateProofKey:d.get("state-proof-key"),voteFirstValid:d.get("vote-first-valid"),voteKeyDilution:d.get("vote-key-dilution"),voteLastValid:d.get("vote-last-valid"),voteParticipationKey:d.get("vote-participation-key")})}}class TransactionPayment{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"receiver",valueSchema:new StringSchema,omitEmpty:!0},{key:"close-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:d,receiver:Mt,closeAmount:Ot,closeRemainderTo:Ft}){this.amount=ensureBigInt(d),this.receiver=Mt,this.closeAmount=typeof Ot>"u"?void 0:ensureBigInt(Ot),this.closeRemainderTo=Ft}getEncodingSchema(){return TransactionPayment.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${d}`);return new TransactionPayment({amount:d.get("amount"),receiver:d.get("receiver"),closeAmount:d.get("close-amount"),closeRemainderTo:d.get("close-remainder-to")})}}class TransactionResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transaction",valueSchema:Transaction.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:d,transaction:Mt}){this.currentRound=ensureBigInt(d),this.transaction=Mt}getEncodingSchema(){return TransactionResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${d}`);return new TransactionResponse({currentRound:d.get("current-round"),transaction:Transaction.fromEncodingData(d.get("transaction")??new Map)})}}class TransactionSignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new OptionalSchema(TransactionSignatureLogicsig.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new OptionalSchema(TransactionSignatureMultisig.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:d,multisig:Mt,sig:Ot}){this.logicsig=d,this.multisig=Mt,this.sig=typeof Ot=="string"?base64ToBytes(Ot):Ot}getEncodingSchema(){return TransactionSignature.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${d}`);return new TransactionSignature({logicsig:typeof d.get("logicsig")<"u"?TransactionSignatureLogicsig.fromEncodingData(d.get("logicsig")):void 0,multisig:typeof d.get("multisig")<"u"?TransactionSignatureMultisig.fromEncodingData(d.get("multisig")):void 0,sig:d.get("sig")})}}class TransactionSignatureLogicsig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"args",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"multisig-signature",valueSchema:new OptionalSchema(TransactionSignatureMultisig.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:d,args:Mt,multisigSignature:Ot,signature:Ft}){this.logic=typeof d=="string"?base64ToBytes(d):d,this.args=Mt,this.multisigSignature=Ot,this.signature=typeof Ft=="string"?base64ToBytes(Ft):Ft}getEncodingSchema(){return TransactionSignatureLogicsig.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${d}`);return new TransactionSignatureLogicsig({logic:d.get("logic"),args:d.get("args"),multisigSignature:typeof d.get("multisig-signature")<"u"?TransactionSignatureMultisig.fromEncodingData(d.get("multisig-signature")):void 0,signature:d.get("signature")})}}class TransactionSignatureMultisig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new OptionalSchema(new ArraySchema(TransactionSignatureMultisigSubsignature.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:d,threshold:Mt,version:Ot}){this.subsignature=d,this.threshold=typeof Mt>"u"?void 0:ensureSafeInteger(Mt),this.version=typeof Ot>"u"?void 0:ensureSafeInteger(Ot)}getEncodingSchema(){return TransactionSignatureMultisig.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(d=>d.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${d}`);return new TransactionSignatureMultisig({subsignature:typeof d.get("subsignature")<"u"?d.get("subsignature").map(Mt=>TransactionSignatureMultisigSubsignature.fromEncodingData(Mt)):void 0,threshold:d.get("threshold"),version:d.get("version")})}}class TransactionSignatureMultisigSubsignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:d,signature:Mt}){this.publicKey=typeof d=="string"?base64ToBytes(d):d,this.signature=typeof Mt=="string"?base64ToBytes(Mt):Mt}getEncodingSchema(){return TransactionSignatureMultisigSubsignature.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${d}`);return new TransactionSignatureMultisigSubsignature({publicKey:d.get("public-key"),signature:d.get("signature")})}}class TransactionStateProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new OptionalSchema(IndexerStateProofMessage.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new OptionalSchema(StateProofFields.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:d,stateProof:Mt,stateProofType:Ot}){this.message=d,this.stateProof=Mt,this.stateProofType=typeof Ot>"u"?void 0:ensureSafeInteger(Ot)}getEncodingSchema(){return TransactionStateProof.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${d}`);return new TransactionStateProof({message:typeof d.get("message")<"u"?IndexerStateProofMessage.fromEncodingData(d.get("message")):void 0,stateProof:typeof d.get("state-proof")<"u"?StateProofFields.fromEncodingData(d.get("state-proof")):void 0,stateProofType:d.get("state-proof-type")})}}class TransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transactions",valueSchema:new ArraySchema(Transaction.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:d,transactions:Mt,nextToken:Ot}){this.currentRound=ensureBigInt(d),this.transactions=Mt,this.nextToken=Ot}getEncodingSchema(){return TransactionsResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(d=>d.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(d){if(!(d instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${d}`);return new TransactionsResponse({currentRound:d.get("current-round"),transactions:(d.get("transactions")??[]).map(Mt=>Transaction.fromEncodingData(Mt)),nextToken:d.get("next-token")})}}const types=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$1,AccountParticipation,AccountResponse,AccountStateDelta,AccountsResponse,Application,ApplicationLocalState,ApplicationLocalStatesResponse,ApplicationLogData,ApplicationLogsResponse,ApplicationParams,ApplicationResponse,ApplicationStateSchema,ApplicationsResponse,Asset,AssetBalancesResponse,AssetHolding,AssetHoldingsResponse,AssetParams,AssetResponse,AssetsResponse,Block,BlockHeadersResponse,BlockRewards,BlockUpgradeState,BlockUpgradeVote,Box,BoxDescriptor,BoxReference,BoxesResponse,ErrorResponse,EvalDelta,EvalDeltaKeyValue,HashFactory,HbProofFields,HealthCheck,IndexerStateProofMessage,MerkleArrayProof,MiniAssetHolding,ParticipationUpdates,StateProofFields,StateProofParticipant,StateProofReveal,StateProofSigSlot,StateProofSignature,StateProofTracking,StateProofVerifier,StateSchema,TealKeyValue,TealValue,Transaction,TransactionApplication,TransactionAssetConfig,TransactionAssetFreeze,TransactionAssetTransfer,TransactionHeartbeat,TransactionKeyreg,TransactionPayment,TransactionResponse,TransactionSignature,TransactionSignatureLogicsig,TransactionSignatureMultisig,TransactionSignatureMultisigSubsignature,TransactionStateProof,TransactionsResponse},Symbol.toStringTag,{value:"Module"}));class MakeHealthCheck extends JSONRequest{path(){return"/health"}prepare(d){return decodeJSON(d.getJSONText(),HealthCheck)}}class LookupAssetBalances extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/assets/${this.index}/balances`}limit(d){return this.query.limit=d,this}currencyGreaterThan(d){return this.query["currency-greater-than"]=d.toString(),this}currencyLessThan(d){return this.query["currency-less-than"]=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AssetBalancesResponse)}}function base64StringFunnel(_e){return typeof _e=="string"?_e:bytesToBase64(_e)}class LookupAccountTransactions extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(d){return this.query["note-prefix"]=base64StringFunnel(d),this}txType(d){return this.query["tx-type"]=d,this}sigType(d){return this.query["sig-type"]=d,this}txid(d){return this.query.txid=d,this}round(d){return this.query.round=d,this}minRound(d){return this.query["min-round"]=d,this}maxRound(d){return this.query["max-round"]=d,this}assetID(d){return this.query["asset-id"]=d,this}limit(d){return this.query.limit=d,this}beforeTime(d){return this.query["before-time"]=d instanceof Date?d.toISOString():d,this}afterTime(d){return this.query["after-time"]=d instanceof Date?d.toISOString():d,this}currencyGreaterThan(d){return this.query["currency-greater-than"]=d.toString(),this}currencyLessThan(d){return this.query["currency-less-than"]=d,this}nextToken(d){return this.query.next=d,this}rekeyTo(d){return this.query["rekey-to"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),TransactionsResponse)}}class LookupAssetTransactions extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(d){return this.query["note-prefix"]=base64StringFunnel(d),this}txType(d){return this.query["tx-type"]=d,this}sigType(d){return this.query["sig-type"]=d,this}txid(d){return this.query.txid=d,this}round(d){return this.query.round=d,this}minRound(d){return this.query["min-round"]=d,this}maxRound(d){return this.query["max-round"]=d,this}limit(d){return this.query.limit=d,this}beforeTime(d){return this.query["before-time"]=d instanceof Date?d.toISOString():d,this}afterTime(d){return this.query["after-time"]=d instanceof Date?d.toISOString():d,this}currencyGreaterThan(d){return this.query["currency-greater-than"]=d.toString(),this}currencyLessThan(d){return this.query["currency-less-than"]=d,this}addressRole(d){return this.query["address-role"]=d,this}address(d){return this.query.address=d.toString(),this}excludeCloseTo(d){return this.query["exclude-close-to"]=d,this}nextToken(d){return this.query.next=d,this}rekeyTo(d){return this.query["rekey-to"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),TransactionsResponse)}}class LookupBlock extends JSONRequest{constructor(d,Mt){super(d),this.round=BigInt(Mt)}path(){return`/v2/blocks/${this.round}`}headerOnly(d){return this.query["header-only"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),Block)}}class LookupTransactionByID extends JSONRequest{constructor(d,Mt){super(d),this.txID=Mt}path(){return`/v2/transactions/${this.txID}`}prepare(d){return decodeJSON(d.getJSONText(),TransactionResponse)}}class LookupAccountByID extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}`}round(d){return this.query.round=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}exclude(d){return this.query.exclude=d,this}prepare(d){return decodeJSON(d.getJSONText(),AccountResponse)}}class LookupAccountAssets extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(d){return this.query.limit=d,this}round(d){return this.query.round=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}assetId(d){return this.query["asset-id"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AssetHoldingsResponse)}}class LookupAccountCreatedAssets extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(d){return this.query.limit=d,this}round(d){return this.query.round=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}assetID(d){return this.query["asset-id"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AssetsResponse)}}class LookupAccountAppLocalStates extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(d){return this.query.limit=d,this}round(d){return this.query.round=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}applicationID(d){return this.query["application-id"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),ApplicationLocalStatesResponse)}}class LookupAccountCreatedApplications extends JSONRequest{constructor(d,Mt){super(d),this.account=Mt.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(d){return this.query.limit=d,this}round(d){return this.query.round=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}applicationID(d){return this.query["application-id"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),ApplicationsResponse)}}class LookupAssetByID extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/assets/${this.index}`}includeAll(d=!0){return this.query["include-all"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AssetResponse)}}class LookupApplications extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/applications/${this.index}`}includeAll(d=!0){return this.query["include-all"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),ApplicationResponse)}}class LookupApplicationLogs extends JSONRequest{constructor(d,Mt){super(d),this.appID=BigInt(Mt)}path(){return`/v2/applications/${this.appID}/logs`}limit(d){return this.query.limit=d,this}minRound(d){return this.query["min-round"]=d,this}maxRound(d){return this.query["max-round"]=d,this}nextToken(d){return this.query.next=d,this}sender(d){return this.query["sender-address"]=d,this}txid(d){return this.query.txid=d,this}prepare(d){return decodeJSON(d.getJSONText(),ApplicationLogsResponse)}}class LookupApplicationBoxByIDandName extends JSONRequest{constructor(d,Mt,Ot){super(d),this.index=BigInt(Mt);const Ft=bytesToBase64(Ot);this.query.name=encodeURI(`b64:${Ft}`)}path(){return`/v2/applications/${this.index}/box`}prepare(d){return decodeJSON(d.getJSONText(),Box)}}class SearchAccounts extends JSONRequest{path(){return"/v2/accounts"}currencyGreaterThan(d){return this.query["currency-greater-than"]=d.toString(),this}currencyLessThan(d){return this.query["currency-less-than"]=d,this}limit(d){return this.query.limit=d,this}assetID(d){return this.query["asset-id"]=d,this}nextToken(d){return this.query.next=d,this}round(d){return this.query.round=d,this}authAddr(d){return this.query["auth-addr"]=d.toString(),this}applicationID(d){return this.query["application-id"]=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}exclude(d){return this.query.exclude=d,this}onlineOnly(d){return this.query["online-only"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AccountsResponse)}}class SearchForBlockHeaders extends JSONRequest{path(){return"/v2/block-headers"}absent(d){return this.query.absent=d,this}afterTime(d){return this.query["after-time"]=d instanceof Date?d.toISOString():d,this}beforeTime(d){return this.query["before-time"]=d instanceof Date?d.toISOString():d,this}expired(d){return this.query.expired=d,this}limit(d){return this.query.limit=d,this}maxRound(d){return this.query["max-round"]=d,this}minRound(d){return this.query["min-round"]=d,this}nextToken(d){return this.query.next=d,this}proposers(d){return this.query.proposers=d,this}prepare(d){return decodeJSON(d.getJSONText(),BlockHeadersResponse)}}class SearchForTransactions extends JSONRequest{path(){return"/v2/transactions"}notePrefix(d){return this.query["note-prefix"]=base64StringFunnel(d),this}txType(d){return this.query["tx-type"]=d,this}sigType(d){return this.query["sig-type"]=d,this}txid(d){return this.query.txid=d,this}groupid(d){return this.query["group-id"]=base64StringFunnel(d),this}round(d){return this.query.round=d,this}minRound(d){return this.query["min-round"]=d,this}maxRound(d){return this.query["max-round"]=d,this}assetID(d){return this.query["asset-id"]=d,this}limit(d){return this.query.limit=d,this}beforeTime(d){return this.query["before-time"]=d instanceof Date?d.toISOString():d,this}afterTime(d){return this.query["after-time"]=d instanceof Date?d.toISOString():d,this}addressRole(d){return this.query["address-role"]=d,this}address(d){return this.query.address=d.toString(),this}excludeCloseTo(d){return this.query["exclude-close-to"]=d,this}nextToken(d){return this.query.next=d,this}rekeyTo(d){return this.query["rekey-to"]=d,this}applicationID(d){return this.query["application-id"]=d,this}currencyGreaterThan(d){return this.query["currency-greater-than"]=d.toString(),this}currencyLessThan(d){return this.query["currency-less-than"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),TransactionsResponse)}}class SearchForAssets extends JSONRequest{path(){return"/v2/assets"}limit(d){return this.query.limit=d,this}creator(d){return this.query.creator=d.toString(),this}name(d){return this.query.name=d,this}unit(d){return this.query.unit=d,this}index(d){return this.query["asset-id"]=d,this}nextToken(d){return this.query.next=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),AssetsResponse)}}class SearchForApplications extends JSONRequest{path(){return"/v2/applications"}index(d){return this.query["application-id"]=d,this}creator(d){return this.query.creator=d.toString(),this}nextToken(d){return this.query.next=d,this}limit(d){return this.query.limit=d,this}includeAll(d=!0){return this.query["include-all"]=d,this}prepare(d){return decodeJSON(d.getJSONText(),ApplicationsResponse)}}class SearchForApplicationBoxes extends JSONRequest{constructor(d,Mt){super(d),this.index=BigInt(Mt)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(d){return this.query.next=d,this}limit(d){return this.query.limit=d,this}prepare(d){return decodeJSON(d.getJSONText(),BoxesResponse)}}class IndexerClient extends ServiceClient{constructor(d,Mt="http://127.0.0.1",Ot=8080,Ft={}){super("X-Indexer-API-Token",d,Mt,Ot,Ft)}makeHealthCheck(){return new MakeHealthCheck(this.c)}lookupAssetBalances(d){return new LookupAssetBalances(this.c,d)}lookupAssetTransactions(d){return new LookupAssetTransactions(this.c,d)}lookupAccountTransactions(d){return new LookupAccountTransactions(this.c,d)}lookupBlock(d){return new LookupBlock(this.c,d)}lookupTransactionByID(d){return new LookupTransactionByID(this.c,d)}lookupAccountByID(d){return new LookupAccountByID(this.c,d)}lookupAccountAssets(d){return new LookupAccountAssets(this.c,d)}lookupAccountCreatedAssets(d){return new LookupAccountCreatedAssets(this.c,d)}lookupAccountAppLocalStates(d){return new LookupAccountAppLocalStates(this.c,d)}lookupAccountCreatedApplications(d){return new LookupAccountCreatedApplications(this.c,d)}lookupAssetByID(d){return new LookupAssetByID(this.c,d)}lookupApplications(d){return new LookupApplications(this.c,d)}lookupApplicationLogs(d){return new LookupApplicationLogs(this.c,d)}searchAccounts(){return new SearchAccounts(this.c)}searchForBlockHeaders(){return new SearchForBlockHeaders(this.c)}searchForTransactions(){return new SearchForTransactions(this.c)}searchForAssets(){return new SearchForAssets(this.c)}searchForApplications(){return new SearchForApplications(this.c)}searchForApplicationBoxes(d){return new SearchForApplicationBoxes(this.c,d)}lookupApplicationBoxByIDandName(d,Mt){return new LookupApplicationBoxByIDandName(this.c,d,Mt)}}async function waitForConfirmation(_e,d,Mt){const Ot=await _e.status().do();if(typeof Ot>"u")throw new Error("Unable to get node status");const Ft=Ot.lastRound+BigInt(1),Ut=Ft+BigInt(Mt);let Xt=Ft;for(;Xt<Ut;){let jr=!1;try{const hn=await _e.pendingTransactionInformation(d).do();if(hn.confirmedRound)return hn;if(hn.poolError)throw jr=!0,new Error(`Transaction Rejected: ${hn.poolError}`)}catch(hn){if(jr)throw hn}await _e.statusAfterBlock(Xt).do(),Xt+=BigInt(1)}throw new Error(`Transaction not confirmed after ${Mt} rounds`)}function bigIntToBytes(_e,d){let Mt=_e.toString(16);Mt.length!==d*2&&(Mt=Mt.padStart(d*2,"0"));const Ot=new Uint8Array(Mt.length/2);for(let Ft=0,Ut=0;Ft<Mt.length/2;Ft++,Ut+=2)Ot[Ft]=parseInt(Mt.slice(Ut,Ut+2),16);return Ot}function bytesToBigInt(_e){let d=BigInt(0);const Mt=new DataView(_e.buffer,_e.byteOffset);for(let Ot=0;Ot<_e.length;Ot++)d=BigInt(Number(Mt.getUint8(Ot)))+d*BigInt(256);return d}function generateAccount(){const _e=keyPair();return{addr:new Address(_e.publicKey),sk:_e.secretKey}}const english=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],FAIL_TO_DECODE_MNEMONIC_ERROR_MSG="failed to decode mnemonic",NOT_IN_WORDS_LIST_ERROR_MSG="the mnemonic contains a word that is not in the wordlist";function toUint11Array(_e){const d=[];let Mt=0,Ot=0;function Ft(Xt){Mt|=Xt<<Ot,Ot+=8,Ot>=11&&(d.push(Mt&2047),Mt>>=11,Ot-=11)}function Ut(){Ot&&d.push(Mt)}return _e.forEach(Ft),Ut(),d}function applyWords(_e){return _e.map(d=>english[d])}function computeChecksum(_e){const d=genericHash(_e),Mt=toUint11Array(d);return applyWords(Mt)[0]}function mnemonicFromSeed(_e){if(_e.length!==SEED_BTYES_LENGTH)throw new RangeError(`Seed length must be ${SEED_BTYES_LENGTH}`);const d=toUint11Array(_e),Mt=applyWords(d),Ot=computeChecksum(_e);return`${Mt.join(" ")} ${Ot}`}function toUint8Array(_e){const d=[];let Mt=0,Ot=0;function Ft(Xt){for(Mt|=Xt<<Ot,Ot+=11;Ot>=8;)d.push(Mt&255),Mt>>=8,Ot-=8}function Ut(){Ot&&d.push(Mt)}return _e.forEach(Ft),Ut(),new Uint8Array(d)}function seedFromMnemonic(_e){const d=_e.split(" "),Mt=d.slice(0,24);for(const jr of Mt)if(english.indexOf(jr)===-1)throw new Error(NOT_IN_WORDS_LIST_ERROR_MSG);const Ot=d[d.length-1],Ft=Mt.map(jr=>english.indexOf(jr));let Ut=toUint8Array(Ft);if(Ut.length!==33)throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG);if(Ut[Ut.length-1]!==0)throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG);if(Ut=Ut.slice(0,Ut.length-1),computeChecksum(Ut)===Ot)return Ut;throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG)}function mnemonicToSecretKey(_e){const d=seedFromMnemonic(_e),Mt=keyPairFromSeed(d);return{addr:new Address(Mt.publicKey),sk:Mt.secretKey}}function secretKeyToMnemonic(_e){const d=_e.slice(0,SEED_BTYES_LENGTH);return mnemonicFromSeed(d)}function mnemonicToMasterDerivationKey(_e){return seedFromMnemonic(_e)}function masterDerivationKeyToMnemonic(_e){return mnemonicFromSeed(_e)}const ALGORAND_MAX_TX_GROUP_SIZE=16,TX_GROUP_TAG=new TextEncoder().encode("TG");function txGroupPreimage(_e){if(_e.length>ALGORAND_MAX_TX_GROUP_SIZE)throw new Error(`${_e.length} transactions grouped together but max group size is ${ALGORAND_MAX_TX_GROUP_SIZE}`);if(_e.length===0)throw new Error("Cannot compute group ID of zero transactions");const d=msgpackRawEncode({txlist:_e});return concatArrays(TX_GROUP_TAG,d)}function computeGroupID(_e){const d=[];for(const Ft of _e)d.push(Ft.rawTxID());const Mt=txGroupPreimage(d),Ot=genericHash(Mt);return Uint8Array.from(Ot)}function assignGroupID(_e){const d=computeGroupID(_e);for(const Mt of _e)Mt.group=d;return _e}function signLogicSigTransactionWithAddress(_e,d,Mt){if(!d.verify(Mt.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let Ot;bytesEqual(Mt.publicKey,_e.sender.publicKey)||(Ot=Mt);const Ft=new SignedTransaction({lsig:d,txn:_e,sgnr:Ot});return{txID:_e.txID(),blob:encodeMsgpack(Ft)}}function signLogicSigTransactionObject(_e,d){let Mt,Ot;if(d instanceof LogicSigAccount$1)Mt=d.lsig,Ot=d.address();else if(Mt=d,Mt.sig)Ot=new Address(_e.sender.publicKey);else if(Mt.msig){const Ft={version:Mt.msig.v,threshold:Mt.msig.thr,pks:Mt.msig.subsig.map(Ut=>Ut.pk)};Ot=addressFromMultisigPreImg(Ft)}else Ot=Mt.address();return signLogicSigTransactionWithAddress(_e,Mt,Ot)}function signLogicSigTransaction(_e,d){return signLogicSigTransactionObject(_e,d)}const MULTISIG_MERGE_LESSTHANTWO_ERROR_MSG="Not enough multisig transactions to merge. Need at least two",MULTISIG_MERGE_MISMATCH_ERROR_MSG="Cannot merge txs. txIDs differ",MULTISIG_MERGE_MISMATCH_AUTH_ADDR_MSG="Cannot merge txs. Auth addrs differ",MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG="Cannot merge txs. Multisig preimages differ",MULTISIG_MERGE_SIG_MISMATCH_ERROR_MSG="Cannot merge txs. subsigs are mismatched.",MULTISIG_SIGNATURE_LENGTH_ERROR_MSG="Cannot add multisig signature. Signature is not of the correct length.",MULTISIG_KEY_NOT_EXIST_ERROR_MSG="Key does not exist";function createMultisigTransaction(_e,{version:d,threshold:Mt,addrs:Ot}){const Ft=pksFromAddresses(Ot),Ut=Ft.map(fn=>({pk:fn})),Xt={v:d,thr:Mt,subsig:Ut},jr=addressFromMultisigPreImg({version:d,threshold:Mt,pks:Ft});let hn;_e.sender.equals(jr)||(hn=jr);const Vr=new SignedTransaction({txn:_e,msig:Xt,sgnr:hn});return encodeMsgpack(Vr)}function createMultisigTransactionWithSignature(_e,{rawSig:d,myPk:Mt},{version:Ot,threshold:Ft,pks:Ut}){const Xt=createMultisigTransaction(_e,{version:Ot,threshold:Ft,addrs:Ut.map(Vr=>new Address(Vr))}),jr=decodeMsgpack(Xt,SignedTransaction);let hn=!1;if(jr.msig.subsig.forEach((Vr,fn)=>{bytesEqual(Vr.pk,Mt)&&(hn=!0,jr.msig.subsig[fn].s=d)}),!hn)throw new Error(MULTISIG_KEY_NOT_EXIST_ERROR_MSG);return encodeMsgpack(jr)}function partialSignTxn(_e,{version:d,threshold:Mt,pks:Ot},Ft){const Ut=keyPairFromSecretKey(Ft).publicKey;return createMultisigTransactionWithSignature(_e,{rawSig:_e.rawSignTxn(Ft),myPk:Ut},{version:d,threshold:Mt,pks:Ot})}function partialSignWithMultisigSignature(_e,d,Mt,Ot){if(!isValidSignatureLength(Ot.length))throw new Error(MULTISIG_SIGNATURE_LENGTH_ERROR_MSG);const Ft=typeof Mt=="string"?Address.fromString(Mt):Mt;return createMultisigTransactionWithSignature(_e,{rawSig:Ot,myPk:Ft.publicKey},d)}function mergeMultisigTransactions(_e){if(_e.length<2)throw new Error(MULTISIG_MERGE_LESSTHANTWO_ERROR_MSG);const d=decodeMsgpack(_e[0],SignedTransaction);if(!d.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const Mt=d.txn.txID(),Ot=d.sgnr?d.sgnr.toString():void 0,Ft={version:d.msig.v,threshold:d.msig.thr,pks:d.msig.subsig.map(fn=>fn.pk)},Ut=addressFromMultisigPreImg(Ft),Xt=d.msig.subsig.map(fn=>({...fn}));for(let fn=1;fn<_e.length;fn++){const dn=decodeMsgpack(_e[fn],SignedTransaction);if(!dn.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${fn}`);if(dn.txn.txID()!==Mt)throw new Error(MULTISIG_MERGE_MISMATCH_ERROR_MSG);const pn=dn.sgnr?dn.sgnr.toString():void 0;if(Ot!==pn)throw new Error(MULTISIG_MERGE_MISMATCH_AUTH_ADDR_MSG);if(dn.msig.subsig.length!==d.msig.subsig.length)throw new Error(MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG);const En={version:dn.msig.v,threshold:dn.msig.thr,pks:dn.msig.subsig.map(Dn=>Dn.pk)},_n=addressFromMultisigPreImg(En);if(!Ut.equals(_n))throw new Error(MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG);dn.msig.subsig.forEach((Dn,Vn)=>{if(!Dn.s)return;const Pn=Xt[Vn];if(Pn.s&&!arrayEqual(Dn.s,Pn.s))throw new Error(MULTISIG_MERGE_SIG_MISMATCH_ERROR_MSG);Pn.s=Dn.s})}const jr={v:d.msig.v,thr:d.msig.thr,subsig:Xt},hn=typeof Ot<"u"?d.sgnr:void 0,Vr=new SignedTransaction({msig:jr,txn:d.txn,sgnr:hn});return encodeMsgpack(Vr)}function signMultisigTransaction(_e,{version:d,threshold:Mt,addrs:Ot},Ft){const Ut=pksFromAddresses(Ot),Xt=partialSignTxn(_e,{version:d,threshold:Mt,pks:Ut},Ft);return{txID:_e.txID(),blob:Xt}}function appendSignMultisigTransaction(_e,{version:d,threshold:Mt,addrs:Ot},Ft){const Ut=pksFromAddresses(Ot),Xt=decodeMsgpack(_e,SignedTransaction),jr=partialSignTxn(Xt.txn,{version:d,threshold:Mt,pks:Ut},Ft);return{txID:Xt.txn.txID(),blob:mergeMultisigTransactions([_e,jr])}}function appendSignRawMultisigSignature(_e,{version:d,threshold:Mt,addrs:Ot},Ft,Ut){const Xt=pksFromAddresses(Ot),jr=decodeMsgpack(_e,SignedTransaction),hn=partialSignWithMultisigSignature(jr.txn,{version:d,threshold:Mt,pks:Xt},Ft,Ut);return{txID:jr.txn.txID(),blob:mergeMultisigTransactions([_e,hn])}}let char_to_integer={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(_e,d){char_to_integer[_e]=d});function decode(_e){let d=[],Mt=0,Ot=0;for(let Ft=0;Ft<_e.length;Ft+=1){let Ut=char_to_integer[_e[Ft]];if(Ut===void 0)throw new Error("Invalid character ("+_e[Ft]+")");const Xt=Ut&32;if(Ut&=31,Ot+=Ut<<Mt,Xt)Mt+=5;else{const jr=Ot&1;Ot>>>=1,jr?d.push(Ot===0?-2147483648:-Ot):d.push(Ot),Ot=Mt=0}}return d}class ProgramSourceMap{constructor({version:d,sources:Mt,names:Ot,mappings:Ft}){if(this.version=d,this.sources=Mt,this.names=Ot,this.mappings=Ft,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const Ut=this.mappings.split(";").map(decode);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const Xt={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[jr,hn]of Ut.entries()){if(hn.length<4)continue;const Vr=hn.length>4?hn[4]:void 0,[,fn,dn,pn]=hn;Xt.sourceIndex+=fn,Xt.line+=dn,Xt.column+=pn,typeof Vr<"u"&&(Xt.nameIndex+=Vr);const En=`${Xt.sourceIndex}:${Xt.line}`;let _n=this.sourceAndLineToPc.get(En);_n===void 0&&(_n=[],this.sourceAndLineToPc.set(En,_n));const Dn={pc:jr,column:Xt.column},Vn={line:Xt.line,column:Xt.column,sourceIndex:Xt.sourceIndex};typeof Vr<"u"&&(Dn.nameIndex=Xt.nameIndex,Vn.nameIndex=Xt.nameIndex),_n.push(Dn),this.pcToLocation.set(jr,Vn)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(d){return this.pcToLocation.get(d)}getPcsOnSourceLine(d,Mt){const Ot=this.sourceAndLineToPc.get(`${d}:${Mt}`);return Ot===void 0?[]:Ot}}const defaultAppId=1380011588,defaultMaxWidth=30;async function createDryrun({client:_e,txns:d,protocolVersion:Mt,latestTimestamp:Ot,round:Ft,sources:Ut}){const Xt=[],jr=[],hn=[],Vr=[],fn=[];for(const _n of d)if(_n.txn.type===TransactionType.appl)if(fn.push(_n.txn.sender.toString()),fn.push(..._n.txn.applicationCall.accounts.map(Dn=>Dn.toString())),hn.push(..._n.txn.applicationCall.foreignApps),fn.push(..._n.txn.applicationCall.foreignApps.map(getApplicationAddress).map(Dn=>Dn.toString())),Vr.push(..._n.txn.applicationCall.foreignAssets),_n.txn.applicationCall.appIndex===BigInt(0))Xt.push(new Application$1({id:defaultAppId,params:new ApplicationParams$1({creator:_n.txn.sender.toString(),approvalProgram:_n.txn.applicationCall.approvalProgram,clearStateProgram:_n.txn.applicationCall.clearProgram,localStateSchema:new ApplicationStateSchema$1({numUint:_n.txn.applicationCall.numLocalInts,numByteSlice:_n.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new ApplicationStateSchema$1({numUint:_n.txn.applicationCall.numGlobalInts,numByteSlice:_n.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:Dn}=_n.txn.applicationCall;hn.push(Dn),fn.push(getApplicationAddress(Dn).toString())}const dn=[];for(const _n of new Set(Vr))dn.push(_e.getAssetByID(_n).do().then(Dn=>{fn.push(Dn.params.creator)}));await Promise.all(dn);const pn=[];for(const _n of new Set(hn))pn.push(_e.getApplicationByID(_n).do().then(Dn=>{Xt.push(Dn),fn.push(Dn.params.creator.toString())}));await Promise.all(pn);const En=[];for(const _n of new Set(fn))En.push(_e.accountInformation(_n).do().then(Dn=>{jr.push(Dn)}));return await Promise.all(En),new DryrunRequest({txns:d.slice(),accounts:jr,apps:Xt,latestTimestamp:Ot??0,round:Ft??0,protocolVersion:Mt??"",sources:Ut??[]})}function truncate(_e,d){return _e.length>d&&d>0?`${_e.slice(0,d)}...`:_e}function scratchToString(_e,d){if(d.length===0)return"";let Mt=null;for(let Ft=0;Ft<d.length;Ft++){if(Ft>_e.length){Mt=Ft;continue}stringifyJSON(_e[Ft])!==stringifyJSON(d[Ft])&&(Mt=Ft)}if(Mt==null)return"";const Ot=d[Mt];return Ot.bytes.length>0?`${Mt} = 0x${bytesToHex(Ot.bytes)}`:`${Mt} = ${Ot.uint.toString()}`}function stackToString(_e,d){return`[${(d?_e.reverse():_e).map(Ot=>{switch(Ot.type){case 1:return`0x${bytesToHex(Ot.bytes)}`;case 2:return Ot.uint.toString();default:return""}}).join(", ")}]`}function dryrunTrace(_e,d,Mt){const Ot=Mt.maxValueWidth||defaultMaxWidth,Ft=[["pc#","ln#","source","scratch","stack"]];for(let Xt=0;Xt<_e.length;Xt++){const{line:jr,error:hn,pc:Vr,scratch:fn,stack:dn}=_e[Xt],pn=fn!==void 0?fn:[],En=Xt>0&&_e[Xt-1].scratch!==void 0?_e[Xt-1].scratch:[],_n=hn?`!! ${hn} !!`:d[jr];Ft.push([Vr.toString().padEnd(3," "),jr.toString().padEnd(3," "),truncate(_n,Ot),truncate(scratchToString(En,pn),Ot),truncate(stackToString(dn,Mt.topOfStackFirst),Ot)])}const Ut=Ft.reduce((Xt,jr)=>{const hn=new Array(Ft[0].length).fill(0);for(let Vr=0;Vr<Xt.length;Vr++)hn[Vr]=jr[Vr].length>Xt[Vr]?jr[Vr].length:Xt[Vr];return hn},new Array(Ft[0].length).fill(0));return`${Ft.map(Xt=>Xt.map((jr,hn)=>jr.padEnd(Ut[hn]+1," ")).join("|").trim()).join(`
`)}
`}function dryrunTxnResultAppTrace(_e,d){if(!_e.appCallTrace||!_e.disassembly)return"";let Mt=d;return d!==void 0?Mt=d:Mt={maxValueWidth:defaultMaxWidth,topOfStackFirst:!1},dryrunTrace(_e.appCallTrace,_e.disassembly,Mt)}function dryrunTxnResultLogicSigTrace(_e,d){if(!_e.logicSigTrace||!_e.logicSigDisassembly)return"";let Mt;return d!==void 0?Mt=d:Mt={maxValueWidth:defaultMaxWidth,topOfStackFirst:!0},dryrunTrace(_e.logicSigTrace,_e.logicSigDisassembly,Mt)}function makePaymentTxnWithSuggestedParamsFromObject({sender:_e,receiver:d,amount:Mt,closeRemainderTo:Ot,suggestedParams:Ft,note:Ut,lease:Xt,rekeyTo:jr}){return new Transaction$1({type:TransactionType.pay,sender:_e,note:Ut,lease:Xt,rekeyTo:jr,suggestedParams:Ft,paymentParams:{receiver:d,amount:Mt,closeRemainderTo:Ot}})}function makeKeyRegistrationTxnWithSuggestedParamsFromObject({sender:_e,voteKey:d,selectionKey:Mt,stateProofKey:Ot,voteFirst:Ft,voteLast:Ut,voteKeyDilution:Xt,nonParticipation:jr,suggestedParams:hn,note:Vr,lease:fn,rekeyTo:dn}){return new Transaction$1({type:TransactionType.keyreg,sender:_e,note:Vr,lease:fn,rekeyTo:dn,suggestedParams:hn,keyregParams:{voteKey:d,selectionKey:Mt,stateProofKey:Ot,voteFirst:Ft,voteLast:Ut,voteKeyDilution:Xt,nonParticipation:jr}})}function makeBaseAssetConfigTxn({sender:_e,assetIndex:d,total:Mt,decimals:Ot,defaultFrozen:Ft,manager:Ut,reserve:Xt,freeze:jr,clawback:hn,unitName:Vr,assetName:fn,assetURL:dn,assetMetadataHash:pn,note:En,lease:_n,rekeyTo:Dn,suggestedParams:Vn}){return new Transaction$1({type:TransactionType.acfg,sender:_e,note:En,lease:_n,rekeyTo:Dn,suggestedParams:Vn,assetConfigParams:{assetIndex:d,total:Mt,decimals:Ot,defaultFrozen:Ft,manager:Ut,reserve:Xt,freeze:jr,clawback:hn,unitName:Vr,assetName:fn,assetURL:dn,assetMetadataHash:pn}})}function makeAssetCreateTxnWithSuggestedParamsFromObject({sender:_e,total:d,decimals:Mt,defaultFrozen:Ot,manager:Ft,reserve:Ut,freeze:Xt,clawback:jr,unitName:hn,assetName:Vr,assetURL:fn,assetMetadataHash:dn,note:pn,lease:En,rekeyTo:_n,suggestedParams:Dn}){return makeBaseAssetConfigTxn({sender:_e,total:d,decimals:Mt,defaultFrozen:Ot,manager:Ft,reserve:Ut,freeze:Xt,clawback:jr,unitName:hn,assetName:Vr,assetURL:fn,assetMetadataHash:dn,note:pn,lease:En,rekeyTo:_n,suggestedParams:Dn})}function makeAssetConfigTxnWithSuggestedParamsFromObject({sender:_e,assetIndex:d,manager:Mt,reserve:Ot,freeze:Ft,clawback:Ut,strictEmptyAddressChecking:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("assetIndex must be provided");if((Xt??!0)&&(Mt==null||Ot==null||Ft==null||Ut==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return makeBaseAssetConfigTxn({sender:_e,assetIndex:d,manager:Mt,reserve:Ot,freeze:Ft,clawback:Ut,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeAssetDestroyTxnWithSuggestedParamsFromObject({sender:_e,assetIndex:d,note:Mt,lease:Ot,rekeyTo:Ft,suggestedParams:Ut}){if(!d)throw Error("assetIndex must be provided");return makeBaseAssetConfigTxn({sender:_e,assetIndex:d,note:Mt,lease:Ot,rekeyTo:Ft,suggestedParams:Ut})}function makeAssetFreezeTxnWithSuggestedParamsFromObject({sender:_e,assetIndex:d,freezeTarget:Mt,frozen:Ot,suggestedParams:Ft,note:Ut,lease:Xt,rekeyTo:jr}){return new Transaction$1({type:TransactionType.afrz,sender:_e,note:Ut,lease:Xt,rekeyTo:jr,suggestedParams:Ft,assetFreezeParams:{assetIndex:d,freezeTarget:Mt,frozen:Ot}})}function makeAssetTransferTxnWithSuggestedParamsFromObject({sender:_e,receiver:d,amount:Mt,closeRemainderTo:Ot,assetSender:Ft,note:Ut,assetIndex:Xt,suggestedParams:jr,rekeyTo:hn,lease:Vr}){if(!Xt)throw Error("assetIndex must be provided");return new Transaction$1({type:TransactionType.axfer,sender:_e,note:Ut,lease:Vr,rekeyTo:hn,suggestedParams:jr,assetTransferParams:{assetIndex:Xt,receiver:d,amount:Mt,assetSender:Ft,closeRemainderTo:Ot}})}function makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:Mt,appArgs:Ot,accounts:Ft,foreignApps:Ut,foreignAssets:Xt,boxes:jr,approvalProgram:hn,clearProgram:Vr,numLocalInts:fn,numLocalByteSlices:dn,numGlobalInts:pn,numGlobalByteSlices:En,extraPages:_n,note:Dn,lease:Vn,rekeyTo:Pn,suggestedParams:qn}){if(Mt==null)throw Error("onComplete must be provided");return new Transaction$1({type:TransactionType.appl,sender:_e,note:Dn,lease:Vn,rekeyTo:Pn,suggestedParams:qn,appCallParams:{appIndex:d,onComplete:Mt,appArgs:Ot,accounts:Ft,foreignAssets:Xt,foreignApps:Ut,boxes:jr,approvalProgram:hn,clearProgram:Vr,numLocalInts:fn,numLocalByteSlices:dn,numGlobalInts:pn,numGlobalByteSlices:En,extraPages:_n}})}function makeApplicationCreateTxnFromObject({sender:_e,onComplete:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,approvalProgram:jr,clearProgram:hn,numLocalInts:Vr,numLocalByteSlices:fn,numGlobalInts:dn,numGlobalByteSlices:pn,extraPages:En,note:_n,lease:Dn,rekeyTo:Vn,suggestedParams:Pn}){if(!jr||!hn)throw Error("approvalProgram and clearProgram must be provided");if(d==null)throw Error("onComplete must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:0,onComplete:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,approvalProgram:jr,clearProgram:hn,numLocalInts:Vr,numLocalByteSlices:fn,numGlobalInts:dn,numGlobalByteSlices:pn,extraPages:En,note:_n,lease:Dn,rekeyTo:Vn,suggestedParams:Pn})}function makeApplicationUpdateTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,approvalProgram:jr,clearProgram:hn,note:Vr,lease:fn,rekeyTo:dn,suggestedParams:pn}){if(!d)throw Error("appIndex must be provided");if(!jr||!hn)throw Error("approvalProgram and clearProgram must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.UpdateApplicationOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,approvalProgram:jr,clearProgram:hn,note:Vr,lease:fn,rekeyTo:dn,suggestedParams:pn})}function makeApplicationDeleteTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.DeleteApplicationOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeApplicationOptInTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.OptInOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeApplicationCloseOutTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.CloseOutOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeApplicationClearStateTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.ClearStateOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeApplicationNoOpTxnFromObject({sender:_e,appIndex:d,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn}){if(!d)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:_e,appIndex:d,onComplete:OnApplicationComplete$2.NoOpOC,appArgs:Mt,accounts:Ot,foreignApps:Ft,foreignAssets:Ut,boxes:Xt,note:jr,lease:hn,rekeyTo:Vr,suggestedParams:fn})}function makeBasicAccountTransactionSigner(_e){return(d,Mt)=>{const Ot=[];for(const Ft of Mt)Ot.push(d[Ft].signTxn(_e.sk));return Promise.resolve(Ot)}}function makeLogicSigAccountTransactionSigner(_e){return(d,Mt)=>{const Ot=[];for(const Ft of Mt){const{blob:Ut}=signLogicSigTransactionObject(d[Ft],_e);Ot.push(Ut)}return Promise.resolve(Ot)}}function makeMultiSigAccountTransactionSigner(_e,d){return(Mt,Ot)=>{const Ft=[];for(const Ut of Ot){const Xt=Mt[Ut],jr=[];for(const hn of d){const{blob:Vr}=signMultisigTransaction(Xt,_e,hn);jr.push(Vr)}jr.length>1?Ft.push(mergeMultisigTransactions(jr)):Ft.push(jr[0])}return Promise.resolve(Ft)}}function makeEmptyTransactionSigner(){return(_e,d)=>{const Mt=[];for(const Ot of d)Mt.push(encodeUnsignedSimulateTransaction(_e[Ot]));return Promise.resolve(Mt)}}function isTransactionWithSigner$1(_e){return typeof _e=="object"&&Object.keys(_e).length===2&&typeof _e.txn=="object"&&typeof _e.signer=="function"}const MAX_LEN=2**16-1,ADDR_BYTE_SIZE=32,SINGLE_BYTE_SIZE=1,SINGLE_BOOL_SIZE=1,LENGTH_ENCODE_BYTE_SIZE=2,staticArrayRegexp=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,ufixedRegexp=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class ABIType{static from(d){if(d.endsWith("[]")){const Mt=ABIType.from(d.slice(0,d.length-2));return new ABIArrayDynamicType(Mt)}if(d.endsWith("]")){const Mt=d.match(staticArrayRegexp);if(!Mt||Mt.length!==3)throw new Error(`malformed static array string: ${d}`);const Ot=Mt[2],Ft=parseInt(Ot,10);if(Ft>MAX_LEN)throw new Error(`array length exceeds limit ${MAX_LEN}`);const Ut=ABIType.from(Mt[1]);return new ABIArrayStaticType(Ut,Ft)}if(d.startsWith("uint")){const Mt=Ut=>[...Ut].every(Xt=>"0123456789".includes(Xt)),Ot=d.slice(4,d.length);if(!Mt(Ot))throw new Error(`malformed uint string: ${Ot}`);const Ft=parseInt(Ot,10);if(Ft>MAX_LEN)throw new Error(`malformed uint string: ${Ft}`);return new ABIUintType(Ft)}if(d==="byte")return new ABIByteType;if(d.startsWith("ufixed")){const Mt=d.match(ufixedRegexp);if(!Mt||Mt.length!==3)throw new Error(`malformed ufixed type: ${d}`);const Ot=parseInt(Mt[1],10),Ft=parseInt(Mt[2],10);return new ABIUfixedType(Ot,Ft)}if(d==="bool")return new ABIBoolType;if(d==="address")return new ABIAddressType;if(d==="string")return new ABIStringType;if(d.length>=2&&d[0]==="("&&d[d.length-1]===")"){const Mt=ABITupleType.parseTupleContent(d.slice(1,d.length-1)),Ot=[];for(let Ft=0;Ft<Mt.length;Ft++){const Ut=ABIType.from(Mt[Ft]);Ot.push(Ut)}return new ABITupleType(Ot)}throw new Error(`cannot convert a string ${d} to an ABI type`)}}class ABIUintType extends ABIType{constructor(d){if(super(),d%8!==0||d<8||d>512)throw new Error(`unsupported uint type bitSize: ${d}`);this.bitSize=d}toString(){return`uint${this.bitSize}`}equals(d){return d instanceof ABIUintType&&this.bitSize===d.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(d){if(typeof d!="bigint"&&typeof d!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${d}`);if(d>=BigInt(2**this.bitSize)||d<BigInt(0))throw new Error(`${d} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof d=="number"&&!Number.isSafeInteger(d))throw new Error(`${d} should be converted into a BigInt before it is encoded`);return bigIntToBytes(d,this.bitSize/8)}decode(d){if(d.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return bytesToBigInt(d)}}class ABIUfixedType extends ABIType{constructor(d,Mt){if(super(),d%8!==0||d<8||d>512)throw new Error(`unsupported ufixed type bitSize: ${d}`);if(Mt>160||Mt<1)throw new Error(`unsupported ufixed type precision: ${Mt}`);this.bitSize=d,this.precision=Mt}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(d){return d instanceof ABIUfixedType&&this.bitSize===d.bitSize&&this.precision===d.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(d){if(typeof d!="bigint"&&typeof d!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${d}`);if(d>=BigInt(2**this.bitSize)||d<BigInt(0))throw new Error(`${d} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof d=="number"&&!Number.isSafeInteger(d))throw new Error(`${d} should be converted into a BigInt before it is encoded`);return bigIntToBytes(d,this.bitSize/8)}decode(d){if(d.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return bytesToBigInt(d)}}class ABIAddressType extends ABIType{toString(){return"address"}equals(d){return d instanceof ABIAddressType}isDynamic(){return!1}byteLen(){return ADDR_BYTE_SIZE}encode(d){if(typeof d=="string")return decodeAddress(d).publicKey;if(d instanceof Address)return d.publicKey;if(d instanceof Uint8Array){if(d.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return d}throw new Error(`Cannot encode value as ${this.toString()}: ${d}`)}decode(d){if(d.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return encodeAddress(d)}}class ABIBoolType extends ABIType{toString(){return"bool"}equals(d){return d instanceof ABIBoolType}isDynamic(){return!1}byteLen(){return SINGLE_BOOL_SIZE}encode(d){if(typeof d!="boolean")throw new Error(`Cannot encode value as bool: ${d}`);return d?new Uint8Array([128]):new Uint8Array([0])}decode(d){if(d.byteLength!==1)throw new Error("bool string must be 1 byte long");const Mt=d[0];if(Mt===128)return!0;if(Mt===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class ABIByteType extends ABIType{toString(){return"byte"}equals(d){return d instanceof ABIByteType}isDynamic(){return!1}byteLen(){return SINGLE_BYTE_SIZE}encode(d){if(typeof d!="number"&&typeof d!="bigint")throw new Error(`Cannot encode value as byte: ${d}`);if(typeof d=="bigint"&&(d=Number(d)),d<0||d>255)throw new Error(`${d} cannot be encoded into a byte`);return new Uint8Array([d])}decode(d){if(d.byteLength!==1)throw new Error("byte string must be 1 byte long");return d[0]}}class ABIStringType extends ABIType{toString(){return"string"}equals(d){return d instanceof ABIStringType}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(d){if(typeof d!="string"&&!(d instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${d}`);let Mt;typeof d=="string"?Mt=new TextEncoder().encode(d):Mt=d;const Ot=bigIntToBytes(Mt.length,LENGTH_ENCODE_BYTE_SIZE),Ft=new Uint8Array(Mt.length+LENGTH_ENCODE_BYTE_SIZE);return Ft.set(Ot),Ft.set(Mt,LENGTH_ENCODE_BYTE_SIZE),Ft}decode(d){if(d.length<LENGTH_ENCODE_BYTE_SIZE)throw new Error(`byte string is too short to be decoded. Actual length is ${d.length}, but expected at least ${LENGTH_ENCODE_BYTE_SIZE}`);const Ot=new DataView(d.buffer,d.byteOffset,LENGTH_ENCODE_BYTE_SIZE).getUint16(0),Ft=d.slice(LENGTH_ENCODE_BYTE_SIZE,d.length);if(Ot!==Ft.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${Ot}, got ${Ft.length}`);return new TextDecoder("utf-8").decode(Ft)}}class ABIArrayStaticType extends ABIType{constructor(d,Mt){if(super(),Mt<0)throw new Error(`static array must have a non negative length: ${Mt}`);this.childType=d,this.staticLength=Mt}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(d){return d instanceof ABIArrayStaticType&&this.staticLength===d.staticLength&&this.childType.equals(d.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===ABIBoolType?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(d){if(!Array.isArray(d)&&!(d instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${d}`);if(d.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${d.length}`);return this.toABITupleType().encode(d)}decode(d){return this.toABITupleType().decode(d)}toABITupleType(){return new ABITupleType(Array(this.staticLength).fill(this.childType))}}class ABIArrayDynamicType extends ABIType{constructor(d){super(),this.childType=d}toString(){return`${this.childType.toString()}[]`}equals(d){return d instanceof ABIArrayDynamicType&&this.childType.equals(d.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(d){if(!Array.isArray(d)&&!(d instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${d}`);const Mt=this.toABITupleType(d.length),Ot=Mt.encode(d),Ft=bigIntToBytes(Mt.childTypes.length,LENGTH_ENCODE_BYTE_SIZE);return concatArrays(Ft,Ot)}decode(d){const Ot=new DataView(d.buffer,0,LENGTH_ENCODE_BYTE_SIZE).getUint16(0);return this.toABITupleType(Ot).decode(d.slice(LENGTH_ENCODE_BYTE_SIZE,d.length))}toABITupleType(d){return new ABITupleType(Array(d).fill(this.childType))}}class ABITupleType extends ABIType{constructor(d){if(super(),d.length>=MAX_LEN)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=d}toString(){const d=[];for(let Mt=0;Mt<this.childTypes.length;Mt++)d[Mt]=this.childTypes[Mt].toString();return`(${d.join(",")})`}equals(d){return d instanceof ABITupleType&&this.childTypes.length===d.childTypes.length&&this.childTypes.every((Mt,Ot)=>Mt.equals(d.childTypes[Ot]))}isDynamic(){const d=Mt=>Mt.isDynamic();return this.childTypes.some(d)}byteLen(){let d=0;for(let Mt=0;Mt<this.childTypes.length;Mt++)if(this.childTypes[Mt].constructor===ABIBoolType){const Ot=findBoolLR(this.childTypes,Mt,1),Ft=Ot+1;Mt+=Ot,d+=Math.trunc((Ft+7)/8)}else{const Ot=this.childTypes[Mt].byteLen();d+=Ot}return d}encode(d){if(!Array.isArray(d)&&!(d instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${d}`);const Mt=Array.from(d);if(d.length>MAX_LEN)throw new Error("length of tuple array should not exceed a uint16");const Ot=this.childTypes,Ft=[],Ut=[],Xt=new Map;let jr=0;for(;jr<Ot.length;){const fn=Ot[jr];if(fn.isDynamic())Xt.set(Ft.length,!0),Ft.push(new Uint8Array([0,0])),Ut.push(fn.encode(Mt[jr]));else{if(fn.constructor===ABIBoolType){const dn=findBoolLR(Ot,jr,-1);let pn=findBoolLR(Ot,jr,1);if(dn%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");pn=Math.min(7,pn);const En=compressMultipleBool(Mt.slice(jr,jr+pn+1));Ft.push(bigIntToBytes(En,1)),jr+=pn}else{const dn=fn.encode(Mt[jr]);Ft.push(dn)}Xt.set(jr,!1),Ut.push(new Uint8Array)}jr+=1}let hn=0;for(const fn of Ft)hn+=fn.length;let Vr=0;for(let fn=0;fn<Ft.length;fn++){if(Xt.get(fn)){const dn=hn+Vr;if(dn>MAX_LEN)throw new Error(`byte length of ${dn} should not exceed a uint16`);Ft[fn]=bigIntToBytes(dn,LENGTH_ENCODE_BYTE_SIZE)}Vr+=Ut[fn].length}return concatArrays(...Ft,...Ut)}decode(d){const Mt=this.childTypes,Ot=[],Ft=[];let Ut=0,Xt=0;const jr=new DataView(d.buffer);for(;Ut<Mt.length;){const fn=Mt[Ut];if(fn.isDynamic()){if(d.slice(Xt,d.length).length<LENGTH_ENCODE_BYTE_SIZE)throw new Error("dynamic type in tuple is too short to be decoded");const dn=jr.getUint16(Xt);if(Ot.length>0&&(Ot[Ot.length-1].right=dn,dn<Ot[Ot.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const pn={left:dn,right:-1};Ot.push(pn),Ft.push(null),Xt+=LENGTH_ENCODE_BYTE_SIZE}else if(fn.constructor===ABIBoolType){const dn=findBoolLR(this.childTypes,Ut,-1);let pn=findBoolLR(this.childTypes,Ut,1);if(dn%8!==0)throw new Error("expected before bool number mod 8 === 0");pn=Math.min(7,pn);for(let En=0;En<=pn;En++){const _n=128>>En;(d[Xt]&_n)>0?Ft.push(new Uint8Array([128])):Ft.push(new Uint8Array([0]))}Ut+=pn,Xt+=1}else{const dn=fn.byteLen();Ft.push(d.slice(Xt,Xt+dn)),Xt+=dn}if(Ut!==Mt.length-1&&Xt>=d.length)throw new Error("input byte not enough to decode");Ut+=1}if(Ot.length>0&&(Ot[Ot.length-1].right=d.length,Xt=d.length),Xt<d.length)throw new Error("input byte not fully consumed");for(let fn=0;fn<Ot.length;fn++){const dn=Ot[fn];if(dn.left>dn.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(fn!==Ot.length-1&&dn.right!==Ot[fn+1].left)throw new Error("dynamic segment should be consecutive")}let hn=0;for(let fn=0;fn<Mt.length;fn++)Mt[fn].isDynamic()&&(Ft[fn]=d.slice(Ot[hn].left,Ot[hn].right),hn+=1);const Vr=[];for(let fn=0;fn<Mt.length;fn++){const dn=Mt[fn].decode(Ft[fn]);Vr.push(dn)}return Vr}static parseTupleContent(d){if(d.length===0)return[];if(d.endsWith(",")||d.startsWith(","))throw new Error("tuple string should not start with comma");if(d.includes(",,"))throw new Error("tuple string should not have consecutive commas");const Mt=[];let Ot=0,Ft="";for(const Ut of d)Ft+=Ut,Ut==="("?Ot+=1:Ut===")"?Ot-=1:Ut===","&&Ot===0&&(Mt.push(Ft.slice(0,Ft.length-1)),Ft="");if(Ft.length!==0&&Mt.push(Ft),Ot!==0)throw new Error("tuple string has mismatched parentheses");return Mt}}function compressMultipleBool(_e){let d=0;if(_e.length>8)throw new Error("value list passed in should be no greater than length 8");for(let Mt=0;Mt<_e.length;Mt++){const Ot=_e[Mt];if(typeof Ot!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");Ot&&(d|=1<<7-Mt)}return d}function findBoolLR(_e,d,Mt){let Ot=0;for(;;){const Ft=d+Mt*Ot;if(_e[Ft].constructor===ABIBoolType)if(Ft!==_e.length-1&&Mt===1)Ot+=1;else if(Ft>0&&Mt===-1)Ot+=1;else break;else{Ot-=1;break}}return Ot}var ABITransactionType;(function(_e){_e.any="txn",_e.pay="pay",_e.keyreg="keyreg",_e.acfg="acfg",_e.axfer="axfer",_e.afrz="afrz",_e.appl="appl"})(ABITransactionType||(ABITransactionType={}));function abiTypeIsTransaction(_e){return _e===ABITransactionType.any||_e===ABITransactionType.pay||_e===ABITransactionType.keyreg||_e===ABITransactionType.acfg||_e===ABITransactionType.axfer||_e===ABITransactionType.afrz||_e===ABITransactionType.appl}function abiCheckTransactionType(_e,d){return _e===ABITransactionType.any?!0:d.type?d.type.toString()===_e.toString():!1}var ABIReferenceType;(function(_e){_e.account="account",_e.application="application",_e.asset="asset"})(ABIReferenceType||(ABIReferenceType={}));function abiTypeIsReference(_e){return _e===ABIReferenceType.account||_e===ABIReferenceType.application||_e===ABIReferenceType.asset}function parseMethodSignature(_e){const d=_e.indexOf("(");if(d===-1)throw new Error(`Invalid method signature: ${_e}`);let Mt=-1,Ot=0;for(let Ft=d;Ft<_e.length;Ft++){const Ut=_e[Ft];if(Ut==="(")Ot+=1;else if(Ut===")"){if(Ot===0)break;if(Ot-=1,Ot===0){Mt=Ft;break}}}if(Mt===-1)throw new Error(`Invalid method signature: ${_e}`);return{name:_e.slice(0,d),args:ABITupleType.parseTupleContent(_e.slice(d+1,Mt)),returns:_e.slice(Mt+1)}}let ABIMethod$1=class lu{constructor(d){if(typeof d.name!="string"||typeof d.returns!="object"||!Array.isArray(d.args))throw new Error("Invalid ABIMethod parameters");this.name=d.name,this.description=d.desc,this.args=d.args.map(({type:Mt,name:Ot,desc:Ft})=>abiTypeIsTransaction(Mt)||abiTypeIsReference(Mt)?{type:Mt,name:Ot,description:Ft}:{type:ABIType.from(Mt),name:Ot,description:Ft}),this.returns={type:d.returns.type==="void"?d.returns.type:ABIType.from(d.returns.type),description:d.returns.desc},this.events=d.events,this.readonly=d.readonly}getSignature(){const d=this.args.map(Ot=>Ot.type.toString()).join(","),Mt=this.returns.type.toString();return`${this.name}(${d})${Mt}`}getSelector(){const d=genericHash(this.getSignature());return new Uint8Array(d.slice(0,4))}txnCount(){let d=1;for(const Mt of this.args)typeof Mt.type=="string"&&abiTypeIsTransaction(Mt.type)&&(d+=1);return d}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:d,name:Mt,description:Ot})=>({type:d.toString(),name:Mt,desc:Ot})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(d){const{name:Mt,args:Ot,returns:Ft}=parseMethodSignature(d);return new lu({name:Mt,args:Ot.map(Ut=>({type:Ut})),returns:{type:Ft}})}};function getMethodByName(_e,d){if(_e===null||!Array.isArray(_e)||!_e.every(Ot=>Ot instanceof ABIMethod$1))throw new Error("Methods list provided is null or not the correct type");const Mt=_e.filter(Ot=>Ot.name===d);if(Mt.length>1)throw new Error(`found ${Mt.length} methods with the same name ${Mt.map(Ot=>Ot.getSignature()).join(",")}`);if(Mt.length===0)throw new Error(`found 0 methods with the name ${d}`);return Mt[0]}class ABIContract{constructor(d){if(typeof d.name!="string"||!Array.isArray(d.methods)||d.networks&&typeof d.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=d.name,this.description=d.desc,this.networks=d.networks?{...d.networks}:{},this.methods=d.methods.map(Mt=>new ABIMethod$1(Mt)),this.events=d.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(d=>d.toJSON()),events:this.events}}getMethodByName(d){return getMethodByName(this.methods,d)}}class ABIInterface{constructor(d){if(typeof d.name!="string"||!Array.isArray(d.methods))throw new Error("Invalid ABIInterface parameters");this.name=d.name,this.description=d.desc,this.methods=d.methods.map(Mt=>new ABIMethod$1(Mt))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(d=>d.toJSON())}}getMethodByName(d){return getMethodByName(this.methods,d)}}const RETURN_PREFIX=new Uint8Array([21,31,124,117]),MAX_APP_ARGS=16;var AtomicTransactionComposerStatus;(function(_e){_e[_e.BUILDING=0]="BUILDING",_e[_e.BUILT=1]="BUILT",_e[_e.SIGNED=2]="SIGNED",_e[_e.SUBMITTED=3]="SUBMITTED",_e[_e.COMMITTED=4]="COMMITTED"})(AtomicTransactionComposerStatus||(AtomicTransactionComposerStatus={}));function populateForeignArray(_e,d,Mt){if(Mt!=null&&_e===Mt)return 0;const Ot=Mt==null?0:1;for(let Ft=0;Ft<d.length;Ft++)if(_e===d[Ft])return Ft+Ot;return d.push(_e),d.length-1+Ot}let AtomicTransactionComposer$1=class js{constructor(){this.status=AtomicTransactionComposerStatus.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const d=new js;return d.transactions=this.transactions.map(({txn:Mt,signer:Ot})=>{const Ft=Mt.toEncodingData();return Ft.delete("grp"),{txn:Transaction$1.fromEncodingData(Ft),signer:Ot}}),d.methodCalls=new Map(this.methodCalls),d}addTransaction(d){if(this.status!==AtomicTransactionComposerStatus.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===js.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${js.MAX_GROUP_SIZE}`);if(d.txn.group&&d.txn.group.some(Mt=>Mt!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(d)}addMethodCall({appID:d,method:Mt,methodArgs:Ot,sender:Ft,suggestedParams:Ut,onComplete:Xt,approvalProgram:jr,clearProgram:hn,numGlobalInts:Vr,numGlobalByteSlices:fn,numLocalInts:dn,numLocalByteSlices:pn,extraPages:En,appAccounts:_n,appForeignApps:Dn,appForeignAssets:Vn,boxes:Pn,note:qn,lease:jn,rekeyTo:Hn,signer:Jn}){if(this.status!==AtomicTransactionComposerStatus.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+Mt.txnCount()>js.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${js.MAX_GROUP_SIZE}`);if(BigInt(d)===BigInt(0)){if(jr==null||hn==null||Vr==null||fn==null||dn==null||pn==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(Xt===OnApplicationComplete$2.UpdateApplicationOC){if(jr==null||hn==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(Vr!=null||fn!=null||dn!=null||pn!=null||En!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(jr!=null||hn!=null||Vr!=null||fn!=null||dn!=null||pn!=null||En!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(Ot==null&&(Ot=[]),Ot.length!==Mt.args.length)throw new Error(`Incorrect number of method arguments. Expected ${Mt.args.length}, got ${Ot.length}`);let Gn=[],ba=[];const eo=[],xa=[],Yn=[],Un=new Map,Mn=Pn||[];for(let yn=0;yn<Ot.length;yn++){let kn=Mt.args[yn].type;const Fn=Ot[yn];if(abiTypeIsTransaction(kn)){if(!isTransactionWithSigner$1(Fn)||!abiCheckTransactionType(kn,Fn.txn))throw new Error(`Expected ${kn} TransactionWithSigner for argument at index ${yn}`);if(Fn.txn.group&&Fn.txn.group.some(Cn=>Cn!==0))throw new Error("Cannot add a transaction with nonzero group ID");eo.push(Fn);continue}if(isTransactionWithSigner$1(Fn))throw new Error(`Expected non-transaction value for argument at index ${yn}`);if(abiTypeIsReference(kn)&&(Un.set(xa.length,Gn.length),xa.push(kn),Yn.push(Fn),kn=new ABIUintType(8)),typeof kn=="string")throw new Error(`Unknown ABI type: ${kn}`);Gn.push(kn),ba.push(Fn)}const mn=[],Xr=_n==null?[]:_n.map(yn=>yn.toString()),gn=Dn==null?[]:Dn.map(ensureUint64),On=Vn==null?[]:Vn.map(ensureUint64);for(let yn=0;yn<xa.length;yn++){const kn=xa[yn],Fn=Yn[yn];let Cn=0;switch(kn){case ABIReferenceType.account:{const zn=new ABIAddressType,$a=zn.decode(zn.encode(Fn));Cn=populateForeignArray($a,Xr,Ft.toString());break}case ABIReferenceType.application:{const zn=new ABIUintType(64),$a=zn.decode(zn.encode(Fn));if($a>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${$a}`);Cn=populateForeignArray($a,gn,ensureUint64(d));break}case ABIReferenceType.asset:{const zn=new ABIUintType(64),$a=zn.decode(zn.encode(Fn));if($a>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${$a}`);Cn=populateForeignArray($a,On);break}default:throw new Error(`Unknown reference type: ${kn}`)}mn.push(Cn)}for(let yn=0;yn<mn.length;yn++){const kn=Un.get(yn);ba[kn]=mn[yn]}if(Gn.length>MAX_APP_ARGS-1){const yn=Gn.slice(MAX_APP_ARGS-2),kn=ba.slice(MAX_APP_ARGS-2);Gn=Gn.slice(0,MAX_APP_ARGS-2),ba=ba.slice(0,MAX_APP_ARGS-2),Gn.push(new ABITupleType(yn)),ba.push(kn)}const Ln=[Mt.getSelector()];for(let yn=0;yn<Gn.length;yn++)Ln.push(Gn[yn].encode(ba[yn]));const Rn={txn:makeApplicationCallTxnFromObject({sender:Ft,appIndex:d,appArgs:Ln,accounts:Xr,foreignApps:gn,foreignAssets:On,boxes:Mn,onComplete:Xt??OnApplicationComplete$2.NoOpOC,approvalProgram:jr,clearProgram:hn,numGlobalInts:Vr,numGlobalByteSlices:fn,numLocalInts:dn,numLocalByteSlices:pn,extraPages:En,lease:jn,note:qn,rekeyTo:Hn,suggestedParams:Ut}),signer:Jn};this.transactions.push(...eo,Rn),this.methodCalls.set(this.transactions.length-1,Mt)}buildGroup(){if(this.status===AtomicTransactionComposerStatus.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&assignGroupID(this.transactions.map(d=>d.txn)),this.status=AtomicTransactionComposerStatus.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=AtomicTransactionComposerStatus.SIGNED)return this.signedTxns;const d=this.buildGroup(),Mt=d.map(Vr=>Vr.txn),Ot=new Map;for(let Vr=0;Vr<d.length;Vr++){const{signer:fn}=d[Vr];Ot.has(fn)||Ot.set(fn,[]),Ot.get(fn).push(Vr)}const Ft=Array.from(Ot),Ut=await Promise.all(Ft.map(([Vr,fn])=>Vr(Mt,fn))),Xt=d.map(()=>null);for(let Vr=0;Vr<Ft.length;Vr++){const fn=Ft[Vr][1],dn=Ut[Vr];for(let pn=0;pn<fn.length;pn++)Xt[fn[pn]]=dn[pn]}function jr(Vr){return Vr.every(fn=>fn!=null)}if(!jr(Xt))throw new Error(`Missing signatures. Got ${Xt}`);const hn=Xt.map((Vr,fn)=>{try{return decodeMsgpack(Vr,SignedTransaction).txn.txID()}catch(dn){throw new Error(`Cannot decode signed transaction at index ${fn}. ${dn}`)}});return this.signedTxns=Xt,this.txIDs=hn,this.status=AtomicTransactionComposerStatus.SIGNED,Xt}async submit(d){if(this.status>AtomicTransactionComposerStatus.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const Mt=await this.gatherSignatures();return await d.sendRawTransaction(Mt).do(),this.status=AtomicTransactionComposerStatus.SUBMITTED,this.txIDs}async simulate(d,Mt){if(this.status>AtomicTransactionComposerStatus.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const Ft=(await this.gatherSignatures()).map(hn=>decodeMsgpack(hn,SignedTransaction)),Ut=Mt??new SimulateRequest({txnGroups:[]});Ut.txnGroups=[new SimulateRequestTransactionGroup({txns:Ft})];const Xt=await d.simulateTransactions(Ut).do(),jr=[];for(const[hn,Vr]of this.methodCalls){const fn=this.txIDs[hn],dn=Xt.txnGroups[0].txnResults[hn].txnResult,pn={txID:fn,rawReturnValue:new Uint8Array,method:Vr};jr.push(js.parseMethodResponse(Vr,pn,dn))}return{methodResults:jr,simulateResponse:Xt}}async execute(d,Mt){if(this.status===AtomicTransactionComposerStatus.COMMITTED)throw new Error("Transaction group has already been executed successfully");const Ot=await this.submit(d);this.status=AtomicTransactionComposerStatus.SUBMITTED;const Ft=this.transactions.findIndex((Vr,fn)=>this.methodCalls.has(fn)),Xt=await waitForConfirmation(d,Ot[Ft===-1?0:Ft],Mt);this.status=AtomicTransactionComposerStatus.COMMITTED;const jr=Xt.confirmedRound,hn=[];for(const[Vr,fn]of this.methodCalls){const dn=Ot[Vr];let pn={txID:dn,rawReturnValue:new Uint8Array,method:fn};try{const En=Vr===Ft?Xt:await d.pendingTransactionInformation(dn).do();pn=js.parseMethodResponse(fn,pn,En)}catch(En){pn.decodeError=En}hn.push(pn)}return{confirmedRound:jr,txIDs:Ot,methodResults:hn}}static parseMethodResponse(d,Mt,Ot){const Ft=Mt;try{if(Ft.txInfo=Ot,d.returns.type!=="void"){const Ut=Ot.logs||[];if(Ut.length===0)throw new Error(`App call transaction did not log a return value ${stringifyJSON(Ot)}`);const Xt=Ut[Ut.length-1];if(Xt.byteLength<4||!arrayEqual(Xt.slice(0,4),RETURN_PREFIX))throw new Error(`App call transaction did not log a ABI return value ${stringifyJSON(Ot)}`);Ft.rawReturnValue=new Uint8Array(Xt.slice(4)),Ft.returnValue=d.returns.type.decode(Mt.rawReturnValue)}}catch(Ut){Ft.decodeError=Ut}return Ft}};AtomicTransactionComposer$1.MAX_GROUP_SIZE=16;const SIGN_BYTES_PREFIX=Uint8Array.from([77,88]),MULTISIG_BAD_SENDER_ERROR_MSG="The transaction sender address and multisig preimage do not match.";function signTransaction(_e,d){return{txID:_e.txID(),blob:_e.signTxn(d)}}function signBytes(_e,d){const Mt=concatArrays(SIGN_BYTES_PREFIX,_e);return sign(Mt,d)}function verifyBytes(_e,d,Mt){const Ot=concatArrays(SIGN_BYTES_PREFIX,_e),Ft=typeof Mt=="string"?Address.fromString(Mt):Mt;return verify(Ot,d,Ft.publicKey)}const ERROR_MULTISIG_BAD_SENDER=new Error(MULTISIG_BAD_SENDER_ERROR_MSG),ERROR_INVALID_MICROALGOS=new Error(INVALID_MICROALGOS_ERROR_MSG),algosdk=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType,ABIArrayDynamicType,ABIArrayStaticType,ABIBoolType,ABIByteType,ABIContract,ABIInterface,ABIMethod:ABIMethod$1,get ABIReferenceType(){return ABIReferenceType},ABIStringType,get ABITransactionType(){return ABITransactionType},ABITupleType,ABIType,ABIUfixedType,ABIUintType,ADDR_BYTE_SIZE,ALGORAND_ZERO_ADDRESS_STRING,AccountBaseData,AccountData,AccountDeltas,AccountTotals,Address,AlgoCount,Algodv2:AlgodClient,AppLocalState,AppLocalStateDelta,AppParams,AppParamsDelta,AppResourceRecord,ApplyData,AssetHolding:AssetHolding$2,AssetHoldingDelta,AssetParams:AssetParams$2,AssetParamsDelta,AssetResourceRecord,AtomicTransactionComposer:AtomicTransactionComposer$1,get AtomicTransactionComposerStatus(){return AtomicTransactionComposerStatus},BalanceRecord,Block:Block$2,BlockHeader,ENCODED_MULTISIG_SCHEMA,ENCODED_SUBSIG_SCHEMA,ERROR_INVALID_MICROALGOS,ERROR_MULTISIG_BAD_SENDER,EvalDelta:EvalDelta$2,FalconSignatureStruct,FalconVerifier,HashFactory:HashFactory$1,INVALID_MICROALGOS_ERROR_MSG,IncludedTransactions,Indexer:IndexerClient,IntDecoding:IntDecoding$1,Kmd:KmdClient,KvValueDelta,LENGTH_ENCODE_BYTE_SIZE,LedgerStateDelta,LogicSig,LogicSigAccount:LogicSigAccount$1,MAX_LEN,MULTISIG_BAD_SENDER_ERROR_MSG,MerkleArrayProof:MerkleArrayProof$1,MerkleSignatureVerifier,ModifiedCreatable,get OnApplicationComplete(){return OnApplicationComplete$2},Participant,ParticipationUpdates:ParticipationUpdates$1,ProgramSourceMap,Reveal,RewardState,SINGLE_BOOL_SIZE,SINGLE_BYTE_SIZE,SignedTransaction,SignedTxnInBlock,SignedTxnWithAD,SigslotCommit,StateProof:StateProof$2,StateProofMessage:StateProofMessage$1,StateProofTrackingData,StateSchema:StateSchema$1,TealValue:TealValue$2,Transaction:Transaction$1,get TransactionType(){return TransactionType},TxnCommitments,UntypedValue,UpgradeState,UpgradeVote,ValueDelta,VotingData,abiCheckTransactionType,abiTypeIsReference,abiTypeIsTransaction,algosToMicroalgos,appendSignMultisigTransaction,appendSignRawMultisigSignature,assignGroupID,base64ToBytes,bigIntToBytes,bytesToBase64,bytesToBigInt,bytesToHex,bytesToString,coerceToBytes,computeGroupID,createDryrun,createMultisigTransaction,decodeAddress,decodeJSON,decodeMsgpack,decodeObj,decodeSignedTransaction,decodeUint64,decodeUnsignedTransaction,dryrunTxnResultAppTrace,dryrunTxnResultLogicSigTrace,encodeAddress,encodeJSON,encodeMsgpack,encodeObj,encodeUint64,encodeUnsignedSimulateTransaction,encodeUnsignedTransaction,encodedMultiSigFromEncodingData,encodedMultiSigToEncodingData,encodedSubsigFromEncodingData,encodedSubsigToEncodingData,generateAccount,getApplicationAddress,getMethodByName,hexToBytes,indexerModels:types,isOnApplicationComplete,isTransactionType,isTransactionWithSigner:isTransactionWithSigner$1,isValidAddress,logicSigFromByte,makeApplicationCallTxnFromObject,makeApplicationClearStateTxnFromObject,makeApplicationCloseOutTxnFromObject,makeApplicationCreateTxnFromObject,makeApplicationDeleteTxnFromObject,makeApplicationNoOpTxnFromObject,makeApplicationOptInTxnFromObject,makeApplicationUpdateTxnFromObject,makeAssetConfigTxnWithSuggestedParamsFromObject,makeAssetCreateTxnWithSuggestedParamsFromObject,makeAssetDestroyTxnWithSuggestedParamsFromObject,makeAssetFreezeTxnWithSuggestedParamsFromObject,makeAssetTransferTxnWithSuggestedParamsFromObject,makeBaseAssetConfigTxn,makeBasicAccountTransactionSigner,makeEmptyTransactionSigner,makeKeyRegistrationTxnWithSuggestedParamsFromObject,makeLogicSigAccountTransactionSigner,makeMultiSigAccountTransactionSigner,makePaymentTxnWithSuggestedParamsFromObject,masterDerivationKeyToMnemonic,mergeMultisigTransactions,microalgosToAlgos,mnemonicFromSeed,mnemonicToMasterDerivationKey,mnemonicToSecretKey,modelsv2:types$1,msgpackRawDecode,msgpackRawDecodeAsMap,msgpackRawEncode,multisigAddress,parseJSON,secretKeyToMnemonic,seedFromMnemonic,signBytes,signLogicSigTransaction,signLogicSigTransactionObject,signMultisigTransaction,signTransaction,stringifyJSON,tealSign,tealSignFromProgram,verifyBytes,verifyMultisig,verifyTealSign,waitForConfirmation},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(_e){return"/Algorand-Web3-Masterclasses-POC/"+_e},seen={},__vitePreload=function _e(d,Mt,Ot){let Ft=Promise.resolve();if(Mt&&Mt.length>0){document.getElementsByTagName("link");const Xt=document.querySelector("meta[property=csp-nonce]"),jr=(Xt==null?void 0:Xt.nonce)||(Xt==null?void 0:Xt.getAttribute("nonce"));Ft=Promise.allSettled(Mt.map(hn=>{if(hn=assetsURL(hn),hn in seen)return;seen[hn]=!0;const Vr=hn.endsWith(".css"),fn=Vr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${hn}"]${fn}`))return;const dn=document.createElement("link");if(dn.rel=Vr?"stylesheet":scriptRel,Vr||(dn.as="script"),dn.crossOrigin="",dn.href=hn,jr&&dn.setAttribute("nonce",jr),document.head.appendChild(dn),Vr)return new Promise((pn,En)=>{dn.addEventListener("load",pn),dn.addEventListener("error",()=>En(new Error(`Unable to preload CSS for ${hn}`)))})}))}function Ut(Xt){const jr=new Event("vite:preloadError",{cancelable:!0});if(jr.payload=Xt,window.dispatchEvent(jr),!jr.defaultPrevented)throw Xt}return Ft.then(Xt=>{for(const jr of Xt||[])jr.status==="rejected"&&Ut(jr.reason);return d().catch(Ut)})};var define_process_env_default$2={},__defProp=Object.defineProperty,__getOwnPropNames=Object.getOwnPropertyNames,__require=(_e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(_e,{get:(d,Mt)=>(typeof require<"u"?require:d)[Mt]}):_e)(function(_e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+_e+'" is not supported')}),__esm=(_e,d)=>function(){return _e&&(d=(0,_e[__getOwnPropNames(_e)[0]])(_e=0)),d},__export=(_e,d)=>{for(var Mt in d)__defProp(_e,Mt,{get:d[Mt],enumerable:!0})},m,v,u$1,_,f,g,Z,E,y,x,A,R,I,N,h,T,O,S,b,C,F,U,k,L,w,D,V,G,H,q,W,J,Y,B,P,j,Q,X,z,init_es=__esm({"../../node_modules/.pnpm/@magic-sdk+types@24.21.0/node_modules/@magic-sdk/types/dist/es/index.mjs"(){m=(_e=>(_e.MissingApiKey="MISSING_API_KEY",_e.ModalNotReady="MODAL_NOT_READY",_e.ConnectionLost="CONNECTION_WAS_LOST",_e.MalformedResponse="MALFORMED_RESPONSE",_e.InvalidArgument="INVALID_ARGUMENT",_e.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",_e.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",_e))(m||{}),v=(_e=>(_e.SyncWeb3Method="SYNC_WEB3_METHOD",_e.DuplicateIframe="DUPLICATE_IFRAME",_e.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",_e.DeprecationNotice="DEPRECATION_NOTICE",_e.ProductAnnouncement="ANNOUNCEMENT",_e))(v||{}),u$1=(_e=>(_e[_e.ParseError=-32700]="ParseError",_e[_e.InvalidRequest=-32600]="InvalidRequest",_e[_e.MethodNotFound=-32601]="MethodNotFound",_e[_e.InvalidParams=-32602]="InvalidParams",_e[_e.InternalError=-32603]="InternalError",_e[_e.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",_e[_e.MagicLinkExpired=-10001]="MagicLinkExpired",_e[_e.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",_e[_e.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",_e[_e.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",_e[_e.UpdateEmailFailed=-10004]="UpdateEmailFailed",_e[_e.UserRequestEditEmail=-10005]="UserRequestEditEmail",_e[_e.InactiveRecipient=-10010]="InactiveRecipient",_e[_e.AccessDeniedToUser=-10011]="AccessDeniedToUser",_e[_e.RedirectLoginComplete=-10015]="RedirectLoginComplete",_e[_e.DpopInvalidated=-10019]="DpopInvalidated",_e))(u$1||{}),_=(_e=>(_e.PROVIDER="magic_3pw_provider",_e.ADDRESS="magic_3pw_address",_e.CHAIN_ID="magic_3pw_chainId",_e))(_||{}),f=(_e=>(_e.WalletConnected="wallet_connected",_e.WalletRejected="wallet_rejected",_e.Web3ModalSelected="web3modal_selected",_e))(f||{}),g=(_e=>(_e.LoginWithSms="magic_auth_login_with_sms",_e.LoginWithEmailOTP="magic_auth_login_with_email_otp",_e.LoginWithMagicLink="magic_auth_login_with_magic_link",_e.LoginWithCredential="magic_auth_login_with_credential",_e.SetAuthorizationToken="magic_auth_set_authorization_token",_e.GetIdToken="magic_auth_get_id_token",_e.GenerateIdToken="magic_auth_generate_id_token",_e.GetMetadata="magic_auth_get_metadata",_e.IsLoggedIn="magic_is_logged_in",_e.Logout="magic_auth_logout",_e.UpdateEmail="magic_auth_update_email",_e.UserSettings="magic_auth_settings",_e.UserSettingsTestMode="magic_auth_settings_testing_mode",_e.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",_e.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",_e.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",_e.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",_e.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",_e.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",_e.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",_e.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",_e.LogoutTestMode="magic_auth_logout_testing_mode",_e.UpdateEmailTestMode="magic_auth_update_email_testing_mode",_e.IntermediaryEvent="magic_intermediary_event",_e.RequestAccounts="eth_requestAccounts",_e.GetInfo="magic_get_info",_e.ShowUI="magic_wallet",_e.NFTPurchase="magic_nft_purchase",_e.NFTCheckout="magic_nft_checkout",_e.NFTTransfer="magic_nft_transfer",_e.RequestUserInfoWithUI="mc_request_user_info",_e.Disconnect="mc_disconnect",_e.RecoverAccount="magic_auth_recover_account",_e.RecoverAccountTestMode="magic_auth_recover_account_testing_mode",_e.MagicBoxHeartBeat="magic_box_heart_beat",_e.AutoConnect="mc_auto_connect",_e.Login="mc_login",_e.EncryptV1="magic_auth_encrypt_v1",_e.DecryptV1="magic_auth_decrypt_v1",_e.ShowNFTs="magic_show_nfts",_e.ShowOnRamp="magic_show_fiat_onramp",_e.ShowSendTokensUI="magic_show_send_tokens_ui",_e.ShowAddress="magic_show_address",_e.ShowBalances="magic_show_balances",_e.SendGaslessTransaction="eth_sendGaslessTransaction",_e.RevealPK="magic_reveal_key",_e.EnableMFA="magic_auth_enable_mfa_flow",_e.DisableMFA="magic_auth_disable_mfa_flow",_e))(g||{}),Z=["magic_intermediary_event","magic_nft_checkout","mc_login"],E=(_e=>(_e.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",_e.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",_e.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",_e.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",_e.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",_e.MAGIC_MG_BOX_SEND_RECEIPT="MAGIC_MG_BOX_SEND_RECEIPT",_e.MAGIC_SEND_PRODUCT_ANNOUNCEMENT="MAGIC_SEND_PRODUCT_ANNOUNCEMENT",_e.MAGIC_PONG="MAGIC_PONG",_e.MAGIC_POPUP_RESPONSE="MAGIC_POPUP_RESPONSE",_e.MAGIC_POPUP_OAUTH_VERIFY_RESPONSE="MAGIC_POPUP_OAUTH_VERIFY_RESPONSE",_e))(E||{}),y=(_e=>(_e.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",_e.MAGIC_PING="MAGIC_PING",_e))(y||{}),x=(_e=>(_e.UpdateEmail="update-email",_e.MFA="mfa",_e.Recovery="recovery",_e))(x||{}),A=(_e=>(_e.Retry="retry",_e))(A||{}),R=(_e=>(_e.EmailSent="email-sent",_e.EmailNotDeliverable="email-not-deliverable",_e))(R||{}),I=(_e=>(_e.VerifyEmailOtp="verify-email-otp",_e.VerifyMFACode="verify-mfa-code",_e.LostDevice="lost-device",_e.VerifyRecoveryCode="verify-recovery-code",_e.Cancel="cancel",_e))(I||{}),N=(_e=>(_e.VerifySmsOtp="verify-sms-otp",_e.Cancel="cancel",_e.Retry="retry",_e))(N||{}),h=(_e=>(_e.SmsOTPSent="sms-otp-sent",_e.InvalidSmsOtp="invalid-sms-otp",_e.ExpiredSmsOtp="expired-sms-otp",_e))(h||{}),T=(_e=>(_e.EmailOTPSent="email-otp-sent",_e.InvalidEmailOtp="invalid-email-otp",_e.InvalidMfaOtp="invalid-mfa-otp",_e.ExpiredEmailOtp="expired-email-otp",_e.MfaSentHandle="mfa-sent-handle",_e.RecoveryCodeSentHandle="recovery-code-sent-handle",_e.InvalidRecoveryCode="invalid-recovery-code",_e.RecoveryCodeSuccess="recovery-code-success",_e.LoginThrottled="login-throttled",_e))(T||{}),O=(_e=>(_e.Retry="device-retry",_e))(O||{}),S=(_e=>(_e.DeviceApproved="device-approved",_e.DeviceNeedsApproval="device-needs-approval",_e.DeviceVerificationLinkExpired="device-verification-link-expired",_e.DeviceVerificationEmailSent="device-verification-email-sent",_e))(S||{}),b=(_e=>(_e.Retry="Recency/auth-factor-retry",_e.Cancel="Recency/auth-factor-verification-cancel",_e.VerifyEmailOtp="Recency/auth-factor-verify-email-otp",_e.VerifyMFACode="Recency/verify-mfa-code",_e))(b||{}),C=(_e=>(_e.PrimaryAuthFactorNeedsVerification="Recency/auth-factor-needs-verification",_e.PrimaryAuthFactorVerified="Recency/auth-factor-verified",_e.InvalidEmailOtp="Recency/auth-factor-invalid-email-otp",_e.EmailExpired="Recency/auth-factor-verification-email-expired",_e.EmailSent="Recency/auth-factor-verification-email-sent",_e.EmailNotDeliverable="Recency/auth-factor-verification-email-not-deliverable",_e))(C||{}),F=(_e=>(_e.RetryWithNewEmail="UpdateEmail/retry-with-new-email",_e.Cancel="UpdateEmail/new-email-verification-cancel",_e.VerifyEmailOtp="UpdateEmail/new-email-verify-otp",_e))(F||{}),U=(_e=>(_e.NewAuthFactorNeedsVerification="UpdateEmail/new-email-needs-verification",_e.EmailUpdated="UpdateEmail/email-updated",_e.InvalidEmailOtp="UpdateEmail/new-email-invalid-email-otp",_e.EmailExpired="UpdateEmail/new-email-verification-email-expired",_e.EmailSent="UpdateEmail/new-email-verification-email-sent",_e.EmailNotDeliverable="UpdateEmail/new-email-verification-email-not-deliverable",_e.InvalidEmail="UpdateEmail/new-email-invalid",_e.EmailAlreadyExists="UpdateEmail/new-email-already-exists",_e))(U||{}),k=(_e=>(_e.IDTokenCreated="Auth/id-token-created",_e))(k||{}),L=(_e=>(_e.Cancel="Farcaster/cancel",_e))(L||{}),w=(_e=>(_e.MFASecretGenerated="mfa-secret-generated",_e.InvalidMFAOtp="invalid-mfa-otp",_e.MFARecoveryCodes="mfa-recovery-codes",_e))(w||{}),D=(_e=>(_e.VerifyMFACode="verify-mfa-code",_e.Cancel="cancel-mfa-setup",_e))(D||{}),V=(_e=>(_e.MFACodeRequested="mfa-code-requested",_e.InvalidMFAOtp="invalid-mfa-otp",_e.InvalidRecoveryCode="invalid-recovery-code",_e))(V||{}),G=(_e=>(_e.VerifyMFACode="verify-mfa-code",_e.LostDevice="lost-device",_e.Cancel="cancel-mfa-disable",_e))(G||{}),H=(_e=>(_e.Harmony="HARMONY",_e))(H||{}),q=(_e=>(_e.ClosedByUser="closed-by-user",_e))(q||{}),W=(_e=>(_e.ClosedByUser="closed-by-user-on-received",_e))(W||{}),J=(_e=>(_e.EnterNewPhoneNumber="enter-new-phone-number",_e.EnterOtpCode="enter-otp-code",_e.RecoveryFactorAlreadyExists="recovery-factor-already-exists",_e.MalformedPhoneNumber="malformed-phone-number",_e.InvalidOtpCode="invalid-otp-code",_e.RecoveryFactorUpdated="recovery-factor-updated",_e.RecoveryFactorDeleted="recovery-factor-deleted",_e))(J||{}),Y=(_e=>(_e.SendNewPhoneNumber="send-new-phone-number",_e.SendOtpCode="send-otp-code",_e.Cancel="cancel",_e.StartEditPhoneNumber="start-edit-phone-number",_e))(Y||{}),B=(_e=>(_e.PhoneNumber="phone_number",_e))(B||{}),P=(_e=>(_e.SmsOtpSent="sms-otp-sent",_e.LoginThrottled="login-throttled",_e.InvalidSmsOtp="invalid-sms-otp",_e.SmsVerified="sms-verified",_e.AccountRecovered="account-recovered",_e.UpdateEmailRequired="update-email-required",_e))(P||{}),j=(_e=>(_e.Cancel="cancel",_e.VerifyOtp="verify-otp-code",_e.ResendSms="resend-sms-otp",_e.UpdateEmail="update-email",_e))(j||{}),Q=(_e=>(_e.Success="nft-checkout-success",_e.Failure="nft-checkout-failure",_e.Initiated="nft-checkout-initiated",_e.Disconnect="disconnect",_e))(Q||{}),X=(_e=>(_e.WalletInfoFetched="Wallet/wallet-info-fetched",_e))(X||{}),z=(_e=>(_e.CloseMagicWindow="close-magic-window",_e))(z||{})}});function or(_e){let d={exports:{}};return _e(d,d.exports),d.exports}function Wr(_e){return String.fromCharCode(parseInt(_e.slice(1),16))}function Jr(_e){return`%${`00${_e.charCodeAt(0).toString(16)}`.slice(-2)}`}function Gr(_e){return btoa(encodeURIComponent(_e).replace(/%[0-9A-F]{2}/g,Wr))}function Kr(_e){return decodeURIComponent(Array.from(atob(_e),Jr).join(""))}function ce(_e){return Gr(JSON.stringify(_e))}function at(_e){return JSON.parse(Kr(_e))}function N2(_e){return typeof _e>"u"}function Br(_e){return _e===null}function le(_e){return Br(_e)||N2(_e)}function ct(_e){return le(_e)?!1:!N2(_e.jsonrpc)&&!N2(_e.id)&&(!N2(_e.result)||!N2(_e.error))}function lt(_e){return le(_e)?!1:typeof _e=="number"&&Object.values(u$1).includes(_e)}function ee(_e){if(!_e)return!0;for(let d in _e)if(Object.hasOwnProperty.call(_e,d))return!1;return!0}function Hr(_e,d){return Object.assign(m2,d),_e}function ut(){return new $(m.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function pt(){return new $(m.ModalNotReady,"Modal is not ready")}function mt(){return new $(m.MalformedResponse,"Response from the Magic iframe is malformed.")}function ht(_e){return new $(m.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${_e}\` can be accessed. Do not invoke \`Extension.${_e}\` inside an extension constructor.`)}function Et(_e){let d=`Some extensions are incompatible with \`${m2.sdkName}@${m2.version}\`:`;return _e.filter(Mt=>typeof Mt.compat<"u"&&Mt.compat!==null).forEach(Mt=>{let Ot=Mt.compat[m2.sdkName];typeof Ot=="string"?d+=`
  - Extension \`${Mt.name}\` supports version(s) \`${Ot}\``:Ot||(d+=`
  - Extension \`${Mt.name}\` does not support ${m2.platform} environments.`)}),new $(m.IncompatibleExtensions,d)}function ft(_e){let d=Mt=>{let Ot=Mt+1,Ft=Ot%10,Ut=Ot%100;return Ft===1&&Ut!==11?`${Ot}st`:Ft===2&&Ut!==12?`${Ot}nd`:Ft===3&&Ut!==13?`${Ot}rd`:`${Ot}th`};return new $(m.InvalidArgument,`Invalid ${d(_e.argument)} argument given to \`${_e.procedure}\`.
  Expected: \`${_e.expected}\`
  Received: \`${_e.received}\``)}function Bn(){return new L2(v.DuplicateIframe,"Duplicate iframes found.")}function gt(){return new L2(v.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function yt(){return new L2(v.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${m2.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function Rt(_e){let{method:d,removalVersions:Mt,useInstead:Ot}=_e,Ft=Mt[m2.sdkName],Ut=Ot?` Use \`${Ot}\` instead.`:"",Xt=`\`${d}\` will be removed from \`${m2.sdkName}\` in version \`${Ft}\`.${Ut}`;return new L2(v.DeprecationNotice,Xt)}function*zr(){let _e=0;for(;;)_e<Number.MAX_SAFE_INTEGER?yield++_e:_e=0}function $e(){return Yr.next().value}function O2(_e){return async(...d)=>(pe||(pe=await m2.configureStorage()),await pe.ready(),pe[_e](...d))}function vt(){let _e=window.crypto.getRandomValues(new Uint8Array(16));_e[6]=_e[6]&15|64,_e[8]=_e[8]&191|128;let d="";return d+=_e[0].toString(16),d+=_e[1].toString(16),d+=_e[2].toString(16),d+=_e[3].toString(16),d+="-",d+=_e[4].toString(16),d+=_e[5].toString(16),d+="-",d+=_e[6].toString(16),d+=_e[7].toString(16),d+="-",d+=_e[8].toString(16),d+=_e[9].toString(16),d+="-",d+=_e[10].toString(16),d+=_e[11].toString(16),d+=_e[12].toString(16),d+=_e[13].toString(16),d+=_e[14].toString(16),d+=_e[15].toString(16),d}function re(){let _e=typeof window<"u"&&!!window.crypto,d=_e&&!!window.crypto.subtle;return _e&&d}function bt(){A2(he),A2(Oe)}async function Pt(){let _e=await sn();if(!_e){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:d}=window.crypto,Mt=await R2(Oe);if(!Mt||!d){console.info("unable to find private key or webcrypto unsupported");return}let Ot={iat:Math.floor(new Date().getTime()/1e3),jti:vt()},Ft={protected:Tt(JSON.stringify({typ:"dpop+jwt",alg:"ES256",jwk:_e})),claims:Tt(JSON.stringify(Ot))},Ut=an(`${Ft.protected}.${Ft.claims}`),Xt={name:It,hash:{name:"SHA-256"}},jr=ln(new Uint8Array(await d.sign(Xt,Mt,Ut)));return`${Ft.protected}.${Ft.claims}.${jr}`}async function sn(){if(!re()){console.info("webcrypto is not supported");return}return await R2(he)||await on(),R2(he)}async function on(){let{subtle:_e}=window.crypto,d=await _e.generateKey(nn,!1,["sign"]),Mt=await _e.exportKey("jwk",d.publicKey);await S2(Oe,d.privateKey),await S2(he,Mt)}function Tt(_e){return wt(cn(_e))}function an(_e){return new TextEncoder().encode(_e)}function wt(_e){return btoa(_e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function cn(_e){return encodeURIComponent(_e).replace(/%([0-9A-F]{2})/g,(d,Mt)=>String.fromCharCode(parseInt(Mt,16)))}function ln(_e){let d="";return _e.forEach(Mt=>{d+=String.fromCharCode(Mt)}),wt(d)}function xt(_e){return Object.defineProperty(_e,St,{value:!0,enumerable:!1}),_e}function un(_e){return!!_e[St]}function F2(_e){return un(_e)||(_e.jsonrpc=_e.jsonrpc??"2.0",_e.id=$e(),_e.method=_e.method??"noop",_e.params=_e.params??[],xt(_e)),_e}function p$1(_e,d=[]){return xt({params:d,method:_e,jsonrpc:"2.0",id:$e()})}function fe(){let _e=new ke;return{emitter:_e,createChainingEmitterMethod:(d,Mt)=>(...Ot)=>(_e[d].apply(_e,Ot),Mt),createBoundEmitterMethod:d=>(...Mt)=>_e[d].apply(_e,Mt)}}function $t(_e){return!!_e[At]}function b2(_e){let d=De(_e),{createBoundEmitterMethod:Mt,createChainingEmitterMethod:Ot}=fe(),Ft=Symbol("Promise.then"),Ut=Symbol("Promise.catch"),Xt=Symbol("Promise.finally"),jr=(fn,dn)=>(...pn)=>{let En=dn[fn].apply(dn,pn);return hn(En)},hn=fn=>Object.assign(fn,{[At]:!0,[Ft]:fn[Ft]||fn.then,[Ut]:fn[Ut]||fn.catch,[Xt]:fn[Xt]||fn.finally,then:jr(Ft,fn),catch:jr(Ut,fn),finally:jr(Xt,fn),on:Ot("on",fn),once:Ot("once",fn),addListener:Ot("addListener",fn),off:Ot("off",fn),removeListener:Ot("removeListener",fn),removeAllListeners:Ot("removeAllListeners",fn),emit:Mt("emit"),eventNames:Mt("eventNames"),listeners:Mt("listeners"),listenerCount:Mt("listenerCount")}),Vr=hn(d.then(fn=>(Vr.emit("done",fn),Vr.emit("settled"),fn),fn=>{throw Vr.emit("error",fn),Vr.emit("settled"),fn}));return Vr.on(W.ClosedByUser,()=>{Vr.emit(q.ClosedByUser)}),Vr}function De(_e){return new Promise((d,Mt)=>{let Ot=_e(d,Mt);Promise.resolve(Ot).catch(Mt)})}function Lt(_e,d){let[Mt]=_e.split(".").map(Number);return Mt>=d}async function Re(){let _e=[];await Le((d,Mt,Ot)=>{Mt.startsWith(`${qe}_`)&&_e.push(Mt)});for(let d of _e)await A2(d)}function _t(_e){let d="",Mt=new Uint8Array(_e),Ot=Mt.byteLength;for(let Ft=0;Ft<Ot;Ft++)d+=String.fromCharCode(Mt[Ft]);return window.btoa(d)}function kt(_e){let d=window.atob(_e),Mt=d.length,Ot=new Uint8Array(Mt);for(let Ft=0;Ft<Mt;Ft++)Ot[Ft]=d.charCodeAt(Ft);return Ot.buffer}async function In(){if(!re()){console.info("webcrypto is not supported");return}let{crypto:_e}=window;return await R2(Fe)||_e.getRandomValues(new Uint8Array(12))}async function bn(){if(!re()){console.info("webcrypto is not supported");return}let{subtle:_e}=window.crypto;return await R2(Ue)||await _e.generateKey({name:We,length:Tn},!1,["encrypt","decrypt"])}async function Dt(_e,d){let Mt=await In(),Ot=await bn();if(!Mt||!Ot||!_e)return;let Ft=kt(_e),{subtle:Ut}=window.crypto,Xt=await Ut.encrypt({name:We,iv:Mt},Ot,Ft),jr=_t(Xt);await S2(`${qe}_${d}`,jr),await S2(Ue,Ot),await S2(Fe,Mt)}async function qt(_e){let d=await R2(`${qe}_${_e}`),Mt=await R2(Fe),Ot=await R2(Ue);if(!Mt||!d||!Ot||!re())return;let{subtle:Ft}=window.crypto,Ut=await Ft.decrypt({name:We,iv:Mt},Ot,kt(d));return _t(Ut)}function Je(_e,d){return d?new URL(_e,d):new URL(_e)}function Wt(_e){return _e.compat&&_e.compat[m2.sdkName]!=null?typeof _e.compat[m2.sdkName]=="string"?ot(it(m2.version),_e.compat[m2.sdkName]):!!_e.compat[m2.sdkName]:!0}function wn(_e,d,Mt){return!d&&!Mt?`${_e}_eth_mainnet`:Mt?`${_e}_${JSON.stringify(Mt)}`:d?typeof d=="string"?`${_e}_eth_${d}`:`${_e}_${d.rpcUrl}_${d.chainId}_${d.chainType}`:`${_e}_unknown`}function Sn(_e){let d=(_e==null?void 0:_e.extensions)??[],Mt={},Ot=[];if(Array.isArray(d)?d.forEach(Ft=>{Wt(Ft)?(Ft.init(this),Ft.name&&(this[Ft.name]=Ft),ee(Ft.config)||(Mt[Ft.name]=Ft.config)):Ot.push(Ft)}):Object.keys(d).forEach(Ft=>{if(Wt(d[Ft])){d[Ft].init(this);let Ut=d[Ft];this[Ft]=Ut,ee(Ut.config)||(Mt[d[Ft].name]=Ut.config)}else Ot.push(d[Ft])}),Ot.length)throw Et(Ot);return Mt}function xn(_e,d){return d&&Array.isArray(_e)?_e.find(Mt=>Mt.id===d):_e}function Jt(_e,d){var Ft;let Mt=(Ft=d.data.response)==null?void 0:Ft.id,Ot=xn(_e,Mt);if(Mt&&Ot){let Ut=new K(Ot).applyResult(d.data.response.result).applyError(d.data.response.error);return{id:Mt,response:Ut}}return{}}async function Gt(_e,d,Mt){let Ot=await R2("rt"),Ft;if(m2.platform==="web")try{Ft=await R2("jwt")??await Pt()}catch(jr){console.error("webcrypto error",jr)}let Ut={msgType:_e,payload:d};Ft&&(Ut.jwt=Ft),Ft&&Ot&&(Ut.rt=Ot);let Xt=await qt(Mt);return Xt&&(Ut.deviceShare=Xt),Ut}async function Kt(_e){_e.data.rt&&await S2("rt",_e.data.rt)}function jt(_e,d){let Mt=null;return function(...Ot){Mt&&clearTimeout(Mt),Mt=setTimeout(()=>{_e(...Ot)},d)}}function $n(_e){let d=Object.getPrototypeOf(_e),Mt=[d];for(;d!==f2.prototype;)d=Object.getPrototypeOf(d),Mt.push(d);return Mt}var zt,Ce,Yt,Qt,Zt,er,tr,rr,nr,sr,Ct,ir,Ae,ar,h2,Z2,Xe,st,cr,lr,ze,oe,Ye,Qe,X2,M,dr,J2,ur,pr,mr,hr,Er,fr,gr,yr,Rr,vr,Tr,Ir,br,Ne,z2,Y2,Ze,et,Q2,y2,E2,Pr,wr,Sr,tt,xr,T2,Mr,Cr,Nr,Ar,$r,Lr,Or,_r,kr,Dr,ot,qr,rt,nt,Ur,Fr,ie,ae,it,m2,dt,$,U2,L2,de,te,Yr,me,pe,R2,S2,A2,Qr,Zr,en,tn,Le,Oe,he,It,rn,nn,St,K,Nt,ke,At,f2,vn,ye,qe,Ue,Fe,We,Tn,Te,Ie,Pe,we,H2,Se,Me,Ke,Nn,Bt,Vt,An,je,Ht,Ve,Be,He,init_es2=__esm({"../../node_modules/.pnpm/@magic-sdk+provider@29.4.2_localforage@1.10.0/node_modules/@magic-sdk/provider/dist/es/index.mjs"(){var _e,d;init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),zt=Object.create,Ce=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Qt=Object.getOwnPropertyNames,Zt=Object.getPrototypeOf,er=Object.prototype.hasOwnProperty,tr=(Mt,Ot)=>()=>(Ot||Mt((Ot={exports:{}}).exports,Ot),Ot.exports),rr=(Mt,Ot)=>{for(var Ft in Ot)Ce(Mt,Ft,{get:Ot[Ft],enumerable:!0})},nr=(Mt,Ot,Ft,Ut)=>{if(Ot&&typeof Ot=="object"||typeof Ot=="function")for(let Xt of Qt(Ot))!er.call(Mt,Xt)&&Xt!==Ft&&Ce(Mt,Xt,{get:()=>Ot[Xt],enumerable:!(Ut=Yt(Ot,Xt))||Ut.enumerable});return Mt},sr=(Mt,Ot,Ft)=>(Ft=Mt!=null?zt(Zt(Mt)):{},nr(Ot||!Mt||!Mt.__esModule?Ce(Ft,"default",{value:Mt,enumerable:!0}):Ft,Mt)),Ct=tr((Mt,Ot)=>{var Ft=Object.prototype.hasOwnProperty,Ut="~";function Xt(){}Object.create&&(Xt.prototype=Object.create(null),new Xt().__proto__||(Ut=!1));function jr(dn,pn,En){this.fn=dn,this.context=pn,this.once=En||!1}function hn(dn,pn,En,_n,Dn){if(typeof En!="function")throw new TypeError("The listener must be a function");var Vn=new jr(En,_n||dn,Dn),Pn=Ut?Ut+pn:pn;return dn._events[Pn]?dn._events[Pn].fn?dn._events[Pn]=[dn._events[Pn],Vn]:dn._events[Pn].push(Vn):(dn._events[Pn]=Vn,dn._eventsCount++),dn}function Vr(dn,pn){--dn._eventsCount===0?dn._events=new Xt:delete dn._events[pn]}function fn(){this._events=new Xt,this._eventsCount=0}fn.prototype.eventNames=function(){var dn=[],pn,En;if(this._eventsCount===0)return dn;for(En in pn=this._events)Ft.call(pn,En)&&dn.push(Ut?En.slice(1):En);return Object.getOwnPropertySymbols?dn.concat(Object.getOwnPropertySymbols(pn)):dn},fn.prototype.listeners=function(dn){var pn=Ut?Ut+dn:dn,En=this._events[pn];if(!En)return[];if(En.fn)return[En.fn];for(var _n=0,Dn=En.length,Vn=new Array(Dn);_n<Dn;_n++)Vn[_n]=En[_n].fn;return Vn},fn.prototype.listenerCount=function(dn){var pn=Ut?Ut+dn:dn,En=this._events[pn];return En?En.fn?1:En.length:0},fn.prototype.emit=function(dn,pn,En,_n,Dn,Vn){var Pn=Ut?Ut+dn:dn;if(!this._events[Pn])return!1;var qn=this._events[Pn],jn=arguments.length,Hn,Jn;if(qn.fn){switch(qn.once&&this.removeListener(dn,qn.fn,void 0,!0),jn){case 1:return qn.fn.call(qn.context),!0;case 2:return qn.fn.call(qn.context,pn),!0;case 3:return qn.fn.call(qn.context,pn,En),!0;case 4:return qn.fn.call(qn.context,pn,En,_n),!0;case 5:return qn.fn.call(qn.context,pn,En,_n,Dn),!0;case 6:return qn.fn.call(qn.context,pn,En,_n,Dn,Vn),!0}for(Jn=1,Hn=new Array(jn-1);Jn<jn;Jn++)Hn[Jn-1]=arguments[Jn];qn.fn.apply(qn.context,Hn)}else{var Gn=qn.length,ba;for(Jn=0;Jn<Gn;Jn++)switch(qn[Jn].once&&this.removeListener(dn,qn[Jn].fn,void 0,!0),jn){case 1:qn[Jn].fn.call(qn[Jn].context);break;case 2:qn[Jn].fn.call(qn[Jn].context,pn);break;case 3:qn[Jn].fn.call(qn[Jn].context,pn,En);break;case 4:qn[Jn].fn.call(qn[Jn].context,pn,En,_n);break;default:if(!Hn)for(ba=1,Hn=new Array(jn-1);ba<jn;ba++)Hn[ba-1]=arguments[ba];qn[Jn].fn.apply(qn[Jn].context,Hn)}}return!0},fn.prototype.on=function(dn,pn,En){return hn(this,dn,pn,En,!1)},fn.prototype.once=function(dn,pn,En){return hn(this,dn,pn,En,!0)},fn.prototype.removeListener=function(dn,pn,En,_n){var Dn=Ut?Ut+dn:dn;if(!this._events[Dn])return this;if(!pn)return Vr(this,Dn),this;var Vn=this._events[Dn];if(Vn.fn)Vn.fn===pn&&(!_n||Vn.once)&&(!En||Vn.context===En)&&Vr(this,Dn);else{for(var Pn=0,qn=[],jn=Vn.length;Pn<jn;Pn++)(Vn[Pn].fn!==pn||_n&&!Vn[Pn].once||En&&Vn[Pn].context!==En)&&qn.push(Vn[Pn]);qn.length?this._events[Dn]=qn.length===1?qn[0]:qn:Vr(this,Dn)}return this},fn.prototype.removeAllListeners=function(dn){var pn;return dn?(pn=Ut?Ut+dn:dn,this._events[pn]&&Vr(this,pn)):(this._events=new Xt,this._eventsCount=0),this},fn.prototype.off=fn.prototype.removeListener,fn.prototype.addListener=fn.prototype.on,fn.prefixed=Ut,fn.EventEmitter=fn,typeof Ot<"u"&&(Ot.exports=fn)}),ir=Number.MAX_SAFE_INTEGER||9007199254740991,Ae={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:ir,MAX_SAFE_COMPONENT_LENGTH:16},ar=typeof process$1=="object"&&define_process_env_default$2&&define_process_env_default$2.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default$2.NODE_DEBUG)?(...Mt)=>console.error("SEMVER",...Mt):()=>{},h2=ar,Z2=or(function(Mt,Ot){let{MAX_SAFE_COMPONENT_LENGTH:Ft}=Ae,Ut=(Ot=Mt.exports={}).re=[],Xt=Ot.src=[],jr=Ot.t={},hn=0,Vr=(fn,dn,pn)=>{let En=hn++;h2(En,dn),jr[fn]=En,Xt[En]=dn,Ut[En]=new RegExp(dn,pn?"g":void 0)};Vr("NUMERICIDENTIFIER","0|[1-9]\\d*"),Vr("NUMERICIDENTIFIERLOOSE","[0-9]+"),Vr("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),Vr("MAINVERSION",`(${Xt[jr.NUMERICIDENTIFIER]})\\.(${Xt[jr.NUMERICIDENTIFIER]})\\.(${Xt[jr.NUMERICIDENTIFIER]})`),Vr("MAINVERSIONLOOSE",`(${Xt[jr.NUMERICIDENTIFIERLOOSE]})\\.(${Xt[jr.NUMERICIDENTIFIERLOOSE]})\\.(${Xt[jr.NUMERICIDENTIFIERLOOSE]})`),Vr("PRERELEASEIDENTIFIER",`(?:${Xt[jr.NUMERICIDENTIFIER]}|${Xt[jr.NONNUMERICIDENTIFIER]})`),Vr("PRERELEASEIDENTIFIERLOOSE",`(?:${Xt[jr.NUMERICIDENTIFIERLOOSE]}|${Xt[jr.NONNUMERICIDENTIFIER]})`),Vr("PRERELEASE",`(?:-(${Xt[jr.PRERELEASEIDENTIFIER]}(?:\\.${Xt[jr.PRERELEASEIDENTIFIER]})*))`),Vr("PRERELEASELOOSE",`(?:-?(${Xt[jr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Xt[jr.PRERELEASEIDENTIFIERLOOSE]})*))`),Vr("BUILDIDENTIFIER","[0-9A-Za-z-]+"),Vr("BUILD",`(?:\\+(${Xt[jr.BUILDIDENTIFIER]}(?:\\.${Xt[jr.BUILDIDENTIFIER]})*))`),Vr("FULLPLAIN",`v?${Xt[jr.MAINVERSION]}${Xt[jr.PRERELEASE]}?${Xt[jr.BUILD]}?`),Vr("FULL",`^${Xt[jr.FULLPLAIN]}$`),Vr("LOOSEPLAIN",`[v=\\s]*${Xt[jr.MAINVERSIONLOOSE]}${Xt[jr.PRERELEASELOOSE]}?${Xt[jr.BUILD]}?`),Vr("LOOSE",`^${Xt[jr.LOOSEPLAIN]}$`),Vr("GTLT","((?:<|>)?=?)"),Vr("XRANGEIDENTIFIERLOOSE",`${Xt[jr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Vr("XRANGEIDENTIFIER",`${Xt[jr.NUMERICIDENTIFIER]}|x|X|\\*`),Vr("XRANGEPLAIN",`[v=\\s]*(${Xt[jr.XRANGEIDENTIFIER]})(?:\\.(${Xt[jr.XRANGEIDENTIFIER]})(?:\\.(${Xt[jr.XRANGEIDENTIFIER]})(?:${Xt[jr.PRERELEASE]})?${Xt[jr.BUILD]}?)?)?`),Vr("XRANGEPLAINLOOSE",`[v=\\s]*(${Xt[jr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Xt[jr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Xt[jr.XRANGEIDENTIFIERLOOSE]})(?:${Xt[jr.PRERELEASELOOSE]})?${Xt[jr.BUILD]}?)?)?`),Vr("XRANGE",`^${Xt[jr.GTLT]}\\s*${Xt[jr.XRANGEPLAIN]}$`),Vr("XRANGELOOSE",`^${Xt[jr.GTLT]}\\s*${Xt[jr.XRANGEPLAINLOOSE]}$`),Vr("COERCE",`(^|[^\\d])(\\d{1,${Ft}})(?:\\.(\\d{1,${Ft}}))?(?:\\.(\\d{1,${Ft}}))?(?:$|[^\\d])`),Vr("COERCERTL",Xt[jr.COERCE],!0),Vr("LONETILDE","(?:~>?)"),Vr("TILDETRIM",`(\\s*)${Xt[jr.LONETILDE]}\\s+`,!0),Ot.tildeTrimReplace="$1~",Vr("TILDE",`^${Xt[jr.LONETILDE]}${Xt[jr.XRANGEPLAIN]}$`),Vr("TILDELOOSE",`^${Xt[jr.LONETILDE]}${Xt[jr.XRANGEPLAINLOOSE]}$`),Vr("LONECARET","(?:\\^)"),Vr("CARETTRIM",`(\\s*)${Xt[jr.LONECARET]}\\s+`,!0),Ot.caretTrimReplace="$1^",Vr("CARET",`^${Xt[jr.LONECARET]}${Xt[jr.XRANGEPLAIN]}$`),Vr("CARETLOOSE",`^${Xt[jr.LONECARET]}${Xt[jr.XRANGEPLAINLOOSE]}$`),Vr("COMPARATORLOOSE",`^${Xt[jr.GTLT]}\\s*(${Xt[jr.LOOSEPLAIN]})$|^$`),Vr("COMPARATOR",`^${Xt[jr.GTLT]}\\s*(${Xt[jr.FULLPLAIN]})$|^$`),Vr("COMPARATORTRIM",`(\\s*)${Xt[jr.GTLT]}\\s*(${Xt[jr.LOOSEPLAIN]}|${Xt[jr.XRANGEPLAIN]})`,!0),Ot.comparatorTrimReplace="$1$2$3",Vr("HYPHENRANGE",`^\\s*(${Xt[jr.XRANGEPLAIN]})\\s+-\\s+(${Xt[jr.XRANGEPLAIN]})\\s*$`),Vr("HYPHENRANGELOOSE",`^\\s*(${Xt[jr.XRANGEPLAINLOOSE]})\\s+-\\s+(${Xt[jr.XRANGEPLAINLOOSE]})\\s*$`),Vr("STAR","(<|>)?=?\\s*\\*"),Vr("GTE0","^\\s*>=\\s*0.0.0\\s*$"),Vr("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),Xe=/^[0-9]+$/,st=(Mt,Ot)=>{let Ft=Xe.test(Mt),Ut=Xe.test(Ot);return Ft&&Ut&&(Mt=+Mt,Ot=+Ot),Mt===Ot?0:Ft&&!Ut?-1:Ut&&!Ft?1:Mt<Ot?-1:1},cr=(Mt,Ot)=>st(Ot,Mt),lr={compareIdentifiers:st,rcompareIdentifiers:cr},{MAX_LENGTH:ze,MAX_SAFE_INTEGER:oe}=Ae,{re:Ye,t:Qe}=Z2,{compareIdentifiers:X2}=lr,M=class Fs{constructor(Ot,Ft){if(Ft&&typeof Ft=="object"||(Ft={loose:!!Ft,includePrerelease:!1}),Ot instanceof Fs){if(Ot.loose===!!Ft.loose&&Ot.includePrerelease===!!Ft.includePrerelease)return Ot;Ot=Ot.version}else if(typeof Ot!="string")throw new TypeError(`Invalid Version: ${Ot}`);if(Ot.length>ze)throw new TypeError(`version is longer than ${ze} characters`);h2("SemVer",Ot,Ft),this.options=Ft,this.loose=!!Ft.loose,this.includePrerelease=!!Ft.includePrerelease;let Ut=Ot.trim().match(Ft.loose?Ye[Qe.LOOSE]:Ye[Qe.FULL]);if(!Ut)throw new TypeError(`Invalid Version: ${Ot}`);if(this.raw=Ot,this.major=+Ut[1],this.minor=+Ut[2],this.patch=+Ut[3],this.major>oe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oe||this.patch<0)throw new TypeError("Invalid patch version");Ut[4]?this.prerelease=Ut[4].split(".").map(Xt=>{if(/^[0-9]+$/.test(Xt)){let jr=+Xt;if(jr>=0&&jr<oe)return jr}return Xt}):this.prerelease=[],this.build=Ut[5]?Ut[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(Ot){if(h2("SemVer.compare",this.version,this.options,Ot),!(Ot instanceof Fs)){if(typeof Ot=="string"&&Ot===this.version)return 0;Ot=new Fs(Ot,this.options)}return Ot.version===this.version?0:this.compareMain(Ot)||this.comparePre(Ot)}compareMain(Ot){return Ot instanceof Fs||(Ot=new Fs(Ot,this.options)),X2(this.major,Ot.major)||X2(this.minor,Ot.minor)||X2(this.patch,Ot.patch)}comparePre(Ot){if(Ot instanceof Fs||(Ot=new Fs(Ot,this.options)),this.prerelease.length&&!Ot.prerelease.length)return-1;if(!this.prerelease.length&&Ot.prerelease.length)return 1;if(!this.prerelease.length&&!Ot.prerelease.length)return 0;let Ft=0;do{let Ut=this.prerelease[Ft],Xt=Ot.prerelease[Ft];if(h2("prerelease compare",Ft,Ut,Xt),Ut===void 0&&Xt===void 0)return 0;if(Xt===void 0)return 1;if(Ut===void 0)return-1;if(Ut!==Xt)return X2(Ut,Xt)}while(++Ft)}compareBuild(Ot){Ot instanceof Fs||(Ot=new Fs(Ot,this.options));let Ft=0;do{let Ut=this.build[Ft],Xt=Ot.build[Ft];if(h2("prerelease compare",Ft,Ut,Xt),Ut===void 0&&Xt===void 0)return 0;if(Xt===void 0)return 1;if(Ut===void 0)return-1;if(Ut!==Xt)return X2(Ut,Xt)}while(++Ft)}inc(Ot,Ft){switch(Ot){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Ft);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Ft);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Ft),this.inc("pre",Ft);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",Ft),this.inc("pre",Ft);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let Ut=this.prerelease.length;for(;--Ut>=0;)typeof this.prerelease[Ut]=="number"&&(this.prerelease[Ut]++,Ut=-2);Ut===-1&&this.prerelease.push(0)}Ft&&(this.prerelease[0]===Ft?isNaN(this.prerelease[1])&&(this.prerelease=[Ft,0]):this.prerelease=[Ft,0]);break;default:throw new Error(`invalid increment argument: ${Ot}`)}return this.format(),this.raw=this.version,this}},dr=(Mt,Ot,Ft)=>new M(Mt,Ft).compare(new M(Ot,Ft)),J2=dr,ur=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)===0,pr=ur,mr=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)!==0,hr=mr,Er=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)>0,fr=Er,gr=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)>=0,yr=gr,Rr=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)<0,vr=Rr,Tr=(Mt,Ot,Ft)=>J2(Mt,Ot,Ft)<=0,Ir=Tr,br=(Mt,Ot,Ft,Ut)=>{switch(Ot){case"===":return typeof Mt=="object"&&(Mt=Mt.version),typeof Ft=="object"&&(Ft=Ft.version),Mt===Ft;case"!==":return typeof Mt=="object"&&(Mt=Mt.version),typeof Ft=="object"&&(Ft=Ft.version),Mt!==Ft;case"":case"=":case"==":return pr(Mt,Ft,Ut);case"!=":return hr(Mt,Ft,Ut);case">":return fr(Mt,Ft,Ut);case">=":return yr(Mt,Ft,Ut);case"<":return vr(Mt,Ft,Ut);case"<=":return Ir(Mt,Ft,Ut);default:throw new TypeError(`Invalid operator: ${Ot}`)}},Ne=br,z2=Symbol("SemVer ANY"),Y2=class cu{static get ANY(){return z2}constructor(Ot,Ft){if(Ft&&typeof Ft=="object"||(Ft={loose:!!Ft,includePrerelease:!1}),Ot instanceof cu){if(Ot.loose===!!Ft.loose)return Ot;Ot=Ot.value}h2("comparator",Ot,Ft),this.options=Ft,this.loose=!!Ft.loose,this.parse(Ot),this.semver===z2?this.value="":this.value=this.operator+this.semver.version,h2("comp",this)}parse(Ot){let Ft=this.options.loose?Ze[et.COMPARATORLOOSE]:Ze[et.COMPARATOR],Ut=Ot.match(Ft);if(!Ut)throw new TypeError(`Invalid comparator: ${Ot}`);this.operator=Ut[1]!==void 0?Ut[1]:"",this.operator==="="&&(this.operator=""),Ut[2]?this.semver=new M(Ut[2],this.options.loose):this.semver=z2}toString(){return this.value}test(Ot){if(h2("Comparator.test",Ot,this.options.loose),this.semver===z2||Ot===z2)return!0;if(typeof Ot=="string")try{Ot=new M(Ot,this.options)}catch{return!1}return Ne(Ot,this.operator,this.semver,this.options)}intersects(Ot,Ft){if(!(Ot instanceof cu))throw new TypeError("a Comparator is required");if(Ft&&typeof Ft=="object"||(Ft={loose:!!Ft,includePrerelease:!1}),this.operator==="")return this.value===""||new Q2(Ot.value,Ft).test(this.value);if(Ot.operator==="")return Ot.value===""||new Q2(this.value,Ft).test(Ot.semver);let Ut=!(this.operator!==">="&&this.operator!==">"||Ot.operator!==">="&&Ot.operator!==">"),Xt=!(this.operator!=="<="&&this.operator!=="<"||Ot.operator!=="<="&&Ot.operator!=="<"),jr=this.semver.version===Ot.semver.version,hn=!(this.operator!==">="&&this.operator!=="<="||Ot.operator!==">="&&Ot.operator!=="<="),Vr=Ne(this.semver,"<",Ot.semver,Ft)&&(this.operator===">="||this.operator===">")&&(Ot.operator==="<="||Ot.operator==="<"),fn=Ne(this.semver,">",Ot.semver,Ft)&&(this.operator==="<="||this.operator==="<")&&(Ot.operator===">="||Ot.operator===">");return Ut||Xt||jr&&hn||Vr||fn}},{re:Ze,t:et}=Z2,Q2=class Gs{constructor(Ot,Ft){if(Ft&&typeof Ft=="object"||(Ft={loose:!!Ft,includePrerelease:!1}),Ot instanceof Gs)return Ot.loose===!!Ft.loose&&Ot.includePrerelease===!!Ft.includePrerelease?Ot:new Gs(Ot.raw,Ft);if(Ot instanceof Y2)return this.raw=Ot.value,this.set=[[Ot]],this.format(),this;if(this.options=Ft,this.loose=!!Ft.loose,this.includePrerelease=!!Ft.includePrerelease,this.raw=Ot,this.set=Ot.split(/\s*\|\|\s*/).map(Ut=>this.parseRange(Ut.trim())).filter(Ut=>Ut.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${Ot}`);this.format()}format(){return this.range=this.set.map(Ot=>Ot.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Ot){let{loose:Ft}=this.options;Ot=Ot.trim();let Ut=Ft?y2[E2.HYPHENRANGELOOSE]:y2[E2.HYPHENRANGE];Ot=Ot.replace(Ut,kr(this.options.includePrerelease)),h2("hyphen replace",Ot),Ot=Ot.replace(y2[E2.COMPARATORTRIM],Pr),h2("comparator trim",Ot,y2[E2.COMPARATORTRIM]),Ot=(Ot=(Ot=Ot.replace(y2[E2.TILDETRIM],wr)).replace(y2[E2.CARETTRIM],Sr)).split(/\s+/).join(" ");let Xt=Ft?y2[E2.COMPARATORLOOSE]:y2[E2.COMPARATOR];return Ot.split(" ").map(jr=>xr(jr,this.options)).join(" ").split(/\s+/).map(jr=>_r(jr,this.options)).filter(this.options.loose?jr=>!!jr.match(Xt):()=>!0).map(jr=>new Y2(jr,this.options))}intersects(Ot,Ft){if(!(Ot instanceof Gs))throw new TypeError("a Range is required");return this.set.some(Ut=>tt(Ut,Ft)&&Ot.set.some(Xt=>tt(Xt,Ft)&&Ut.every(jr=>Xt.every(hn=>jr.intersects(hn,Ft)))))}test(Ot){if(!Ot)return!1;if(typeof Ot=="string")try{Ot=new M(Ot,this.options)}catch{return!1}for(let Ft=0;Ft<this.set.length;Ft++)if(Dr(this.set[Ft],Ot,this.options))return!0;return!1}},{re:y2,t:E2,comparatorTrimReplace:Pr,tildeTrimReplace:wr,caretTrimReplace:Sr}=Z2,tt=(Mt,Ot)=>{let Ft=!0,Ut=Mt.slice(),Xt=Ut.pop();for(;Ft&&Ut.length;)Ft=Ut.every(jr=>Xt.intersects(jr,Ot)),Xt=Ut.pop();return Ft},xr=(Mt,Ot)=>(h2("comp",Mt,Ot),Mt=Nr(Mt,Ot),h2("caret",Mt),Mt=Mr(Mt,Ot),h2("tildes",Mt),Mt=$r(Mt,Ot),h2("xrange",Mt),Mt=Or(Mt,Ot),h2("stars",Mt),Mt),T2=Mt=>!Mt||Mt.toLowerCase()==="x"||Mt==="*",Mr=(Mt,Ot)=>Mt.trim().split(/\s+/).map(Ft=>Cr(Ft,Ot)).join(" "),Cr=(Mt,Ot)=>{let Ft=Ot.loose?y2[E2.TILDELOOSE]:y2[E2.TILDE];return Mt.replace(Ft,(Ut,Xt,jr,hn,Vr)=>{let fn;return h2("tilde",Mt,Ut,Xt,jr,hn,Vr),T2(Xt)?fn="":T2(jr)?fn=`>=${Xt}.0.0 <${+Xt+1}.0.0-0`:T2(hn)?fn=`>=${Xt}.${jr}.0 <${Xt}.${+jr+1}.0-0`:Vr?(h2("replaceTilde pr",Vr),fn=`>=${Xt}.${jr}.${hn}-${Vr} <${Xt}.${+jr+1}.0-0`):fn=`>=${Xt}.${jr}.${hn} <${Xt}.${+jr+1}.0-0`,h2("tilde return",fn),fn})},Nr=(Mt,Ot)=>Mt.trim().split(/\s+/).map(Ft=>Ar(Ft,Ot)).join(" "),Ar=(Mt,Ot)=>{h2("caret",Mt,Ot);let Ft=Ot.loose?y2[E2.CARETLOOSE]:y2[E2.CARET],Ut=Ot.includePrerelease?"-0":"";return Mt.replace(Ft,(Xt,jr,hn,Vr,fn)=>{let dn;return h2("caret",Mt,Xt,jr,hn,Vr,fn),T2(jr)?dn="":T2(hn)?dn=`>=${jr}.0.0${Ut} <${+jr+1}.0.0-0`:T2(Vr)?dn=jr==="0"?`>=${jr}.${hn}.0${Ut} <${jr}.${+hn+1}.0-0`:`>=${jr}.${hn}.0${Ut} <${+jr+1}.0.0-0`:fn?(h2("replaceCaret pr",fn),dn=jr==="0"?hn==="0"?`>=${jr}.${hn}.${Vr}-${fn} <${jr}.${hn}.${+Vr+1}-0`:`>=${jr}.${hn}.${Vr}-${fn} <${jr}.${+hn+1}.0-0`:`>=${jr}.${hn}.${Vr}-${fn} <${+jr+1}.0.0-0`):(h2("no pr"),dn=jr==="0"?hn==="0"?`>=${jr}.${hn}.${Vr}${Ut} <${jr}.${hn}.${+Vr+1}-0`:`>=${jr}.${hn}.${Vr}${Ut} <${jr}.${+hn+1}.0-0`:`>=${jr}.${hn}.${Vr} <${+jr+1}.0.0-0`),h2("caret return",dn),dn})},$r=(Mt,Ot)=>(h2("replaceXRanges",Mt,Ot),Mt.split(/\s+/).map(Ft=>Lr(Ft,Ot)).join(" ")),Lr=(Mt,Ot)=>{Mt=Mt.trim();let Ft=Ot.loose?y2[E2.XRANGELOOSE]:y2[E2.XRANGE];return Mt.replace(Ft,(Ut,Xt,jr,hn,Vr,fn)=>{h2("xRange",Mt,Ut,Xt,jr,hn,Vr,fn);let dn=T2(jr),pn=dn||T2(hn),En=pn||T2(Vr),_n=En;return Xt==="="&&_n&&(Xt=""),fn=Ot.includePrerelease?"-0":"",dn?Ut=Xt===">"||Xt==="<"?"<0.0.0-0":"*":Xt&&_n?(pn&&(hn=0),Vr=0,Xt===">"?(Xt=">=",pn?(jr=+jr+1,hn=0,Vr=0):(hn=+hn+1,Vr=0)):Xt==="<="&&(Xt="<",pn?jr=+jr+1:hn=+hn+1),Xt==="<"&&(fn="-0"),Ut=`${Xt+jr}.${hn}.${Vr}${fn}`):pn?Ut=`>=${jr}.0.0${fn} <${+jr+1}.0.0-0`:En&&(Ut=`>=${jr}.${hn}.0${fn} <${jr}.${+hn+1}.0-0`),h2("xRange return",Ut),Ut})},Or=(Mt,Ot)=>(h2("replaceStars",Mt,Ot),Mt.trim().replace(y2[E2.STAR],"")),_r=(Mt,Ot)=>(h2("replaceGTE0",Mt,Ot),Mt.trim().replace(y2[Ot.includePrerelease?E2.GTE0PRE:E2.GTE0],"")),kr=Mt=>(Ot,Ft,Ut,Xt,jr,hn,Vr,fn,dn,pn,En,_n,Dn)=>`${Ft=T2(Ut)?"":T2(Xt)?`>=${Ut}.0.0${Mt?"-0":""}`:T2(jr)?`>=${Ut}.${Xt}.0${Mt?"-0":""}`:hn?`>=${Ft}`:`>=${Ft}${Mt?"-0":""}`} ${fn=T2(dn)?"":T2(pn)?`<${+dn+1}.0.0-0`:T2(En)?`<${dn}.${+pn+1}.0-0`:_n?`<=${dn}.${pn}.${En}-${_n}`:Mt?`<${dn}.${pn}.${+En+1}-0`:`<=${fn}`}`.trim(),Dr=(Mt,Ot,Ft)=>{for(let Ut=0;Ut<Mt.length;Ut++)if(!Mt[Ut].test(Ot))return!1;if(Ot.prerelease.length&&!Ft.includePrerelease){for(let Ut=0;Ut<Mt.length;Ut++)if(h2(Mt[Ut].semver),Mt[Ut].semver!==Y2.ANY&&Mt[Ut].semver.prerelease.length>0){let Xt=Mt[Ut].semver;if(Xt.major===Ot.major&&Xt.minor===Ot.minor&&Xt.patch===Ot.patch)return!0}return!1}return!0},ot=(Mt,Ot,Ft)=>{try{Ot=new Q2(Ot,Ft)}catch{return!1}return Ot.test(Mt)},{MAX_LENGTH:qr}=Ae,{re:rt,t:nt}=Z2,Ur=(Mt,Ot)=>{if(Ot&&typeof Ot=="object"||(Ot={loose:!!Ot,includePrerelease:!1}),Mt instanceof M)return Mt;if(typeof Mt!="string"||Mt.length>qr||!(Ot.loose?rt[nt.LOOSE]:rt[nt.FULL]).test(Mt))return null;try{return new M(Mt,Ot)}catch{return null}},Fr=Ur,{re:ie,t:ae}=Z2,it=(Mt,Ot)=>{if(Mt instanceof M)return Mt;if(typeof Mt=="number"&&(Mt=String(Mt)),typeof Mt!="string")return null;let Ft=null;if((Ot=Ot||{}).rtl){let Ut;for(;(Ut=ie[ae.COERCERTL].exec(Mt))&&(!Ft||Ft.index+Ft[0].length!==Mt.length);)Ft&&Ut.index+Ut[0].length===Ft.index+Ft[0].length||(Ft=Ut),ie[ae.COERCERTL].lastIndex=Ut.index+Ut[1].length+Ut[2].length;ie[ae.COERCERTL].lastIndex=-1}else Ft=Mt.match(ie[ae.COERCE]);return Ft===null?null:Fr(`${Ft[2]}.${Ft[3]||"0"}.${Ft[4]||"0"}`,Ot)},m2={},dt={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn","@magic-sdk/react-native-bare":"magic-sdk-rn-bare","@magic-sdk/react-native-expo":"magic-sdk-rn-expo"},$=class uu extends Error{constructor(Ft,Ut){super(`Magic SDK Error: [${Ft}] ${Ut}`);Oo(this,"__proto__",Error);this.code=Ft,this.rawMessage=Ut,Object.setPrototypeOf(this,uu.prototype)}},U2=class fu extends Error{constructor(Ft){super();Oo(this,"__proto__",Error);Oo(this,"code");Oo(this,"rawMessage");Oo(this,"data");let Ut=Number(Ft==null?void 0:Ft.code);this.rawMessage=(Ft==null?void 0:Ft.message)||"Internal error",this.code=lt(Ut)?Ut:u$1.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,this.data=(Ft==null?void 0:Ft.data)||void 0,Object.setPrototypeOf(this,fu.prototype)}},L2=class{constructor(Mt,Ot){Oo(this,"message");this.code=Mt,this.rawMessage=Ot,this.message=`Magic SDK Warning: [${Mt}] ${Ot}`}log(){console.warn(this.message)}},de=class hu extends Error{constructor(Ft,Ut,Xt,jr){super(`Magic Extension Error (${Ft.name}): [${Ut}] ${Xt}`);Oo(this,"__proto__",Error);this.code=Ut,this.rawMessage=Xt,this.data=jr,Object.setPrototypeOf(this,hu.prototype)}},te=class{constructor(Mt,Ot,Ft){Oo(this,"message");this.code=Ot,this.rawMessage=Ft,this.message=`Magic Extension Warning (${Mt.name}): [${Ot}] ${Ft}`}log(){console.warn(this.message)}},Yr=zr(),me={},rr(me,{clear:()=>Qr,getItem:()=>R2,iterate:()=>Le,key:()=>en,keys:()=>tn,length:()=>Zr,removeItem:()=>A2,setItem:()=>S2}),R2=O2("getItem"),S2=O2("setItem"),A2=O2("removeItem"),Qr=O2("clear"),Zr=O2("length"),en=O2("key"),tn=O2("keys"),Le=O2("iterate"),Oe="STORE_KEY_PRIVATE_KEY",he="STORE_KEY_PUBLIC_JWK",It="ECDSA",rn="P-256",nn={name:It,namedCurve:rn},St=Symbol("Payload pre-processed by Magic SDK"),K=class du{constructor(Ot){Oo(this,"_jsonrpc");Oo(this,"_id");Oo(this,"_result");Oo(this,"_error");Ot instanceof du?(this._jsonrpc=Ot.payload.jsonrpc,this._id=Ot.payload.id,this._result=Ot.payload.result,this._error=Ot.payload.error):ct(Ot)?(this._jsonrpc=Ot.jsonrpc,this._id=Ot.id,this._result=Ot.result,this._error=Ot.error):(this._jsonrpc=Ot.jsonrpc,this._id=Ot.id,this._result=void 0,this._error=void 0)}applyError(Ot){return this._error=Ot,this}applyResult(Ot){return this._result=Ot,this}get hasError(){var Ot;return((Ot=this._error)==null?void 0:Ot.code)===u$1.DpopInvalidated&&bt(),typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},Nt=sr(Ct()),ke=class extends Nt.default{},At=Symbol("isPromiEvent"),f2=class{constructor(Mt){this.sdk=Mt}get overlay(){return this.sdk.overlay}request(Mt){if(this.sdk.thirdPartyWallets.isConnected&&!Z.includes(Mt.method))return b2((Xt,jr)=>{this.sdk.thirdPartyWallets.requestOverride(Mt).then(Xt).catch(jr)});let Ot=this.overlay.post(y.MAGIC_HANDLE_REQUEST,F2(Mt)),Ft=b2((Xt,jr)=>{Ot.then(hn=>{if(Ut(),hn.hasError)jr(new U2(hn.payload.error));else if(hn.hasResult)Xt(hn.payload.result);else throw mt()}).catch(hn=>{Ut(),jr(hn)})}),Ut=this.overlay.on(E.MAGIC_HANDLE_EVENT,Xt=>{var hn;let{response:jr}=Xt.data;if(jr.id===Mt.id&&((hn=jr.result)!=null&&hn.event)){let{event:Vr,params:fn=[]}=jr.result;Ft.emit(Vr,...fn)}});return Ft}createIntermediaryEvent(Mt,Ot){return Ft=>{let Ut=p$1(g.IntermediaryEvent,[{payloadId:Ot,eventType:Mt,args:Ft}]);this.request(Ut)}}},vn={"magic-sdk":"v18.0.0","@magic-sdk/react-native":"v14.0.0","@magic-sdk/react-native-bare":"v19.0.0","@magic-sdk/react-native-expo":"v19.0.0"},ye=class extends f2{loginWithMagicLink(Mt){let Ot=m2.sdkName==="@magic-sdk/react-native"||m2.sdkName==="@magic-sdk/react-native-bare"||m2.sdkName==="@magic-sdk/react-native-expo";if(Ot&&Lt(m2.version,19))throw new Error("loginWithMagicLink() is deprecated for this package, please utilize a passcode method like loginWithSMS or loginWithEmailOTP instead.");Ot&&Rt({method:"auth.loginWithMagicLink()",removalVersions:vn,useInstead:"auth.loginWithEmailOTP()"}).log();let{email:Ft,showUI:Ut=!0,redirectURI:Xt,overrides:jr,lifespan:hn}=Mt,Vr=p$1(this.sdk.testMode?g.LoginWithMagicLinkTestMode:g.LoginWithMagicLink,[{email:Ft,showUI:Ut,redirectURI:Xt,overrides:jr,lifespan:hn}]);return this.request(Vr)}loginWithSMS(Mt){let{phoneNumber:Ot,showUI:Ft=!0,lifespan:Ut}=Mt,Xt=p$1(this.sdk.testMode?g.LoginWithSmsTestMode:g.LoginWithSms,[{phoneNumber:Ot,showUI:Ft,lifespan:Ut}]),jr=this.request(Xt);return!Ft&&jr&&(jr.on(N.VerifySmsOtp,hn=>{this.createIntermediaryEvent(N.VerifySmsOtp,Xt.id)(hn)}),jr.on(N.Cancel,()=>{this.createIntermediaryEvent(N.Cancel,Xt.id)()})),jr}loginWithEmailOTP(Mt){let{email:Ot,showUI:Ft,deviceCheckUI:Ut,overrides:Xt,lifespan:jr}=Mt,hn=p$1(this.sdk.testMode?g.LoginWithEmailOTPTestMode:g.LoginWithEmailOTP,[{email:Ot,showUI:Ft,deviceCheckUI:Ut,overrides:Xt,lifespan:jr}]),Vr=this.request(hn);return!Ut&&Vr&&Vr.on(O.Retry,()=>{this.createIntermediaryEvent(O.Retry,hn.id)()}),!Ft&&Vr&&(Vr.on(I.VerifyEmailOtp,fn=>{this.createIntermediaryEvent(I.VerifyEmailOtp,hn.id)(fn)}),Vr.on(I.VerifyMFACode,fn=>{this.createIntermediaryEvent(I.VerifyMFACode,hn.id)(fn)}),Vr.on(I.LostDevice,()=>{this.createIntermediaryEvent(I.LostDevice,hn.id)()}),Vr.on(I.VerifyRecoveryCode,fn=>{this.createIntermediaryEvent(I.VerifyRecoveryCode,hn.id)(fn)}),Vr.on(I.Cancel,()=>{this.createIntermediaryEvent(I.Cancel,hn.id)()})),Vr}loginWithCredential(Mt){let{credentialOrQueryString:Ot,lifespan:Ft}=Mt||{},Ut=Ot??"";if(!Ot&&m2.platform==="web"){Ut=window.location.search;let jr=window.location.origin+window.location.pathname;window.history.replaceState(null,"",jr)}let Xt=p$1(this.sdk.testMode?g.LoginWithCredentialTestMode:g.LoginWithCredential,[Ut,Ft]);return this.request(Xt)}setAuthorizationToken(Mt){let Ot=p$1(g.SetAuthorizationToken,[{jwt:Mt}]);return this.request(Ot)}updateEmailWithUI(Mt){let{email:Ot,showUI:Ft=!0}=Mt,Ut=p$1(this.sdk.testMode?g.UpdateEmailTestMode:g.UpdateEmail,[{email:Ot,showUI:Ft}]),Xt=this.request(Ut);return Ft||(Xt.on(b.Retry,()=>{this.createIntermediaryEvent(b.Retry,Ut.id)()}),Xt.on(b.Cancel,()=>{this.createIntermediaryEvent(b.Cancel,Ut.id)()}),Xt.on(b.VerifyEmailOtp,jr=>{this.createIntermediaryEvent(b.VerifyEmailOtp,Ut.id)(jr)}),Xt.on(b.VerifyMFACode,jr=>{this.createIntermediaryEvent(b.VerifyMFACode,Ut.id)(jr)}),Xt.on(F.RetryWithNewEmail,jr=>{this.createIntermediaryEvent(F.RetryWithNewEmail,Ut.id)(jr)}),Xt.on(F.Cancel,()=>{this.createIntermediaryEvent(F.Cancel,Ut.id)()}),Xt.on(F.VerifyEmailOtp,jr=>{this.createIntermediaryEvent(F.VerifyEmailOtp,Ut.id)(jr)})),Xt}},qe="ds",Ue="ek",Fe="iv",We="AES-GCM",Tn=256,Te=class extends f2{constructor(){super(...arguments);Oo(this,"localForageIsLoggedInKey","magic_auth_is_logged_in");Oo(this,"userLoggedOutCallbacks",[])}getIdToken(Ot){let Ft=p$1(this.sdk.testMode?g.GetIdTokenTestMode:g.GetIdToken,[Ot]);return this.request(Ft)}generateIdToken(Ot){let Ft=p$1(this.sdk.testMode?g.GenerateIdTokenTestMode:g.GenerateIdToken,[Ot]);return this.request(Ft)}getInfo(){let Ot=p$1(g.GetInfo,[]);return this.request(Ot)}isLoggedIn(){return b2(async(Ot,Ft)=>{try{let Ut=!1;this.sdk.useStorageCache&&(Ut=await R2(this.localForageIsLoggedInKey)==="true",Ut&&Ot(!0));let Xt=p$1(this.sdk.testMode?g.IsLoggedInTestMode:g.IsLoggedIn),jr=await this.request(Xt);this.sdk.useStorageCache&&(jr?S2(this.localForageIsLoggedInKey,!0):A2(this.localForageIsLoggedInKey),Ut&&!jr&&this.emitUserLoggedOut(!0)),Ot(jr)}catch(Ut){Ft(Ut)}})}logout(){return A2(this.localForageIsLoggedInKey),Re(),b2(async(Ot,Ft)=>{try{let Ut=p$1(this.sdk.testMode?g.LogoutTestMode:g.Logout),Xt=await this.request(Ut);this.sdk.useStorageCache&&this.emitUserLoggedOut(Xt),Ot(Xt)}catch(Ut){Ft(Ut)}})}requestInfoWithUI(Ot){let Ft=p$1(g.RequestUserInfoWithUI,Ot?[Ot]:[]);return this.request(Ft)}showSettings(Ot){let{showUI:Ft=!0}=Ot||{},Ut=p$1(this.sdk.testMode?g.UserSettingsTestMode:g.UserSettings,[Ot]),Xt=this.request(Ut);return!Ft&&Xt&&(Xt.on(Y.SendNewPhoneNumber,jr=>{this.createIntermediaryEvent(Y.SendNewPhoneNumber,Ut.id)(jr)}),Xt.on(Y.SendOtpCode,jr=>{this.createIntermediaryEvent(Y.SendOtpCode,Ut.id)(jr)}),Xt.on(Y.StartEditPhoneNumber,()=>{this.createIntermediaryEvent(Y.StartEditPhoneNumber,Ut.id)()}),Xt.on(Y.Cancel,()=>{this.createIntermediaryEvent(Y.Cancel,Ut.id)()}),Xt.on(b.VerifyEmailOtp,jr=>{this.createIntermediaryEvent(b.VerifyEmailOtp,Ut.id)(jr)})),Xt}recoverAccount(Ot){let{email:Ft,showUI:Ut}=Ot,Xt=p$1(this.sdk.testMode?g.RecoverAccountTestMode:g.RecoverAccount,[{email:Ft,showUI:Ut}]),jr=this.request(Xt);return!Ut&&jr&&(jr.on(j.Cancel,()=>{this.createIntermediaryEvent(j.Cancel,Xt.id)()}),jr.on(j.ResendSms,()=>{this.createIntermediaryEvent(j.ResendSms,Xt.id)()}),jr.on(j.VerifyOtp,hn=>{this.createIntermediaryEvent(j.VerifyOtp,Xt.id)(hn)}),jr.on(j.UpdateEmail,hn=>{this.createIntermediaryEvent(j.UpdateEmail,Xt.id)(hn)}),jr.on(F.Cancel,()=>{this.createIntermediaryEvent(F.Cancel,Xt.id)()}),jr.on(F.RetryWithNewEmail,hn=>{this.createIntermediaryEvent(F.RetryWithNewEmail,Xt.id)(hn)}),jr.on(F.VerifyEmailOtp,hn=>{this.createIntermediaryEvent(F.VerifyEmailOtp,Xt.id)(hn)})),jr}revealPrivateKey(){let Ot=p$1(g.RevealPK);return this.request(Ot)}onUserLoggedOut(Ot){this.userLoggedOutCallbacks.push(Ot)}enableMFA(Ot){let{showUI:Ft=!0}=Ot,Ut=p$1(g.EnableMFA,[{showUI:Ft}]),Xt=this.request(Ut);return!Ft&&Xt&&(Xt.on(D.VerifyMFACode,jr=>{this.createIntermediaryEvent(D.VerifyMFACode,Ut.id)(jr)}),Xt.on(D.Cancel,()=>{this.createIntermediaryEvent(D.Cancel,Ut.id)()})),Xt}disableMFA(Ot){let{showUI:Ft=!0}=Ot,Ut=p$1(g.DisableMFA,[{showUI:Ft}]),Xt=this.request(Ut);return!Ft&&Xt&&(Xt.on(G.VerifyMFACode,jr=>{this.createIntermediaryEvent(G.VerifyMFACode,Ut.id)(jr)}),Xt.on(G.LostDevice,jr=>{this.createIntermediaryEvent(G.LostDevice,Ut.id)(jr)}),Xt.on(G.Cancel,()=>{this.createIntermediaryEvent(G.Cancel,Ut.id)()})),Xt}emitUserLoggedOut(Ot){this.userLoggedOutCallbacks.forEach(Ft=>{Ft(Ot)})}},Ie=class extends f2{connectWithUI(Mt){let Ot=b2(async(Ft,Ut)=>{try{let Xt=p$1(g.Login,[{enabledWallets:this.sdk.thirdPartyWallets.enabledWallets,...Mt}]),jr=this.request(Xt);this.sdk.thirdPartyWallets.eventListeners.forEach(({event:Vr,callback:fn})=>{jr.on(Vr,()=>fn(Xt.id))}),jr.on("id-token-created",Vr=>{Ot.emit("id-token-created",Vr)});let hn=await jr;hn.error&&Ut(hn),Ft(hn)}catch(Xt){Ut(Xt)}});return Ot}showUI(Mt){return this.request(p$1(g.ShowUI,[Mt]))}showAddress(){return this.request(p$1(g.ShowAddress))}showSendTokensUI(){return this.request(p$1(g.ShowSendTokensUI))}showOnRamp(){return this.request(p$1(g.ShowOnRamp))}showNFTs(){return this.request(p$1(g.ShowNFTs))}showBalances(){return this.request(p$1(g.ShowBalances))}sendGaslessTransaction(Mt,Ot){return this.request(p$1(g.SendGaslessTransaction,[Mt,Ot]))}},Pe=class extends f2{constructor(){super(...arguments);Oo(this,"eventListeners",[]);Oo(this,"enabledWallets",{});Oo(this,"isConnected",!1)}resetThirdPartyWalletState(){localStorage.removeItem(_.PROVIDER),localStorage.removeItem(_.ADDRESS),localStorage.removeItem(_.CHAIN_ID),this.isConnected=!1}requestOverride(Ot){if(Ot.method===g.Login)return this.resetThirdPartyWalletState(),super.request(Ot);if(Ot.method===g.GetInfo)return this.getInfo(Ot);if(Ot.method===g.IsLoggedIn)return this.isLoggedIn(Ot);if(Ot.method===g.Logout)return this.logout(Ot);switch(localStorage.getItem(_.PROVIDER)){case"web3modal":return this.web3modalRequest(Ot);default:return this.resetThirdPartyWalletState(),super.request(Ot)}}isLoggedIn(Ot){switch(localStorage.getItem(_.PROVIDER)){case"web3modal":return this.web3modalIsLoggedIn();default:return this.resetThirdPartyWalletState(),super.request(Ot)}}getInfo(Ot){switch(localStorage.getItem(_.PROVIDER)){case"web3modal":return this.web3modalGetInfo();default:return this.resetThirdPartyWalletState(),super.request(Ot)}}logout(Ot){let Ft=localStorage.getItem(_.PROVIDER);switch(this.resetThirdPartyWalletState(),Ft){case"web3modal":return this.web3modalLogout();default:return super.request(Ot)}}web3modalRequest(Ot){return b2((Ft,Ut)=>{this.sdk.web3modal.modal.getWalletProvider().request(Ot).then(Ft).catch(Ut)})}web3modalIsLoggedIn(){return b2(Ot=>{let Ft=this.sdk.web3modal.modal.getStatus();if(Ft==="connected"&&Ot(!0),Ft==="disconnected"&&(this.resetThirdPartyWalletState(),Ot(!1)),Ft==="reconnecting"){let Ut=this.sdk.web3modal.modal.subscribeProvider(({status:Xt})=>{Xt==="connected"&&(Ut(),Ot(!0)),Xt==="disconnected"&&(Ut(),this.resetThirdPartyWalletState(),Ot(!1))})}})}formatWeb3modalGetInfoResponse(){var Ut;let Ot=(Ut=this.sdk.web3modal.modal.getWalletInfo())==null?void 0:Ut.name,Ft=this.sdk.web3modal.modal.getAddress();return{publicAddress:Ft,email:null,issuer:`did:ethr:${Ft}`,phoneNumber:null,isMfaEnabled:!1,recoveryFactors:[],walletType:Ot||"web3modal",firstLoginAt:null}}web3modalGetInfo(){return b2((Ot,Ft)=>{let Ut=this.sdk.web3modal.modal.getStatus();if(Ut==="connected"&&Ot(this.formatWeb3modalGetInfoResponse()),Ut==="disconnected"&&(this.resetThirdPartyWalletState(),Ft("Magic RPC Error: [-32603] Internal error: User denied account access.")),Ut==="reconnecting"){let Xt=this.sdk.web3modal.modal.subscribeProvider(({status:jr})=>{jr==="connected"&&(Xt(),Ot(this.formatWeb3modalGetInfoResponse())),jr==="disconnected"&&(Xt(),this.resetThirdPartyWalletState(),Ft("Magic RPC Error: [-32603] Internal error: User denied account access."))})}})}web3modalLogout(){return b2(async Ot=>{try{await this.sdk.web3modal.modal.disconnect()}catch(Ft){console.error(Ft)}Ot(!0)})}},{createBoundEmitterMethod:we,createChainingEmitterMethod:H2}=fe(),Se=class extends f2{constructor(){super(...arguments);Oo(this,"isMagic",!0);Oo(this,"on",H2("on",this));Oo(this,"once",H2("once",this));Oo(this,"addListener",H2("addListener",this));Oo(this,"off",H2("off",this));Oo(this,"removeListener",H2("removeListener",this));Oo(this,"removeAllListeners",H2("removeAllListeners",this));Oo(this,"emit",we("emit"));Oo(this,"eventNames",we("eventNames"));Oo(this,"listeners",we("listeners"));Oo(this,"listenerCount",we("listenerCount"))}sendAsync(Ot,Ft){if(!Ft)throw ft({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:Ft===null?"null":typeof Ft});if(Array.isArray(Ot))this.overlay.post(y.MAGIC_HANDLE_REQUEST,Ot.map(Ut=>{let Xt=F2(Ut);return this.prefixPayloadMethodForTestMode(Xt),Xt})).then(Ut=>{Ft(null,Ut.map(Xt=>({...Xt.payload,error:Xt.hasError?new U2(Xt.payload.error):null})))});else{let Ut=F2(Ot);this.prefixPayloadMethodForTestMode(Ut),this.overlay.post(y.MAGIC_HANDLE_REQUEST,Ut).then(Xt=>{Ft(Xt.hasError?new U2(Xt.payload.error):null,Xt.payload)})}}send(Ot,Ft){if(typeof Ot=="string"){let Xt=p$1(Ot,Array.isArray(Ft)?Ft:[]);return this.request(Xt)}if(Array.isArray(Ot)||Ft){this.sendAsync(Ot,Ft);return}let Ut=gt();return Ut.log(),new K(Ot).applyError({code:-32603,message:Ut.rawMessage}).payload}enable(){let Ot=p$1(g.Login);return this.request(Ot)}request(Ot){return this.prefixPayloadMethodForTestMode(Ot),super.request(Ot)}prefixPayloadMethodForTestMode(Ot){let Ft="testMode/eth/";this.sdk.testMode&&(Ot.method=`${Ft}${Ot.method}`)}},Me=class extends f2{purchase(Mt){let Ot=p$1(g.NFTPurchase,[Mt]);return this.request(Ot)}checkout(Mt){let Ot=this.sdk.thirdPartyWallets.isConnected,Ft=p$1(g.NFTCheckout,[{...Mt,walletProvider:Ot?"web3modal":"magic"}]),Ut=this.request(Ft);return Ot&&(Ut.on(Q.Initiated,async Xt=>{try{let jr=await this.request({method:"eth_sendTransaction",params:[Xt]});this.createIntermediaryEvent(Q.Success,Ft.id)(jr)}catch{this.createIntermediaryEvent(Q.Failure,Ft.id)()}}),Ut.on(Q.Disconnect,()=>{this.sdk.thirdPartyWallets.resetThirdPartyWalletState(),Ut.emit("disconnect")})),Ut}transfer(Mt){let Ot=p$1(g.NFTTransfer,[Mt]);return this.request(Ot)}},Ke=(_e=class{constructor(Ot,Ft){Oo(this,"endpoint");Oo(this,"parameters");Oo(this,"networkHash");Oo(this,"testMode");Oo(this,"useStorageCache");Oo(this,"auth");Oo(this,"user");Oo(this,"wallet");Oo(this,"nft");Oo(this,"thirdPartyWallets");Oo(this,"rpcProvider");if(this.apiKey=Ot,!Ot)throw ut();m2.platform==="react-native"&&(Ft!=null&&Ft.endpoint)&&yt().log();let{defaultEndpoint:Ut,version:Xt}=m2;this.testMode=!!(Ft!=null&&Ft.testMode),this.useStorageCache=!!(Ft!=null&&Ft.useStorageCache),this.endpoint=Je((Ft==null?void 0:Ft.endpoint)??Ut).origin,this.auth=new ye(this),this.user=new Te(this),this.wallet=new Ie(this),this.nft=new Me(this),this.thirdPartyWallets=new Pe(this),this.rpcProvider=new Se(this);let jr=Sn.call(this,Ft);this.parameters=ce({API_KEY:this.apiKey,DOMAIN_ORIGIN:typeof window<"u"&&(window!=null&&window.location)?window==null?void 0:window.location.origin:"",ETH_NETWORK:Ft==null?void 0:Ft.network,host:Je(this.endpoint).host,sdk:dt[m2.sdkName],version:Xt,ext:ee(jr)?void 0:jr,locale:(Ft==null?void 0:Ft.locale)||"en_US",authConfig:Ft!=null&&Ft.authConfig?{...Ft.authConfig}:void 0,...m2.bundleId?{bundleId:m2.bundleId}:{},meta:Ft==null?void 0:Ft.meta}),this.networkHash=wn(this.apiKey,Ft==null?void 0:Ft.network,ee(jr)?void 0:jr),Ft!=null&&Ft.deferPreload||this.preload()}get overlay(){if(!_e.__overlays__.has(this.parameters)){let Ot=new m2.ViewController(this.endpoint,this.parameters,this.networkHash);Ot.init(),_e.__overlays__.set(this.parameters,Ot)}return _e.__overlays__.get(this.parameters)}async preload(){await this.overlay.waitForReady()}},Oo(_e,"__overlays__",new Map),_e),Nn=1e3,Bt=60*Nn,Vt=5*Bt,An=60*Bt,je=class{constructor(Mt,Ot,Ft){Oo(this,"isReadyForRequest",!1);Oo(this,"messageHandlers",new Set);Oo(this,"isConnectedToInternet",!0);Oo(this,"lastPongTime",null);Oo(this,"heartbeatIntervalTimer",null);Oo(this,"heartbeatDebounce",jt(()=>{this.endpoint==="https://auth.magic.link/"&&this.heartBeatCheck()},An));this.endpoint=Mt,this.parameters=Ot,this.networkHash=Ft,this.listen()}async post(Mt,Ot){return De(async(Ft,Ut)=>{if(!this.isConnectedToInternet){let dn=pt();Ut(dn)}await this.checkRelayerExistsInDOM()||(this.isReadyForRequest=!1,await this.reloadRelayer()),this.isReadyForRequest||await this.waitForReady();let Xt=[],jr=Array.isArray(Ot)?Ot.map(dn=>dn.id):[],hn=await Gt(`${Mt}-${this.parameters}`,Ot,this.networkHash);await this._post(hn);let Vr=dn=>pn=>{var Dn;let{id:En,response:_n}=Jt(Ot,pn);if(Kt(pn),((Dn=_n==null?void 0:_n.payload.error)==null?void 0:Dn.message)==="User denied account access.")Re();else if(pn.data.deviceShare){let{deviceShare:Vn}=pn.data;Dt(Vn,this.networkHash)}En&&_n&&Array.isArray(Ot)&&jr.includes(En)?(Xt.push(_n),Xt.length===Ot.length&&(dn(),Ft(Xt))):En&&_n&&!Array.isArray(Ot)&&En===Ot.id&&(dn(),Ft(_n))},fn=this.on(E.MAGIC_HANDLE_RESPONSE,Vr(()=>fn()))})}on(Mt,Ot){let Ft=Ot.bind(window),Ut=Xt=>{Xt.data.msgType===`${Mt}-${this.parameters}`&&Ft(Xt)};return this.messageHandlers.add(Ut),()=>this.messageHandlers.delete(Ut)}waitForReady(){return new Promise(Mt=>{let Ot=this.on(E.MAGIC_OVERLAY_READY,()=>{this.isReadyForRequest=!0,Mt(),Ot()})})}listen(){this.on(E.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay()}),this.on(E.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay()}),this.on(E.MAGIC_SEND_PRODUCT_ANNOUNCEMENT,Mt=>{Mt.data.response.result.product_announcement&&new L2(v.ProductAnnouncement,Mt.data.response.result.product_announcement).log()})}heartBeatCheck(){let Mt=!0,Ot=async()=>{let Ft={msgType:`${y.MAGIC_PING}-${this.parameters}`,payload:[]};await this._post(Ft)};this.heartbeatIntervalTimer=setInterval(async()=>{if(this.lastPongTime){if(Date.now()-this.lastPongTime>Vt*2){this.reloadRelayer(),Mt=!0;return}}else if(!Mt){this.reloadRelayer(),Mt=!0;return}await Ot(),Mt=!1},Vt)}stopHeartBeat(){this.heartbeatDebounce(),this.lastPongTime=null,this.heartbeatIntervalTimer&&(clearInterval(this.heartbeatIntervalTimer),this.heartbeatIntervalTimer=null)}},Ht=["request","overlay","sdk"],Ve=class extends f2{constructor(){super(void 0);Oo(this,"compat");Oo(this,"__sdk_access_field_descriptors__",new Map);Oo(this,"__is_initialized__",!1);Oo(this,"utils",{createPromiEvent:b2,isPromiEvent:$t,encodeJSON:ce,decodeJSON:at,createJsonRpcRequestPayload:p$1,standardizeJsonRpcRequestPayload:F2,storage:me});let Ot=[this,...$n(this)];Ht.forEach(Ft=>{let Ut=Ot.map(Vr=>Object.getOwnPropertyDescriptor(Vr,Ft)),Xt=Ut.findIndex(Vr=>!!Vr),jr=Xt>0,hn=Ut[Xt];hn&&(this.__sdk_access_field_descriptors__.set(Ft,{descriptor:hn,isPrototypeField:jr}),Object.defineProperty(this,Ft,{configurable:!0,get:()=>{throw ht(Ft)}}))})}init(Ot){this.__is_initialized__||(Ht.forEach(Ft=>{if(this.__sdk_access_field_descriptors__.has(Ft)){let{descriptor:Ut,isPrototypeField:Xt}=this.__sdk_access_field_descriptors__.get(Ft);Xt?delete this[Ft]:Object.defineProperty(this,Ft,Ut)}}),this.sdk=Ot,this.__is_initialized__=!0)}createDeprecationWarning(Ot){let{method:Ft,removalVersion:Ut,useInstead:Xt}=Ot,jr=Xt?` Use \`${Xt}\` instead.`:"",hn=`\`${Ft}\` will be removed from this Extension in version \`${Ut}\`.${jr}`;return new te(this,"DEPRECATION_NOTICE",hn)}createWarning(Ot,Ft){return new te(this,Ot,Ft)}createError(Ot,Ft,Ut){return new de(this,Ot,Ft,Ut)}},Be=class extends Ve{},He=(d=class{},Oo(d,"Internal",Be),d)}}),init_es3=__esm({"../../node_modules/.pnpm/@magic-sdk+commons@25.4.2_@magic-sdk+provider@29.4.2_localforage@1.10.0__@magic-sdk+types@24.21.0/node_modules/@magic-sdk/commons/dist/es/index.mjs"(){init_es2(),init_es()}}),es_exports={};__export(es_exports,{AuthEventOnReceived:()=>k,DeepLinkPage:()=>x,DeviceVerificationEventEmit:()=>O,DeviceVerificationEventOnReceived:()=>S,DisableMFAEventEmit:()=>G,DisableMFAEventOnReceived:()=>V,EnableMFAEventEmit:()=>D,EnableMFAEventOnReceived:()=>w,EthChainType:()=>H,Extension:()=>He,ExtensionError:()=>de,ExtensionWarning:()=>te,FarcasterLoginEventEmit:()=>L,LocalStorageKeys:()=>_,LoginWithEmailOTPEventEmit:()=>I,LoginWithEmailOTPEventOnReceived:()=>T,LoginWithMagicLinkEventEmit:()=>A,LoginWithMagicLinkEventOnReceived:()=>R,LoginWithSmsOTPEventEmit:()=>N,LoginWithSmsOTPEventOnReceived:()=>h,Magic:()=>wt2,MagicIncomingWindowMessage:()=>E,MagicOutgoingWindowMessage:()=>y,MagicPayloadMethod:()=>g,NftCheckoutIntermediaryEvents:()=>Q,RPCError:()=>U2,RPCErrorCode:()=>u$1,RecencyCheckEventEmit:()=>b,RecencyCheckEventOnReceived:()=>C,RecoverAccountEventEmit:()=>j,RecoverAccountEventOnReceived:()=>P,RecoveryFactorEventEmit:()=>Y,RecoveryFactorEventOnReceived:()=>J,RecoveryMethodType:()=>B,SDKError:()=>$,SDKErrorCode:()=>m,SDKWarning:()=>L2,SDKWarningCode:()=>v,ThirdPartyWalletEvents:()=>f,UiEventsEmit:()=>z,UpdateEmailEventEmit:()=>F,UpdateEmailEventOnReceived:()=>U,UserEventsEmit:()=>q,UserEventsOnReceived:()=>W,WalletEventOnReceived:()=>X,isPromiEvent:()=>$t,routeToMagicMethods:()=>Z});function ft2(_e){for(let[d,Mt]of Object.entries(at2))_e.style[d]=Mt}function st2(_e){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(d=>d.src.includes(_e))}var $r2,Qe2,Zr2,qr2,kr2,et2,de2,Je2,rt2,$e2,qe2,er2,pe2,Te2,at2,ye2,wt2,init_es4=__esm({"../../node_modules/.pnpm/magic-sdk@29.4.2/node_modules/magic-sdk/dist/es/index.mjs"(){init_es2(),init_es2(),init_es(),init_es3(),$r2=Object.create,Qe2=Object.defineProperty,Zr2=Object.getOwnPropertyDescriptor,qr2=Object.getOwnPropertyNames,kr2=Object.getPrototypeOf,et2=Object.prototype.hasOwnProperty,de2=(_e=>typeof __require<"u"?__require:typeof Proxy<"u"?new Proxy(_e,{get:(d,Mt)=>(typeof __require<"u"?__require:d)[Mt]}):_e)(function(_e){if(typeof __require<"u")return __require.apply(this,arguments);throw Error('Dynamic require of "'+_e+'" is not supported')}),Je2=(_e,d)=>()=>(d||_e((d={exports:{}}).exports,d),d.exports),rt2=(_e,d,Mt,Ot)=>{if(d&&typeof d=="object"||typeof d=="function")for(let Ft of qr2(d))!et2.call(_e,Ft)&&Ft!==Mt&&Qe2(_e,Ft,{get:()=>d[Ft],enumerable:!(Ot=Zr2(d,Ft))||Ot.enumerable});return _e},$e2=(_e,d,Mt)=>(Mt=_e!=null?$r2(kr2(_e)):{},rt2(d||!_e||!_e.__esModule?Qe2(Mt,"default",{value:_e,enumerable:!0}):Mt,_e)),qe2=Je2((_e,d)=>{(function(Mt){if(typeof _e=="object"&&typeof d<"u")d.exports=Mt();else if(typeof define=="function"&&define.amd)define([],Mt);else{var Ot;typeof window<"u"?Ot=window:typeof globalThis<"u"?Ot=globalThis:typeof self<"u"?Ot=self:Ot=this,Ot.localforage=Mt()}})(function(){return function Mt(Ot,Ft,Ut){function Xt(Vr,fn){if(!Ft[Vr]){if(!Ot[Vr]){var dn=typeof de2=="function"&&de2;if(!fn&&dn)return dn(Vr,!0);if(jr)return jr(Vr,!0);var pn=new Error("Cannot find module '"+Vr+"'");throw pn.code="MODULE_NOT_FOUND",pn}var En=Ft[Vr]={exports:{}};Ot[Vr][0].call(En.exports,function(_n){var Dn=Ot[Vr][1][_n];return Xt(Dn||_n)},En,En.exports,Mt,Ot,Ft,Ut)}return Ft[Vr].exports}for(var jr=typeof de2=="function"&&de2,hn=0;hn<Ut.length;hn++)Xt(Ut[hn]);return Xt}({1:[function(Mt,Ot,Ft){(function(Ut){var Xt=Ut.MutationObserver||Ut.WebKitMutationObserver,jr;if(Xt){var hn=0,Vr=new Xt(_n),fn=Ut.document.createTextNode("");Vr.observe(fn,{characterData:!0}),jr=function(){fn.data=hn=++hn%2}}else if(!Ut.setImmediate&&typeof Ut.MessageChannel<"u"){var dn=new Ut.MessageChannel;dn.port1.onmessage=_n,jr=function(){dn.port2.postMessage(0)}}else"document"in Ut&&"onreadystatechange"in Ut.document.createElement("script")?jr=function(){var Vn=Ut.document.createElement("script");Vn.onreadystatechange=function(){_n(),Vn.onreadystatechange=null,Vn.parentNode.removeChild(Vn),Vn=null},Ut.document.documentElement.appendChild(Vn)}:jr=function(){setTimeout(_n,0)};var pn,En=[];function _n(){pn=!0;for(var Vn,Pn,qn=En.length;qn;){for(Pn=En,En=[],Vn=-1;++Vn<qn;)Pn[Vn]();qn=En.length}pn=!1}Ot.exports=Dn;function Dn(Vn){En.push(Vn)===1&&!pn&&jr()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(Mt,Ot,Ft){var Ut=Mt(1);function Xt(){}var jr={},hn=["REJECTED"],Vr=["FULFILLED"],fn=["PENDING"];Ot.exports=dn;function dn(Jn){if(typeof Jn!="function")throw new TypeError("resolver must be a function");this.state=fn,this.queue=[],this.outcome=void 0,Jn!==Xt&&Dn(this,Jn)}dn.prototype.catch=function(Jn){return this.then(null,Jn)},dn.prototype.then=function(Jn,Gn){if(typeof Jn!="function"&&this.state===Vr||typeof Gn!="function"&&this.state===hn)return this;var ba=new this.constructor(Xt);if(this.state!==fn){var eo=this.state===Vr?Jn:Gn;En(ba,eo,this.outcome)}else this.queue.push(new pn(ba,Jn,Gn));return ba};function pn(Jn,Gn,ba){this.promise=Jn,typeof Gn=="function"&&(this.onFulfilled=Gn,this.callFulfilled=this.otherCallFulfilled),typeof ba=="function"&&(this.onRejected=ba,this.callRejected=this.otherCallRejected)}pn.prototype.callFulfilled=function(Jn){jr.resolve(this.promise,Jn)},pn.prototype.otherCallFulfilled=function(Jn){En(this.promise,this.onFulfilled,Jn)},pn.prototype.callRejected=function(Jn){jr.reject(this.promise,Jn)},pn.prototype.otherCallRejected=function(Jn){En(this.promise,this.onRejected,Jn)};function En(Jn,Gn,ba){Ut(function(){var eo;try{eo=Gn(ba)}catch(xa){return jr.reject(Jn,xa)}eo===Jn?jr.reject(Jn,new TypeError("Cannot resolve promise with itself")):jr.resolve(Jn,eo)})}jr.resolve=function(Jn,Gn){var ba=Vn(_n,Gn);if(ba.status==="error")return jr.reject(Jn,ba.value);var eo=ba.value;if(eo)Dn(Jn,eo);else{Jn.state=Vr,Jn.outcome=Gn;for(var xa=-1,Yn=Jn.queue.length;++xa<Yn;)Jn.queue[xa].callFulfilled(Gn)}return Jn},jr.reject=function(Jn,Gn){Jn.state=hn,Jn.outcome=Gn;for(var ba=-1,eo=Jn.queue.length;++ba<eo;)Jn.queue[ba].callRejected(Gn);return Jn};function _n(Jn){var Gn=Jn&&Jn.then;if(Jn&&(typeof Jn=="object"||typeof Jn=="function")&&typeof Gn=="function")return function(){Gn.apply(Jn,arguments)}}function Dn(Jn,Gn){var ba=!1;function eo(Mn){ba||(ba=!0,jr.reject(Jn,Mn))}function xa(Mn){ba||(ba=!0,jr.resolve(Jn,Mn))}function Yn(){Gn(xa,eo)}var Un=Vn(Yn);Un.status==="error"&&eo(Un.value)}function Vn(Jn,Gn){var ba={};try{ba.value=Jn(Gn),ba.status="success"}catch(eo){ba.status="error",ba.value=eo}return ba}dn.resolve=Pn;function Pn(Jn){return Jn instanceof this?Jn:jr.resolve(new this(Xt),Jn)}dn.reject=qn;function qn(Jn){var Gn=new this(Xt);return jr.reject(Gn,Jn)}dn.all=jn;function jn(Jn){var Gn=this;if(Object.prototype.toString.call(Jn)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ba=Jn.length,eo=!1;if(!ba)return this.resolve([]);for(var xa=new Array(ba),Yn=0,Un=-1,Mn=new this(Xt);++Un<ba;)mn(Jn[Un],Un);return Mn;function mn(Xr,gn){Gn.resolve(Xr).then(On,function(Ln){eo||(eo=!0,jr.reject(Mn,Ln))});function On(Ln){xa[gn]=Ln,++Yn===ba&&!eo&&(eo=!0,jr.resolve(Mn,xa))}}}dn.race=Hn;function Hn(Jn){var Gn=this;if(Object.prototype.toString.call(Jn)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ba=Jn.length,eo=!1;if(!ba)return this.resolve([]);for(var xa=-1,Yn=new this(Xt);++xa<ba;)Un(Jn[xa]);return Yn;function Un(Mn){Gn.resolve(Mn).then(function(mn){eo||(eo=!0,jr.resolve(Yn,mn))},function(mn){eo||(eo=!0,jr.reject(Yn,mn))})}}},{1:1}],3:[function(Mt,Ot,Ft){(function(Ut){typeof Ut.Promise!="function"&&(Ut.Promise=Mt(2))}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(Mt,Ot,Ft){var Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(no){return typeof no}:function(no){return no&&typeof Symbol=="function"&&no.constructor===Symbol&&no!==Symbol.prototype?"symbol":typeof no};function Xt(no,ho){if(!(no instanceof ho))throw new TypeError("Cannot call a class as a function")}function jr(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var hn=jr();function Vr(){try{if(!hn||!hn.open)return!1;var no=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ho=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!no||ho)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function fn(no,ho){no=no||[],ho=ho||{};try{return new Blob(no,ho)}catch(Io){if(Io.name!=="TypeError")throw Io;for(var po=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,To=new po,ko=0;ko<no.length;ko+=1)To.append(no[ko]);return To.getBlob(ho.type)}}typeof Promise>"u"&&Mt(3);var dn=Promise;function pn(no,ho){ho&&no.then(function(po){ho(null,po)},function(po){ho(po)})}function En(no,ho,po){typeof ho=="function"&&no.then(ho),typeof po=="function"&&no.catch(po)}function _n(no){return typeof no!="string"&&(console.warn(no+" used as a key, but it is not a string."),no=String(no)),no}function Dn(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Vn="local-forage-detect-blob-support",Pn=void 0,qn={},jn=Object.prototype.toString,Hn="readonly",Jn="readwrite";function Gn(no){for(var ho=no.length,po=new ArrayBuffer(ho),To=new Uint8Array(po),ko=0;ko<ho;ko++)To[ko]=no.charCodeAt(ko);return po}function ba(no){return new dn(function(ho){var po=no.transaction(Vn,Jn),To=fn([""]);po.objectStore(Vn).put(To,"key"),po.onabort=function(ko){ko.preventDefault(),ko.stopPropagation(),ho(!1)},po.oncomplete=function(){var ko=navigator.userAgent.match(/Chrome\/(\d+)/),Io=navigator.userAgent.match(/Edge\//);ho(Io||!ko||parseInt(ko[1],10)>=43)}}).catch(function(){return!1})}function eo(no){return typeof Pn=="boolean"?dn.resolve(Pn):ba(no).then(function(ho){return Pn=ho,Pn})}function xa(no){var ho=qn[no.name],po={};po.promise=new dn(function(To,ko){po.resolve=To,po.reject=ko}),ho.deferredOperations.push(po),ho.dbReady?ho.dbReady=ho.dbReady.then(function(){return po.promise}):ho.dbReady=po.promise}function Yn(no){var ho=qn[no.name],po=ho.deferredOperations.pop();if(po)return po.resolve(),po.promise}function Un(no,ho){var po=qn[no.name],To=po.deferredOperations.pop();if(To)return To.reject(ho),To.promise}function Mn(no,ho){return new dn(function(po,To){if(qn[no.name]=qn[no.name]||Cn(),no.db)if(ho)xa(no),no.db.close();else return po(no.db);var ko=[no.name];ho&&ko.push(no.version);var Io=hn.open.apply(hn,ko);ho&&(Io.onupgradeneeded=function(Uo){var yo=Io.result;try{yo.createObjectStore(no.storeName),Uo.oldVersion<=1&&yo.createObjectStore(Vn)}catch(Wo){if(Wo.name==="ConstraintError")console.warn('The database "'+no.name+'" has been upgraded from version '+Uo.oldVersion+" to version "+Uo.newVersion+', but the storage "'+no.storeName+'" already exists.');else throw Wo}}),Io.onerror=function(Uo){Uo.preventDefault(),To(Io.error)},Io.onsuccess=function(){var Uo=Io.result;Uo.onversionchange=function(yo){yo.target.close()},po(Uo),Yn(no)}})}function mn(no){return Mn(no,!1)}function Xr(no){return Mn(no,!0)}function gn(no,ho){if(!no.db)return!0;var po=!no.db.objectStoreNames.contains(no.storeName),To=no.version<no.db.version,ko=no.version>no.db.version;if(To&&(no.version!==ho&&console.warn('The database "'+no.name+`" can't be downgraded from version `+no.db.version+" to version "+no.version+"."),no.version=no.db.version),ko||po){if(po){var Io=no.db.version+1;Io>no.version&&(no.version=Io)}return!0}return!1}function On(no){return new dn(function(ho,po){var To=new FileReader;To.onerror=po,To.onloadend=function(ko){var Io=btoa(ko.target.result||"");ho({__local_forage_encoded_blob:!0,data:Io,type:no.type})},To.readAsBinaryString(no)})}function Ln(no){var ho=Gn(atob(no.data));return fn([ho],{type:no.type})}function Rn(no){return no&&no.__local_forage_encoded_blob}function yn(no){var ho=this,po=ho._initReady().then(function(){var To=qn[ho._dbInfo.name];if(To&&To.dbReady)return To.dbReady});return En(po,no,no),po}function kn(no){xa(no);for(var ho=qn[no.name],po=ho.forages,To=0;To<po.length;To++){var ko=po[To];ko._dbInfo.db&&(ko._dbInfo.db.close(),ko._dbInfo.db=null)}return no.db=null,mn(no).then(function(Io){return no.db=Io,gn(no)?Xr(no):Io}).then(function(Io){no.db=ho.db=Io;for(var Uo=0;Uo<po.length;Uo++)po[Uo]._dbInfo.db=Io}).catch(function(Io){throw Un(no,Io),Io})}function Fn(no,ho,po,To){To===void 0&&(To=1);try{var ko=no.db.transaction(no.storeName,ho);po(null,ko)}catch(Io){if(To>0&&(!no.db||Io.name==="InvalidStateError"||Io.name==="NotFoundError"))return dn.resolve().then(function(){if(!no.db||Io.name==="NotFoundError"&&!no.db.objectStoreNames.contains(no.storeName)&&no.version<=no.db.version)return no.db&&(no.version=no.db.version+1),Xr(no)}).then(function(){return kn(no).then(function(){Fn(no,ho,po,To-1)})}).catch(po);po(Io)}}function Cn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function zn(no){var ho=this,po={db:null};if(no)for(var To in no)po[To]=no[To];var ko=qn[po.name];ko||(ko=Cn(),qn[po.name]=ko),ko.forages.push(ho),ho._initReady||(ho._initReady=ho.ready,ho.ready=yn);var Io=[];function Uo(){return dn.resolve()}for(var yo=0;yo<ko.forages.length;yo++){var Wo=ko.forages[yo];Wo!==ho&&Io.push(Wo._initReady().catch(Uo))}var Yo=ko.forages.slice(0);return dn.all(Io).then(function(){return po.db=ko.db,mn(po)}).then(function(Ko){return po.db=Ko,gn(po,ho._defaultConfig.version)?Xr(po):Ko}).then(function(Ko){po.db=ko.db=Ko,ho._dbInfo=po;for(var os=0;os<Yo.length;os++){var ms=Yo[os];ms!==ho&&(ms._dbInfo.db=po.db,ms._dbInfo.version=po.version)}})}function $a(no,ho){var po=this;no=_n(no);var To=new dn(function(ko,Io){po.ready().then(function(){Fn(po._dbInfo,Hn,function(Uo,yo){if(Uo)return Io(Uo);try{var Wo=yo.objectStore(po._dbInfo.storeName),Yo=Wo.get(no);Yo.onsuccess=function(){var Ko=Yo.result;Ko===void 0&&(Ko=null),Rn(Ko)&&(Ko=Ln(Ko)),ko(Ko)},Yo.onerror=function(){Io(Yo.error)}}catch(Ko){Io(Ko)}})}).catch(Io)});return pn(To,ho),To}function co(no,ho){var po=this,To=new dn(function(ko,Io){po.ready().then(function(){Fn(po._dbInfo,Hn,function(Uo,yo){if(Uo)return Io(Uo);try{var Wo=yo.objectStore(po._dbInfo.storeName),Yo=Wo.openCursor(),Ko=1;Yo.onsuccess=function(){var os=Yo.result;if(os){var ms=os.value;Rn(ms)&&(ms=Ln(ms));var _s=no(ms,os.key,Ko++);_s!==void 0?ko(_s):os.continue()}else ko()},Yo.onerror=function(){Io(Yo.error)}}catch(os){Io(os)}})}).catch(Io)});return pn(To,ho),To}function io(no,ho,po){var To=this;no=_n(no);var ko=new dn(function(Io,Uo){var yo;To.ready().then(function(){return yo=To._dbInfo,jn.call(ho)==="[object Blob]"?eo(yo.db).then(function(Wo){return Wo?ho:On(ho)}):ho}).then(function(Wo){Fn(To._dbInfo,Jn,function(Yo,Ko){if(Yo)return Uo(Yo);try{var os=Ko.objectStore(To._dbInfo.storeName);Wo===null&&(Wo=void 0);var ms=os.put(Wo,no);Ko.oncomplete=function(){Wo===void 0&&(Wo=null),Io(Wo)},Ko.onabort=Ko.onerror=function(){var _s=ms.error?ms.error:ms.transaction.error;Uo(_s)}}catch(_s){Uo(_s)}})}).catch(Uo)});return pn(ko,po),ko}function ga(no,ho){var po=this;no=_n(no);var To=new dn(function(ko,Io){po.ready().then(function(){Fn(po._dbInfo,Jn,function(Uo,yo){if(Uo)return Io(Uo);try{var Wo=yo.objectStore(po._dbInfo.storeName),Yo=Wo.delete(no);yo.oncomplete=function(){ko()},yo.onerror=function(){Io(Yo.error)},yo.onabort=function(){var Ko=Yo.error?Yo.error:Yo.transaction.error;Io(Ko)}}catch(Ko){Io(Ko)}})}).catch(Io)});return pn(To,ho),To}function na(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){Fn(ho._dbInfo,Jn,function(Io,Uo){if(Io)return ko(Io);try{var yo=Uo.objectStore(ho._dbInfo.storeName),Wo=yo.clear();Uo.oncomplete=function(){To()},Uo.onabort=Uo.onerror=function(){var Yo=Wo.error?Wo.error:Wo.transaction.error;ko(Yo)}}catch(Yo){ko(Yo)}})}).catch(ko)});return pn(po,no),po}function so(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){Fn(ho._dbInfo,Hn,function(Io,Uo){if(Io)return ko(Io);try{var yo=Uo.objectStore(ho._dbInfo.storeName),Wo=yo.count();Wo.onsuccess=function(){To(Wo.result)},Wo.onerror=function(){ko(Wo.error)}}catch(Yo){ko(Yo)}})}).catch(ko)});return pn(po,no),po}function _i(no,ho){var po=this,To=new dn(function(ko,Io){if(no<0){ko(null);return}po.ready().then(function(){Fn(po._dbInfo,Hn,function(Uo,yo){if(Uo)return Io(Uo);try{var Wo=yo.objectStore(po._dbInfo.storeName),Yo=!1,Ko=Wo.openKeyCursor();Ko.onsuccess=function(){var os=Ko.result;if(!os){ko(null);return}no===0||Yo?ko(os.key):(Yo=!0,os.advance(no))},Ko.onerror=function(){Io(Ko.error)}}catch(os){Io(os)}})}).catch(Io)});return pn(To,ho),To}function Wn(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){Fn(ho._dbInfo,Hn,function(Io,Uo){if(Io)return ko(Io);try{var yo=Uo.objectStore(ho._dbInfo.storeName),Wo=yo.openKeyCursor(),Yo=[];Wo.onsuccess=function(){var Ko=Wo.result;if(!Ko){To(Yo);return}Yo.push(Ko.key),Ko.continue()},Wo.onerror=function(){ko(Wo.error)}}catch(Ko){ko(Ko)}})}).catch(ko)});return pn(po,no),po}function Kn(no,ho){ho=Dn.apply(this,arguments);var po=this.config();no=typeof no!="function"&&no||{},no.name||(no.name=no.name||po.name,no.storeName=no.storeName||po.storeName);var To=this,ko;if(!no.name)ko=dn.reject("Invalid arguments");else{var Io=no.name===po.name&&To._dbInfo.db,Uo=Io?dn.resolve(To._dbInfo.db):mn(no).then(function(yo){var Wo=qn[no.name],Yo=Wo.forages;Wo.db=yo;for(var Ko=0;Ko<Yo.length;Ko++)Yo[Ko]._dbInfo.db=yo;return yo});no.storeName?ko=Uo.then(function(yo){if(yo.objectStoreNames.contains(no.storeName)){var Wo=yo.version+1;xa(no);var Yo=qn[no.name],Ko=Yo.forages;yo.close();for(var os=0;os<Ko.length;os++){var ms=Ko[os];ms._dbInfo.db=null,ms._dbInfo.version=Wo}var _s=new dn(function(Is,Bs){var $s=hn.open(no.name,Wo);$s.onerror=function(Ds){var Ns=$s.result;Ns.close(),Bs(Ds)},$s.onupgradeneeded=function(){var Ds=$s.result;Ds.deleteObjectStore(no.storeName)},$s.onsuccess=function(){var Ds=$s.result;Ds.close(),Is(Ds)}});return _s.then(function(Is){Yo.db=Is;for(var Bs=0;Bs<Ko.length;Bs++){var $s=Ko[Bs];$s._dbInfo.db=Is,Yn($s._dbInfo)}}).catch(function(Is){throw(Un(no,Is)||dn.resolve()).catch(function(){}),Is})}}):ko=Uo.then(function(yo){xa(no);var Wo=qn[no.name],Yo=Wo.forages;yo.close();for(var Ko=0;Ko<Yo.length;Ko++){var os=Yo[Ko];os._dbInfo.db=null}var ms=new dn(function(_s,Is){var Bs=hn.deleteDatabase(no.name);Bs.onerror=function(){var $s=Bs.result;$s&&$s.close(),Is(Bs.error)},Bs.onblocked=function(){console.warn('dropInstance blocked for database "'+no.name+'" until all open connections are closed')},Bs.onsuccess=function(){var $s=Bs.result;$s&&$s.close(),_s($s)}});return ms.then(function(_s){Wo.db=_s;for(var Is=0;Is<Yo.length;Is++){var Bs=Yo[Is];Yn(Bs._dbInfo)}}).catch(function(_s){throw(Un(no,_s)||dn.resolve()).catch(function(){}),_s})})}return pn(ko,ho),ko}var ro={_driver:"asyncStorage",_initStorage:zn,_support:Vr(),iterate:co,getItem:$a,setItem:io,removeItem:ga,clear:na,length:so,key:_i,keys:Wn,dropInstance:Kn};function oo(){return typeof openDatabase=="function"}var mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bo="~~local_forage_type~",vo=/^~~local_forage_type~([^~]+)~/,wo="__lfsc__:",go=wo.length,So="arbf",Ao="blob",Co="si08",Ro="ui08",$o="uic8",Lo="si16",Po="si32",No="ur16",Go="ui32",Zo="fl32",to="fl64",Zn=go+So.length,Qn=Object.prototype.toString;function lo(no){var ho=no.length*.75,po=no.length,To,ko=0,Io,Uo,yo,Wo;no[no.length-1]==="="&&(ho--,no[no.length-2]==="="&&ho--);var Yo=new ArrayBuffer(ho),Ko=new Uint8Array(Yo);for(To=0;To<po;To+=4)Io=mo.indexOf(no[To]),Uo=mo.indexOf(no[To+1]),yo=mo.indexOf(no[To+2]),Wo=mo.indexOf(no[To+3]),Ko[ko++]=Io<<2|Uo>>4,Ko[ko++]=(Uo&15)<<4|yo>>2,Ko[ko++]=(yo&3)<<6|Wo&63;return Yo}function Eo(no){var ho=new Uint8Array(no),po="",To;for(To=0;To<ho.length;To+=3)po+=mo[ho[To]>>2],po+=mo[(ho[To]&3)<<4|ho[To+1]>>4],po+=mo[(ho[To+1]&15)<<2|ho[To+2]>>6],po+=mo[ho[To+2]&63];return ho.length%3===2?po=po.substring(0,po.length-1)+"=":ho.length%3===1&&(po=po.substring(0,po.length-2)+"=="),po}function xo(no,ho){var po="";if(no&&(po=Qn.call(no)),no&&(po==="[object ArrayBuffer]"||no.buffer&&Qn.call(no.buffer)==="[object ArrayBuffer]")){var To,ko=wo;no instanceof ArrayBuffer?(To=no,ko+=So):(To=no.buffer,po==="[object Int8Array]"?ko+=Co:po==="[object Uint8Array]"?ko+=Ro:po==="[object Uint8ClampedArray]"?ko+=$o:po==="[object Int16Array]"?ko+=Lo:po==="[object Uint16Array]"?ko+=No:po==="[object Int32Array]"?ko+=Po:po==="[object Uint32Array]"?ko+=Go:po==="[object Float32Array]"?ko+=Zo:po==="[object Float64Array]"?ko+=to:ho(new Error("Failed to get type for BinaryArray"))),ho(ko+Eo(To))}else if(po==="[object Blob]"){var Io=new FileReader;Io.onload=function(){var Uo=bo+no.type+"~"+Eo(this.result);ho(wo+Ao+Uo)},Io.readAsArrayBuffer(no)}else try{ho(JSON.stringify(no))}catch(Uo){console.error("Couldn't convert value into a JSON string: ",no),ho(null,Uo)}}function _o(no){if(no.substring(0,go)!==wo)return JSON.parse(no);var ho=no.substring(Zn),po=no.substring(go,Zn),To;if(po===Ao&&vo.test(ho)){var ko=ho.match(vo);To=ko[1],ho=ho.substring(ko[0].length)}var Io=lo(ho);switch(po){case So:return Io;case Ao:return fn([Io],{type:To});case Co:return new Int8Array(Io);case Ro:return new Uint8Array(Io);case $o:return new Uint8ClampedArray(Io);case Lo:return new Int16Array(Io);case No:return new Uint16Array(Io);case Po:return new Int32Array(Io);case Go:return new Uint32Array(Io);case Zo:return new Float32Array(Io);case to:return new Float64Array(Io);default:throw new Error("Unkown type: "+po)}}var jo={serialize:xo,deserialize:_o,stringToBuffer:lo,bufferToString:Eo};function Ho(no,ho,po,To){no.executeSql("CREATE TABLE IF NOT EXISTS "+ho.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],po,To)}function Fo(no){var ho=this,po={db:null};if(no)for(var To in no)po[To]=typeof no[To]!="string"?no[To].toString():no[To];var ko=new dn(function(Io,Uo){try{po.db=openDatabase(po.name,String(po.version),po.description,po.size)}catch(yo){return Uo(yo)}po.db.transaction(function(yo){Ho(yo,po,function(){ho._dbInfo=po,Io()},function(Wo,Yo){Uo(Yo)})},Uo)});return po.serializer=jo,ko}function as(no,ho,po,To,ko,Io){no.executeSql(po,To,ko,function(Uo,yo){yo.code===yo.SYNTAX_ERR?Uo.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ho.storeName],function(Wo,Yo){Yo.rows.length?Io(Wo,yo):Ho(Wo,ho,function(){Wo.executeSql(po,To,ko,Io)},Io)},Io):Io(Uo,yo)},Io)}function zo(no,ho){var po=this;no=_n(no);var To=new dn(function(ko,Io){po.ready().then(function(){var Uo=po._dbInfo;Uo.db.transaction(function(yo){as(yo,Uo,"SELECT * FROM "+Uo.storeName+" WHERE key = ? LIMIT 1",[no],function(Wo,Yo){var Ko=Yo.rows.length?Yo.rows.item(0).value:null;Ko&&(Ko=Uo.serializer.deserialize(Ko)),ko(Ko)},function(Wo,Yo){Io(Yo)})})}).catch(Io)});return pn(To,ho),To}function Qo(no,ho){var po=this,To=new dn(function(ko,Io){po.ready().then(function(){var Uo=po._dbInfo;Uo.db.transaction(function(yo){as(yo,Uo,"SELECT * FROM "+Uo.storeName,[],function(Wo,Yo){for(var Ko=Yo.rows,os=Ko.length,ms=0;ms<os;ms++){var _s=Ko.item(ms),Is=_s.value;if(Is&&(Is=Uo.serializer.deserialize(Is)),Is=no(Is,_s.key,ms+1),Is!==void 0){ko(Is);return}}ko()},function(Wo,Yo){Io(Yo)})})}).catch(Io)});return pn(To,ho),To}function Ss(no,ho,po,To){var ko=this;no=_n(no);var Io=new dn(function(Uo,yo){ko.ready().then(function(){ho===void 0&&(ho=null);var Wo=ho,Yo=ko._dbInfo;Yo.serializer.serialize(ho,function(Ko,os){os?yo(os):Yo.db.transaction(function(ms){as(ms,Yo,"INSERT OR REPLACE INTO "+Yo.storeName+" (key, value) VALUES (?, ?)",[no,Ko],function(){Uo(Wo)},function(_s,Is){yo(Is)})},function(ms){if(ms.code===ms.QUOTA_ERR){if(To>0){Uo(Ss.apply(ko,[no,Wo,po,To-1]));return}yo(ms)}})})}).catch(yo)});return pn(Io,po),Io}function ss(no,ho,po){return Ss.apply(this,[no,ho,po,1])}function rs(no,ho){var po=this;no=_n(no);var To=new dn(function(ko,Io){po.ready().then(function(){var Uo=po._dbInfo;Uo.db.transaction(function(yo){as(yo,Uo,"DELETE FROM "+Uo.storeName+" WHERE key = ?",[no],function(){ko()},function(Wo,Yo){Io(Yo)})})}).catch(Io)});return pn(To,ho),To}function Ts(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){var Io=ho._dbInfo;Io.db.transaction(function(Uo){as(Uo,Io,"DELETE FROM "+Io.storeName,[],function(){To()},function(yo,Wo){ko(Wo)})})}).catch(ko)});return pn(po,no),po}function ys(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){var Io=ho._dbInfo;Io.db.transaction(function(Uo){as(Uo,Io,"SELECT COUNT(key) as c FROM "+Io.storeName,[],function(yo,Wo){var Yo=Wo.rows.item(0).c;To(Yo)},function(yo,Wo){ko(Wo)})})}).catch(ko)});return pn(po,no),po}function us(no,ho){var po=this,To=new dn(function(ko,Io){po.ready().then(function(){var Uo=po._dbInfo;Uo.db.transaction(function(yo){as(yo,Uo,"SELECT key FROM "+Uo.storeName+" WHERE id = ? LIMIT 1",[no+1],function(Wo,Yo){var Ko=Yo.rows.length?Yo.rows.item(0).key:null;ko(Ko)},function(Wo,Yo){Io(Yo)})})}).catch(Io)});return pn(To,ho),To}function Cs(no){var ho=this,po=new dn(function(To,ko){ho.ready().then(function(){var Io=ho._dbInfo;Io.db.transaction(function(Uo){as(Uo,Io,"SELECT key FROM "+Io.storeName,[],function(yo,Wo){for(var Yo=[],Ko=0;Ko<Wo.rows.length;Ko++)Yo.push(Wo.rows.item(Ko).key);To(Yo)},function(yo,Wo){ko(Wo)})})}).catch(ko)});return pn(po,no),po}function vs(no){return new dn(function(ho,po){no.transaction(function(To){To.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ko,Io){for(var Uo=[],yo=0;yo<Io.rows.length;yo++)Uo.push(Io.rows.item(yo).name);ho({db:no,storeNames:Uo})},function(ko,Io){po(Io)})},function(To){po(To)})})}function ns(no,ho){ho=Dn.apply(this,arguments);var po=this.config();no=typeof no!="function"&&no||{},no.name||(no.name=no.name||po.name,no.storeName=no.storeName||po.storeName);var To=this,ko;return no.name?ko=new dn(function(Io){var Uo;no.name===po.name?Uo=To._dbInfo.db:Uo=openDatabase(no.name,"","",0),no.storeName?Io({db:Uo,storeNames:[no.storeName]}):Io(vs(Uo))}).then(function(Io){return new dn(function(Uo,yo){Io.db.transaction(function(Wo){function Yo(_s){return new dn(function(Is,Bs){Wo.executeSql("DROP TABLE IF EXISTS "+_s,[],function(){Is()},function($s,Ds){Bs(Ds)})})}for(var Ko=[],os=0,ms=Io.storeNames.length;os<ms;os++)Ko.push(Yo(Io.storeNames[os]));dn.all(Ko).then(function(){Uo()}).catch(function(_s){yo(_s)})},function(Wo){yo(Wo)})})}):ko=dn.reject("Invalid arguments"),pn(ko,ho),ko}var Os={_driver:"webSQLStorage",_initStorage:Fo,_support:oo(),iterate:Qo,getItem:zo,setItem:ss,removeItem:rs,clear:Ts,length:ys,key:us,keys:Cs,dropInstance:ns};function _a(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ao(no,ho){var po=no.name+"/";return no.storeName!==ho.storeName&&(po+=no.storeName+"/"),po}function fo(){var no="_localforage_support_test";try{return localStorage.setItem(no,!0),localStorage.removeItem(no),!1}catch{return!0}}function Xn(){return!fo()||localStorage.length>0}function uo(no){var ho=this,po={};if(no)for(var To in no)po[To]=no[To];return po.keyPrefix=ao(no,ho._defaultConfig),Xn()?(ho._dbInfo=po,po.serializer=jo,dn.resolve()):dn.reject()}function Bo(no){var ho=this,po=ho.ready().then(function(){for(var To=ho._dbInfo.keyPrefix,ko=localStorage.length-1;ko>=0;ko--){var Io=localStorage.key(ko);Io.indexOf(To)===0&&localStorage.removeItem(Io)}});return pn(po,no),po}function Mo(no,ho){var po=this;no=_n(no);var To=po.ready().then(function(){var ko=po._dbInfo,Io=localStorage.getItem(ko.keyPrefix+no);return Io&&(Io=ko.serializer.deserialize(Io)),Io});return pn(To,ho),To}function Do(no,ho){var po=this,To=po.ready().then(function(){for(var ko=po._dbInfo,Io=ko.keyPrefix,Uo=Io.length,yo=localStorage.length,Wo=1,Yo=0;Yo<yo;Yo++){var Ko=localStorage.key(Yo);if(Ko.indexOf(Io)===0){var os=localStorage.getItem(Ko);if(os&&(os=ko.serializer.deserialize(os)),os=no(os,Ko.substring(Uo),Wo++),os!==void 0)return os}}});return pn(To,ho),To}function Xo(no,ho){var po=this,To=po.ready().then(function(){var ko=po._dbInfo,Io;try{Io=localStorage.key(no)}catch{Io=null}return Io&&(Io=Io.substring(ko.keyPrefix.length)),Io});return pn(To,ho),To}function es(no){var ho=this,po=ho.ready().then(function(){for(var To=ho._dbInfo,ko=localStorage.length,Io=[],Uo=0;Uo<ko;Uo++){var yo=localStorage.key(Uo);yo.indexOf(To.keyPrefix)===0&&Io.push(yo.substring(To.keyPrefix.length))}return Io});return pn(po,no),po}function Jo(no){var ho=this,po=ho.keys().then(function(To){return To.length});return pn(po,no),po}function Rs(no,ho){var po=this;no=_n(no);var To=po.ready().then(function(){var ko=po._dbInfo;localStorage.removeItem(ko.keyPrefix+no)});return pn(To,ho),To}function hs(no,ho,po){var To=this;no=_n(no);var ko=To.ready().then(function(){ho===void 0&&(ho=null);var Io=ho;return new dn(function(Uo,yo){var Wo=To._dbInfo;Wo.serializer.serialize(ho,function(Yo,Ko){if(Ko)yo(Ko);else try{localStorage.setItem(Wo.keyPrefix+no,Yo),Uo(Io)}catch(os){(os.name==="QuotaExceededError"||os.name==="NS_ERROR_DOM_QUOTA_REACHED")&&yo(os),yo(os)}})})});return pn(ko,po),ko}function bs(no,ho){if(ho=Dn.apply(this,arguments),no=typeof no!="function"&&no||{},!no.name){var po=this.config();no.name=no.name||po.name,no.storeName=no.storeName||po.storeName}var To=this,ko;return no.name?ko=new dn(function(Io){no.storeName?Io(ao(no,To._defaultConfig)):Io(no.name+"/")}).then(function(Io){for(var Uo=localStorage.length-1;Uo>=0;Uo--){var yo=localStorage.key(Uo);yo.indexOf(Io)===0&&localStorage.removeItem(yo)}}):ko=dn.reject("Invalid arguments"),pn(ko,ho),ko}var As={_driver:"localStorageWrapper",_initStorage:uo,_support:_a(),iterate:Do,getItem:Mo,setItem:hs,removeItem:Rs,clear:Bo,length:Jo,key:Xo,keys:es,dropInstance:bs},ks=function(no,ho){return no===ho||typeof no=="number"&&typeof ho=="number"&&isNaN(no)&&isNaN(ho)},Ms=function(no,ho){for(var po=no.length,To=0;To<po;){if(ks(no[To],ho))return!0;To++}return!1},Es=Array.isArray||function(no){return Object.prototype.toString.call(no)==="[object Array]"},ws={},xs={},fs={INDEXEDDB:ro,WEBSQL:Os,LOCALSTORAGE:As},gs=[fs.INDEXEDDB._driver,fs.WEBSQL._driver,fs.LOCALSTORAGE._driver],cs=["dropInstance"],ds=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(cs),ps={description:"",driver:gs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ls(no,ho){no[ho]=function(){var po=arguments;return no.ready().then(function(){return no[ho].apply(no,po)})}}function qo(){for(var no=1;no<arguments.length;no++){var ho=arguments[no];if(ho)for(var po in ho)ho.hasOwnProperty(po)&&(Es(ho[po])?arguments[0][po]=ho[po].slice():arguments[0][po]=ho[po])}return arguments[0]}var Vo=function(){function no(ho){Xt(this,no);for(var po in fs)if(fs.hasOwnProperty(po)){var To=fs[po],ko=To._driver;this[po]=ko,ws[ko]||this.defineDriver(To)}this._defaultConfig=qo({},ps),this._config=qo({},this._defaultConfig,ho),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return no.prototype.config=function(ho){if((typeof ho>"u"?"undefined":Ut(ho))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var po in ho){if(po==="storeName"&&(ho[po]=ho[po].replace(/\W/g,"_")),po==="version"&&typeof ho[po]!="number")return new Error("Database version must be a number.");this._config[po]=ho[po]}return"driver"in ho&&ho.driver?this.setDriver(this._config.driver):!0}else return typeof ho=="string"?this._config[ho]:this._config},no.prototype.defineDriver=function(ho,po,To){var ko=new dn(function(Io,Uo){try{var yo=ho._driver,Wo=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!ho._driver){Uo(Wo);return}for(var Yo=ds.concat("_initStorage"),Ko=0,os=Yo.length;Ko<os;Ko++){var ms=Yo[Ko],_s=!Ms(cs,ms);if((_s||ho[ms])&&typeof ho[ms]!="function"){Uo(Wo);return}}var Is=function(){for(var $s=function(qs){return function(){var Us=new Error("Method "+qs+" is not implemented by the current driver"),Ls=dn.reject(Us);return pn(Ls,arguments[arguments.length-1]),Ls}},Ds=0,Ns=cs.length;Ds<Ns;Ds++){var Ps=cs[Ds];ho[Ps]||(ho[Ps]=$s(Ps))}};Is();var Bs=function($s){ws[yo]&&console.info("Redefining LocalForage driver: "+yo),ws[yo]=ho,xs[yo]=$s,Io()};"_support"in ho?ho._support&&typeof ho._support=="function"?ho._support().then(Bs,Uo):Bs(!!ho._support):Bs(!0)}catch($s){Uo($s)}});return En(ko,po,To),ko},no.prototype.driver=function(){return this._driver||null},no.prototype.getDriver=function(ho,po,To){var ko=ws[ho]?dn.resolve(ws[ho]):dn.reject(new Error("Driver not found."));return En(ko,po,To),ko},no.prototype.getSerializer=function(ho){var po=dn.resolve(jo);return En(po,ho),po},no.prototype.ready=function(ho){var po=this,To=po._driverSet.then(function(){return po._ready===null&&(po._ready=po._initDriver()),po._ready});return En(To,ho,ho),To},no.prototype.setDriver=function(ho,po,To){var ko=this;Es(ho)||(ho=[ho]);var Io=this._getSupportedDrivers(ho);function Uo(){ko._config.driver=ko.driver()}function yo(Ko){return ko._extend(Ko),Uo(),ko._ready=ko._initStorage(ko._config),ko._ready}function Wo(Ko){return function(){var os=0;function ms(){for(;os<Ko.length;){var _s=Ko[os];return os++,ko._dbInfo=null,ko._ready=null,ko.getDriver(_s).then(yo).catch(ms)}Uo();var Is=new Error("No available storage method found.");return ko._driverSet=dn.reject(Is),ko._driverSet}return ms()}}var Yo=this._driverSet!==null?this._driverSet.catch(function(){return dn.resolve()}):dn.resolve();return this._driverSet=Yo.then(function(){var Ko=Io[0];return ko._dbInfo=null,ko._ready=null,ko.getDriver(Ko).then(function(os){ko._driver=os._driver,Uo(),ko._wrapLibraryMethodsWithReady(),ko._initDriver=Wo(Io)})}).catch(function(){Uo();var Ko=new Error("No available storage method found.");return ko._driverSet=dn.reject(Ko),ko._driverSet}),En(this._driverSet,po,To),this._driverSet},no.prototype.supports=function(ho){return!!xs[ho]},no.prototype._extend=function(ho){qo(this,ho)},no.prototype._getSupportedDrivers=function(ho){for(var po=[],To=0,ko=ho.length;To<ko;To++){var Io=ho[To];this.supports(Io)&&po.push(Io)}return po},no.prototype._wrapLibraryMethodsWithReady=function(){for(var ho=0,po=ds.length;ho<po;ho++)ls(this,ds[ho])},no.prototype.createInstance=function(ho){return new no(ho)},no}(),ts=new Vo;Ot.exports=ts},{3:3}]},{},[4])(4)})}),er2=Je2((_e,d)=>{(function(Mt,Ot){typeof _e=="object"&&typeof d<"u"?Ot(_e):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],Ot):Ot(Mt.LocalforageDriverMemory={})})(typeof self<"u"?self:_e,function(Mt){var Ot="localforage-driver-memory";function Ft(Rn){var yn=typeof Symbol=="function"&&Rn[Symbol.iterator],kn=0;return yn?yn.call(Rn):{next:function(){return Rn&&kn>=Rn.length&&(Rn=void 0),{value:Rn&&Rn[kn++],done:!Rn}}}}function Ut(Rn,yn){Rn=Rn||[],yn=yn||{};try{return new Blob(Rn,yn)}catch(zn){if(zn.name!=="TypeError")throw zn;for(var kn=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Fn=new kn,Cn=0;Cn<Rn.length;Cn+=1)Fn.append(Rn[Cn]);return Fn.getBlob(yn.type)}}var Xt=/^~~local_forage_type~([^~]+)~/,jr=9,hn=jr+4,Vr=Object.prototype.toString;function fn(Rn){var yn=Rn.length*.75,kn=Rn.length;Rn[Rn.length-1]==="="&&(yn--,Rn[Rn.length-2]==="="&&yn--);for(var Fn=new ArrayBuffer(yn),Cn=new Uint8Array(Fn),zn=0,$a=0;zn<kn;zn+=4){var co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Rn[zn]),io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Rn[zn+1]),ga="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Rn[zn+2]),na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Rn[zn+3]);Cn[$a++]=co<<2|io>>4,Cn[$a++]=(io&15)<<4|ga>>2,Cn[$a++]=(ga&3)<<6|na&63}return Fn}function dn(Rn){for(var yn=new Uint8Array(Rn),kn="",Fn=0;Fn<yn.length;Fn+=3)kn+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[yn[Fn]>>2],kn+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(yn[Fn]&3)<<4|yn[Fn+1]>>4],kn+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(yn[Fn+1]&15)<<2|yn[Fn+2]>>6],kn+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[yn[Fn+2]&63];return yn.length%3===2?kn=kn.substring(0,kn.length-1)+"=":yn.length%3===1&&(kn=kn.substring(0,kn.length-2)+"=="),kn}function pn(Rn,yn){var kn="";if(Rn&&(kn=Vr.call(Rn)),Rn&&(kn==="[object ArrayBuffer]"||Rn.buffer&&Vr.call(Rn.buffer)==="[object ArrayBuffer]")){var Fn=void 0,Cn="__lfsc__:";Rn instanceof ArrayBuffer?(Fn=Rn,Cn+="arbf"):(Fn=Rn.buffer,kn==="[object Int8Array]"?Cn+="si08":kn==="[object Uint8Array]"?Cn+="ui08":kn==="[object Uint8ClampedArray]"?Cn+="uic8":kn==="[object Int16Array]"?Cn+="si16":kn==="[object Uint16Array]"?Cn+="ur16":kn==="[object Int32Array]"?Cn+="si32":kn==="[object Uint32Array]"?Cn+="ui32":kn==="[object Float32Array]"?Cn+="fl32":kn==="[object Float64Array]"?Cn+="fl64":yn(new Error("Failed to get type for BinaryArray"))),yn(Cn+dn(Fn))}else if(kn==="[object Blob]"){var zn=new FileReader;zn.onload=function(){var $a="~~local_forage_type~"+Rn.type+"~"+dn(this.result);yn("__lfsc__:blob"+$a)},zn.readAsArrayBuffer(Rn)}else try{yn(JSON.stringify(Rn))}catch($a){console.error("Couldn't convert value into a JSON string: ",Rn),yn(null,$a)}}function En(Rn){if(Rn.substring(0,jr)!=="__lfsc__:")return JSON.parse(Rn);var yn=Rn.substring(hn),kn=Rn.substring(jr,hn),Fn;if(kn==="blob"&&Xt.test(yn)){var Cn=yn.match(Xt);Fn=Cn[1],yn=yn.substring(Cn[0].length)}var zn=fn(yn);switch(kn){case"arbf":return zn;case"blob":return Ut([zn],{type:Fn});case"si08":return new Int8Array(zn);case"ui08":return new Uint8Array(zn);case"uic8":return new Uint8ClampedArray(zn);case"si16":return new Int16Array(zn);case"ur16":return new Uint16Array(zn);case"si32":return new Int32Array(zn);case"ui32":return new Uint32Array(zn);case"fl32":return new Float32Array(zn);case"fl64":return new Float64Array(zn);default:throw new Error("Unkown type: "+kn)}}function _n(Rn){var yn,kn;if(Rn===null||typeof Rn!="object"||"isActiveClone"in Rn)return Rn;var Fn=Rn instanceof Date?new Date(Rn):Rn.constructor();try{for(var Cn=Ft(Object.keys(Rn)),zn=Cn.next();!zn.done;zn=Cn.next()){var $a=zn.value;Object.prototype.hasOwnProperty.call(Rn,$a)&&(Rn.isActiveClone=null,Fn[$a]=_n(Rn[$a]),delete Rn.isActiveClone)}}catch(co){yn={error:co}}finally{try{zn&&!zn.done&&(kn=Cn.return)&&kn.call(Cn)}finally{if(yn)throw yn.error}}return Fn}function Dn(Rn,yn){return(Rn.name||yn.name)+"/"+(Rn.storeName||yn.storeName)+"/"}function Vn(Rn,yn){yn&&Rn.then(function(kn){yn(null,kn)},function(kn){yn(kn)})}function Pn(){for(var Rn=[],yn=0;yn<arguments.length;yn++)Rn[yn]=arguments[yn];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}function qn(Rn,yn){var kn=this;if(yn=Pn.apply(this,arguments),Rn=typeof Rn!="function"&&Rn||{},!Rn.name){var Fn=this.config();Rn.name=Rn.name||Fn.name,Rn.storeName=Rn.storeName||Fn.storeName}var Cn;return Rn.name?Cn=new Promise(function(zn){Rn.storeName?zn(Dn(Rn,kn._defaultConfig)):zn(Rn.name+"/")}):Cn=Promise.reject("Invalid arguments"),{promise:Cn,callback:yn}}function jn(Rn){return typeof Rn!="string"&&(console.warn(Rn+" used as a key, but it is not a string."),Rn=String(Rn)),Rn}var Hn={bufferToString:dn,deserialize:En,serialize:pn,stringToBuffer:fn},Jn={},Gn=function(){function Rn(yn){this.kp=yn,this.data={}}return Rn.resolve=function(yn){return Jn[yn]||(Jn[yn]=new Rn(yn)),Jn[yn]},Rn.prototype.clear=function(){this.data={}},Rn.prototype.drop=function(){this.clear(),delete Jn[this.kp]},Rn.prototype.get=function(yn){return this.data[yn]},Rn.prototype.key=function(yn){return this.keys()[yn]},Rn.prototype.keys=function(){return Object.keys(this.data)},Rn.prototype.rm=function(yn){delete this.data[yn]},Rn.prototype.set=function(yn,kn){this.data[yn]=kn},Rn}();function ba(Rn){var yn=Rn?_n(Rn):{},kn=Dn(yn,this._defaultConfig),Fn=Gn.resolve(kn);return this._dbInfo=yn,this._dbInfo.serializer=Hn,this._dbInfo.keyPrefix=kn,this._dbInfo.mStore=Fn,Promise.resolve()}function eo(Rn){var yn=this,kn=this.ready().then(function(){yn._dbInfo.mStore.clear()});return Vn(kn,Rn),kn}function xa(Rn,yn){var kn=qn.apply(this,arguments),Fn=kn.promise,Cn=kn.callback,zn=Fn.then(function($a){Gn.resolve($a).drop()});return Vn(zn,Cn),Fn}function Yn(Rn,yn){var kn=this;Rn=jn(Rn);var Fn=this.ready().then(function(){var Cn=kn._dbInfo.mStore.get(Rn);return Cn==null?null:kn._dbInfo.serializer.deserialize(Cn)});return Vn(Fn,yn),Fn}function Un(Rn,yn){var kn=this,Fn=this.ready().then(function(){for(var Cn=kn._dbInfo.mStore,zn=Cn.keys(),$a=0;$a<zn.length;$a++){var co=Cn.get(zn[$a]);if(co&&(co=kn._dbInfo.serializer.deserialize(co)),co=Rn(co,zn[$a],$a+1),co!==void 0)return co}});return Vn(Fn,yn),Fn}function Mn(Rn,yn){var kn=this,Fn=this.ready().then(function(){var Cn;try{Cn=kn._dbInfo.mStore.key(Rn),Cn===void 0&&(Cn=null)}catch{Cn=null}return Cn});return Vn(Fn,yn),Fn}function mn(Rn){var yn=this,kn=this.ready().then(function(){return yn._dbInfo.mStore.keys()});return Vn(kn,Rn),kn}function Xr(Rn){var yn=this.keys().then(function(kn){return kn.length});return Vn(yn,Rn),yn}function gn(Rn,yn){var kn=this;Rn=jn(Rn);var Fn=this.ready().then(function(){kn._dbInfo.mStore.rm(Rn)});return Vn(Fn,yn),Fn}function On(Rn,yn,kn){var Fn=this;Rn=jn(Rn);var Cn=this.ready().then(function(){yn===void 0&&(yn=null);var zn=yn;return new Promise(function($a,co){Fn._dbInfo.serializer.serialize(yn,function(io,ga){if(ga)co(ga);else try{Fn._dbInfo.mStore.set(Rn,io),$a(zn)}catch(na){co(na)}})})});return Vn(Cn,kn),Cn}var Ln=!0;Mt._support=Ln,Mt._driver=Ot,Mt._initStorage=ba,Mt.clear=eo,Mt.dropInstance=xa,Mt.getItem=Yn,Mt.iterate=Un,Mt.key=Mn,Mt.keys=mn,Mt.length=Xr,Mt.removeItem=gn,Mt.setItem=On,Object.defineProperty(Mt,"__esModule",{value:!0})})}),pe2=$e2(qe2()),Te2=$e2(er2()),at2={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",opacity:"0",zIndex:"-1"},ye2=class extends je{constructor(){super(...arguments);Oo(this,"activeElement",null);Oo(this,"iframe");Oo(this,"relayerSrc",Je(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href)}init(){this.test="hello",this.iframe=new Promise(d=>{let Mt=()=>{if(st2(encodeURIComponent(this.parameters)))Bn().log();else{let Ot=document.createElement("iframe");Ot.classList.add("magic-iframe"),Ot.dataset.magicIframeLabel=Je(this.endpoint).host,Ot.title="Secure Modal",Ot.src=this.relayerSrc,Ot.allow="clipboard-read; clipboard-write",ft2(Ot),document.body.appendChild(Ot),d(Ot)}};["loaded","interactive","complete"].includes(document.readyState)?Mt():window.addEventListener("load",Mt,!1)}),this.iframe.then(d=>{d instanceof HTMLIFrameElement&&d.addEventListener("load",async()=>{this.heartbeatDebounce()})}),window.addEventListener("message",d=>{if(d.origin===this.endpoint&&d.data.msgType&&(d.data.msgType.includes(E.MAGIC_PONG)&&(this.lastPongTime=Date.now()),d.data&&this.messageHandlers.size)){d.data.response=d.data.response??{},this.stopHeartBeat();for(let Mt of this.messageHandlers.values())Mt(d)}}),window.addEventListener("beforeunload",()=>{this.stopHeartBeat()})}async showOverlay(){let d=await this.iframe;d.style.display="block",d.style.zIndex="2147483647",d.style.opacity="1",this.activeElement=document.activeElement,d.focus()}async hideOverlay(){var Mt;let d=await this.iframe;d.style.display="none",d.style.zIndex="-1",d.style.opacity="0",(Mt=this.activeElement)!=null&&Mt.focus&&this.activeElement.focus(),this.activeElement=null}async _post(d){let Mt=await this.iframe;if(Mt&&Mt.contentWindow)Mt.contentWindow.postMessage(d,this.endpoint);else throw pt()}async checkRelayerExistsInDOM(){let d=await this.iframe;return!d||!d.contentWindow?!1:!![].slice.call(document.querySelectorAll(".magic-iframe")).find(Mt=>Mt.src.includes(encodeURIComponent(this.parameters)))}async reloadRelayer(){let d=await this.iframe;if(this.stopHeartBeat(),!d){this.init(),console.warn("Magic SDK: Modal lost, re-initiating");return}if(!d.contentWindow){document.body.appendChild(d),console.warn("Magic SDK: Modal did not append in the iframe, re-initiating");return}d&&(d.src=this.relayerSrc)}},wt2=Hr(Ke,{platform:"web",sdkName:"magic-sdk",version:"29.4.2",defaultEndpoint:"https://auth.magic.link/",ViewController:ye2,configureStorage:async()=>{let _e=pe2.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return await _e.defineDriver(Te2),await _e.setDriver([pe2.default.INDEXEDDB,pe2.default.LOCALSTORAGE,Te2._driver]),_e}})}}),es_exports2={};__export(es_exports2,{AlgorandExtension:()=>r9});var r9,init_es5=__esm({"../../node_modules/.pnpm/@magic-ext+algorand@24.4.2/node_modules/@magic-ext/algorand/dist/es/index.mjs"(){init_es3(),r9=class extends He.Internal{constructor(d){super();Oo(this,"name","algod");Oo(this,"config",{});this.algorandConfig=d,this.config={rpcUrl:d.rpcUrl,chainType:"ALGOD"}}async signTransaction(d){return this.request(this.utils.createJsonRpcRequestPayload("algod_signTransaction",d))}async signBid(d){return this.request(this.utils.createJsonRpcRequestPayload("algod_signBid",d))}async getWallet(){return this.request(this.utils.createJsonRpcRequestPayload("algod_getWallet",[]))}async signGroupTransaction(d){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransaction",d))}async signGroupTransactionV2(d){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransactionV2",d))}}}}),Vs,Logger=(Vs=class{constructor(){Oo(this,"level");Oo(this,"isClient");this.level=2,this.isClient=typeof window<"u"}static getInstance(){return Vs.instance||(Vs.instance=new Vs),Vs.instance}static setLevel(d){Vs.getInstance().level=d}log(d,Mt,Ot,...Ft){if(d>=this.level&&this.isClient){const Ut=Mt?`[${Mt}] ${Ot}`:Ot;switch(d){case 0:case 1:console.info(Ut,...Ft);break;case 2:console.warn(Ut,...Ft);break;case 3:console.error(Ut,...Ft);break}}}createScopedLogger(d){return{debug:(Mt,...Ot)=>this.log(0,d,Mt,...Ot),info:(Mt,...Ot)=>this.log(1,d,Mt,...Ot),warn:(Mt,...Ot)=>this.log(2,d,Mt,...Ot),error:(Mt,...Ot)=>this.log(3,d,Mt,...Ot)}}debug(d,...Mt){this.log(0,void 0,d,...Mt)}info(d,...Mt){this.log(1,void 0,d,...Mt)}warn(d,...Mt){this.log(2,void 0,d,...Mt)}error(d,...Mt){this.log(3,void 0,d,...Mt)}setIsClient(d){this.isClient=d}},Oo(Vs,"instance",null),Vs),logger=Logger.getInstance(),DEFAULT_NETWORK_CONFIG={mainnet:{algod:{token:"",baseServer:"https://mainnet-api.4160.nodely.dev",headers:{}},isTestnet:!1,genesisHash:"wGHE2Pwdvd7S12BL5FaOP20EGYesN73ktiC1qzkkit8=",genesisId:"mainnet-v1.0",caipChainId:"algorand:wGHE2Pwdvd7S12BL5FaOP20EGYesN73k"},testnet:{algod:{token:"",baseServer:"https://testnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=",genesisId:"testnet-v1.0",caipChainId:"algorand:SGO1GKSzyE7IEPItTxCByw9x8FmnrCDe"},betanet:{algod:{token:"",baseServer:"https://betanet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"mFgazF-2uRS1tMiL9dsj01hJGySEmPN2OvOTQHJ6iQg=",genesisId:"betanet-v1.0",caipChainId:"algorand:mFgazF-2uRS1tMiL9dsj01hJGySEmPN2"},fnet:{algod:{token:"",baseServer:"https://fnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSoRrQQKWSVgxk=",genesisId:"fnet-v1",caipChainId:"algorand:kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSo"},localnet:{algod:{token:"a".repeat(64),baseServer:"http://localhost",port:4001,headers:{}},isTestnet:!0}},NetworkConfigBuilder=class{constructor(){Oo(this,"networks");this.networks=new Map(Object.entries(DEFAULT_NETWORK_CONFIG))}mainnet(_e){return this.networks.set("mainnet",{...DEFAULT_NETWORK_CONFIG.mainnet,..._e,genesisHash:DEFAULT_NETWORK_CONFIG.mainnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.mainnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.mainnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.mainnet.algod,..._e.algod||{}}}),this}testnet(_e){return this.networks.set("testnet",{...DEFAULT_NETWORK_CONFIG.testnet,..._e,genesisHash:DEFAULT_NETWORK_CONFIG.testnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.testnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.testnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.testnet.algod,..._e.algod||{}}}),this}betanet(_e){return this.networks.set("betanet",{...DEFAULT_NETWORK_CONFIG.betanet,..._e,genesisHash:DEFAULT_NETWORK_CONFIG.betanet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.betanet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.betanet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.betanet.algod,..._e.algod||{}}}),this}fnet(_e){return this.networks.set("fnet",{...DEFAULT_NETWORK_CONFIG.fnet,..._e,genesisHash:DEFAULT_NETWORK_CONFIG.fnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.fnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.fnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.fnet.algod,..._e.algod||{}}}),this}localnet(_e){return this.networks.set("localnet",{...DEFAULT_NETWORK_CONFIG.localnet,..._e,algod:{...DEFAULT_NETWORK_CONFIG.localnet.algod,..._e.algod||{}}}),this}addNetwork(_e,d){if(DEFAULT_NETWORK_CONFIG[_e])throw new Error(`Cannot add network with reserved id "${_e}". Use the ${_e}() method instead.`);return this.networks.set(_e,d),this}build(){return Object.fromEntries(this.networks)}},createNetworkConfig=()=>new NetworkConfigBuilder().build();function isValidToken(_e){return typeof _e=="string"?!0:typeof _e!="object"||_e===null?!1:"X-Algo-API-Token"in _e&&typeof _e["X-Algo-API-Token"]=="string"||"get"in _e&&"post"in _e&&"delete"in _e?!0:Object.values(_e).every(d=>typeof d=="string")}function isNetworkConfig(_e){if(typeof _e!="object"||_e===null)return!1;const{algod:d,isTestnet:Mt,genesisHash:Ot,genesisId:Ft,caipChainId:Ut}=_e;return typeof d=="object"&&d!==null&&isValidToken(d.token)&&typeof d.baseServer=="string"&&(Mt===void 0||typeof Mt=="boolean")&&(Ot===void 0||typeof Ot=="string")&&(Ft===void 0||typeof Ft=="string")&&(Ut===void 0||typeof Ut=="string")}var StorageAdapter=class{static getItem(_e){return typeof window>"u"?null:localStorage.getItem(_e)}static setItem(_e,d){typeof window>"u"||localStorage.setItem(_e,d)}static removeItem(_e){typeof window>"u"||localStorage.removeItem(_e)}},WalletId=(_e=>(_e.BIATEC="biatec",_e.DEFLY="defly",_e.DEFLY_WEB="defly-web",_e.CUSTOM="custom",_e.EXODUS="exodus",_e.KIBISIS="kibisis",_e.KMD="kmd",_e.LUTE="lute",_e.MAGIC="magic",_e.MNEMONIC="mnemonic",_e.PERA="pera",_e.WALLETCONNECT="walletconnect",_e.W3_WALLET="w3-wallet",_e))(WalletId||{}),SignTxnsError=class extends Error{constructor(d,Mt,Ot){super(d);Oo(this,"code");Oo(this,"data");this.name="SignTxnsError",this.code=Mt,this.data=Ot}},SignDataError=class extends Error{constructor(d,Mt,Ot){super(d);Oo(this,"code");Oo(this,"data");this.name="SignDataError",this.code=Mt,this.data=Ot}},DEFAULT_STATE={wallets:{},activeWallet:null,activeNetwork:"testnet",algodClient:new algosdk.Algodv2("","https://testnet-api.4160.nodely.dev/"),managerStatus:"initializing",networkConfig:DEFAULT_NETWORK_CONFIG,customNetworkConfigs:{}},LOCAL_STORAGE_KEY="@txnlab/use-wallet:v4";function addWallet(_e,{walletId:d,wallet:Mt}){_e.setState(Ot=>{const Ft={...Ot.wallets,[d]:{accounts:Mt.accounts.map(Ut=>({...Ut})),activeAccount:Mt.activeAccount?{...Mt.activeAccount}:null}};return{...Ot,wallets:Ft,activeWallet:d}})}function removeWallet(_e,{walletId:d}){_e.setState(Mt=>{const Ot={...Mt.wallets};return delete Ot[d],{...Mt,wallets:Ot,activeWallet:Mt.activeWallet===d?null:Mt.activeWallet}})}function setActiveWallet(_e,{walletId:d}){_e.setState(Mt=>({...Mt,activeWallet:d}))}function setActiveAccount(_e,{walletId:d,address:Mt}){_e.setState(Ot=>{const Ft=Ot.wallets[d];if(!Ft)return logger.warn(`Wallet with id "${d}" not found`),Ot;const Ut=Ft.accounts.find(hn=>hn.address===Mt);if(!Ut)return logger.warn(`Account with address ${Mt} not found in wallet "${d}"`),Ot;const Xt={...Ft,accounts:Ft.accounts.map(hn=>({...hn})),activeAccount:{...Ut}},jr={...Ot.wallets,[d]:Xt};return{...Ot,wallets:jr}})}function setAccounts(_e,{walletId:d,accounts:Mt}){_e.setState(Ot=>{const Ft=Ot.wallets[d];if(!Ft)return logger.warn(`Wallet with id "${d}" not found`),Ot;const Ut=Mt.map(fn=>({...fn})),jr=Ut.some(fn=>{var dn;return fn.address===((dn=Ft.activeAccount)==null?void 0:dn.address)})?{...Ft.activeAccount}:Ut[0]||null,hn={...Ft,accounts:Ut,activeAccount:jr},Vr={...Ot.wallets,[d]:hn};return{...Ot,wallets:Vr}})}function setActiveNetwork(_e,{networkId:d,algodClient:Mt}){_e.setState(Ot=>({...Ot,activeNetwork:d,algodClient:Mt}))}function isValidPersistedState(_e){return typeof _e=="object"&&_e!==null&&"wallets"in _e&&"activeWallet"in _e&&"activeNetwork"in _e&&(!("customNetworkConfigs"in _e)||typeof _e.customNetworkConfigs=="object"&&_e.customNetworkConfigs!==null)}var Ks,BaseWallet=(Ks=class{constructor({id:_e,metadata:d,store:Mt,subscribe:Ot,getAlgodClient:Ft}){Oo(this,"id");Oo(this,"metadata");Oo(this,"store");Oo(this,"getAlgodClient");Oo(this,"subscribe");Oo(this,"logger");Oo(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`),setActiveWallet(this.store,{walletId:this.id})});Oo(this,"setActiveAccount",_e=>{this.logger.info(`Set active account: ${_e}`),setActiveAccount(this.store,{walletId:this.id,address:_e})});Oo(this,"transactionSigner",async(_e,d)=>(await this.signTransactions(_e,d)).reduce((Ft,Ut)=>(Ut!==null&&Ft.push(Ut),Ft),[]));Oo(this,"canSignData",!1);Oo(this,"signData",async(_e,d)=>{throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData")});Oo(this,"onDisconnect",()=>{this.logger.debug("Removing wallet from store..."),removeWallet(this.store,{walletId:this.id})});Oo(this,"manageWalletConnectSession",(_e,d)=>{const Mt=d||this.id;if(_e==="backup"){const Ot=StorageAdapter.getItem("walletconnect");Ot&&(StorageAdapter.setItem(`walletconnect-${Mt}`,Ot),StorageAdapter.removeItem("walletconnect"),this.logger.debug(`Backed up WalletConnect session for ${Mt}`))}else if(_e==="restore"){const Ot=StorageAdapter.getItem(`walletconnect-${Mt}`);Ot&&(StorageAdapter.setItem("walletconnect",Ot),StorageAdapter.removeItem(`walletconnect-${Mt}`),this.logger.debug(`Restored WalletConnect session for ${Mt}`))}});this.id=_e,this.store=Mt,this.subscribe=Ot,this.getAlgodClient=Ft;const Ut=this.constructor;this.metadata={...Ut.defaultMetadata,...d},this.logger=logger.createScopedLogger(`Wallet:${this.id.toUpperCase()}`)}get name(){return this.id.toUpperCase()}get accounts(){const d=this.store.state.wallets[this.id];return d?d.accounts:[]}get addresses(){return this.accounts.map(_e=>_e.address)}get activeAccount(){const d=this.store.state.wallets[this.id];return d?d.activeAccount:null}get activeAddress(){var _e;return((_e=this.activeAccount)==null?void 0:_e.address)??null}get activeNetwork(){return this.store.state.activeNetwork}get isConnected(){const d=this.store.state.wallets[this.id];return d?d.accounts.length>0:!1}get isActive(){return this.store.state.activeWallet===this.id}get activeNetworkConfig(){const{networkConfig:_e,activeNetwork:d}=this.store.state;return _e[d]}},Oo(Ks,"defaultMetadata",{name:"Base Wallet",icon:""}),Ks),SessionError=class extends Error{constructor(_e){super(_e),this.name="SessionError"}},ICON=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect width="480" height="480" fill="#FFFFFF" />
  <path fill="#3396FF" d="M126.6,168c62.6-61.3,164.2-61.3,226.8,0l7.5,7.4c3.1,3.1,3.1,8,0,11.1l-25.8,25.2c-1.6,1.5-4.1,1.5-5.7,0l-10.4-10.2c-43.7-42.8-114.5-42.8-158.2,0l-11.1,10.9c-1.6,1.5-4.1,1.5-5.7,0l-25.8-25.2c-3.1-3.1-3.1-8,0-11.1L126.6,168zM406.7,220.2l22.9,22.5c3.1,3.1,3.1,8,0,11.1L326.2,355.1c-3.1,3.1-8.2,3.1-11.3,0l-73.4-71.9c-0.8-0.8-2.1-0.8-2.8,0l-73.4,71.9c-3.1,3.1-8.2,3.1-11.3,0L50.3,253.8c-3.1-3.1-3.1-8,0-11.1l22.9-22.5c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0 l73.4-71.9c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0l73.4-71.9C398.5,217.1,403.6,217.1,406.7,220.2L406.7,220.2z" />
</svg>
`)}`,Js,WalletConnect=(Js=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut,metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"modal",null);Oo(this,"modalOptions");Oo(this,"session",null);Oo(this,"store");Oo(this,"connect",async()=>{var d;this.logger.info("Connecting...");try{const Mt=this.client||await this.initializeClient(),Ot=this.modal||await this.initializeModal(),Ft={algorand:{chains:[this.activeChainId],methods:["algo_signTxn"],events:[]}},{uri:Ut,approval:Xt}=await Mt.connect({requiredNamespaces:Ft});if(!Ut)throw this.logger.error("No URI found"),new Error("No URI found");await Ot.openModal({uri:Ut});const jr=await Xt(),hn=this.onSessionConnected(jr);return this.logger.info("Connected successfully"),hn}catch(Mt){throw this.logger.error("Error connecting:",Mt.message),Mt}finally{(d=this.modal)==null||d.closeModal()}});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting...");try{this.onDisconnect(),this.client&&this.session&&await this.client.disconnect({topic:this.session.topic,reason:{message:"User disconnected.",code:6e3}}),this.logger.info("Disconnected")}catch(d){throw this.logger.error("Error disconnecting:",d.message),d}});Oo(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const Ot=this.client||await this.initializeClient();if(Ot.session.length){const Ft=Ot.session.keys.length-1,Ut=Ot.session.get(Ot.session.keys[Ft]);this.onSessionConnected(Ut)}this.logger.info("Session resumed successfully")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{if(!this.session)throw this.logger.error("No session found!"),new SessionError("No session found!");this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const Vr=flattenTxnGroup(d);Ot=this.processTxns(Vr,Mt)}else{const Vr=flattenTxnGroup(d);Ot=this.processEncodedTxns(Vr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Ot]);const Ut=formatJsonRpcRequest("algo_signTxn",[Ot]),Xt=await Ft.request({chainId:this.activeChainId,topic:this.session.topic,request:Ut});this.logger.debug("Received signed transactions from wallet",Xt);const jr=Xt.reduce((Vr,fn)=>{if(fn){let dn;typeof fn=="string"?dn=base64ToByteArray(fn):fn instanceof Uint8Array?dn=fn:Array.isArray(fn)?dn=new Uint8Array(fn):(this.logger.warn("Unexpected type in signTxnsResult",fn),dn=new Uint8Array),Vr.push(dn)}return Vr},[]),hn=Ot.reduce((Vr,fn)=>{if(fn.signers&&fn.signers.length==0)Vr.push(null);else{const dn=jr.shift();dn&&Vr.push(dn)}return Vr},[]);return this.logger.debug("Transactions signed successfully",hn),hn}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});if(!(Ut!=null&&Ut.projectId))throw this.logger.error("Missing required option: projectId"),new Error("Missing required option: projectId");const{projectId:jr,relayUrl:hn="wss://relay.walletconnect.com",metadata:Vr,...fn}=Ut,dn={...this.getWindowMetadata(),...Vr};this.options={projectId:jr,relayUrl:hn,metadata:dn},this.modalOptions=fn,this.store=Mt}getWindowMetadata(){let d,Mt;const Ot={name:"",description:"",url:"",icons:[]};function Ft(Pn){let qn;return typeof window<"u"&&typeof window[Pn]<"u"&&(qn=window[Pn]),qn}function Ut(Pn){const qn=Ft(Pn);if(!qn)throw new Error(`${Pn} is not defined in Window`);return qn}function Xt(){return Ut("document")}function jr(){return Ut("location")}try{d=Xt(),Mt=jr()}catch(Pn){return this.logger.warn("Error getting window metadata:",Pn),Ot}function hn(){const Pn=d.getElementsByTagName("link"),qn=[];for(let jn=0;jn<Pn.length;jn++){const Hn=Pn[jn],Jn=Hn.getAttribute("rel");if(Jn&&Jn.toLowerCase().indexOf("icon")>-1){const Gn=Hn.getAttribute("href");if(Gn)if(Gn.toLowerCase().indexOf("https:")===-1&&Gn.toLowerCase().indexOf("http:")===-1&&Gn.indexOf("//")!==0){let ba=Mt.protocol+"//"+Mt.host;if(Gn.indexOf("/")===0)ba+=Gn;else{const eo=Mt.pathname.split("/");eo.pop();const xa=eo.join("/");ba+=xa+"/"+Gn}qn.push(ba)}else if(Gn.indexOf("//")===0){const ba=Mt.protocol+Gn;qn.push(ba)}else qn.push(Gn)}}return qn}function Vr(...Pn){const qn=d.getElementsByTagName("meta");for(let jn=0;jn<qn.length;jn++){const Hn=qn[jn],Jn=["itemprop","property","name"].map(Gn=>Hn.getAttribute(Gn)).filter(Gn=>Gn?Pn.includes(Gn):!1);if(Jn.length&&Jn){const Gn=Hn.getAttribute("content");if(Gn)return Gn}}return""}function fn(){let Pn=Vr("name","og:site_name","og:title","twitter:title");return Pn||(Pn=d.title),Pn}function dn(){return Vr("description","og:description","twitter:description","keywords")}const pn=fn(),En=dn(),_n=Mt.origin,Dn=hn();return{description:En,url:_n,icons:Dn,name:pn}}async initializeClient(){this.logger.info("Initializing client...");const Mt=await(await __vitePreload(async()=>{const{SignClient:Ot}=await Promise.resolve().then(()=>useWallet$1);return{SignClient:Ot}},void 0)).SignClient.init(this.options);return Mt.on("session_event",Ot=>{this.logger.info("EVENT: session_event",Ot)}),Mt.on("session_update",({topic:Ot,params:Ft})=>{this.logger.info("EVENT: session_update",{topic:Ot,params:Ft});const{namespaces:Ut}=Ft,jr={...Mt.session.get(Ot),namespaces:Ut};this.onSessionConnected(jr)}),Mt.on("session_delete",()=>{this.logger.info("EVENT: session_delete"),this.session=null}),this.client=Mt,this.logger.info("Client initialized"),Mt}async initializeModal(){this.logger.info("Initializing modal...");const d=(await __vitePreload(async()=>{const{WalletConnectModal:Ot}=await Promise.resolve().then(()=>useWallet);return{WalletConnectModal:Ot}},void 0)).WalletConnectModal,Mt=new d({projectId:this.options.projectId,...this.modalOptions});return Mt.subscribeModal(Ot=>this.logger.info(`Modal ${Ot.open?"open":"closed"}`)),this.modal=Mt,this.logger.info("Modal initialized"),Mt}onSessionConnected(d){const Mt=d.namespaces.algorand.accounts;if(!Mt.length)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ft=[...new Set(Mt.map(jr=>jr.split(":").pop()))].map((jr,hn)=>({name:`${this.metadata.name} Account ${hn+1}`,address:jr})),Xt=this.store.state.wallets[this.id];if(Xt)compareAccounts(Ft,Xt.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Xt.accounts,current:Ft}),setAccounts(this.store,{walletId:this.id,accounts:Ft}));else{const jr={accounts:Ft,activeAccount:Ft[0]};addWallet(this.store,{walletId:this.id,wallet:jr}),this.logger.info("Connected",jr)}return this.session=d,Ft}get activeChainId(){const d=this.activeNetworkConfig;return d!=null&&d.caipChainId?d.caipChainId:(this.logger.warn(`No CAIP-2 chain ID found for network: ${this.activeNetwork}`),"")}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}},Oo(Js,"defaultMetadata",{name:"WalletConnect",icon:ICON}),Js),ICON2=`data:image/svg+xml;base64,${btoa(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 180"><path d="M94.27 151.629c-.861-.526-1.51-1.37-1.83-2.386-.197-.62-.18-.627 1.082-.437.705.105 1.6.356 1.988.557.696.36 1.815 1.876 1.815 2.459 0 .486-2.166.348-3.054-.193m23.953-.263c-.788-.419-2.095-2.123-2.108-2.75-.01-.433 2.467-.182 3.403.345.955.536 2.148 1.97 2.148 2.582 0 .503-2.397.38-3.443-.177m-9.024-1.165c-1.567-1.193-2.38-2.74-2.55-4.849-.075-.933-.054-1.697.045-1.697.866 0 2.714 1.67 3.439 3.107.398.789.657 3.888.351 4.195-.07.07-.648-.27-1.285-.756m-8.906-1.354c-.63-.684-1.21-1.648-1.387-2.305-.318-1.18-.136-3.416.278-3.416.555 0 2.108 1.697 2.505 2.737.472 1.237.457 3.905-.023 4.063-.16.053-.777-.433-1.373-1.08m-6.805-1.775c-2.764-.612-5.223-1.425-5.357-1.772-.08-.21.169-1.027.555-1.814s.701-1.469.701-1.515c0-.047-.803.067-1.786.253-.982.185-1.857.256-1.944.157-.088-.1-.365-.715-.618-1.367-.252-.652-.858-1.729-1.345-2.393-1.293-1.76-5.285-5.526-7.272-6.858-3.826-2.564-4.96-3.855-4.667-5.316.08-.402.692-1.574 1.359-2.606 1.65-2.551 2.51-4.472 2.512-5.62.002-.571-.364-1.69-.901-2.758l-.905-1.796.706-.532c1.936-1.46 4.649-4.916 4.205-5.36-.06-.06-.846.72-1.745 1.732-3.553 3.997-7.814 6.463-16.014 9.27-5.324 1.823-5.853 2.06-7.183 3.228-1.555 1.365-1.962 2.502-2.531 7.063-.284 2.275-.706 4.79-.937 5.591-.231.8-.403 2.17-.382 3.043.032 1.346-.157 2.06-1.248 4.698-1.498 3.622-1.068 3.708-4.138-.827l-2.036-3.008.747-.784c.411-.43 1.075-.978 1.475-1.216.955-.568.919-.922-.236-2.331-.53-.647-.917-1.209-.86-1.25s.43-.277.83-.526c1.788-1.12 2.7-4.727 2.987-11.822.214-5.274.595-6.46 2.195-6.83 6.634-1.535 7.58-1.98 8.618-4.066.926-1.858.9-3.701-.121-8.475-.87-4.072-1.047-7.21-.516-9.223.606-2.303 3.759-7.433 5.667-9.221.376-.353.684-.729.684-.835 0-.254-3.325-2.697-4.448-3.268-.482-.245-1.455-.45-2.163-.456-3.892-.03-6.628 1.877-8.722 6.08-.603 1.212-1.582 2.73-2.176 3.374-2.733 2.965-8.602 4.09-12.666 2.43l-.913-.374 1.323-.05c1.422-.054 3.498-.94 3.944-1.683.414-.69.076-.79-1.06-.314-1.443.605-4.075.597-5.039-.015-1.259-.8-2.23-1.81-2.795-2.908l-.535-1.042 1.243 1.095c1.51 1.328 2.691 1.752 4.425 1.585 1.506-.145 2.523-.851 1.65-1.147-3.195-1.08-5.834-3.078-7.07-5.35-.809-1.485-1.513-3.982-1.504-5.334l.006-.936.42.854c.232.47.941 1.333 1.576 1.918l1.155 1.064 2.189-.012 2.188-.011-1.012-.535c-.975-.514-3.353-2.766-3.353-3.175 0-.11.506.079 1.124.418 1.282.703 3.888 1.32 4.21.996.12-.118-.204-.612-.718-1.097-.513-.484-1.17-1.344-1.46-1.911l-.525-1.03 1.174.895c2.02 1.542 3.883 1.506 6.342-.123.69-.457 1.218-.863 1.175-.903s-.989.227-2.103.594c-1.87.618-2.11.64-3.151.305-1.284-.415-2.023-1.273-2.25-2.613l-.158-.926.486.595c1.07 1.31 2.652 1.255 6.363-.224 1.132-.451 2.892-1.036 3.91-1.3 2.732-.706 1.561-.926-2.298-.43-1.778.228-3.27.376-3.318.329-.047-.047.662-.415 1.575-.818 2.002-.883 4.78-1.152 6.858-.663 1.817.427 2.555.81 4.032 2.087 1.151.997 3.654 2.156 4.605 2.133.595-.015-2.96-3.395-4.552-4.328-1.639-.96-4.11-1.542-6.107-1.438-.92.049-1.627.016-1.571-.073.242-.388 3.44-.825 5.203-.71 4.048.265 6.96 2.546 10.902 8.537 2.553 3.883 4.234 5.67 6.137 6.524l1.092.49 2.215-1.027c4.747-2.2 8.797-2.518 16.097-1.26 2.25.387 4.717.704 5.482.704h1.39l.074 3.203.074 3.203.894-1.113c.88-1.096.894-1.152.846-3.516l-.049-2.402-1.61-1.721c-4.14-4.425-4.335-6.536-1.135-12.213 2.744-4.87 2.704-4.41.813-9.32-.883-2.292-1.696-4.167-1.807-4.167-.339 0-.205 4 .196 5.821.716 3.256.435 4.822-1.006 5.603-.371.2-2.144.33-4.904.36-3.6.036-4.348-.022-4.473-.348-.087-.227.102-.582.451-.845.53-.4.563-.53.274-1.09-.18-.35-.692-1.022-1.137-1.493s-.734-.933-.64-1.026c.093-.094 1.072-.036 2.175.128 3.023.45 3.76.398 4.211-.297.4-.615 2.887-9.725 2.704-9.907-.196-.196-1.55 1.62-2.759 3.7-1.782 3.068-3.14 3.895-6.379 3.889-2.485-.005-5.43-1.098-8.658-3.213-1.439-.943-3.02-1.855-3.514-2.027-1.524-.531-3.75-.392-5.163.324l-1.26.638.567-.603c.892-.95 3.048-2.004 4.432-2.167 1.94-.23 3.3.283 5.786 2.18 2.39 1.823 3.163 2.225 4.28 2.225.6 0 .497-.12-.745-.872-.792-.48-2.416-1.598-3.609-2.486-2.658-1.978-4.119-2.58-5.831-2.4l-1.26.132.926-.39c.667-.281 1.609-.36 3.373-.284 1.346.059 2.448.077 2.448.04 0-.278-2.537-1.455-3.71-1.722-.89-.202-1.231-.365-.884-.421.312-.051 1.86.225 3.44.614 2.564.63 3.167.687 5.602.525 5.536-.369 7.032-1.144 9.218-4.774l1.433-2.382-1.224 1.323c-.673.728-1.779 1.928-2.457 2.666-.677.739-1.53 1.417-1.893 1.508l-.662.165.61-.503c.334-.277 1.088-1.491 1.675-2.698 1.772-3.648 3.228-4.779 6.772-5.257 3.522-.476 4.797-.791 5.421-1.342.332-.293.429-.44.215-.329-.213.112-1.94.277-3.836.367-2.955.14-3.666.263-4.97.86-1.632.749-4.092 2.893-4.996 4.356-.764 1.236-.923.905-.224-.465 1.387-2.718 4.685-4.945 8.366-5.651l1.815-.349-1.058-.235c-.582-.13-1.952-.224-3.043-.209l-1.984.027 1.72-.82c1.427-.682 2.04-.822 3.611-.822 1.607 0 1.86-.06 1.679-.4-.539-1.005-1.377-1.452-2.69-1.432-.769.011-1.156-.067-.937-.19.534-.298 2.168-.34 4.169-.104 1.648.194 1.82.159 3.59-.733 1.023-.515 2.472-1.047 3.22-1.183 1.388-.253 3.607-.04 4.472.429.942.51 1.958 1.825 2.095 2.712.116.746 0 1.052-.671 1.777-.752.813-.811 1.018-.811 2.82 0 1.706-.105 2.127-.85 3.424-.467.814-.973 1.476-1.124 1.473s-.797-.242-1.435-.532c-1.277-.579-1.714-.435-1.988.655-.115.46.045.84.605 1.44.42.448 1.621 2.237 2.671 3.975 1.883 3.116 1.905 3.175 1.585 4.146-.258.78-.258 1.56 0 3.73.179 1.51.253 3.031.166 3.38-.128.509.033.795.805 1.432 1.367 1.126 5.02 2.947 5.914 2.947 1.268 0 1.588.247 1.588 1.227 0 1.057-.642 2.742-1.045 2.742-.153 0-.278-.298-.278-.662 0-.558-.123-.661-.793-.661-.436 0-2.162-.467-3.836-1.036l-3.044-1.036v1.788c0 .984-.077 3.057-.172 4.608l-.173 2.82h3.015l-.133.86c-.073.472-.206 2.11-.295 3.637-.373 6.42-.634 7.203-4.207 12.65-4.119 6.278-4.635 7.984-3.493 11.548.37 1.158.647 2.133.613 2.167-.246.246-2.569-1.19-3.783-2.34-2.616-2.473-2.922-3.975-1.146-5.619.954-.882 1.054-1.087.892-1.828-.417-1.91-.553-1.976-1-.482-.232.777-.693 1.849-1.024 2.382-.526.846-.603 1.318-.603 3.705v2.736l3.175 1.022c1.746.562 3.446 1.028 3.777 1.034.583.012.59-.012.194-.776-.224-.434-.479-1.307-.566-1.939-.208-1.523.53-3.065 3.905-8.159 4.537-6.845 5.478-9.25 5.681-14.513.07-1.82.19-3.93.267-4.692.137-1.353.17-1.398 1.379-1.933 2.27-1.004 4.245-3.717 6.253-8.589.526-1.274.459-1.204-1.891 1.985-1.019 1.382-2.13 2.751-2.47 3.042-.604.516-.603.506.048-.397.938-1.299 1.216-2.144 1.685-5.107.663-4.193 1.699-6.255 4.604-9.16 3.639-3.638 9.47-6.348 13.7-6.365.635-.003 1.201-.155 1.322-.356.117-.192 1.105-.92 2.196-1.615 1.092-.696 2.252-1.511 2.579-1.812.327-.3.66-.48.74-.4.081.081-.038.942-.263 1.914s-.41 1.88-.41 2.016c0 .37 1.393.3 1.992-.102.287-.192 1.296-.62 2.241-.953s1.998-.78 2.338-.994c.34-.215.665-.345.722-.288.302.302-1.982 3.526-2.927 4.132l-1.152.74c-.277.179 1.202 3.732 1.975 4.745.674.882.862 1.347.742 1.825-.089.354.045 1.273.296 2.044.645 1.98 2.913 6.751 3.698 7.779.808 1.06.82 1.416.075 2.363-.32.408-.648 1.225-.728 1.816-.118.879-.279 1.12-.89 1.335-1.457.512-2.298-.449-2.94-3.358-.113-.512-.325-.728-.715-.728-.634 0-.619.099.398 2.514.368.873.572 1.685.453 1.804-.12.119-.679.178-1.244.132-1.006-.082-1.03-.108-1.165-1.29-.11-.958-.407-1.515-1.444-2.716-1.28-1.483-1.523-1.617-3.974-2.186-.436-.102-1.235-.406-1.776-.677l-.981-.491-.311 1.124c-.462 1.668-.381 7.592.14 10.35.244 1.29.926 3.552 1.516 5.027 1.864 4.655 1.933 4.98 1.924 9.031-.006 2.853-.112 3.972-.461 4.87-.25.641-.415 1.204-.367 1.252.047.047 2.935.203 6.419.347 4.2.174 6.786.397 7.679.664 1.433.429 2.955 1.341 3.328 1.995.125.219 1.292 3.718 2.594 7.777 2.56 7.978 2.515 7.613 1.142 9.263-.582.7-.623.918-.458 2.455l.18 1.686-1.685 1.59c-2.476 2.335-2.487 2.338-2.833.702l-.825-3.894c-.497-2.344-.503-2.535-.09-2.844.245-.182.75-.332 1.121-.335 1.259-.007 1.444-.36.672-1.277l-.7-.833.461-1.209c.403-1.054.421-1.428.146-2.924-.856-4.647-3.463-7.755-6.516-7.769-1.198-.006-5.626.726-6.143 1.015-.419.235 1.36 2.035 4.026 4.073 1.954 1.494 2.487 2.265 2.708 3.918.115.858-.031 1.278-.963 2.753-1.122 1.776-2.596 4.941-4.015 8.62-.437 1.133-1.048 2.383-1.358 2.777-.546.695-.623.712-2.434.544-1.51-.14-2.034-.085-2.726.287-.933.503-1.032.488-5.234-.754l-1.852-.547 1.058-.93c2.452-2.155 4.96-4.035 5.375-4.028.245.004.743.417 1.107.919.364.5.74.914.835.918.336.014 2.673-2.777 3.423-4.09.928-1.622 1.429-3.721 1.19-4.992-.414-2.208-2.105-3.2-8.836-5.183-4.604-1.356-5.44-1.637-6.837-2.3-.81-.384-.92-.36-3.047.664-2.593 1.248-5.507 2.251-8.665 2.983-3.304.766-9.686.95-12.988.376-3.227-.562-7.639-2.035-9.626-3.214-.856-.508-1.618-.862-1.693-.787-.15.15 1.12 2.079 1.665 2.53.271.226.239.732-.166 2.586-1.245 5.713-2.66 8.612-7.189 14.73-2.852 3.852-3.402 5.685-2.327 7.762.66 1.274 9.278 9.763 11.016 10.85.797.498 1.576 1.26 1.929 1.889.496.883 2.158 5.275 2.158 5.704 0 .2-1.577.111-2.779-.154m46.76-1.68c-2.98-1.107-5.348-3.111-7.054-5.97-1.025-1.72-2.16-4.428-1.946-4.643.229-.229 3.039.644 4.916 1.527 3.417 1.608 6.275 5.198 6.594 8.283.178 1.723.063 1.76-2.51.803m-70.399.107c-2.923-.4-6.887-2.043-7.56-3.132-.23-.371 1.693-1.772 3.683-2.683 4.119-1.887 9.22-1.779 13.075.277 1.637.873 4.347 2.943 4.307 3.29-.014.122-.895.499-1.957.837-4.06 1.29-8.482 1.831-11.548 1.411m51.264-1.55c-1.687-.66-3.315-1.831-4.87-3.503l-1.323-1.421 2.116-.183c3.467-.298 6.424.354 8.757 1.932 1.096.742 2.753 2.456 2.753 2.848 0 .859-5.46 1.099-7.433.326m38.521-1.26c-3.84-.798-6.966-2.331-9.705-4.761-2.156-1.913-3.179-2.512-5.08-2.978-1.478-.362-3.339-1.249-3.339-1.591 0-.318 2.824-.81 5.689-.991 7.046-.446 13.549 2.741 16.133 7.908.513 1.024.932 2.025.932 2.224 0 .277-.479.354-2.05.33-1.128-.016-2.289-.08-2.58-.14m-61.217-2.076c-1.35-.421-2.52-1.449-3.238-2.845l-.51-.992h1.178c1.479 0 2.46.365 3.42 1.273.65.615 1.762 2.392 1.762 2.817 0 .255-1.426.117-2.612-.253m5.45-1.504c-1.583-1.153-2.396-3.509-1.878-5.442.192-.715.563-.742 1.334-.098 1.18.986 1.673 2.177 1.674 4.051 0 .974-.09 1.826-.2 1.895-.112.068-.53-.114-.93-.406m-26.254-1.075a150 150 0 0 0-3.968-1.97l-2.382-1.138 1.21-.001c2.527-.002 4.928 1.203 6.339 3.185.306.43.52.777.473.77-.046-.007-.799-.388-1.672-.845zm-14.354-3.608c-.764-.264-1.631-.699-1.927-.966-.59-.534-1.695-2.22-1.542-2.352.053-.045.573-.192 1.155-.325 1.324-.303 1.45-.925.662-3.265-.306-.908-.503-1.705-.438-1.77.066-.066.637.018 1.27.187.95.253 1.683.849 4.194 3.411 2.483 2.534 3.286 3.19 4.366 3.566.727.253 1.62.587 1.984.742l.662.28-.662.199c-.779.234-6.102.794-7.42.782-.503-.005-1.54-.225-2.304-.489m104.313-.83c-1.528-.484-4.719-2.704-4.75-3.303-.006-.145.88-.42 1.972-.61 2.368-.414 4.676-.11 6.582.864 1.41.721 3.082 2.35 2.83 2.756-.55.891-4.237 1.054-6.634.294m-56.58-.117c-2.06-.734-3.35-2.65-3.345-4.961.006-2.304.15-2.574 1.279-2.397 1.516.239 3.013.83 3.677 1.455l.609.572 1.523-1.507c.838-.829 1.593-1.507 1.679-1.507.085 0 .362.735.614 1.633.94 3.35-.383 5.974-3.431 6.806-1.302.356-1.35.354-2.605-.094m-75.315-.698c-6.533-.942-11.018-2.967-14.552-6.571-1.972-2.01-3.175-3.81-2.8-4.186.109-.109 1.32-.239 2.693-.29 5.235-.192 9.266 1.449 13.22 5.381 2.097 2.085 5.101 5.853 4.838 6.068-.05.041-1.58-.14-3.4-.402m97.327-1.25c4.267-5.096 8.959-7.442 13.334-6.666.982.174 1.84.405 1.906.513.198.32-1.54 2.713-2.834 3.904-2.314 2.13-5.42 3.148-10.492 3.438l-3.055.175zm17.502-.559c0-.646 1.702-5.318 2.447-6.715 1.472-2.762 4.84-5.965 5.538-5.267.161.161.234 1.18.176 2.481-.114 2.603-.705 4.023-2.51 6.03-1.524 1.695-5.651 4.23-5.651 3.471m8.04-1.157c3.728-2.356 7.725-5.133 8.864-6.158 1.353-1.218 1.403-1.24.984-.43-1.093 2.113-4.85 5.104-7.93 6.31-1.734.68-2.798.834-1.919.278m2.457-4.828c-.243-.511-.443-1.383-.443-1.937 0-1.018.973-3.223 1.5-3.399.368-.123 1.146 1.814 1.146 2.853 0 .855-.78 2.6-1.39 3.105-.298.247-.456.127-.813-.622m11.343.373c-1.157-.135-2.15-.292-2.206-.348-.16-.16 1.966-2.017 3.71-3.24 2.387-1.673 4.54-2.317 7.745-2.316 2.182 0 2.874.104 3.949.596l1.303.595-.907.936c-2.935 3.03-7.986 4.433-13.594 3.777m-135.543-5.98c-3.17-5.953-3.802-11.809-1.769-16.407.766-1.73 2.408-4.033 2.878-4.033.185 0 .7.685 1.142 1.522 2.02 3.82 2.643 8.569 1.708 13.03-.515 2.454-2.383 7.938-2.705 7.938-.089 0-.653-.923-1.254-2.05m131.543-.026c-2.11-1.55-3.023-3.093-3.023-5.108 0-1.215.77-3.056 1.587-3.796.494-.447.574-.438 1.965.243 1.713.838 2.676 1.892 3.072 3.363.464 1.725-.257 3.872-1.791 5.328l-.771.733zm-142.341-2.392c-.955-.434-3.028-2.462-3.028-2.963 0-.106.589-.273 1.309-.372 2.032-.28 3.923.381 5.269 1.84.602.654 1.095 1.295 1.095 1.426 0 .289-1.308.57-2.613.562-.527-.003-1.442-.225-2.032-.493m134.927-3.139c1.218-3.954 1.471-13.59.477-18.203a57 57 0 0 0-1.472-5.291c-1.025-3-1.187-3.508-1.031-3.229.06.11.227.199.369.199s.185-.12.095-.265-.099-.265-.019-.265c.285 0 2.284 4.27 2.94 6.28.942 2.884 1.488 6.584 1.481 10.037-.008 4.205-.63 7.156-2.126 10.088-.577 1.13-.974 1.491-.714.65m15.622-.53c.096-.4.694-1.798 1.33-3.108 1.78-3.673 4.396-6.043 7.61-6.899 2.261-.602 2.412-.555 2.244.699-.39 2.903-3.348 6.413-6.971 8.27-.455.233-1.63.726-2.608 1.094l-1.78.67zm-150.592-3.621c-5.551-2.683-8.865-5.295-11.436-9.013-2.092-3.028-3.72-7.066-3.72-9.231 0-.636.089-.69 1.135-.69 2.913 0 6.796 1.74 9.585 4.296 3.283 3.008 5.033 6.073 6.587 11.534 1.15 4.043 1.263 4.544 1.02 4.54-.111 0-1.539-.647-3.17-1.436m145.075.485c-.092-.241-.309-1.552-.48-2.914-.562-4.443.43-8.183 2.772-10.456.58-.562 1.164-1.022 1.3-1.022.405 0 1.01 1.75 1.186 3.43.324 3.1-.9 6.63-3.421 9.872-.926 1.19-1.226 1.431-1.357 1.09m-6.353-7.675c.34-1.413.908-2.21 1.957-2.745 1.55-.792 1.96-.718 1.754.314-.326 1.628-1.397 2.695-3.034 3.022-.84.168-.856.154-.677-.591m18.432-2.084c-.473-.206-.857-.469-.854-.585.01-.368 1.945-1.592 2.816-1.781.461-.1 1.34-.047 1.952.118l1.114.3-.882.909c-.764.789-2.17 1.45-3.022 1.422-.145-.005-.651-.178-1.124-.383m-4.19-2.014c.437-5.243 1.85-8.992 4.434-11.754 1.589-1.698 4.011-3.172 5.51-3.353.608-.073.669.016.745 1.087.125 1.742-.655 4.812-1.81 7.117-1.233 2.466-3.244 4.75-6.16 7-3.185 2.457-2.932 2.466-2.719-.097M164.535 96.2c.011-.601.996-2.432 1.613-2.997.74-.68 1.86-1.142 2.764-1.142.74 0 .783.213.287 1.402-.328.784-2.05 2.558-2.496 2.573-.105.004-.636.11-1.182.237-.703.163-.99.142-.986-.073M39.38 92.511l-1.19-.287 1.894-.184c2.429-.237 4.211-.836 5.755-1.933 1.705-1.212 2.43-2.3 3.187-4.777.358-1.173 1.027-2.644 1.487-3.27.855-1.16 1.328-1.354.772-.315-.17.317-.42 1.753-.555 3.191s-.371 2.944-.524 3.347c-1.29 3.39-6.255 5.33-10.826 4.228m132.353-3.022c-1.37-3.004-1.722-4.62-1.596-7.322.12-2.584.663-4.209 1.984-5.941l.698-.915.593.689c1.538 1.787 2.37 6.366 1.72 9.457-.375 1.79-1.903 5.61-2.293 5.734-.158.05-.656-.715-1.106-1.702m6.655.323c.094-.582.245-3.618.336-6.747.16-5.514-.097-11.175-.726-16.007-.66-5.078-2.584-11.438-4.788-15.834-.572-1.142-.914-1.998-.76-1.903.154.096.28.02.28-.17 0-.608 1.905 2.465 3.056 4.93 3.19 6.83 5.492 18.482 5.039 25.5-.219 3.379-.79 6.78-1.52 9.04-.672 2.084-1.164 2.722-.917 1.191m-5.129-39.936c0-.065-.119-.19-.264-.28s-.265-.038-.265.116.12.28.265.28.264-.052.264-.116M21.39 87.46c-6.885-6.262-9.634-10.983-10.312-17.71-.218-2.153.098-6.211.514-6.628.377-.377 2.86.757 4.714 2.153 4.287 3.228 7.128 8.67 7.976 15.276.349 2.717.746 9.923.547 9.92-.073-.001-1.62-1.356-3.44-3.01m141.818 1.495c.002-1.223.51-2.654 1.254-3.539.681-.81 2.635-1.902 2.999-1.677.248.154-.193 2.347-.65 3.224-.523 1.007-1.444 1.82-2.616 2.31l-.989.413zm19.715-9.65c.101-.48.414-1.25.694-1.712.53-.872 2.361-1.937 3.331-1.937.515 0 .537.075.29.992-.432 1.599-1.891 2.901-3.749 3.347-.733.176-.746.16-.566-.69m-1.078-4.864c-.434-3.474.426-7.949 2.004-10.427.992-1.557 3.308-3.704 3.996-3.704.79 0 1.023 5.098.34 7.427-.775 2.639-3.22 6.102-5.41 7.661l-.744.53zM27.106 70.74c-.83-2.163.852-9.285 3.442-14.577 3.414-6.977 9.876-14.173 15.518-17.28 1.338-.736 1.306-.696-.732.921-3.554 2.82-6.93 6.51-9.617 10.514-2.78 4.142-4.184 7.582-5.825 14.274-.593 2.419-1.273 4.885-1.512 5.482-.446 1.116-.991 1.401-1.274.666m148.415-4.429c-3.31-1.775-5.714-4.87-6.05-7.787-.123-1.073-.097-1.124.573-1.122 1.742.006 4.537 2.38 5.833 4.954.468.928 1.437 4.572 1.263 4.746-.028.028-.757-.328-1.62-.79M24.465 63.817c-1.392-2.767-2.046-5.175-2.208-8.138-.16-2.924.292-6.48.823-6.48.632 0 2.73 1.536 3.654 2.676 1.65 2.036 2.173 3.325 2.185 5.393.01 1.729-.094 2.069-1.554 5.094-.86 1.782-1.663 3.24-1.783 3.24s-.623-.803-1.117-1.785m155.049-4.47c-.602-3.045-.356-5.571.757-7.767.795-1.57 2.708-3.351 3.137-2.921.187.187.302 1.33.302 3 0 2.617-.03 2.756-1.001 4.573-.551 1.03-1.462 2.322-2.024 2.871l-1.022.998zm-68.432-2.831c0-.451.748-1.115 1.521-1.35.762-.233.743.064-.061.978-.678.77-1.46.969-1.46.372M33.59 54.752c1.046-1.877 3.42-4.082 5.433-5.045 1.457-.699 2.23-.892 3.93-.982 2.15-.115 3.863.18 4.728.812.444.324.393.442-.74 1.701-1.47 1.635-3.438 2.97-5.575 3.778-1.242.47-2.33.63-4.998.735l-3.41.135zm76.965.194c0-.802 1.282-2.19 2.17-2.35.969-.176 1.534.041 1.534.587 0 .382-.305.583-1.245.82-.685.172-1.518.608-1.852.968l-.607.655zm57.018-.605c-.437-.225-.965-.578-1.173-.783-.327-.323-.22-.446.794-.905 1.314-.597 2.774-.659 4.347-.184 1.386.417 1.347.95-.122 1.69-1.377.695-2.73.76-3.846.182m-58.306-1.16c.174-.5.815-1.406 1.424-2.015.918-.918 1.368-1.152 2.637-1.37 1.42-.246 2.024-.224 3.048.107.8.26-.765 1.148-2.022 1.148-1.584 0-2.915.6-4.27 1.928l-1.133 1.109zm65.577-2.87c-.75-1.497-.906-2.129-1.001-4.048-.094-1.886-.02-2.485.431-3.506.3-.677.655-1.231.79-1.231.33 0 1.475 1.777 1.856 2.883.497 1.442.383 4.31-.236 5.965-.3.803-.638 1.517-.75 1.586-.11.069-.602-.673-1.09-1.649m-65.359.239c.662-1.25 2.453-2.918 3.604-3.357 1.384-.53 4.318-.42 5.512.206l.757.397-.576.403c-.45.315-1.084.374-2.904.27-2.854-.163-3.938.155-5.54 1.625-.876.802-1.1.922-.853.456m-79.602-1.036c-1.895-1.894-2.474-3.183-2.62-5.824-.066-1.211-.008-2.314.128-2.45.332-.332 2.019.945 2.831 2.145.348.513.825 1.5 1.06 2.192.47 1.384.581 4.818.164 5.076-.144.089-.848-.423-1.563-1.139m78.698-.58c.528-1.848 2.227-3.934 3.94-4.841 1.648-.872 4.113-.74 7.331.392l2.55.897-.936.614c-.919.602-.967.606-2.55.2-2.732-.698-3.209-.739-5.014-.424-2.025.352-3.826 1.419-4.84 2.865-.543.777-.635.833-.481.297m54.957-.028c-.619-.306-1.125-.665-1.125-.797 0-.133.387-.477.86-.765 1.455-.887 4.475-.65 6.244.49l.621.401-1.15.602c-1.547.81-3.894.84-5.45.07m-113.51-5.029c-.621-.307-1.376-.872-1.677-1.255l-.548-.696.883-.372c2.07-.872 5.296-.261 6.675 1.263.498.55.494.556-.662 1.08-1.52.69-3.253.682-4.672-.02m69.126-.293c-2.905-1.128-5.647-1.179-7.871-.147-.837.388-1.522.665-1.522.615 0-.292 2.738-1.751 3.95-2.106 1.796-.525 4.726-.535 6.634-.023 1.759.472 3.564.489 4.61.043.696-.298.59-.32-1.07-.226-1.83.103-1.852.096-3.683-1.16-1.013-.694-2.318-1.413-2.9-1.596l-1.058-.333.988-.018c.544-.01 2.135.28 3.535.644 2.6.675 4.605.856 4.605.415 0-.347-1.479-1.36-2.616-1.791-.935-.355-.915-.361.9-.261 2.1.115 3.862.79 4.957 1.899.72.729.727.73.727.13 0-.934-1.81-2.484-3.47-2.973-1.732-.51-.9-.598.957-.102 2.68.716 5.39 2.515 6.21 4.124.295.578.537 1.15.537 1.273 0 .122-1.102.361-2.448.532s-3.511.671-4.812 1.112c-3.03 1.027-4.41 1.017-7.16-.05m-83.06-2.246c-.331-4.672.95-8.655 3.622-11.257l1.343-1.308.418.754c.31.56.419 1.506.419 3.664 0 2.803-.036 2.984-.958 4.895-.887 1.84-3.687 5.524-4.365 5.745-.197.064-.358-.772-.48-2.493m125.87-.33c-.464-.283-1.05-.829-1.301-1.212-.556-.848-.22-1.17 1.221-1.176 1.652-.007 4.104 1.78 3.588 2.615-.3.486-2.579.34-3.507-.227m-104.922-.902c-1.831-.683-4.166-2.965-3.74-3.655.203-.328 3.603-.26 4.628.093.494.17 1.341.6 1.882.955 1.055.692 2.477 2.374 2.223 2.628-.352.353-4.033.337-4.993-.021m.993-5.296c-.727-.191-2.034-.56-2.902-.82l-1.58-.473.898-.75c2.53-2.112 6.92-3.595 9.62-3.25 1.876.239 3.85 1.003 4.937 1.91l.907.758-1.14.825c-1.943 1.409-3.805 1.977-6.771 2.068-1.607.05-3.165-.056-3.969-.268" style="fill:teal;stroke-width:.264583"></path></svg>
`)}`,Xs,BiatecWallet=(Xs=class extends WalletConnect{},Oo(Xs,"defaultMetadata",{name:"BiatecWallet",icon:ICON2}),Xs),ICON3=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" fill="#525252" />
</svg>
`)}`,Ys,CustomWallet=(Ys=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut,metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"provider");Oo(this,"store");Oo(this,"connect",async d=>{this.logger.info("Connecting...");try{if(!this.provider.connect)throw this.logger.error("Method not supported: connect"),new Error("Method not supported: connect");const Mt=await this.provider.connect(d);if(Mt.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ot=Mt[0],Ft={accounts:Mt,activeAccount:Ot};return addWallet(this.store,{walletId:this.id,wallet:Ft}),this.logger.info(" Connected.",Ft),Mt}catch(Mt){throw this.logger.error("Error connecting:",Mt.message||Mt),Mt}});Oo(this,"disconnect",async()=>{var d,Mt;this.logger.info("Disconnecting..."),this.onDisconnect(),await((Mt=(d=this.provider).disconnect)==null?void 0:Mt.call(d))});Oo(this,"resumeSession",async()=>{var d,Mt;try{const Ft=this.store.state.wallets[this.id];if(!Ft){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const Ut=await((Mt=(d=this.provider).resumeSession)==null?void 0:Mt.call(d));if(Array.isArray(Ut)){const Xt=Ut;if(Xt.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");compareAccounts(Xt,Ft.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Ft.accounts,current:Xt}),setAccounts(this.store,{walletId:this.id,accounts:Xt}))}this.logger.info("Session resumed.")}catch(Ot){throw this.logger.error("Error resuming session:",Ot.message),Ot}});Oo(this,"signTransactions",async(d,Mt)=>{if(!this.provider.signTransactions)throw this.logger.error("Method not supported: signTransactions"),new Error("Method not supported: signTransactions");return this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt}),await this.provider.signTransactions(d,Mt)});Oo(this,"transactionSigner",async(d,Mt)=>{if(!this.provider.transactionSigner)throw this.logger.error("Method not supported: transactionSigner"),new Error("Method not supported: transactionSigner");return this.logger.debug("Transaction signer called...",{txnGroup:d,indexesToSign:Mt}),await this.provider.transactionSigner(d,Mt)});Oo(this,"signData",async(d,Mt)=>{if(!this.provider.signData)throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData");return this.logger.debug("Signing data...",{data:d,metadata:Mt}),await this.provider.signData(d,Mt)});if(!(Ut!=null&&Ut.provider))throw this.logger.error("Missing required option: provider"),new Error("Missing required option: provider");this.provider=Ut.provider,this.store=Mt}},Oo(Ys,"defaultMetadata",{name:"Custom",icon:ICON3}),Ys),ICON4=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,Zs,DeflyWallet=(Zs=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut={},metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"store");Oo(this,"connect",async()=>{var jr;this.logger.info("Connecting...");const d=this.store.state.activeWallet;d&&d!==this.id&&this.manageWalletConnectSession("backup",d);const Mt=this.client||await this.initializeClient(),Ot=await Mt.connect();if((jr=Mt.connector)==null||jr.on("disconnect",this.onDisconnect),Ot.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ft=Ot.map((hn,Vr)=>({name:`${this.metadata.name} Account ${Vr+1}`,address:hn})),Ut=Ft[0],Xt={accounts:Ft,activeAccount:Ut};return addWallet(this.store,{walletId:this.id,wallet:Xt}),this.logger.info(" Connected.",Xt),Ft});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const d=this.client||await this.initializeClient(),Mt=this.store.state.activeWallet;Mt&&Mt!==this.id?(this.manageWalletConnectSession("backup",Mt),this.manageWalletConnectSession("restore",this.id),await d.disconnect(),await new Promise(Ot=>setTimeout(Ot,500)),this.manageWalletConnectSession("restore",Mt)):await d.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Oo(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const d=this.store.state.activeWallet;d&&d==="pera"&&this.manageWalletConnectSession("backup",d),this.manageWalletConnectSession("restore"),setActiveWallet(this.store,{walletId:this.id})});Oo(this,"resumeSession",async()=>{try{const d=this.store.state,Mt=d.wallets[this.id];if(!Mt){this.logger.info("No session to resume");return}if(d.activeWallet==="pera"){this.logger.info("Skipping reconnectSession for Defly (inactive)");return}this.logger.info("Resuming session...");const Ft=await(this.client||await this.initializeClient()).reconnectSession();if(Ft.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ut=Ft.map((jr,hn)=>({name:`${this.metadata.name} Account ${hn+1}`,address:jr}));compareAccounts(Ut,Mt.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Mt.accounts,current:Ut}),setAccounts(this.store,{walletId:this.id,accounts:Ut})),this.logger.info("Session resumed")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const jr=flattenTxnGroup(d);Ot=this.processTxns(jr,Mt)}else{const jr=flattenTxnGroup(d);Ot=this.processEncodedTxns(jr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Ot]);const Ut=await Ft.signTransaction([Ot]);this.logger.debug("Received signed transactions from wallet",Ut);const Xt=Ot.reduce((jr,hn)=>{if(hn.signers&&hn.signers.length==0)jr.push(null);else{const Vr=Ut.shift();Vr&&jr.push(Vr)}return jr},[]);return this.logger.debug("Transactions signed successfully",Xt),Xt}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});this.options=Ut,this.store=Mt}async initializeClient(){this.logger.info("Initializing client...");const{DeflyWalletConnect:d}=await __vitePreload(async()=>{const{DeflyWalletConnect:Ot}=await import("./index-D8Z0MO_J.js").then(Ft=>Ft.i);return{DeflyWalletConnect:Ot}},__vite__mapDeps([0,1])),Mt=new d(this.options);return this.client=Mt,this.logger.info("Client initialized"),Mt}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr);Xt&&hn?Ot.push({txn:Ft}):Ot.push({txn:Ft,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn);Vr&&dn?Ot.push({txn:hn}):Ot.push({txn:hn,signers:[]})}),Ot}},Oo(Zs,"defaultMetadata",{name:"Defly",icon:ICON4}),Zs);function isAVMWebProviderSDKError(_e){return typeof _e=="object"&&"code"in _e&&"message"in _e}var AVMProvider=class extends BaseWallet{constructor(d){super(d);Oo(this,"avmWebClient",null);Oo(this,"avmWebProviderSDK",null);Oo(this,"providerId");this.providerId=d.providerId}async _initializeAVMWebProviderSDK(){if(!this.avmWebProviderSDK){this.logger.info("Initializing @agoralabs-sh/avm-web-provider...");const d=await __vitePreload(()=>import("./use-wallet-BIHI7g3E.js"),[]);if(this.avmWebProviderSDK=d.default?d.default:d,!this.avmWebProviderSDK)throw new Error("Failed to initialize, the @agoralabs-sh/avm-web-provider SDK was not provided");if(!this.avmWebProviderSDK.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient missing from @agoralabs-sh/avm-web-provider SDK");this.logger.info("@agoralabs-sh/avm-web-provider SDK initialized")}return this.avmWebProviderSDK}async _initializeAVMWebClient(){const d=await this._initializeAVMWebProviderSDK();if(!d.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient not found");return this.avmWebClient||(this.logger.info("Initializing new AVM Web Client..."),this.avmWebClient=d.AVMWebClient.init(),this.logger.info("AVM Web Client initialized")),this.avmWebClient}async _getGenesisHash(){const d=this.activeNetworkConfig;if(d.genesisHash)return d.genesisHash;const Ot=await this.getAlgodClient().versionsCheck().do();return algosdk.bytesToBase64(Ot.genesisHashB64)}_mapAVMWebProviderAccountToWalletAccounts(d){return d.map(({address:Mt,name:Ot},Ft)=>({name:Ot||`[${this.metadata.name}] Account ${Ft+1}`,address:Mt}))}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}async connect(){try{this.logger.info("Connecting...");const d=await this._enable();this.logger.info(`Successfully connected on network "${d.genesisId}"`);const Mt=this._mapAVMWebProviderAccountToWalletAccounts(d.accounts),Ot={accounts:Mt,activeAccount:Mt[0]};return addWallet(this.store,{walletId:this.id,wallet:Ot}),this.logger.info(" Connected.",Ot),Mt}catch(d){throw this.logger.error("Error connecting: ",isAVMWebProviderSDKError(d)?`${d.message} (code: ${d.code})`:d.message),d}}async disconnect(){try{this.logger.info("Disconnecting..."),this.onDisconnect();const d=await this._disable();this.logger.info(`Successfully disconnected${d.sessionIds&&d.sessionIds.length?` sessions [${d.sessionIds.join(",")}]`:""} on network "${d.genesisId}"`)}catch(d){throw this.logger.error("Error disconnecting: ",isAVMWebProviderSDKError(d)?`${d.message} (code: ${d.code})`:d.message),d}}async resumeSession(){const Mt=this.store.state.wallets[this.id];if(!Mt){this.logger.info("No session to resume");return}try{this.logger.info("Resuming session...");const Ot=await this._enable();if(Ot.accounts.length===0)throw new Error("No accounts found!");const Ft=this._mapAVMWebProviderAccountToWalletAccounts(Ot.accounts);compareAccounts(Ft,Mt.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Mt.accounts,current:Ft}),setAccounts(this.store,{walletId:this.id,accounts:Ft})),this.logger.info("Session resumed successfully")}catch(Ot){throw this.logger.error("Error resuming session: ",isAVMWebProviderSDKError(Ot)?`${Ot.message} (code: ${Ot.code})`:Ot.message),this.onDisconnect(),Ot}}async signTransactions(d,Mt){try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const Xt=flattenTxnGroup(d);Ot=this.processTxns(Xt,Mt)}else{const Xt=flattenTxnGroup(d);Ot=this.processEncodedTxns(Xt,Mt)}this.logger.debug("Sending processed transactions to wallet...",Ot);const Ft=await this._signTransactions(Ot);this.logger.debug("Received signed transactions from wallet",Ft);const Ut=Ft.stxns.map(Xt=>Xt===null?null:base64ToByteArray(Xt));return this.logger.debug("Transactions signed successfully",Ut),Ut}catch(Ot){throw this.logger.error("Error signing transactions: ",isAVMWebProviderSDKError(Ot)?`${Ot.message} (code: ${Ot.code})`:Ot.message),Ot}}},DEFLY_WEB_PROVIDER_ID="95426e60-5f2e-49e9-b912-c488577be962",ICON5=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,Qs,DeflyWebWallet=(Qs=class extends AVMProvider{constructor({id:_e,store:d,subscribe:Mt,getAlgodClient:Ot,metadata:Ft={}}){super({id:_e,metadata:Ft,getAlgodClient:Ot,store:d,subscribe:Mt,providerId:DEFLY_WEB_PROVIDER_ID})}async _enable(){const{ARC0027MethodEnum:_e,ARC0027MethodTimedOutError:d,ARC0027UnknownError:Mt,DEFAULT_REQUEST_TIMEOUT:Ot}=await this._initializeAVMWebProviderSDK(),Ft=await this._initializeAVMWebClient(),Ut=await this._getGenesisHash();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ft.removeListener(Vr),jr(new d({method:_e.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Ot),Vr=Ft.onEnable(({error:fn,method:dn,result:pn})=>(Ft.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?Xt(pn):jr(new Mt({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));Ft.enable({genesisHash:Ut,providerId:DEFLY_WEB_PROVIDER_ID})})}async _disable(){const{ARC0027MethodEnum:_e,ARC0027MethodTimedOutError:d,ARC0027UnknownError:Mt,LOWER_REQUEST_TIMEOUT:Ot}=await this._initializeAVMWebProviderSDK(),Ft=await this._initializeAVMWebClient(),Ut=await this._getGenesisHash();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ft.removeListener(Vr),jr(new d({method:_e.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Ot),Vr=Ft.onDisable(({error:fn,method:dn,result:pn})=>(Ft.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?(this.logger.debug("Disable successful",{result:pn}),Xt(pn)):jr(new Mt({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));this.logger.debug("Sending disable request...",{genesisHash:Ut}),Ft.disable({genesisHash:Ut,providerId:DEFLY_WEB_PROVIDER_ID})})}async _signTransactions(_e){const{ARC0027MethodEnum:d,ARC0027MethodTimedOutError:Mt,ARC0027UnknownError:Ot,DEFAULT_REQUEST_TIMEOUT:Ft}=await this._initializeAVMWebProviderSDK(),Ut=await this._initializeAVMWebClient();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ut.removeListener(Vr),jr(new Mt({method:d.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Ft),Vr=Ut.onSignTransactions(({error:fn,method:dn,result:pn})=>(Ut.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?(this.logger.debug("Sign transactions successful",{result:pn}),Xt(pn)):jr(new Ot({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));this.logger.debug("Sending sign transactions request...",{txns:_e}),Ut.signTransactions({txns:_e,providerId:DEFLY_WEB_PROVIDER_ID})})}},Oo(Qs,"defaultMetadata",{name:"Defly Web Wallet",icon:ICON5}),Qs),ICON6=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="grad1" gradientUnits="userSpaceOnUse" x1="246.603" y1="9.2212" x2="174.158" y2="308.5426" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
  
  <linearGradient id="grad2" gradientUnits="userSpaceOnUse" x1="129.3516" y1="-19.1573" x2="56.9066" y2="280.1641" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  
  <mask id="mask1" maskUnits="userSpaceOnUse" x="25.4" y="23" width="247.6" height="254">
    <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
    <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  </mask>
  
  <linearGradient id="grad3" gradientUnits="userSpaceOnUse" x1="46.4662" y1="228.7554" x2="171.8638" y2="135.1039" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0.1198" stop-color="#8952FF" stop-opacity="0.87" />
    <stop offset="1" stop-color="#DABDFF" stop-opacity="0" />
  </linearGradient>
  <rect x="25.4" y="23" width="247.6" height="254" fill="url(#grad3)" mask="url(#mask1)" />
</svg>
`)}`,_c,ExodusWallet=(_c=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut={},metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"store");Oo(this,"connect",async()=>{this.logger.info("Connecting...");const d=this.client||await this.initializeClient(),{accounts:Mt}=await d.enable(this.options);if(Mt.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ot=Mt.map((Xt,jr)=>({name:`${this.metadata.name} Account ${jr+1}`,address:Xt})),Ft=Ot[0],Ut={accounts:Ot,activeAccount:Ft};return addWallet(this.store,{walletId:this.id,wallet:Ut}),this.logger.info(" Connected.",Ut),Ot});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Oo(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!(await this.initializeClient()).isConnected)throw this.logger.error("Exodus is not connected."),new Error("Exodus is not connected.");this.logger.info("Session resumed")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const jr=flattenTxnGroup(d);Ot=this.processTxns(jr,Mt)}else{const jr=flattenTxnGroup(d);Ot=this.processEncodedTxns(jr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ot);const Ut=await Ft.signTxns(Ot);this.logger.debug("Received signed transactions from wallet",Ut);const Xt=Ut.map(jr=>jr===null?null:base64ToByteArray(jr));return this.logger.debug("Transactions signed successfully",Xt),Xt}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});this.options=Ut,this.store=Mt}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.algorand===void 0)throw this.logger.error("Exodus is not available."),new Error("Exodus is not available.");const d=window.algorand;return this.client=d,this.logger.info("Client initialized"),d}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}},Oo(_c,"defaultMetadata",{name:"Exodus",icon:ICON6}),_c),KIBISIS_AVM_WEB_PROVIDER_ID="f6d1c86b-4493-42fb-b88d-a62407b4cdf6",ICON7=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#801C96" width="480" height="480" />
  <path fill="#FFFFFF" d="M393.5,223.2c0-7.3-0.6-14.6-1.6-21.6c-0.9-6.5-2.3-12.8-4-18.9c-18-64.9-77.4-112.5-148-112.5c-70.6,0-130,47.6-148,112.5c-1.7,6.2-3,12.5-4,19c-1,7.1-1.6,14.3-1.6,21.6h0v85.5h19.7v-85.5c0-7.2,0.6-14.4,1.8-21.4c14,1.1,27.6,4.3,40.5,9.5c15.9,6.4,30.3,15.6,42.6,27.3c12.3,11.7,22,25.4,28.7,40.6c6.9,15.6,10.5,32.2,10.5,49.2v81.4h0.1h19.6h0.1v-81.5c0.1-17.1,3.6-33.7,10.5-49.2c6.7-15.2,16.4-28.8,28.7-40.6c4.2-4,8.6-7.7,13.2-11.1v132.2h19.7V223.2h0c0-2.5-0.1-5-0.4-7.4c3.3-1.6,6.6-3.1,10-4.5c12.9-5.2,26.4-8.4,40.4-9.5c1.2,7,1.7,14.2,1.8,21.4v85.5h19.7L393.5,223.2L393.5,223.2z M240.1,277.3c-11.6-29.3-32.7-54.1-59.8-71c2.9-10,8.2-19.1,15.8-26.6c11.8-11.8,27.4-18.2,44-18.2s32.3,6.5,44,18.2c4.1,4.1,7.5,8.7,10.3,13.6c5.6-3.4,11.4-6.4,17.4-9.2c-14-25.2-40.9-42.3-71.8-42.3c-35.9,0-66.3,23-77.5,55.1c-15.5-7.1-32.5-11.8-50.4-13.5c1.3-4,2.7-7.9,4.3-11.8c6.7-15.9,16.4-30.3,28.7-42.6s26.6-22,42.6-28.7c16.5-7,34-10.5,52.1-10.5s35.6,3.5,52.1,10.5c15.9,6.7,30.3,16.4,42.6,28.7s22,26.6,28.7,42.6c1.6,3.9,3.1,7.8,4.3,11.8C309,189.2,260.1,226.5,240.1,277.3z" />
  <path fill="#FFFFFF" d="M158.1,359.8h19.7V245.5c-6.1-5.4-12.7-10-19.7-14V359.8z" />
</svg>
`)}`,yl,KibisisWallet=(yl=class extends AVMProvider{constructor({id:_e,store:d,subscribe:Mt,getAlgodClient:Ot,metadata:Ft={}}){super({id:_e,metadata:Ft,getAlgodClient:Ot,store:d,subscribe:Mt,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})}async _enable(){const{ARC0027MethodEnum:_e,ARC0027MethodTimedOutError:d,ARC0027UnknownError:Mt,DEFAULT_REQUEST_TIMEOUT:Ot}=await this._initializeAVMWebProviderSDK(),Ft=await this._initializeAVMWebClient(),Ut=await this._getGenesisHash();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ft.removeListener(Vr),jr(new d({method:_e.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Ot),Vr=Ft.onEnable(({error:fn,method:dn,result:pn})=>(Ft.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?Xt(pn):jr(new Mt({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));Ft.enable({genesisHash:Ut,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}async _disable(){const{ARC0027MethodEnum:_e,ARC0027MethodTimedOutError:d,ARC0027UnknownError:Mt,LOWER_REQUEST_TIMEOUT:Ot}=await this._initializeAVMWebProviderSDK(),Ft=await this._initializeAVMWebClient(),Ut=await this._getGenesisHash();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ft.removeListener(Vr),jr(new d({method:_e.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Ot),Vr=Ft.onDisable(({error:fn,method:dn,result:pn})=>(Ft.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?(this.logger.debug("Disable successful",{result:pn}),Xt(pn)):jr(new Mt({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));this.logger.debug("Sending disable request...",{genesisHash:Ut}),Ft.disable({genesisHash:Ut,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}async _signTransactions(_e){const{ARC0027MethodEnum:d,ARC0027MethodTimedOutError:Mt,ARC0027UnknownError:Ot,DEFAULT_REQUEST_TIMEOUT:Ft}=await this._initializeAVMWebProviderSDK(),Ut=await this._initializeAVMWebClient();return new Promise((Xt,jr)=>{const hn=window.setTimeout(()=>{Ut.removeListener(Vr),jr(new Mt({method:d.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Ft),Vr=Ut.onSignTransactions(({error:fn,method:dn,result:pn})=>(Ut.removeListener(Vr),window.clearTimeout(hn),fn?jr(fn):pn?(this.logger.debug("Sign transactions successful",{result:pn}),Xt(pn)):jr(new Ot({message:`received response, but "${dn}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));this.logger.debug("Sending sign transactions request...",{txns:_e}),Ut.signTransactions({txns:_e,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}},Oo(yl,"defaultMetadata",{name:"Kibisis",icon:ICON7}),yl),ICON8=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="algokitGradient" gradientUnits="userSpaceOnUse" x1="0" y1="400" x2="400" y2="0">
    <stop offset="0" style="stop-color:#31D8EE"/>
    <stop offset="1" style="stop-color:#01DC94"/>
  </linearGradient>
  <rect fill="url(#algokitGradient)" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,wl,KmdWallet=(wl=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut,metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"walletName");Oo(this,"walletId","");Oo(this,"password",null);Oo(this,"store");Oo(this,"connect",async()=>{this.logger.info("Connecting..."),this.client||await this.initializeClient();try{const d=await this.fetchToken(),Mt=await this.fetchAccounts(d);if(Mt.length===0)throw new Error("No accounts found!");const Ot=Mt.map((Xt,jr)=>({name:`${this.metadata.name} Account ${jr+1}`,address:Xt})),Ft=Ot[0],Ut={accounts:Ot,activeAccount:Ft};return addWallet(this.store,{walletId:this.id,wallet:Ut}),await this.releaseToken(d),this.logger.info(" Connected.",Ut),Ot}catch(d){throw this.logger.error("Error connecting:",d.message),d}});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Oo(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const hn=flattenTxnGroup(d);Ot=this.processTxns(hn,Mt)}else{const hn=flattenTxnGroup(d);Ot=this.processEncodedTxns(hn,Mt)}const Ft=await this.fetchToken(),Ut=await this.getPassword(),Xt=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ot);const jr=await Promise.all(Ot.map(hn=>Xt.signTransaction(Ft,Ut,hn)));return this.logger.debug("Received signed transactions from wallet",jr),await this.releaseToken(Ft),this.logger.debug("Transactions signed successfully",jr),jr}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});const{token:jr="a".repeat(64),baseServer:hn="http://127.0.0.1",port:Vr=4002,wallet:fn="unencrypted-default-wallet",promptForPassword:dn=()=>Promise.resolve(prompt("KMD password")||"")}=Ut||{};this.options={token:jr,baseServer:hn,port:Vr,promptForPassword:dn},this.walletName=fn,this.store=Mt}async initializeClient(){this.logger.info("Initializing client...");const{token:d,baseServer:Mt,port:Ot}=this.options,Ft=new algosdk.Kmd(d,Mt,Ot);return this.client=Ft,this.logger.info("Client initialized"),Ft}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr);Xt&&hn&&Ot.push(Ft)}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn);Vr&&dn&&Ot.push(hn)}),Ot}async fetchWalletId(){this.logger.debug("Fetching wallet data...",{walletName:this.walletName});const d=this.client||await this.initializeClient(),{wallets:Mt}=await d.listWallets(),Ot=Mt.find(Ft=>Ft.name===this.walletName);if(!Ot)throw this.logger.error(`Wallet "${this.walletName}" not found!`),new Error(`Wallet "${this.walletName}" not found!`);return this.walletId=Ot.id,this.logger.debug("Wallet data fetched successfully",{walletId:this.walletId}),Ot.id}async fetchToken(){this.logger.debug("Fetching token...",{walletId:this.walletId});const d=this.client||await this.initializeClient(),Mt=this.walletId||await this.fetchWalletId(),Ot=await this.getPassword(),{wallet_handle_token:Ft}=await d.initWalletHandle(Mt,Ot);return this.logger.debug("Token fetched successfully"),Ft}async releaseToken(d){this.logger.debug("Releasing token..."),await(this.client||await this.initializeClient()).releaseWalletHandle(d),this.logger.debug("Token released successfully")}async getPassword(){if(this.password!==null)return this.password;const d=await this.options.promptForPassword();return this.password=d,d}async fetchAccounts(d){this.logger.debug("Fetching accounts...");const Mt=this.client||await this.initializeClient(),{addresses:Ot}=await Mt.listKeys(d);return this.logger.debug("Accounts fetched successfully",{addresses:Ot}),Ot}},Oo(wl,"defaultMetadata",{name:"KMD",icon:ICON8}),wl);function isSignTxnsError(_e){return _e instanceof Error&&"code"in _e}function isSignDataError(_e){return _e instanceof Error&&"code"in _e}var ICON9=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <path fill="#AB47BC" d="M283.7,263.6c-0.6,0-1.3-0.1-1.8-0.4c-0.6-0.3-1.1-0.8-1.5-1.3c-0.4-0.6-0.7-1.3-0.8-2 c-0.1-0.8-0.1-1.7,0.1-2.5c0.2-0.9,0.6-1.8,1.2-2.6c0.6-0.8,1.4-1.7,2.2-2.3c0.9-0.7,2.1-1.2,3.2-1.6c1.2-0.4,2.7-0.5,4-0.5 c1.4,0,3,0.3,4.4,0.8c1.5,0.5,3.1,1.4,4.3,2.3c1.4,1,2.8,2.4,3.8,3.7c1.1,1.5,2.1,3.3,2.8,5.1c0.7,1.9,1.2,4.1,1.3,6.1 c0.2,2.1,0,4.6-0.4,6.7c-0.5,2.2-1.4,4.7-2.4,6.7c-1.1,2.1-2.8,4.4-4.4,6.2c-1.8,1.9-4.1,3.7-6.3,5c-2.3,1.4-5.2,2.6-7.9,3.3 c-2.8,0.7-6.1,1.1-8.9,1.1c-3,0-6.5-0.6-9.3-1.4c-3-0.9-6.4-2.4-9.1-4c-2.8-1.7-5.8-4.2-8-6.6c-2.3-2.5-4.6-5.8-6.2-8.9 c-1.7-3.2-3.1-7.1-3.8-10.7c-0.8-3.7-1.1-8-0.9-11.8c0.2-3.9,1.1-8.3,2.3-12c1.3-3.8,3.4-8.1,5.7-11.4c2.3-3.5,5.6-7.1,8.8-9.9 c3.3-2.8,7.5-5.6,11.5-7.5c4.1-1.9,9-3.5,13.5-4.3c4.6-0.8,10-1.1,14.6-0.7c4.8,0.4,10.2,1.6,14.7,3.3c4.7,1.7,9.7,4.4,13.8,7.3 c4.2,3,8.5,7,11.7,10.9c3.3,4.1,6.5,9.2,8.7,14c2.2,4.9,4,10.9,4.9,16.3c0.9,5.5,1,11.9,0.4,17.5c-0.6,5.7-2.2,12.1-4.3,17.4 c-2.1,5.5-5.4,11.4-8.9,16.1c-3.6,4.8-8.4,9.8-13.1,13.6c-4.8,3.8-11,7.5-16.6,9.9c-5.8,2.5-12.8,4.5-19.1,5.4 c-6.4,0.9-13.9,1-20.3,0.2c-6.6-0.8-14-2.7-20.1-5.2c-6.3-2.5-13.1-6.4-18.5-10.5c-5.5-4.2-11.2-9.8-15.4-15.3 c-4.3-5.6-8.4-12.7-11.2-19.2c-2.8-6.7-4.9-14.7-5.9-21.9c-0.9-5.9-2.8-12.6-5.2-18.1c-2.3-5.4-5.9-11.2-9.5-15.8 c-3.6-4.5-8.3-9-13-12.4c-4.5-3.3-10.1-6.4-15.3-8.3c-5-1.9-11.1-3.4-16.5-3.9c-5.2-0.5-11.3-0.3-16.5,0.5c-5,0.8-10.7,2.6-15.3,4.7 c-4.5,2.1-9.4,5.1-13.2,8.3c-3.7,3.1-7.5,7.2-10.2,11.1c-2.7,3.8-5.2,8.6-6.7,13c-1.5,4.2-2.6,9.3-3,13.8c-0.3,4.3-0.1,9.4,0.7,13.7 c0.8,4.1,2.3,8.8,4.2,12.5c1.8,3.6,4.4,7.6,7.1,10.6c2.6,2.9,6,5.9,9.3,8.1c3.1,2.1,7.1,4,10.6,5.1c3.4,1.1,7.5,1.9,11.1,2 c3.5,0.2,7.4-0.2,10.8-1c3.2-0.7,6.8-2.1,9.7-3.6c2.8-1.5,5.7-3.6,8-5.8c2.2-2.1,4.3-4.8,5.9-7.4c1.5-2.5,2.8-5.5,3.5-8.3 c0.7-2.6,1.1-5.7,1.1-8.5c0-2.6-0.5-5.5-1.2-8c-0.7-2.3-1.8-4.9-3.1-6.9c-1.2-1.9-2.9-3.9-4.6-5.4c-1.6-1.4-3.6-2.8-5.5-3.7 c-1.8-0.9-4-1.6-5.9-1.9c-1.8-0.3-3.9-0.4-5.8-0.1c-1.7,0.2-3.6,0.7-5.1,1.4c-1.4,0.6-2.9,1.6-4.1,2.6c-1.1,0.9-2.1,2.2-2.9,3.4 c-0.7,1.1-1.2,2.5-1.5,3.7c-0.3,1.1-0.4,2.4-0.3,3.6c0.1,1,0.4,2.2,0.8,3.1c0.4,0.8,1,1.7,1.6,2.3c0.6,0.5,1.3,1,2.1,1.3 c0.6,0.2,1.5,0.4,2.1,0.3c0.6-0.1,1.3-0.3,1.8-0.6c0.5-0.3,1-0.8,1.2-1.4c0.3-0.5,0.7-1,1.2-1.4c0.5-0.3,1.2-0.6,1.8-0.6 c0.7-0.1,1.5,0.1,2.1,0.3c0.7,0.3,1.5,0.8,2.1,1.3c0.6,0.6,1.3,1.5,1.6,2.3c0.4,0.9,0.7,2.1,0.8,3.1c0.1,1.1,0,2.5-0.3,3.6 c-0.3,1.2-0.9,2.6-1.5,3.7c-0.7,1.2-1.8,2.4-2.9,3.4c-1.2,1-2.7,2-4.1,2.6c-1.5,0.7-3.4,1.2-5.1,1.4c-1.8,0.2-4,0.2-5.8-0.1 c-2-0.3-4.1-1-5.9-1.9c-1.9-0.9-4-2.3-5.5-3.7c-1.7-1.5-3.4-3.5-4.6-5.4c-1.3-2-2.4-4.6-3.1-6.9c-0.7-2.5-1.2-5.4-1.2-8 c0-2.7,0.4-5.8,1.1-8.5c0.7-2.8,2-5.8,3.5-8.3c1.5-2.6,3.7-5.3,5.9-7.4c2.3-2.2,5.2-4.3,8-5.8c2.9-1.6,6.5-2.9,9.7-3.6 c3.4-0.8,7.4-1.1,10.8-1c3.6,0.2,7.7,0.9,11.1,2c3.6,1.2,7.5,3.1,10.6,5.1c3.3,2.1,6.7,5.1,9.3,8.1c2.7,3,5.3,7,7.1,10.6 c1.8,3.8,3.4,8.4,4.2,12.5c0.8,4.3,1.1,9.3,0.7,13.7c-0.4,4.5-1.5,9.6-3,13.8c-1.6,4.4-4.1,9.2-6.7,13c-2.8,3.9-6.5,8-10.2,11.1 c-3.8,3.2-8.7,6.2-13.2,8.3c-4.6,2.1-10.3,3.8-15.3,4.7c-5.2,0.9-11.3,1-16.5,0.5c-5.4-0.5-11.5-2-16.5-3.9 c-5.2-2-10.8-5.1-15.3-8.3c-4.6-3.4-9.4-7.9-13-12.4c-3.7-4.6-7.2-10.4-9.5-15.8c-2.4-5.5-4.3-12.2-5.2-18.1 c-0.9-6.1-1-13.2-0.3-19.3c0.7-6.3,2.5-13.4,4.9-19.2c2.4-6,6.1-12.5,10-17.7c4-5.3,9.3-10.7,14.6-14.8c5.3-4.2,12.1-8.1,18.3-10.7 c6.4-2.7,14.1-4.8,21-5.7c7-1,15.2-1,22.2-0.1c7.2,0.9,15.2,3.1,21.9,5.8c5.6,2.2,12.3,3.9,18.3,4.6c5.8,0.7,12.6,0.5,18.4-0.4 c5.6-0.9,12-2.7,17.2-5c5.1-2.3,10.6-5.6,14.9-9.1c4.2-3.4,8.5-8,11.7-12.3c3.1-4.3,6-9.6,7.8-14.5c1.8-4.8,3.1-10.5,3.6-15.6 c0.5-4.9,0.3-10.7-0.6-15.6c-0.8-4.7-2.5-10.1-4.5-14.4c-2-4.2-4.9-8.8-7.9-12.3c-2.9-3.4-6.8-6.9-10.5-9.5 c-3.6-2.5-8.1-4.8-12.2-6.2c-4-1.4-8.7-2.4-12.9-2.7c-4-0.3-8.7,0-12.7,0.8c-3.8,0.8-8.1,2.2-11.6,4c-3.4,1.7-7,4.1-9.7,6.6 c-2.7,2.4-5.4,5.6-7.3,8.6c-1.9,2.9-3.6,6.5-4.6,9.8c-1,3.2-1.6,6.9-1.7,10.2c-0.1,3.2,0.3,6.8,1,9.9c0.7,2.9,2,6.2,3.5,8.8 c1.4,2.5,3.4,5.1,5.4,7.2c1.9,1.9,4.4,3.8,6.8,5.2c2.2,1.3,5,2.4,7.5,3c2.3,0.6,5.1,0.9,7.6,0.8c2.3-0.1,4.9-0.5,7-1.3 c2-0.7,4.2-1.7,6-2.9c1.6-1.1,3.3-2.7,4.6-4.2c1.2-1.4,2.3-3.2,3-4.9c0.7-1.6,1.2-3.5,1.3-5.1c0.2-1.5,0.1-3.3-0.2-4.9 c-0.3-1.4-0.8-2.9-1.5-4.2c-0.6-1.1-1.5-2.3-2.4-3.2c-0.8-0.8-1.9-1.5-3-2c-0.9-0.4-2.1-0.7-3.1-0.8c-0.9-0.1-1.9,0-2.8,0.3 c-0.7,0.2-1.6,0.6-2.2,1.1c-0.5,0.4-1,1.1-1.3,1.7c-0.3,0.6-0.4,1.3-0.4,1.9c0,0.6,0.2,1.2,0.6,1.7c0.3,0.5,0.5,1.2,0.6,1.7 c0,0.6-0.1,1.3-0.4,1.9c-0.3,0.6-0.8,1.3-1.3,1.7c-0.6,0.5-1.4,0.9-2.2,1.1c-0.9,0.3-1.9,0.3-2.8,0.3c-1-0.1-2.2-0.4-3.1-0.8 c-1-0.5-2.1-1.2-3-2c-0.9-0.9-1.8-2.1-2.4-3.2c-0.7-1.2-1.2-2.8-1.5-4.2c-0.3-1.5-0.4-3.3-0.2-4.9c0.2-1.7,0.7-3.6,1.3-5.1 c0.7-1.7,1.8-3.5,3-4.9c1.3-1.5,3-3.1,4.6-4.2c1.8-1.2,4-2.3,6-2.9c2.2-0.7,4.8-1.2,7-1.3c2.4-0.1,5.2,0.2,7.6,0.8 c2.5,0.6,5.3,1.7,7.5,3c2.4,1.3,4.9,3.2,6.8,5.2c2,2,4,4.7,5.4,7.2c1.5,2.6,2.7,5.9,3.5,8.8c0.8,3.1,1.1,6.7,1,9.9 c-0.1,3.3-0.7,7.1-1.7,10.2c-1,3.3-2.7,6.9-4.6,9.8c-1.9,3-4.7,6.2-7.3,8.6c-2.8,2.5-6.4,5-9.7,6.6c-3.5,1.8-7.8,3.2-11.6,4 c-4,0.8-8.7,1.1-12.7,0.8c-4.2-0.3-9-1.3-12.9-2.7c-4.1-1.4-8.6-3.7-12.2-6.2c-3.7-2.6-7.6-6.1-10.5-9.5c-3-3.6-5.9-8.1-7.9-12.3 c-2-4.4-3.7-9.7-4.5-14.4c-0.8-4.9-1.1-10.6-0.6-15.6c0.5-5.1,1.8-10.8,3.6-15.6c1.8-4.9,4.7-10.3,7.8-14.5 c3.2-4.4,7.5-8.9,11.7-12.3c4.3-3.5,9.8-6.9,14.9-9.1c5.2-2.3,11.6-4.2,17.2-5c5.8-0.9,12.6-1,18.4-0.4c6,0.7,12.7,2.4,18.3,4.6 c5.7,2.3,12,5.7,16.9,9.4c5.1,3.8,10.3,8.9,14.2,13.8c4,5.1,7.8,11.5,10.3,17.5c2.6,6.1,4.6,13.5,5.5,20c0.9,6.7,1,14.5,0.1,21.2 c-0.9,6.9-2.9,14.6-5.5,21c-2.7,6.5-6.8,13.6-11,19.3c-4.4,5.7-10.3,11.7-16,16c-4.7,3.7-9.5,8.7-13.1,13.6 c-3.5,4.7-6.8,10.7-8.9,16.1c-2.1,5.3-3.6,11.7-4.3,17.4c-0.6,5.5-0.4,12,0.4,17.5c0.9,5.3,2.6,11.3,4.9,16.3c2.2,4.8,5.4,10,8.7,14 c3.2,3.9,7.6,8,11.7,10.9c4,2.9,9.1,5.6,13.8,7.3c4.5,1.7,9.9,2.9,14.7,3.3c4.6,0.4,10,0.2,14.6-0.7c4.4-0.8,9.4-2.4,13.5-4.3 c3.9-1.9,8.2-4.6,11.5-7.5c3.2-2.7,6.4-6.4,8.8-9.9c2.3-3.4,4.4-7.6,5.7-11.4c1.2-3.7,2.1-8.1,2.3-12c0.2-3.7-0.1-8.1-0.9-11.8 c-0.8-3.5-2.2-7.5-3.8-10.7c-1.6-3.1-3.9-6.3-6.2-8.9c-2.2-2.4-5.2-4.9-8-6.6c-2.7-1.7-6-3.2-9.1-4c-2.9-0.8-6.3-1.4-9.3-1.4 c-2.9,0-6.2,0.4-8.9,1.1c-2.6,0.7-5.5,1.9-7.9,3.3c-2.2,1.3-4.5,3.2-6.3,5c-1.7,1.8-3.3,4-4.4,6.2c-1.1,2-2,4.5-2.4,6.7 c-0.4,2.1-0.6,4.5-0.4,6.7c0.2,2,0.6,4.2,1.3,6.1c0.6,1.7,1.7,3.6,2.8,5.1c1,1.3,2.4,2.7,3.8,3.7c1.3,0.9,2.8,1.8,4.3,2.3 c1.3,0.5,2.9,0.8,4.4,0.8c1.3,0,2.7-0.1,4-0.5c1.1-0.3,2.3-0.9,3.2-1.6c0.8-0.6,1.7-1.4,2.2-2.3c0.5-0.7,0.9-1.7,1.2-2.6 c0.2-0.8,0.2-1.7,0.1-2.5c-0.1-0.7-0.4-1.4-0.8-2c-0.4-0.5-0.9-1-1.5-1.3C285,263.7,284.3,263.6,283.7,263.6L283.7,263.6z" />
</svg>
`)}`,Sl,LuteWallet=(Sl=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut={},metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"store");Oo(this,"connect",async()=>{this.logger.info("Connecting...");const d=this.client||await this.initializeClient(),Mt=await this.getGenesisId(),Ot=await d.connect(Mt);if(Ot.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ft=Ot.map((jr,hn)=>({name:`${this.metadata.name} Account ${hn+1}`,address:jr})),Ut=Ft[0],Xt={accounts:Ft,activeAccount:Ut};return addWallet(this.store,{walletId:this.id,wallet:Xt}),this.logger.info("Connected successfully",Xt),Ft});Oo(this,"disconnect",async()=>{this.onDisconnect(),this.logger.info("Disconnected")});Oo(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed successfully")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const Xt=flattenTxnGroup(d);Ot=this.processTxns(Xt,Mt)}else{const Xt=flattenTxnGroup(d);Ot=this.processEncodedTxns(Xt,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ot);const Ut=await Ft.signTxns(Ot);return this.logger.debug("Transactions signed successfully",Ut),Ut}catch(Ot){throw isSignTxnsError(Ot)?(this.logger.error("Error signing transactions:",Ot.message,`(code: ${Ot.code})`),new SignTxnsError(Ot.message,Ot.code)):(this.logger.error("Unknown error signing transactions:",Ot),Ot)}});Oo(this,"canSignData",!0);Oo(this,"signData",async(d,Mt)=>{try{this.logger.debug("Signing data...",{data:d,metadata:Mt});const Ft=await(this.client||await this.initializeClient()).signData(d,Mt);return this.logger.debug("Data signed successfully",Ft),Ft}catch(Ot){throw isSignDataError(Ot)?(this.logger.error("Error signing data:",Ot.message,`(code: ${Ot.code})`),new SignDataError(Ot.message,Ot.code)):(this.logger.error("Unknown error signing data:",Ot),Ot)}});this.options=Ut,this.store=Mt}async initializeClient(){var Ft;this.logger.info("Initializing client...");const Mt=(await __vitePreload(()=>import("./use-wallet-Df6KNeSA.js"),[])).default,Ot=new Mt((Ft=this.options)==null?void 0:Ft.siteName);return this.client=Ot,this.logger.info("Client initialized"),Ot}async getGenesisId(){const d=this.activeNetworkConfig;if(d.genesisId)return d.genesisId;const Ot=await this.getAlgodClient().genesis().do(),Ft=algosdk.parseJSON(Ot,{intDecoding:algosdk.IntDecoding.MIXED});return`${Ft.network}-${Ft.id}`}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}},Oo(Sl,"defaultMetadata",{name:"Lute",icon:ICON9}),Sl),ICON10=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 47 47" xmlns="http://www.w3.org/2000/svg">
  <path fill="#6851FF" d="M 23.960861 1.80769 C 25.835077 4.103153 27.902216 6.23489 30.137539 8.178169 C 28.647968 13.009323 27.846092 18.142094 27.846092 23.462154 C 27.846092 28.782307 28.648062 33.915169 30.13763 38.746368 C 27.902216 40.689724 25.835077 42.821476 23.960861 45.116985 C 22.086554 42.821476 20.019415 40.689632 17.783998 38.746368 C 19.273476 33.915169 20.075445 28.7824 20.075445 23.462337 C 20.075445 18.142277 19.273476 13.009506 17.783998 8.178318 C 20.019415 6.235001 22.086554 4.10321 23.960861 1.80769 Z M 13.511427 35.406403 C 11.145139 33.747814 8.633816 32.282063 6.000269 31.031937 C 6.730776 28.637476 7.123754 26.095783 7.123754 23.462429 C 7.123754 20.828892 6.730762 18.287201 6.000235 15.892738 C 8.633816 14.642616 11.145175 13.176861 13.511501 11.518276 C 14.416311 15.352554 14.895074 19.351414 14.895074 23.462154 C 14.895074 27.572985 14.416283 31.571938 13.511427 35.406403 Z M 33.027046 23.462337 C 33.027046 27.572985 33.505753 31.571846 34.410553 35.406124 C 36.776859 33.747631 39.288094 32.281876 41.921539 31.031845 C 41.191017 28.637384 40.798061 26.095692 40.798061 23.462246 C 40.798061 20.8288 41.191017 18.287201 41.921539 15.89283 C 39.288094 14.642708 36.776768 13.177048 34.410553 11.518555 C 33.505753 15.352831 33.027046 19.351692 33.027046 23.462337 Z" />
</svg>
`)}`,El,MagicAuth=(El=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut,metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"store");Oo(this,"userInfo",null);Oo(this,"connect",async d=>{if(this.logger.info("Connecting..."),!(d!=null&&d.email)||typeof d.email!="string")throw this.logger.error("Magic Link provider requires an email (string) to connect"),new Error("Magic Link provider requires an email (string) to connect");const{email:Mt}=d,Ot=this.client||await this.initializeClient();this.logger.info(`Logging in ${Mt}...`),await Ot.auth.loginWithMagicLink({email:Mt});const Ft=await Ot.user.getInfo();if(!Ft)throw this.logger.error("User info not found!"),new Error("User info not found!");if(!Ft.publicAddress)throw this.logger.error("No account found!"),new Error("No account found!");this.userInfo=Ft,this.logger.info("Login successful",Ft);const Ut={name:Ft.email??"Magic Wallet 1",address:Ft.publicAddress},Xt={accounts:[Ut],activeAccount:Ut};return addWallet(this.store,{walletId:this.id,wallet:Xt}),this.logger.info("Connected successfully",Xt),[Ut]});Oo(this,"disconnect",async()=>{var Mt;this.logger.info("Disconnecting..."),this.onDisconnect();const d=this.client||await this.initializeClient();this.logger.info(`Logging out ${((Mt=this.userInfo)==null?void 0:Mt.email)||"user"}...`),await d.user.logout(),this.logger.info("Disconnected")});Oo(this,"resumeSession",async()=>{try{const Mt=this.store.state.wallets[this.id];if(!Mt){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const Ot=this.client||await this.initializeClient();if(!await Ot.user.isLoggedIn()){this.logger.warn("Not logged in, please reconnect..."),this.onDisconnect();return}const Ut=await Ot.user.getInfo();if(!Ut)throw await Ot.user.logout(),this.logger.error("User info not found!"),new Error("User info not found!");if(!Ut.publicAddress)throw await Ot.user.logout(),this.logger.error("No account found!"),new Error("No account found!");this.userInfo=Ut;const Xt={name:Ut.email??`${this.metadata.name} Account 1`,address:Ut.publicAddress},jr=Mt.accounts[0],{name:hn,address:Vr}=Xt,{name:fn,address:dn}=jr;hn===fn&&Vr===dn||(this.logger.warn("Session account mismatch, updating account",{prev:jr,current:Xt}),setAccounts(this.store,{walletId:this.id,accounts:[Xt]})),this.logger.info("Session resumed successfully")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const jr=flattenTxnGroup(d);Ot=this.processTxns(jr,Mt)}else{const jr=flattenTxnGroup(d);Ot=this.processEncodedTxns(jr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ot);const Ut=await Ft.algorand.signGroupTransactionV2(Ot);this.logger.debug("Received signed transactions from wallet",Ut);const Xt=Ut.map(jr=>jr===void 0?null:base64ToByteArray(jr));return this.logger.debug("Transactions signed successfully",Xt),Xt}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});if(!(Ut!=null&&Ut.apiKey))throw this.logger.error("Missing required option: apiKey"),new Error("Missing required option: apiKey");this.options=Ut,this.store=Mt}async initializeClient(){this.logger.info("Initializing client...");const d=(await Promise.resolve().then(()=>(init_es4(),es_exports))).Magic,Mt=(await Promise.resolve().then(()=>(init_es5(),es_exports2))).AlgorandExtension,Ot=new d(this.options.apiKey,{extensions:{algorand:new Mt({rpcUrl:""})}});return this.client=Ot,this.logger.info("Client initialized"),Ot}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}},Oo(El,"defaultMetadata",{name:"Magic",icon:ICON10}),El),LOCAL_STORAGE_MNEMONIC_KEY=`${LOCAL_STORAGE_KEY}_mnemonic`,ICON11=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#525252" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,xl,MnemonicWallet=(xl=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut,metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"account",null);Oo(this,"options");Oo(this,"store");Oo(this,"connect",async()=>{this.checkMainnet(),this.logger.info("Connecting...");const d=await this.initializeAccount(),Mt={name:`${this.metadata.name} Account`,address:d.addr.toString()},Ot={accounts:[Mt],activeAccount:Mt};return addWallet(this.store,{walletId:this.id,wallet:Ot}),this.logger.info("Connected successfully",Ot),[Mt]});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.account=null,this.removeMnemonicFromStorage(),this.logger.info("Disconnected")});Oo(this,"resumeSession",async()=>{if(this.checkMainnet(),!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),this.options.persistToStorage)try{await this.initializeAccount(),this.logger.info("Session resumed successfully")}catch(Ot){throw this.logger.error("Error resuming session:",Ot.message),this.disconnect(),Ot}else this.logger.info("No session to resume, disconnecting..."),this.disconnect()});Oo(this,"signTransactions",async(d,Mt)=>{this.checkMainnet();try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const Ut=flattenTxnGroup(d);Ot=this.processTxns(Ut,Mt)}else{const Ut=flattenTxnGroup(d);Ot=this.processEncodedTxns(Ut,Mt)}const Ft=Ot.map(Ut=>Ut.signTxn(this.account.sk));return this.logger.debug("Transactions signed successfully",{signedTxns:Ft}),Ft}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});const{persistToStorage:jr=!1,promptForMnemonic:hn=()=>Promise.resolve(prompt("Enter 25-word mnemonic passphrase:"))}=Ut||{};this.options={persistToStorage:jr,promptForMnemonic:hn},this.store=Mt,this.options.persistToStorage&&this.logger.warn("Persisting mnemonics to storage is insecure. Any private key mnemonics used should never hold real Algos (i.e., on MainNet). Use with caution!")}loadMnemonicFromStorage(){return StorageAdapter.getItem(LOCAL_STORAGE_MNEMONIC_KEY)}saveMnemonicToStorage(d){StorageAdapter.setItem(LOCAL_STORAGE_MNEMONIC_KEY,d)}removeMnemonicFromStorage(){StorageAdapter.removeItem(LOCAL_STORAGE_MNEMONIC_KEY)}checkMainnet(){try{if(!this.activeNetworkConfig.isTestnet)throw this.logger.warn("The Mnemonic wallet provider is insecure and intended for testing only. Any private key mnemonics used should never hold real Algos (i.e., on MainNet)."),new Error("Production network detected. Aborting.")}catch(d){throw this.disconnect(),d}}async initializeAccount(){let d=this.loadMnemonicFromStorage();if(!d){if(d=await this.options.promptForMnemonic(),!d)throw this.account=null,this.logger.error("No mnemonic provided"),new Error("No mnemonic provided");this.options.persistToStorage&&(this.logger.warn("Mnemonic saved to localStorage."),this.saveMnemonicToStorage(d))}const Mt=algosdk.mnemonicToSecretKey(d);return this.account=Mt,Mt}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),hn=Ft.sender.toString()===this.account.addr.toString();Xt&&hn&&Ot.push(Ft)}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&fn===this.account.addr.toString();Vr&&dn&&Ot.push(hn)}),Ot}},Oo(xl,"defaultMetadata",{name:"Mnemonic",icon:ICON11}),xl),ICON12=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#FFEE55" width="200" height="200" />
  <path fill="#1C1C1C" d="M106.1,64.3c2.2,9.1,1.5,17-1.7,17.8c-3.1,0.8-7.4-6-9.6-15c-2.2-9.1-1.5-17,1.7-17.8 C99.6,48.5,103.9,55.2,106.1,64.3z" />
  <path fill="#1C1C1C" d="M142.2,72.1c-4.8-5.1-14.5-3.7-21.6,3.1c-7,6.9-8.8,16.6-4,21.7c4.8,5.1,14.5,3.7,21.6-3.1 C145.3,86.9,147.1,77.2,142.2,72.1z" />
  <path fill="#1C1C1C" d="M103.7,150.8c3.1-0.8,3.7-9.2,1.4-18.8c-2.3-9.6-6.7-16.8-9.8-16c-3.1,0.8-3.7,9.2-1.4,18.8 C96.2,144.3,100.6,151.5,103.7,150.8z" />
  <path fill="#1C1C1C" d="M72.1,76.8c9,2.6,15.5,7.3,14.6,10.3c-0.9,3.1-8.9,3.4-17.8,0.8s-15.5-7.3-14.6-10.3 C55.1,74.5,63.1,74.1,72.1,76.8z" />
  <path fill="#1C1C1C" d="M130.2,111.5c9.5,2.8,16.5,7.6,15.6,10.6c-0.9,3.1-9.3,3.3-18.8,0.5c-9.5-2.8-16.5-7.6-15.6-10.6 C112.2,108.9,120.7,108.7,130.2,111.5z" />
  <path fill="#1C1C1C" d="M82.1,105c-2.2-2.3-9.5,1-16.3,7.5c-6.8,6.4-10.4,13.5-8.2,15.8c2.2,2.3,9.5-1,16.3-7.5 C80.7,114.4,84.3,107.3,82.1,105z" />
</svg>
`)}`,Al,PeraWallet=(Al=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,options:Ut={},metadata:Xt={}}){super({id:d,metadata:Xt,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"options");Oo(this,"store");Oo(this,"connect",async()=>{var jr;this.logger.info("Connecting...");const d=this.store.state.activeWallet;d&&d!==this.id&&this.manageWalletConnectSession("backup",d);const Mt=this.client||await this.initializeClient(),Ot=await Mt.connect();if((jr=Mt.connector)==null||jr.on("disconnect",this.onDisconnect),Ot.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ft=Ot.map((hn,Vr)=>({name:`${this.metadata.name} Account ${Vr+1}`,address:hn})),Ut=Ft[0],Xt={accounts:Ft,activeAccount:Ut};return addWallet(this.store,{walletId:this.id,wallet:Xt}),this.logger.info("Connected successfully",Xt),Ft});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const d=this.client||await this.initializeClient(),Mt=this.store.state.activeWallet;Mt&&Mt!==this.id?(this.manageWalletConnectSession("backup",Mt),this.manageWalletConnectSession("restore",this.id),await d.disconnect(),await new Promise(Ot=>setTimeout(Ot,500)),this.manageWalletConnectSession("restore",Mt)):await d.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Oo(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const d=this.store.state.activeWallet;d&&d==="defly"&&this.manageWalletConnectSession("backup",d),this.manageWalletConnectSession("restore"),setActiveWallet(this.store,{walletId:this.id})});Oo(this,"resumeSession",async()=>{try{const d=this.store.state,Mt=d.wallets[this.id];if(typeof window<"u"&&window.navigator&&window.navigator.userAgent.includes("pera")&&!Mt&&!d.activeWallet){this.logger.info("Pera Discover browser detected, attempting auto-connect...");try{await this.connect(),this.logger.info("Auto-connect successful");return}catch(hn){this.logger.warn("Auto-connect failed:",hn.message)}}if(!Mt){this.logger.info("No session to resume");return}if(d.activeWallet==="defly"){this.logger.info("Skipping reconnectSession for Pera (inactive)");return}this.logger.info("Resuming session...");const Ft=await(this.client||await this.initializeClient()).reconnectSession();if(Ft.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ut=Ft.map((jr,hn)=>({name:`${this.metadata.name} Account ${hn+1}`,address:jr}));compareAccounts(Ut,Mt.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Mt.accounts,current:Ut}),setAccounts(this.store,{walletId:this.id,accounts:Ut})),this.logger.info("Session resumed successfully")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const jr=flattenTxnGroup(d);Ot=this.processTxns(jr,Mt)}else{const jr=flattenTxnGroup(d);Ot=this.processEncodedTxns(jr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Ot]);const Ut=await Ft.signTransaction([Ot]);this.logger.debug("Received signed transactions from wallet",Ut);const Xt=Ot.reduce((jr,hn)=>{if(hn.signers&&hn.signers.length==0)jr.push(null);else{const Vr=Ut.shift();Vr&&jr.push(Vr)}return jr},[]);return this.logger.debug("Transactions signed successfully",Xt),Xt}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});this.options=Ut,this.store=Mt}async initializeClient(){this.logger.info("Initializing client...");const{PeraWalletConnect:d}=await __vitePreload(async()=>{const{PeraWalletConnect:Ot}=await import("./index-CfeqiG4c.js").then(Ft=>Ft.i);return{PeraWalletConnect:Ot}},__vite__mapDeps([2,1])),Mt=new d(this.options);return this.client=Mt,this.logger.info("Client initialized"),Mt}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr);Xt&&hn?Ot.push({txn:Ft}):Ot.push({txn:Ft,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn);Vr&&dn?Ot.push({txn:hn}):Ot.push({txn:hn,signers:[]})}),Ot}},Oo(Al,"defaultMetadata",{name:"Pera",icon:ICON12}),Al),ICON13=`data:image/svg+xml;base64,${btoa(`
<svg width="860" height="860" viewBox="0 0 860 860" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="860" height="860" rx="30" fill="#151923"/>
  <path d="M766 207L496.627 623.406C463.521 675.336 382.014 652.248 382.014 590.941V432.568L260.638 623.28C227.559 675.255 146 652.186 146 590.854V274.844H234.646V499.761L356.022 309.049C389.101 257.074 470.66 280.143 470.66 341.475V499.978L660.146 207L766 207Z" fill="#4BB7D1"/>
</svg>
`)}`,_l,W3Wallet=(_l=class extends BaseWallet{constructor({id:d,store:Mt,subscribe:Ot,getAlgodClient:Ft,metadata:Ut={}}){super({id:d,metadata:Ut,getAlgodClient:Ft,store:Mt,subscribe:Ot});Oo(this,"client",null);Oo(this,"store");Oo(this,"connect",async()=>{this.logger.info("Connecting...");const Mt=await(this.client||await this.initializeClient()).account(),Ot={accounts:[Mt],activeAccount:Mt};return addWallet(this.store,{walletId:this.id,wallet:Ot}),this.logger.info(" Connected.",Ot),[Mt]});Oo(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Oo(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!await(await this.initializeClient()).isConnected())throw this.logger.error("W3 Wallet is not connected."),new Error("W3 Wallet is not connected.");this.logger.info("Session resumed")}catch(d){throw this.logger.error("Error resuming session:",d.message),this.onDisconnect(),d}});Oo(this,"signTransactions",async(d,Mt)=>{try{this.logger.debug("Signing transactions...",{txnGroup:d,indexesToSign:Mt});let Ot=[];if(isTransactionArray(d)){const jr=flattenTxnGroup(d);Ot=this.processTxns(jr,Mt)}else{const jr=flattenTxnGroup(d);Ot=this.processEncodedTxns(jr,Mt)}const Ft=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ot);const Ut=await Ft.signTxns(Ot);this.logger.debug("Received signed transactions from wallet",Ut);const Xt=Ut.map(jr=>jr===null?null:base64ToByteArray(jr));return this.logger.debug("Transactions signed successfully",Xt),Xt}catch(Ot){throw this.logger.error("Error signing transactions:",Ot.message),Ot}});this.store=Mt}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.w3walletAlgorand===void 0)throw this.logger.error("W3 Wallet is not available."),new Error("W3 Wallet is not available.");const d=window.w3walletAlgorand;return this.client=d,this.logger.info("Client initialized"),d}processTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=!Mt||Mt.includes(Ut),jr=Ft.sender.toString(),hn=this.addresses.includes(jr),Vr=byteArrayToBase64(Ft.toByte());Xt&&hn?Ot.push({txn:Vr}):Ot.push({txn:Vr,signers:[]})}),Ot}processEncodedTxns(d,Mt){const Ot=[];return d.forEach((Ft,Ut)=>{const Xt=algosdk.msgpackRawDecode(Ft),jr=isSignedTxn(Xt),hn=jr?algosdk.decodeSignedTransaction(Ft).txn:algosdk.decodeUnsignedTransaction(Ft),Vr=!Mt||Mt.includes(Ut),fn=hn.sender.toString(),dn=!jr&&this.addresses.includes(fn),pn=byteArrayToBase64(hn.toByte());Vr&&dn?Ot.push({txn:pn}):Ot.push({txn:pn,signers:[]})}),Ot}},Oo(_l,"defaultMetadata",{name:"W3 Wallet",icon:ICON13}),_l);function createWalletMap(){return{biatec:BiatecWallet,custom:CustomWallet,defly:DeflyWallet,"defly-web":DeflyWebWallet,exodus:ExodusWallet,kibisis:KibisisWallet,kmd:KmdWallet,lute:LuteWallet,magic:MagicAuth,mnemonic:MnemonicWallet,pera:PeraWallet,walletconnect:WalletConnect,"w3-wallet":W3Wallet}}function compareAccounts(_e,d){const Mt=new Set(_e.map(Ft=>Ft.address)),Ot=new Set(d.map(Ft=>Ft.address));if(Mt.size!==Ot.size)return!1;for(const Ft of Mt)if(!Ot.has(Ft))return!1;return!0}function base64ToByteArray(_e){return stringToByteArray(atob(_e))}function byteArrayToBase64(_e){return btoa(byteArrayToString(_e))}function stringToByteArray(_e){const d=new Uint8Array(_e.length);for(let Mt=0;Mt<_e.length;Mt++)d[Mt]=_e.charCodeAt(Mt);return d}function byteArrayToString(_e){let d="";for(let Mt=0;Mt<_e.length;Mt++)d+=String.fromCharCode(_e[Mt]);return d}function isSignedTxn(_e){if(!_e||typeof _e!="object"||!("sig"in _e&&"txn"in _e)||!(_e.sig instanceof Uint8Array))return!1;const d=_e.txn;return!d||typeof d!="object"?!1:"type"in d&&"snd"in d}function isTransaction(_e){return _e&&typeof _e=="object"&&"sender"in _e&&(_e.sender instanceof algosdk.Address||typeof _e.sender=="string")}function isTransactionArray(_e){return!Array.isArray(_e)||_e.length===0?!1:!!(isTransaction(_e[0])||Array.isArray(_e[0])&&_e[0].length>0&&isTransaction(_e[0][0]))}function flattenTxnGroup(_e){return Array.isArray(_e[0])?_e.flat():_e}function getPayloadId(){const _e=Date.now()*Math.pow(10,3),d=Math.floor(Math.random()*Math.pow(10,3));return _e+d}function formatJsonRpcRequest(_e,d){return{id:getPayloadId(),jsonrpc:"2.0",method:_e,params:d}}var WalletManager=class{constructor({wallets:_e=[],networks:d,defaultNetwork:Mt="testnet",options:Ot={}}={}){Oo(this,"_clients",new Map);Oo(this,"baseNetworkConfig");Oo(this,"store");Oo(this,"subscribe");Oo(this,"options");Oo(this,"logger");Oo(this,"getAlgodClient",()=>this.algodClient);Oo(this,"setActiveNetwork",async _e=>{if(this.activeNetwork===_e)return;if(!this.networkConfig[_e])throw new Error(`Network "${_e}" not found in network configuration`);const d=this.createAlgodClient(this.networkConfig[_e].algod);setActiveNetwork(this.store,{networkId:_e,algodClient:d}),this.logger.info(` Active network set to ${_e}`)});this.logger=this.initializeLogger(Ot),this.logger.debug("Initializing WalletManager with config:",{wallets:_e,networks:d,defaultNetwork:Mt,options:Ot});const Ft=this.loadPersistedState();this.baseNetworkConfig=d||createNetworkConfig();const Ut=this.initNetworkConfig(this.baseNetworkConfig,Ft);this.options={resetNetwork:Ot.resetNetwork||!1};const Xt=this.options.resetNetwork?Mt:(Ft==null?void 0:Ft.activeNetwork)||Mt;if(!Ut[Xt])throw new Error(`Network "${Xt}" not found in network configuration`);const jr=this.createAlgodClient(Ut[Xt].algod),hn={...DEFAULT_STATE,...Ft,networkConfig:Ut,activeNetwork:Xt,algodClient:jr};this.store=new Store(hn,{onUpdate:()=>this.savePersistedState()}),this.savePersistedState(),this.subscribe=Vr=>this.store.subscribe(()=>{Vr(this.store.state)}),this.initializeWallets(_e)}initializeLogger(_e){const d=this.determineLogLevel(_e);return Logger.setLevel(d),logger.createScopedLogger("WalletManager")}determineLogLevel(_e){return _e!=null&&_e.debug?0:(_e==null?void 0:_e.logLevel)!==void 0?_e.logLevel:2}get algodClient(){return this.store.state.algodClient}set algodClient(_e){this.store.setState(d=>({...d,algodClient:_e}))}loadPersistedState(){try{const _e=StorageAdapter.getItem(LOCAL_STORAGE_KEY);if(_e===null)return null;const d=JSON.parse(_e);if(!isValidPersistedState(d))throw this.logger.warn("Parsed state:",d),new Error("Persisted state is invalid");return d}catch(_e){return this.logger.error(`Could not load state from local storage: ${_e.message}`),null}}savePersistedState(){try{const{wallets:_e,activeWallet:d,activeNetwork:Mt,networkConfig:Ot}=this.store.state,Ft={wallets:_e,activeWallet:d,activeNetwork:Mt,customNetworkConfigs:{}};for(const[Xt,jr]of Object.entries(Ot)){const hn=this.baseNetworkConfig[Xt];if(!hn)continue;const Vr={};let fn=!1;JSON.stringify(jr.algod)!==JSON.stringify(hn.algod)&&(Vr.algod=jr.algod,fn=!0),fn&&(Ft.customNetworkConfigs={...Ft.customNetworkConfigs||{},[Xt]:Vr})}const Ut=JSON.stringify(Ft);StorageAdapter.setItem(LOCAL_STORAGE_KEY,Ut)}catch(_e){this.logger.error("Could not save state to local storage:",_e)}}get status(){return this.store.state.managerStatus}get isReady(){return this.store.state.managerStatus==="ready"}initializeWallets(_e){this.logger.info("Initializing wallets...");for(const Ot of _e){let Ft,Ut,Xt;if(typeof Ot=="string")Ft=Ot;else{const{id:fn,options:dn,metadata:pn}=Ot;Ft=fn,Ut=dn,Xt=pn}const hn=createWalletMap()[Ft];if(!hn){this.logger.error(`Wallet not found: ${Ft}`);continue}const Vr=new hn({id:Ft,metadata:Xt,options:Ut,getAlgodClient:this.getAlgodClient,store:this.store,subscribe:this.subscribe});this._clients.set(Ft,Vr),this.logger.info(` Initialized ${Ft}`)}const d=this.store.state,Mt=Object.keys(d.wallets);for(const Ot of Mt)this._clients.has(Ot)||(this.logger.warn(`Connected wallet not found: ${Ot}`),removeWallet(this.store,{walletId:Ot}));d.activeWallet&&!this._clients.has(d.activeWallet)&&(this.logger.warn(`Active wallet not found: ${d.activeWallet}`),setActiveWallet(this.store,{walletId:null}))}get wallets(){return[...this._clients.values()]}getWallet(_e){return this._clients.get(_e)}async resumeSessions(){try{const _e=this.wallets.map(d=>d==null?void 0:d.resumeSession());await Promise.all(_e)}finally{this.store.setState(_e=>({..._e,managerStatus:"ready"}))}}async disconnect(){const _e=this.wallets.filter(d=>d.isConnected).map(d=>d==null?void 0:d.disconnect());await Promise.all(_e)}initNetworkConfig(_e,d){this.logger.info("Initializing network configuration...");const Mt=(d==null?void 0:d.customNetworkConfigs)||{},Ot={};for(const[Ft,Ut]of Object.entries(_e)){const Xt=Mt[Ft];Ot[Ft]={...Ut,...Xt,algod:{...Ut.algod,...(Xt==null?void 0:Xt.algod)||{}}}}for(const[Ft,Ut]of Object.entries(Ot))if(!isNetworkConfig(Ut))throw new Error(`Invalid network configuration for "${Ft}"`);return this.logger.debug("Network configuration:",Ot),Ot}createAlgodClient(_e){this.logger.info("Creating new Algodv2 client...");const{token:d="",baseServer:Mt,port:Ot="",headers:Ft={}}=_e;return new algosdk.Algodv2(d,Mt,Ot,Ft)}updateAlgodConfig(_e,d){if(!this.networkConfig[_e])throw new Error(`Network "${_e}" not found in network configuration`);const Mt={...this.networkConfig[_e],algod:{...this.networkConfig[_e].algod,...d}};if(!isNetworkConfig(Mt))throw new Error("Invalid network configuration");this.store.setState(Ot=>({...Ot,networkConfig:{...Ot.networkConfig,[_e]:Mt}})),this.activeNetwork===_e&&(this.algodClient=this.createAlgodClient(Mt.algod)),this.savePersistedState(),this.logger.info(` Updated algod configuration for ${_e}`)}resetNetworkConfig(_e){if(!this.baseNetworkConfig[_e])throw new Error(`Network "${_e}" not found in network configuration`);this.store.setState(Mt=>({...Mt,networkConfig:{...Mt.networkConfig,[_e]:{...this.baseNetworkConfig[_e]}}})),this.activeNetwork===_e&&(this.algodClient=this.createAlgodClient(this.baseNetworkConfig[_e].algod));const d=this.loadPersistedState();d!=null&&d.customNetworkConfigs&&(delete d.customNetworkConfigs[_e],StorageAdapter.setItem(LOCAL_STORAGE_KEY,JSON.stringify(d))),this.logger.info(` Reset network configuration for ${_e}`)}get activeNetwork(){return this.store.state.activeNetwork}get networkConfig(){return this.store.state.networkConfig}get activeNetworkConfig(){const{networkConfig:_e,activeNetwork:d}=this.store.state;return _e[d]}get activeWallet(){const _e=this.store.state,d=this.wallets.find(Mt=>Mt.id===_e.activeWallet);return d||null}get activeWalletAccounts(){return this.activeWallet?this.activeWallet.accounts:null}get activeWalletAddresses(){return this.activeWallet?this.activeWallet.accounts.map(_e=>_e.address):null}get activeAccount(){return this.activeWallet?this.activeWallet.activeAccount:null}get activeAddress(){return this.activeAccount?this.activeAccount.address:null}get signTransactions(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.signTransactions}get transactionSigner(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.transactionSigner}},WalletContext=reactExports.createContext(void 0),WalletProvider=({manager:_e,children:d})=>{const[Mt,Ot]=reactExports.useState(_e.algodClient);reactExports.useEffect(()=>{_e.algodClient=Mt},[Mt,_e]);const Ft=reactExports.useRef(!1);return reactExports.useEffect(()=>{Ft.current||(_e.resumeSessions(),Ft.current=!0)},[_e]),jsxRuntimeExports.jsx(WalletContext.Provider,{value:{manager:_e,algodClient:Mt,setAlgodClient:Ot},children:d})},useWallet$2=()=>{const _e=reactExports.useContext(WalletContext);if(!_e)throw new Error("useWallet must be used within the WalletProvider");const{manager:d,algodClient:Mt,setAlgodClient:Ot}=_e,Ut=useStore(d.store,jn=>jn.managerStatus)==="ready",Xt=useStore(d.store,jn=>jn.wallets),jr=useStore(d.store,jn=>jn.activeWallet),hn=reactExports.useCallback(jn=>{const Hn=Xt[jn.id];return{id:jn.id,metadata:jn.metadata,accounts:(Hn==null?void 0:Hn.accounts)??[],activeAccount:(Hn==null?void 0:Hn.activeAccount)??null,isConnected:!!Hn,isActive:jn.id===jr,canSignData:jn.canSignData??!1,connect:Jn=>jn.connect(Jn),disconnect:()=>jn.disconnect(),setActive:()=>jn.setActive(),setActiveAccount:Jn=>jn.setActiveAccount(Jn)}},[Xt,jr]),Vr=reactExports.useMemo(()=>[...d.wallets.values()].map(hn),[d,hn]),fn=jr&&d.getWallet(jr)||null,dn=reactExports.useMemo(()=>fn?hn(fn):null,[fn,hn]),pn=(dn==null?void 0:dn.accounts)??null,En=(pn==null?void 0:pn.map(jn=>jn.address))??null,_n=(dn==null?void 0:dn.activeAccount)??null,Dn=(_n==null?void 0:_n.address)??null;return{wallets:Vr,isReady:Ut,algodClient:Mt,setAlgodClient:Ot,activeWallet:dn,activeWalletAccounts:pn,activeWalletAddresses:En,activeAccount:_n,activeAddress:Dn,signData:(jn,Hn)=>{if(!fn)throw new Error("No active wallet");return fn.signData(jn,Hn)},signTransactions:(jn,Hn)=>{if(!fn)throw new Error("No active wallet");return fn.signTransactions(jn,Hn)},transactionSigner:(jn,Hn)=>{if(!fn)throw new Error("No active wallet");return fn.transactionSigner(jn,Hn)}}};function r(_e){var d,Mt,Ot="";if(typeof _e=="string"||typeof _e=="number")Ot+=_e;else if(typeof _e=="object")if(Array.isArray(_e))for(d=0;d<_e.length;d++)_e[d]&&(Mt=r(_e[d]))&&(Ot&&(Ot+=" "),Ot+=Mt);else for(d in _e)_e[d]&&(Ot&&(Ot+=" "),Ot+=d);return Ot}function clsx(){for(var _e,d,Mt=0,Ot="";Mt<arguments.length;)(_e=arguments[Mt++])&&(d=r(_e))&&(Ot&&(Ot+=" "),Ot+=d);return Ot}let e={data:""},t=_e=>typeof window=="object"?((_e?_e.querySelector("#_goober"):window._goober)||Object.assign((_e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:_e||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(_e,d)=>{let Mt="",Ot="",Ft="";for(let Ut in _e){let Xt=_e[Ut];Ut[0]=="@"?Ut[1]=="i"?Mt=Ut+" "+Xt+";":Ot+=Ut[1]=="f"?o(Xt,Ut):Ut+"{"+o(Xt,Ut[1]=="k"?"":d)+"}":typeof Xt=="object"?Ot+=o(Xt,d?d.replace(/([^,])+/g,jr=>Ut.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,hn=>/&/.test(hn)?hn.replace(/&/g,jr):jr?jr+" "+hn:hn)):Ut):Xt!=null&&(Ut=/^--/.test(Ut)?Ut:Ut.replace(/[A-Z]/g,"-$&").toLowerCase(),Ft+=o.p?o.p(Ut,Xt):Ut+":"+Xt+";")}return Mt+(d&&Ft?d+"{"+Ft+"}":Ft)+Ot},c={},s=_e=>{if(typeof _e=="object"){let d="";for(let Mt in _e)d+=Mt+s(_e[Mt]);return d}return _e},i=(_e,d,Mt,Ot,Ft)=>{let Ut=s(_e),Xt=c[Ut]||(c[Ut]=(hn=>{let Vr=0,fn=11;for(;Vr<hn.length;)fn=101*fn+hn.charCodeAt(Vr++)>>>0;return"go"+fn})(Ut));if(!c[Xt]){let hn=Ut!==_e?_e:(Vr=>{let fn,dn,pn=[{}];for(;fn=l.exec(Vr.replace(a,""));)fn[4]?pn.shift():fn[3]?(dn=fn[3].replace(n," ").trim(),pn.unshift(pn[0][dn]=pn[0][dn]||{})):pn[0][fn[1]]=fn[2].replace(n," ").trim();return pn[0]})(_e);c[Xt]=o(Ft?{["@keyframes "+Xt]:hn}:hn,Mt?"":"."+Xt)}let jr=Mt&&c.g?c.g:null;return Mt&&(c.g=c[Xt]),((hn,Vr,fn,dn)=>{dn?Vr.data=Vr.data.replace(dn,hn):Vr.data.indexOf(hn)===-1&&(Vr.data=fn?hn+Vr.data:Vr.data+hn)})(c[Xt],d,Ot,jr),Xt},p=(_e,d,Mt)=>_e.reduce((Ot,Ft,Ut)=>{let Xt=d[Ut];if(Xt&&Xt.call){let jr=Xt(Mt),hn=jr&&jr.props&&jr.props.className||/^go/.test(jr)&&jr;Xt=hn?"."+hn:jr&&typeof jr=="object"?jr.props?"":o(jr,""):jr===!1?"":jr}return Ot+Ft+(Xt??"")},"");function u(_e){let d=this||{},Mt=_e.call?_e(d.p):_e;return i(Mt.unshift?Mt.raw?p(Mt,[].slice.call(arguments,1),d.p):Mt.reduce((Ot,Ft)=>Object.assign(Ot,Ft&&Ft.call?Ft(d.p):Ft),{}):Mt,t(d.target),d.g,d.o,d.k)}u.bind({g:1});u.bind({k:1});function _defineProperties(_e,d){for(var Mt=0;Mt<d.length;Mt++){var Ot=d[Mt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(_e,Ot.key,Ot)}}function _createClass(_e,d,Mt){return d&&_defineProperties(_e.prototype,d),_e}function _extends(){return _extends=Object.assign||function(_e){for(var d=1;d<arguments.length;d++){var Mt=arguments[d];for(var Ot in Mt)Object.prototype.hasOwnProperty.call(Mt,Ot)&&(_e[Ot]=Mt[Ot])}return _e},_extends.apply(this,arguments)}function _inheritsLoose(_e,d){_e.prototype=Object.create(d.prototype),_e.prototype.constructor=_e,_e.__proto__=d}function _objectWithoutPropertiesLoose(_e,d){if(_e==null)return{};var Mt={},Ot=Object.keys(_e),Ft,Ut;for(Ut=0;Ut<Ot.length;Ut++)Ft=Ot[Ut],!(d.indexOf(Ft)>=0)&&(Mt[Ft]=_e[Ft]);return Mt}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}var noOp=function _e(){return""},SnackbarContext=React$2.createContext({enqueueSnackbar:noOp,closeSnackbar:noOp}),breakpoints={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},capitalise=function _e(d){return d.charAt(0).toUpperCase()+d.slice(1)},originKeyExtractor=function _e(d){return""+capitalise(d.vertical)+capitalise(d.horizontal)},isDefined=function _e(d){return!!d||d===0},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(_e){_inheritsLoose(d,_e);function d(Ot){var Ft;Ft=_e.call(this,Ot)||this;var Ut=Ot.appear,Xt;return Ft.appearStatus=null,Ot.in?Ut?(Xt=EXITED,Ft.appearStatus=ENTERING):Xt=ENTERED:Ot.unmountOnExit||Ot.mountOnEnter?Xt=UNMOUNTED:Xt=EXITED,Ft.state={status:Xt},Ft.nextCallback=null,Ft}d.getDerivedStateFromProps=function(Ft,Ut){var Xt=Ft.in;return Xt&&Ut.status===UNMOUNTED?{status:EXITED}:null};var Mt=d.prototype;return Mt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Mt.componentDidUpdate=function(Ft){var Ut=null;if(Ft!==this.props){var Xt=this.state.status;this.props.in?Xt!==ENTERING&&Xt!==ENTERED&&(Ut=ENTERING):(Xt===ENTERING||Xt===ENTERED)&&(Ut=EXITING)}this.updateStatus(!1,Ut)},Mt.componentWillUnmount=function(){this.cancelNextCallback()},Mt.getTimeouts=function(){var Ft=this.props.timeout,Ut=Ft,Xt=Ft;return Ft!=null&&typeof Ft!="number"&&typeof Ft!="string"&&(Xt=Ft.exit,Ut=Ft.enter),{exit:Xt,enter:Ut}},Mt.updateStatus=function(Ft,Ut){Ft===void 0&&(Ft=!1),Ut!==null?(this.cancelNextCallback(),Ut===ENTERING?this.performEnter(Ft):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},Mt.performEnter=function(Ft){var Ut=this,Xt=this.props.enter,jr=Ft,hn=this.getTimeouts();if(!Ft&&!Xt){this.safeSetState({status:ENTERED},function(){Ut.props.onEntered&&Ut.props.onEntered(Ut.node,jr)});return}this.props.onEnter&&this.props.onEnter(this.node,jr),this.safeSetState({status:ENTERING},function(){Ut.props.onEntering&&Ut.props.onEntering(Ut.node,jr),Ut.onTransitionEnd(hn.enter,function(){Ut.safeSetState({status:ENTERED},function(){Ut.props.onEntered&&Ut.props.onEntered(Ut.node,jr)})})})},Mt.performExit=function(){var Ft=this,Ut=this.props.exit,Xt=this.getTimeouts();if(!Ut){this.safeSetState({status:EXITED},function(){Ft.props.onExited&&Ft.props.onExited(Ft.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:EXITING},function(){Ft.props.onExiting&&Ft.props.onExiting(Ft.node),Ft.onTransitionEnd(Xt.exit,function(){Ft.safeSetState({status:EXITED},function(){Ft.props.onExited&&Ft.props.onExited(Ft.node)})})})},Mt.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},Mt.safeSetState=function(Ft,Ut){Ut=this.setNextCallback(Ut),this.setState(Ft,Ut)},Mt.setNextCallback=function(Ft){var Ut=this,Xt=!0;return this.nextCallback=function(){Xt&&(Xt=!1,Ut.nextCallback=null,Ft())},this.nextCallback.cancel=function(){Xt=!1},this.nextCallback},Mt.onTransitionEnd=function(Ft,Ut){this.setNextCallback(Ut);var Xt=Ft==null&&!this.props.addEndListener;if(!this.node||Xt){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),Ft!=null&&setTimeout(this.nextCallback,Ft)},Mt.render=function(){var Ft=this.state.status;if(Ft===UNMOUNTED)return null;var Ut=this.props,Xt=Ut.children,jr=_objectWithoutPropertiesLoose(Ut,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xt(Ft,jr)},_createClass(d,[{key:"node",get:function(){var Ft,Ut=(Ft=this.props.nodeRef)===null||Ft===void 0?void 0:Ft.current;if(!Ut)throw new Error("notistack - Custom snackbar is not refForwarding");return Ut}}]),d}(React$2.Component);function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};function setRef(_e,d){typeof _e=="function"?_e(d):_e&&(_e.current=d)}function useForkRef(_e,d){return reactExports.useMemo(function(){return _e==null&&d==null?null:function(Mt){setRef(_e,Mt),setRef(d,Mt)}},[_e,d])}function getTransitionProps(_e){var d=_e.timeout,Mt=_e.style,Ot=Mt===void 0?{}:Mt,Ft=_e.mode;return{duration:typeof d=="object"?d[Ft]||0:d,easing:Ot.transitionTimingFunction,delay:Ot.transitionDelay}}var defaultEasing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},reflow=function _e(d){d.scrollTop=d.scrollTop},formatMs=function _e(d){return Math.round(d)+"ms"};function createTransition(_e,d){_e===void 0&&(_e=["all"]);var Mt=d||{},Ot=Mt.duration,Ft=Ot===void 0?300:Ot,Ut=Mt.easing,Xt=Ut===void 0?defaultEasing.easeInOut:Ut,jr=Mt.delay,hn=jr===void 0?0:jr,Vr=Array.isArray(_e)?_e:[_e];return Vr.map(function(fn){var dn=typeof Ft=="string"?Ft:formatMs(Ft),pn=typeof hn=="string"?hn:formatMs(hn);return fn+" "+dn+" "+Xt+" "+pn}).join(",")}function ownerDocument(_e){return _e&&_e.ownerDocument||document}function ownerWindow(_e){var d=ownerDocument(_e);return d.defaultView||window}function debounce(_e,d){d===void 0&&(d=166);var Mt;function Ot(){for(var Ft=this,Ut=arguments.length,Xt=new Array(Ut),jr=0;jr<Ut;jr++)Xt[jr]=arguments[jr];var hn=function(){_e.apply(Ft,Xt)};clearTimeout(Mt),Mt=setTimeout(hn,d)}return Ot.clear=function(){clearTimeout(Mt)},Ot}function getTranslateValue(_e,d){var Mt=d.getBoundingClientRect(),Ot=ownerWindow(d),Ft;if(d.fakeTransform)Ft=d.fakeTransform;else{var Ut=Ot.getComputedStyle(d);Ft=Ut.getPropertyValue("-webkit-transform")||Ut.getPropertyValue("transform")}var Xt=0,jr=0;if(Ft&&Ft!=="none"&&typeof Ft=="string"){var hn=Ft.split("(")[1].split(")")[0].split(",");Xt=parseInt(hn[4],10),jr=parseInt(hn[5],10)}switch(_e){case"left":return"translateX("+(Ot.innerWidth+Xt-Mt.left)+"px)";case"right":return"translateX(-"+(Mt.left+Mt.width-Xt)+"px)";case"up":return"translateY("+(Ot.innerHeight+jr-Mt.top)+"px)";default:return"translateY(-"+(Mt.top+Mt.height-jr)+"px)"}}function setTranslateValue(_e,d){if(d){var Mt=getTranslateValue(_e,d);Mt&&(d.style.webkitTransform=Mt,d.style.transform=Mt)}}var Slide=reactExports.forwardRef(function(_e,d){var Mt=_e.children,Ot=_e.direction,Ft=Ot===void 0?"down":Ot,Ut=_e.in,Xt=_e.style,jr=_e.timeout,hn=jr===void 0?0:jr,Vr=_e.onEnter,fn=_e.onEntered,dn=_e.onExit,pn=_e.onExited,En=_objectWithoutPropertiesLoose(_e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),_n=reactExports.useRef(null),Dn=useForkRef(Mt.ref,_n),Vn=useForkRef(Dn,d),Pn=function(ba,eo){setTranslateValue(Ft,ba),reflow(ba),Vr&&Vr(ba,eo)},qn=function(ba){var eo=(Xt==null?void 0:Xt.transitionTimingFunction)||defaultEasing.easeOut,xa=getTransitionProps({timeout:hn,mode:"enter",style:_extends({},Xt,{transitionTimingFunction:eo})});ba.style.webkitTransition=createTransition("-webkit-transform",xa),ba.style.transition=createTransition("transform",xa),ba.style.webkitTransform="none",ba.style.transform="none"},jn=function(ba){var eo=(Xt==null?void 0:Xt.transitionTimingFunction)||defaultEasing.sharp,xa=getTransitionProps({timeout:hn,mode:"exit",style:_extends({},Xt,{transitionTimingFunction:eo})});ba.style.webkitTransition=createTransition("-webkit-transform",xa),ba.style.transition=createTransition("transform",xa),setTranslateValue(Ft,ba),dn&&dn(ba)},Hn=function(ba){ba.style.webkitTransition="",ba.style.transition="",pn&&pn(ba)},Jn=reactExports.useCallback(function(){_n.current&&setTranslateValue(Ft,_n.current)},[Ft]);return reactExports.useEffect(function(){if(!(Ut||Ft==="down"||Ft==="right")){var Gn=debounce(function(){_n.current&&setTranslateValue(Ft,_n.current)}),ba=ownerWindow(_n.current);return ba.addEventListener("resize",Gn),function(){Gn.clear(),ba.removeEventListener("resize",Gn)}}},[Ft,Ut]),reactExports.useEffect(function(){Ut||Jn()},[Ut,Jn]),reactExports.createElement(Transition,Object.assign({appear:!0,nodeRef:_n,onEnter:Pn,onEntered:fn,onEntering:qn,onExit:jn,onExited:Hn,in:Ut,timeout:hn},En),function(Gn,ba){return reactExports.cloneElement(Mt,_extends({ref:Vn,style:_extends({visibility:Gn==="exited"&&!Ut?"hidden":void 0},Xt,{},Mt.props.style)},ba))})});Slide.displayName="Slide";var SvgIcon=function _e(d){return React$2.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},d))},CheckIcon=function _e(){return React$2.createElement(SvgIcon,null,React$2.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},WarningIcon=function _e(){return React$2.createElement(SvgIcon,null,React$2.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},ErrorIcon=function _e(){return React$2.createElement(SvgIcon,null,React$2.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},InfoIcon=function _e(){return React$2.createElement(SvgIcon,null,React$2.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},defaultIconVariants={default:void 0,success:React$2.createElement(CheckIcon,null),warning:React$2.createElement(WarningIcon,null),error:React$2.createElement(ErrorIcon,null),info:React$2.createElement(InfoIcon,null)},defaults={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:defaultIconVariants,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Slide,transitionDuration:{enter:225,exit:195}},getAutoHideDuration=function _e(d,Mt){var Ot=function(Ut){return typeof Ut=="number"||Ut===null};return Ot(d)?d:Ot(Mt)?Mt:defaults.autoHideDuration},getTransitionDuration=function _e(d,Mt){var Ot=function(Ut,Xt){return Xt.some(function(jr){return typeof Ut===jr})};return Ot(d,["string","number"])?d:Ot(d,["object"])?_extends({},defaults.transitionDuration,{},Ot(Mt,["object"])&&Mt,{},d):Ot(Mt,["string","number"])?Mt:Ot(Mt,["object"])?_extends({},defaults.transitionDuration,{},Mt):defaults.transitionDuration},merge=function _e(d,Mt){return function(Ot,Ft){return Ft===void 0&&(Ft=!1),Ft?_extends({},defaults[Ot],{},Mt[Ot],{},d[Ot]):Ot==="autoHideDuration"?getAutoHideDuration(d.autoHideDuration,Mt.autoHideDuration):Ot==="transitionDuration"?getTransitionDuration(d.transitionDuration,Mt.transitionDuration):d[Ot]||Mt[Ot]||defaults[Ot]}};function makeStyles(_e){return Object.entries(_e).reduce(function(d,Mt){var Ot,Ft=Mt[0],Ut=Mt[1];return _extends({},d,(Ot={},Ot[Ft]=u(Ut),Ot))},{})}var ComponentClasses={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function _e(d){return"notistack-MuiContent-"+d}},classes=makeStyles({root:{height:0},entered:{height:"auto"}}),collapsedSize="0px",timeout=175,Collapse=reactExports.forwardRef(function(_e,d){var Mt=_e.children,Ot=_e.in,Ft=_e.onExited,Ut=reactExports.useRef(null),Xt=reactExports.useRef(null),jr=useForkRef(d,Xt),hn=function(){return Ut.current?Ut.current.clientHeight:0},Vr=function(Dn){Dn.style.height=collapsedSize},fn=function(Dn){var Vn=hn(),Pn=getTransitionProps({timeout,mode:"enter"}),qn=Pn.duration,jn=Pn.easing;Dn.style.transitionDuration=typeof qn=="string"?qn:qn+"ms",Dn.style.height=Vn+"px",Dn.style.transitionTimingFunction=jn||""},dn=function(Dn){Dn.style.height="auto"},pn=function(Dn){Dn.style.height=hn()+"px"},En=function(Dn){reflow(Dn);var Vn=getTransitionProps({timeout,mode:"exit"}),Pn=Vn.duration,qn=Vn.easing;Dn.style.transitionDuration=typeof Pn=="string"?Pn:Pn+"ms",Dn.style.height=collapsedSize,Dn.style.transitionTimingFunction=qn||""};return reactExports.createElement(Transition,{in:Ot,unmountOnExit:!0,onEnter:Vr,onEntered:dn,onEntering:fn,onExit:pn,onExited:Ft,onExiting:En,nodeRef:Xt,timeout},function(_n,Dn){return reactExports.createElement("div",Object.assign({ref:jr,className:clsx(classes.root,_n==="entered"&&classes.entered),style:_extends({pointerEvents:"all",overflow:"hidden",minHeight:collapsedSize,transition:createTransition("height")},_n==="entered"&&{overflow:"visible"},{},_n==="exited"&&!Ot&&{visibility:"hidden"})},Dn),reactExports.createElement("div",{ref:Ut,className:ComponentClasses.CollapseWrapper,style:{display:"flex",width:"100%"}},Mt))})});Collapse.displayName="Collapse";var direction={right:"left",left:"right",bottom:"up",top:"down"},getSlideDirection=function _e(d){return d.horizontal!=="center"?direction[d.horizontal]:direction[d.vertical]},toSnackbarAnchorOrigin=function _e(d){return"anchorOrigin"+originKeyExtractor(d)},keepSnackbarClassKeys=function _e(d){d===void 0&&(d={});var Mt={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(d).filter(function(Ot){return!Mt[Ot]}).reduce(function(Ot,Ft){var Ut;return _extends({},Ot,(Ut={},Ut[Ft]=d[Ft],Ut))},{})},noOp$1=function _e(){};function createChainedFunction(_e,d){return _e.reduce(function(Mt,Ot){return Ot==null?Mt:function(){for(var Ut=arguments.length,Xt=new Array(Ut),jr=0;jr<Ut;jr++)Xt[jr]=arguments[jr];var hn=[].concat(Xt);d&&hn.indexOf(d)===-1&&hn.push(d),Mt.apply(this,hn),Ot.apply(this,hn)}},noOp$1)}var useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useEventCallback(_e){var d=reactExports.useRef(_e);return useEnhancedEffect(function(){d.current=_e}),reactExports.useCallback(function(){return d.current.apply(void 0,arguments)},[])}var Snackbar=reactExports.forwardRef(function(_e,d){var Mt=_e.children,Ot=_e.className,Ft=_e.autoHideDuration,Ut=_e.disableWindowBlurListener,Xt=Ut===void 0?!1:Ut,jr=_e.onClose,hn=_e.id,Vr=_e.open,fn=_e.SnackbarProps,dn=fn===void 0?{}:fn,pn=reactExports.useRef(),En=useEventCallback(function(){jr&&jr.apply(void 0,arguments)}),_n=useEventCallback(function(jn){!jr||jn==null||(pn.current&&clearTimeout(pn.current),pn.current=setTimeout(function(){En(null,"timeout",hn)},jn))});reactExports.useEffect(function(){return Vr&&_n(Ft),function(){pn.current&&clearTimeout(pn.current)}},[Vr,Ft,_n]);var Dn=function(){pn.current&&clearTimeout(pn.current)},Vn=reactExports.useCallback(function(){Ft!=null&&_n(Ft*.5)},[Ft,_n]),Pn=function(Hn){dn.onMouseEnter&&dn.onMouseEnter(Hn),Dn()},qn=function(Hn){dn.onMouseLeave&&dn.onMouseLeave(Hn),Vn()};return reactExports.useEffect(function(){if(!Xt&&Vr)return window.addEventListener("focus",Vn),window.addEventListener("blur",Dn),function(){window.removeEventListener("focus",Vn),window.removeEventListener("blur",Dn)}},[Xt,Vn,Vr]),reactExports.createElement("div",Object.assign({ref:d},dn,{className:clsx(ComponentClasses.Snackbar,Ot),onMouseEnter:Pn,onMouseLeave:qn}),Mt)});Snackbar.displayName="Snackbar";var _root,classes$1=makeStyles({root:(_root={display:"flex",flexWrap:"wrap",flexGrow:1},_root[breakpoints.upSm]={flexGrow:"initial",minWidth:"288px"},_root)}),SnackbarContent=reactExports.forwardRef(function(_e,d){var Mt=_e.className,Ot=_objectWithoutPropertiesLoose(_e,["className"]);return React$2.createElement("div",Object.assign({ref:d,className:clsx(classes$1.root,Mt)},Ot))});SnackbarContent.displayName="SnackbarContent";var classes$2=makeStyles({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),ariaDescribedby="notistack-snackbar",MaterialDesignContent=reactExports.forwardRef(function(_e,d){var Mt=_e.id,Ot=_e.message,Ft=_e.action,Ut=_e.iconVariant,Xt=_e.variant,jr=_e.hideIconVariant,hn=_e.style,Vr=_e.className,fn=Ut[Xt],dn=Ft;return typeof dn=="function"&&(dn=dn(Mt)),React$2.createElement(SnackbarContent,{ref:d,role:"alert","aria-describedby":ariaDescribedby,style:hn,className:clsx(ComponentClasses.MuiContent,ComponentClasses.MuiContentVariant(Xt),classes$2.root,classes$2[Xt],Vr,!jr&&fn&&classes$2.lessPadding)},React$2.createElement("div",{id:ariaDescribedby,className:classes$2.message},jr?null:fn,Ot),dn&&React$2.createElement("div",{className:classes$2.action},dn))});MaterialDesignContent.displayName="MaterialDesignContent";var MaterialDesignContent$1=reactExports.memo(MaterialDesignContent),styles=makeStyles({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),SnackbarItem=function _e(d){var Mt=reactExports.useRef(),Ot=reactExports.useState(!0),Ft=Ot[0],Ut=Ot[1],Xt=createChainedFunction([d.snack.onClose,d.onClose]),jr=function(){d.snack.requestClose&&Xt(null,"instructed",d.snack.id)},hn=reactExports.useCallback(function(){Mt.current=setTimeout(function(){Ut(function(xa){return!xa})},125)},[]);reactExports.useEffect(function(){return function(){Mt.current&&clearTimeout(Mt.current)}},[]);var Vr=d.snack,fn=d.classes,dn=d.Component,pn=dn===void 0?MaterialDesignContent$1:dn,En=reactExports.useMemo(function(){return keepSnackbarClassKeys(fn)},[fn]),_n=Vr.open,Dn=Vr.SnackbarProps,Vn=Vr.TransitionComponent,Pn=Vr.TransitionProps,qn=Vr.transitionDuration,jn=Vr.disableWindowBlurListener,Hn=Vr.content,Jn=_objectWithoutPropertiesLoose(Vr,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),Gn=_extends({direction:getSlideDirection(Jn.anchorOrigin),timeout:qn},Pn),ba=Hn;typeof ba=="function"&&(ba=ba(Jn.id,Jn.message));var eo=["onEnter","onEntered","onExit","onExited"].reduce(function(xa,Yn){var Un;return _extends({},xa,(Un={},Un[Yn]=createChainedFunction([d.snack[Yn],d[Yn]],Jn.id),Un))},{});return React$2.createElement(Collapse,{in:Ft,onExited:eo.onExited},React$2.createElement(Snackbar,{open:_n,id:Jn.id,disableWindowBlurListener:jn,autoHideDuration:Jn.autoHideDuration,className:clsx(styles.wrappedRoot,En.root,En[toSnackbarAnchorOrigin(Jn.anchorOrigin)]),SnackbarProps:Dn,onClose:Xt},React$2.createElement(Vn,Object.assign({},Gn,{appear:!0,in:_n,onExit:eo.onExit,onExited:hn,onEnter:eo.onEnter,onEntered:createChainedFunction([eo.onEntered,jr],Jn.id)}),ba||React$2.createElement(pn,Object.assign({},Jn)))))},_root$1,_rootDense,_left,_right,_center,indents={view:{default:20},snackbar:{default:6,dense:2}},collapseWrapper="."+ComponentClasses.CollapseWrapper,xsWidthMargin=16,styles$1=makeStyles({root:(_root$1={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:createTransition(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},_root$1[collapseWrapper]={padding:indents.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},_root$1.maxWidth="calc(100% - "+indents.view.default*2+"px)",_root$1[breakpoints.downXs]={width:"100%",maxWidth:"calc(100% - "+xsWidthMargin*2+"px)"},_root$1),rootDense:(_rootDense={},_rootDense[collapseWrapper]={padding:indents.snackbar.dense+"px 0px"},_rootDense),top:{top:indents.view.default-indents.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:indents.view.default-indents.snackbar.default+"px",flexDirection:"column-reverse"},left:(_left={left:indents.view.default+"px"},_left[breakpoints.upSm]={alignItems:"flex-start"},_left[breakpoints.downXs]={left:xsWidthMargin+"px"},_left),right:(_right={right:indents.view.default+"px"},_right[breakpoints.upSm]={alignItems:"flex-end"},_right[breakpoints.downXs]={right:xsWidthMargin+"px"},_right),center:(_center={left:"50%",transform:"translateX(-50%)"},_center[breakpoints.upSm]={alignItems:"center"},_center)}),SnackbarContainer=function _e(d){var Mt=d.classes,Ot=Mt===void 0?{}:Mt,Ft=d.anchorOrigin,Ut=d.dense,Xt=d.children,jr=clsx(ComponentClasses.SnackbarContainer,styles$1[Ft.vertical],styles$1[Ft.horizontal],styles$1.root,Ot.containerRoot,Ot["containerAnchorOrigin"+originKeyExtractor(Ft)],Ut&&styles$1.rootDense);return React$2.createElement("div",{className:jr},Xt)},SnackbarContainer$1=reactExports.memo(SnackbarContainer),isOptions=function _e(d){var Mt=typeof d=="string"||reactExports.isValidElement(d);return!Mt},SnackbarProvider=function(_e){_inheritsLoose(d,_e);function d(Ot){var Ft;return Ft=_e.call(this,Ot)||this,Ft.enqueueSnackbar=function(Ut,Xt){if(Xt===void 0&&(Xt={}),Ut==null)throw new Error("enqueueSnackbar called with invalid argument");var jr=isOptions(Ut)?Ut:Xt,hn=isOptions(Ut)?Ut.message:Ut,Vr=jr.key,fn=jr.preventDuplicate,dn=_objectWithoutPropertiesLoose(jr,["key","preventDuplicate"]),pn=isDefined(Vr),En=pn?Vr:new Date().getTime()+Math.random(),_n=merge(dn,Ft.props),Dn=_extends({id:En},dn,{message:hn,open:!0,entered:!1,requestClose:!1,persist:_n("persist"),action:_n("action"),content:_n("content"),variant:_n("variant"),anchorOrigin:_n("anchorOrigin"),disableWindowBlurListener:_n("disableWindowBlurListener"),autoHideDuration:_n("autoHideDuration"),hideIconVariant:_n("hideIconVariant"),TransitionComponent:_n("TransitionComponent"),transitionDuration:_n("transitionDuration"),TransitionProps:_n("TransitionProps",!0),iconVariant:_n("iconVariant",!0),style:_n("style",!0),SnackbarProps:_n("SnackbarProps",!0),className:clsx(Ft.props.className,dn.className)});return Dn.persist&&(Dn.autoHideDuration=void 0),Ft.setState(function(Vn){if(fn===void 0&&Ft.props.preventDuplicate||fn){var Pn=function(Jn){return pn?Jn.id===En:Jn.message===hn},qn=Vn.queue.findIndex(Pn)>-1,jn=Vn.snacks.findIndex(Pn)>-1;if(qn||jn)return Vn}return Ft.handleDisplaySnack(_extends({},Vn,{queue:[].concat(Vn.queue,[Dn])}))}),En},Ft.handleDisplaySnack=function(Ut){var Xt=Ut.snacks;return Xt.length>=Ft.maxSnack?Ft.handleDismissOldest(Ut):Ft.processQueue(Ut)},Ft.processQueue=function(Ut){var Xt=Ut.queue,jr=Ut.snacks;return Xt.length>0?_extends({},Ut,{snacks:[].concat(jr,[Xt[0]]),queue:Xt.slice(1,Xt.length)}):Ut},Ft.handleDismissOldest=function(Ut){if(Ut.snacks.some(function(fn){return!fn.open||fn.requestClose}))return Ut;var Xt=!1,jr=!1,hn=Ut.snacks.reduce(function(fn,dn){return fn+(dn.open&&dn.persist?1:0)},0);hn===Ft.maxSnack&&(jr=!0);var Vr=Ut.snacks.map(function(fn){return!Xt&&(!fn.persist||jr)?(Xt=!0,fn.entered?(fn.onClose&&fn.onClose(null,"maxsnack",fn.id),Ft.props.onClose&&Ft.props.onClose(null,"maxsnack",fn.id),_extends({},fn,{open:!1})):_extends({},fn,{requestClose:!0})):_extends({},fn)});return _extends({},Ut,{snacks:Vr})},Ft.handleEnteredSnack=function(Ut,Xt,jr){if(!isDefined(jr))throw new Error("handleEnteredSnack Cannot be called with undefined key");Ft.setState(function(hn){var Vr=hn.snacks;return{snacks:Vr.map(function(fn){return fn.id===jr?_extends({},fn,{entered:!0}):_extends({},fn)})}})},Ft.handleCloseSnack=function(Ut,Xt,jr){Ft.props.onClose&&Ft.props.onClose(Ut,Xt,jr);var hn=jr===void 0;Ft.setState(function(Vr){var fn=Vr.snacks,dn=Vr.queue;return{snacks:fn.map(function(pn){return!hn&&pn.id!==jr?_extends({},pn):pn.entered?_extends({},pn,{open:!1}):_extends({},pn,{requestClose:!0})}),queue:dn.filter(function(pn){return pn.id!==jr})}})},Ft.closeSnackbar=function(Ut){var Xt=Ft.state.snacks.find(function(jr){return jr.id===Ut});isDefined(Ut)&&Xt&&Xt.onClose&&Xt.onClose(null,"instructed",Ut),Ft.handleCloseSnack(null,"instructed",Ut)},Ft.handleExitedSnack=function(Ut,Xt){if(!isDefined(Xt))throw new Error("handleExitedSnack Cannot be called with undefined key");Ft.setState(function(jr){var hn=Ft.processQueue(_extends({},jr,{snacks:jr.snacks.filter(function(Vr){return Vr.id!==Xt})}));return hn.queue.length===0?hn:Ft.handleDismissOldest(hn)})},Ft.enqueueSnackbar,Ft.closeSnackbar,Ft.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:Ft.enqueueSnackbar.bind(_assertThisInitialized(Ft)),closeSnackbar:Ft.closeSnackbar.bind(_assertThisInitialized(Ft))}},Ft}var Mt=d.prototype;return Mt.render=function(){var Ft=this,Ut=this.state.contextValue,Xt=this.props,jr=Xt.domRoot,hn=Xt.children,Vr=Xt.dense,fn=Vr===void 0?!1:Vr,dn=Xt.Components,pn=dn===void 0?{}:dn,En=Xt.classes,_n=this.state.snacks.reduce(function(Vn,Pn){var qn,jn=originKeyExtractor(Pn.anchorOrigin),Hn=Vn[jn]||[];return _extends({},Vn,(qn={},qn[jn]=[].concat(Hn,[Pn]),qn))},{}),Dn=Object.keys(_n).map(function(Vn){var Pn=_n[Vn],qn=Pn[0];return React$2.createElement(SnackbarContainer$1,{key:Vn,dense:fn,anchorOrigin:qn.anchorOrigin,classes:En},Pn.map(function(jn){return React$2.createElement(SnackbarItem,{key:jn.id,snack:jn,classes:En,Component:pn[jn.variant],onClose:Ft.handleCloseSnack,onEnter:Ft.props.onEnter,onExit:Ft.props.onExit,onExited:createChainedFunction([Ft.handleExitedSnack,Ft.props.onExited],jn.id),onEntered:createChainedFunction([Ft.handleEnteredSnack,Ft.props.onEntered],jn.id)})}))});return React$2.createElement(SnackbarContext.Provider,{value:Ut},hn,jr?reactDomExports.createPortal(Dn,jr):Dn)},_createClass(d,[{key:"maxSnack",get:function(){return this.props.maxSnack||defaults.maxSnack}}]),d}(reactExports.Component),useSnackbar=function(){return reactExports.useContext(SnackbarContext)};const hero="/Algorand-Web3-Masterclasses-POC/assets/hero-BxAZGB_7.jpg",col1="/Algorand-Web3-Masterclasses-POC/assets/collection-1-DWCJD6Qz.jpg",col2="/Algorand-Web3-Masterclasses-POC/assets/collection-2-Blqzw67c.jpg",col3="/Algorand-Web3-Masterclasses-POC/assets/collection-3-B4e09WZV.jpg",activism="/Algorand-Web3-Masterclasses-POC/assets/activism-BUWfQLUl.jpg";function ellipseAddress(_e,d=6){return _e?`${_e.slice(0,d)}...${_e.slice(-d)}`:_e??""}function getAlgodConfigFromViteEnvironment(){return{server:"https://testnet-api.algonode.cloud",port:"",token:"",network:"testnet"}}const Account=()=>{const{activeAddress:_e}=useWallet$2(),d=getAlgodConfigFromViteEnvironment(),Mt=reactExports.useMemo(()=>d.network===""?"localnet":d.network.toLocaleLowerCase(),[d.network]);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("a",{className:"text-xl",target:"_blank",href:`https://lora.algokit.io/${Mt}/account/${_e}/`,children:["Address: ",ellipseAddress(_e)]}),jsxRuntimeExports.jsxs("div",{className:"text-xl",children:["Network: ",Mt]})]})},ConnectWallet=({openModal:_e,closeModal:d})=>{const{wallets:Mt,activeAddress:Ot}=useWallet$2(),Ft=Ut=>Ut.id===WalletId.KMD;return jsxRuntimeExports.jsx("dialog",{id:"connect_wallet_modal",className:`modal ${_e?"modal-open":""}`,children:jsxRuntimeExports.jsxs("form",{method:"dialog",className:"modal-box",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-2xl",children:"Select wallet provider"}),jsxRuntimeExports.jsxs("div",{className:"grid m-2 pt-5",children:[Ot&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Account,{}),jsxRuntimeExports.jsx("div",{className:"divider"})]}),!Ot&&(Mt==null?void 0:Mt.map(Ut=>jsxRuntimeExports.jsxs("button",{"data-test-id":`${Ut.id}-connect`,className:"btn border-teal-800 border-1  m-2",onClick:()=>Ut.connect(),children:[!Ft(Ut)&&jsxRuntimeExports.jsx("img",{alt:`wallet_icon_${Ut.id}`,src:Ut.metadata.icon,style:{objectFit:"contain",width:"30px",height:"auto"}}),jsxRuntimeExports.jsx("span",{children:Ft(Ut)?"LocalNet Wallet":Ut.metadata.name})]},`provider-${Ut.id}`)))]}),jsxRuntimeExports.jsxs("div",{className:"modal-action ",children:[jsxRuntimeExports.jsx("button",{"data-test-id":"close-wallet-modal",className:"btn",onClick:()=>{d()},children:"Close"}),Ot&&jsxRuntimeExports.jsx("button",{className:"btn btn-warning","data-test-id":"logout",onClick:async()=>{if(Mt){const Ut=Mt.find(Xt=>Xt.isActive);Ut?await Ut.disconnect():(localStorage.removeItem("@txnlab/use-wallet:v3"),window.location.reload())}},children:"Logout"})]})]})})};class AlgorandClientTransactionCreator{constructor(d){this.payment=this._transaction(Mt=>Mt.addPayment),this.assetCreate=this._transaction(Mt=>Mt.addAssetCreate),this.assetConfig=this._transaction(Mt=>Mt.addAssetConfig),this.assetFreeze=this._transaction(Mt=>Mt.addAssetFreeze),this.assetDestroy=this._transaction(Mt=>Mt.addAssetDestroy),this.assetTransfer=this._transaction(Mt=>Mt.addAssetTransfer),this.assetOptIn=this._transaction(Mt=>Mt.addAssetOptIn),this.assetOptOut=this._transaction(Mt=>Mt.addAssetOptOut),this.appCreate=this._transaction(Mt=>Mt.addAppCreate),this.appUpdate=this._transaction(Mt=>Mt.addAppUpdate),this.appDelete=this._transaction(Mt=>Mt.addAppDelete),this.appCall=this._transaction(Mt=>Mt.addAppCall),this.appCreateMethodCall=this._transactions(Mt=>Mt.addAppCreateMethodCall),this.appUpdateMethodCall=this._transactions(Mt=>Mt.addAppUpdateMethodCall),this.appDeleteMethodCall=this._transactions(Mt=>Mt.addAppDeleteMethodCall),this.appCallMethodCall=this._transactions(Mt=>Mt.addAppCallMethodCall),this.onlineKeyRegistration=this._transaction(Mt=>Mt.addOnlineKeyRegistration),this.offlineKeyRegistration=this._transaction(Mt=>Mt.addOfflineKeyRegistration),this._newGroup=d}_transaction(d){return async Mt=>{const Ot=this._newGroup();return(await d(Ot).apply(Ot,[Mt]).buildTransactions()).transactions.at(-1)}}_transactions(d){return async Mt=>{const Ot=this._newGroup();return await d(Ot).apply(Ot,[Mt]).buildTransactions()}}}class AsyncEventEmitter{constructor(){this.listenerWrapperMap=new WeakMap,this.listenerMap={},this.off=this.removeListener}async emitAsync(d,Mt){for(const Ot of this.listenerMap[d]??[])await Ot(Mt,d)}on(d,Mt){return this.listenerMap[d]||(this.listenerMap[d]=[]),this.listenerMap[d].push(Mt),this}once(d,Mt){const Ot=async(Ft,Ut)=>{try{return await Mt(Ft,Ut)}finally{this.removeListener(Ut,Ot)}};return this.listenerWrapperMap.set(Mt,Ot),this.on(d,Ot)}removeListener(d,Mt){var Ft,Ut;const Ot=this.listenerWrapperMap.get(Mt);return Ot?(this.listenerWrapperMap.delete(Mt),((Ft=this.listenerMap[d])==null?void 0:Ft.indexOf(Ot))!==-1&&this.listenerMap[d].splice(this.listenerMap[d].indexOf(Ot),1)):((Ut=this.listenerMap[d])==null?void 0:Ut.indexOf(Mt))!==-1&&this.listenerMap[d].splice(this.listenerMap[d].indexOf(Mt),1),this}}const consoleLogger={error:console.error,warn:console.warn,info:console.info,verbose:()=>{},debug:console.debug},nullLogger={error:function(_e,...d){},warn:function(_e,...d){},info:function(_e,...d){},verbose:function(_e,...d){},debug:function(_e,...d){}};class UpdatableConfig{get populateAppCallResources(){return this.config.populateAppCallResources}get logger(){return this.config.logger}get debug(){return this.config.debug}get projectRoot(){return this.config.projectRoot}get traceAll(){return this.config.traceAll}get traceBufferSizeMb(){return this.config.traceBufferSizeMb}get maxSearchDepth(){return this.config.maxSearchDepth}get events(){return this.config.events}getLogger(d){return d?nullLogger:this.logger}withDebug(d){const Mt=this.config.debug;try{this.config.debug=!0,d()}finally{this.config.debug=Mt}}constructor(){this.config={logger:consoleLogger,debug:!1,projectRoot:null,traceAll:!1,traceBufferSizeMb:256,maxSearchDepth:10,populateAppCallResources:!0,events:new AsyncEventEmitter}}configure(d){this.config={...this.config,...d}}}const Config=new UpdatableConfig,UPDATABLE_TEMPLATE_NAME="TMPL_UPDATABLE",DELETABLE_TEMPLATE_NAME="TMPL_DELETABLE",APP_DEPLOY_NOTE_DAPP="ALGOKIT_DEPLOYER",APP_PAGE_MAX_SIZE=2048;var OnUpdate;(function(_e){_e[_e.Fail=0]="Fail",_e[_e.UpdateApp=1]="UpdateApp",_e[_e.ReplaceApp=2]="ReplaceApp",_e[_e.AppendApp=3]="AppendApp"})(OnUpdate||(OnUpdate={}));var OnSchemaBreak;(function(_e){_e[_e.Fail=0]="Fail",_e[_e.ReplaceApp=1]="ReplaceApp",_e[_e.AppendApp=2]="AppendApp"})(OnSchemaBreak||(OnSchemaBreak={}));const toNumber=_e=>{if(typeof _e=="number")return _e;if(_e>BigInt(Number.MAX_SAFE_INTEGER))throw new UnsafeConversionError(`Cannot convert ${_e} to a Number as it is larger than the maximum safe integer the Number type can hold.`);if(_e<BigInt(Number.MIN_SAFE_INTEGER))throw new UnsafeConversionError(`Cannot convert ${_e} to a Number as it is smaller than the minimum safe integer the Number type can hold.`);return Number(_e)};class UnsafeConversionError extends Error{}const calculateFundAmount=(_e,d,Mt)=>{if(_e>d){const Ot=_e-d;return BigInt(Math.max(Number(Ot),Number(Mt)))}else return null};function*chunkArray(_e,d){for(let Mt=0;Mt<_e.length;Mt+=d)yield _e.slice(Mt,Mt+d)}const memoize=_e=>{const d=new Map,Mt=function(Ot){return(d.has(Ot)||d.set(Ot,_e.call(this,Ot)))&&d.get(Ot)};return Mt.cache=d,Mt},binaryStartsWith=(_e,d)=>{if(d.length>_e.length)return!1;for(let Mt=0;Mt<d.length;Mt++)if(_e[Mt]!==d[Mt])return!1;return!0},defaultJsonValueReplacer=(_e,d)=>{if(typeof d=="bigint")try{return toNumber(d)}catch{return d.toString()}return d},asJson=(_e,d=defaultJsonValueReplacer,Mt)=>JSON.stringify(_e,d,Mt),calculateExtraProgramPages=(_e,d)=>Math.floor((_e.length+((d==null?void 0:d.length)??0)-1)/APP_PAGE_MAX_SIZE);function convertAbiByteArrays(_e,d){if(!d.toString().includes("byte")||_e instanceof Uint8Array)return _e;if((d instanceof ABIArrayStaticType||d instanceof ABIArrayDynamicType)&&d.childType instanceof ABIByteType&&Array.isArray(_e))return new Uint8Array(_e);if((d instanceof ABIArrayStaticType||d instanceof ABIArrayDynamicType)&&Array.isArray(_e)){const Mt=[];for(let Ot=0;Ot<_e.length;Ot++)Mt.push(convertAbiByteArrays(_e[Ot],d.childType));return Mt}if(d instanceof ABITupleType&&Array.isArray(_e)){const Mt=[];for(let Ot=0;Ot<_e.length&&Ot<d.childTypes.length;Ot++)Mt.push(convertAbiByteArrays(_e[Ot],d.childTypes[Ot]));return Mt}return _e}const convertABIDecodedBigIntToNumber=(_e,d)=>typeof _e=="bigint"?d instanceof ABIUintType&&d.bitSize<53?Number(_e):_e:Array.isArray(_e)&&(d instanceof ABIArrayStaticType||d instanceof ABIArrayDynamicType)?_e.map(Mt=>convertABIDecodedBigIntToNumber(Mt,d.childType)):Array.isArray(_e)&&d instanceof ABITupleType?_e.map((Mt,Ot)=>convertABIDecodedBigIntToNumber(Mt,d.childTypes[Ot])):_e;var EventType;(function(_e){_e.TxnGroupSimulated="TxnGroupSimulated",_e.AppCompiled="AppCompiled"})(EventType||(EventType={}));var modelsv2$1=algosdk.modelsv2;async function performAtomicTransactionComposerSimulate(_e,d,Mt){const Ft=_e.buildGroup().map(jr=>algosdk.encodeUnsignedSimulateTransaction(jr.txn)),Ut=new modelsv2$1.SimulateRequest({allowEmptySignatures:!0,fixSigners:!0,allowMoreLogging:!0,execTraceConfig:new modelsv2$1.SimulateTraceConfig({enable:!0,scratchChange:!0,stackChange:!0,stateChange:!0}),txnGroups:[new modelsv2$1.SimulateRequestTransactionGroup({txns:Ft.map(jr=>decodeMsgpack(jr,SignedTransaction))})]});return await d.simulateTransactions(Ut).do()}const MAX_APP_CALL_FOREIGN_REFERENCES=8,MAX_APP_CALL_ACCOUNT_REFERENCES=4;function encodeLease(_e){if(!(_e===null||typeof _e>"u"))if(typeof _e=="object"&&_e.constructor===Uint8Array){if(_e.length===0||_e.length>32)throw new Error(`Received invalid lease; expected something with length between 1 and 32, but received bytes with length ${_e.length}`);if(_e.length===32)return _e;const d=new Uint8Array(32);return d.set(_e,0),d}else if(typeof _e=="string"){if(_e.length===0||_e.length>32)throw new Error(`Received invalid lease; expected something with length between 1 and 32, but received '${_e}' with length ${_e.length}`);const d=new TextEncoder,Mt=new Uint8Array(32);return Mt.set(d.encode(_e),0),Mt}else throw new Error(`Unknown lease type received of ${typeof _e}`)}async function getGroupExecutionInfo(_e,d,Mt,Ot){const Ft=new algosdk.modelsv2.SimulateRequest({txnGroups:[],allowUnnamedResources:!0,allowEmptySignatures:!0,fixSigners:!0}),Ut=algosdk.makeEmptyTransactionSigner(),Xt=_e.clone(),jr=[];if(Xt.transactions.forEach((pn,En)=>{var _n,Dn;if(pn.signer=Ut,Mt.coverAppCallInnerTransactionFees&&pn.txn.type===TransactionType.appl){if(!(Ot!=null&&Ot.suggestedParams))throw Error("Please provide additionalAtcContext.suggestedParams when coverAppCallInnerTransactionFees is enabled");const Vn=(Dn=(_n=Ot==null?void 0:Ot.maxFees)==null?void 0:_n.get(En))==null?void 0:Dn.microAlgo;Vn===void 0?jr.push(En):pn.txn.fee=Vn}}),Mt.coverAppCallInnerTransactionFees&&jr.length>0)throw Error(`Please provide a maxFee for each app call transaction when coverAppCallInnerTransactionFees is enabled. Required for transaction ${jr.join(", ")}`);const hn=BigInt((Ot==null?void 0:Ot.suggestedParams.fee)??0n),Vr=BigInt((Ot==null?void 0:Ot.suggestedParams.minFee)??1000n),dn=(await Xt.simulate(d,Ft)).simulateResponse.txnGroups[0];if(dn.failureMessage)throw Mt.coverAppCallInnerTransactionFees&&dn.failureMessage.match(/fee too small/)?Error("Fees were too small to resolve execution info via simulate. You may need to increase an app call transaction maxFee."):Error(`Error resolving execution info via simulate in transaction ${dn.failedAt}: ${dn.failureMessage}`);return{groupUnnamedResourcesAccessed:Mt.populateAppCallResources?dn.unnamedResourcesAccessed:void 0,txns:dn.txnResults.map((pn,En)=>{const _n=_e.transactions[En].txn;let Dn=0n;if(Mt.coverAppCallInnerTransactionFees){const Vn=hn*BigInt(_n.toByte().length+75),qn=(Vn<Vr?Vr:Vn)-_n.fee;if(_n.type===TransactionType.appl){const jn=(Jn,Gn=0n)=>Jn.reverse().reduce((ba,eo)=>{const xa=(eo.innerTxns&&eo.innerTxns.length>0?jn(eo.innerTxns,ba):ba)+(Vr-eo.txn.txn.fee);return xa<0n?0n:xa},Gn);Dn=jn(pn.txnResult.innerTxns??[])+qn}else Dn=qn}return{unnamedResourcesAccessed:Mt.populateAppCallResources?pn.unnamedResourcesAccessed:void 0,requiredFeeDelta:Dn}})}}async function prepareGroupForSending(_e,d,Mt,Ot){var Vr,fn,dn,pn,En,_n;const Ft=await getGroupExecutionInfo(_e,d,Mt,Ot),Ut=_e.buildGroup(),[Xt,jr]=Mt.coverAppCallInnerTransactionFees?Ft.txns.map((Dn,Vn)=>{var Gn,ba;const Pn=Vn,qn=Ut[Pn].txn,jn=(ba=(Gn=Ot==null?void 0:Ot.maxFees)==null?void 0:Gn.get(Vn))==null?void 0:ba.microAlgo,Hn=jn!==void 0&&jn===qn.fee,Jn=Dn.requiredFeeDelta>0n&&(Hn||qn.type!==algosdk.TransactionType.appl)?1000n:1n;return{...Dn,groupIndex:Pn,surplusFeePriorityLevel:Dn.requiredFeeDelta>0n?Dn.requiredFeeDelta*Jn:-1n}}).sort((Dn,Vn)=>Dn.surplusFeePriorityLevel>Vn.surplusFeePriorityLevel?-1:Dn.surplusFeePriorityLevel<Vn.surplusFeePriorityLevel?1:0).reduce((Dn,{groupIndex:Vn,requiredFeeDelta:Pn})=>{if(Pn>0n){let qn=Dn[0];const jn=Dn[1],Hn=Pn-qn;return Hn<=0n?qn=-Hn:(jn.set(Vn,Hn),qn=0n),[qn,jn]}return Dn},[Ft.txns.reduce((Dn,{requiredFeeDelta:Vn})=>Vn<0n?Dn+-Vn:Dn,0n),new Map]):[0n,new Map];if(Ft.txns.forEach(({unnamedResourcesAccessed:Dn},Vn)=>{var Pn,qn,jn,Hn,Jn,Gn,ba,eo,xa,Yn,Un,Mn,mn,Xr,gn,On,Ln,Rn;if(Mt.populateAppCallResources&&Dn!==void 0&&Ut[Vn].txn.type===TransactionType.appl){if(Dn.boxes||Dn.extraBoxRefs)throw Error("Unexpected boxes at the transaction level");if(Dn.appLocals)throw Error("Unexpected app local at the transaction level");if(Dn.assetHoldings)throw Error("Unexpected asset holding at the transaction level");Ut[Vn].txn.applicationCall={...Ut[Vn].txn.applicationCall,accounts:[...((qn=(Pn=Ut[Vn].txn)==null?void 0:Pn.applicationCall)==null?void 0:qn.accounts)??[],...Dn.accounts??[]],foreignApps:[...((Hn=(jn=Ut[Vn].txn)==null?void 0:jn.applicationCall)==null?void 0:Hn.foreignApps)??[],...Dn.apps??[]],foreignAssets:[...((Gn=(Jn=Ut[Vn].txn)==null?void 0:Jn.applicationCall)==null?void 0:Gn.foreignAssets)??[],...Dn.assets??[]],boxes:[...((eo=(ba=Ut[Vn].txn)==null?void 0:ba.applicationCall)==null?void 0:eo.boxes)??[],...Dn.boxes??[]]};const yn=((Yn=(xa=Ut[Vn].txn.applicationCall)==null?void 0:xa.accounts)==null?void 0:Yn.length)??0;if(yn>MAX_APP_CALL_ACCOUNT_REFERENCES)throw Error(`Account reference limit of ${MAX_APP_CALL_ACCOUNT_REFERENCES} exceeded in transaction ${Vn}`);const kn=((Mn=(Un=Ut[Vn].txn.applicationCall)==null?void 0:Un.foreignAssets)==null?void 0:Mn.length)??0,Fn=((Xr=(mn=Ut[Vn].txn.applicationCall)==null?void 0:mn.foreignApps)==null?void 0:Xr.length)??0,Cn=((On=(gn=Ut[Vn].txn.applicationCall)==null?void 0:gn.boxes)==null?void 0:On.length)??0;if(yn+kn+Fn+Cn>MAX_APP_CALL_FOREIGN_REFERENCES)throw Error(`Resource reference limit of ${MAX_APP_CALL_FOREIGN_REFERENCES} exceeded in transaction ${Vn}`)}if(Mt.coverAppCallInnerTransactionFees){const yn=jr.get(Vn);if(yn!==void 0){if(Ut[Vn].txn.type!==algosdk.TransactionType.appl)throw Error(`An additional fee of ${yn} ALGO is required for non app call transaction ${Vn}`);const kn=Ut[Vn].txn.fee+yn,Fn=(Rn=(Ln=Ot==null?void 0:Ot.maxFees)==null?void 0:Ln.get(Vn))==null?void 0:Rn.microAlgo;if(Fn===void 0||kn>Fn)throw Error(`Calculated transaction fee ${kn} ALGO is greater than max of ${Fn??"undefined"} for transaction ${Vn}`);Ut[Vn].txn.fee=kn}}}),Mt.populateAppCallResources){const Dn=(Pn,qn,jn)=>{var Gn,ba,eo,xa,Yn,Un,Mn,mn,Xr,gn,On,Ln,Rn,yn,kn,Fn,Cn,zn,$a,co,io,ga,na,so,_i,Wn;const Hn=Kn=>{var vo,wo,go,So,Ao,Co,Ro,$o;if(Kn.txn.type!==algosdk.TransactionType.appl)return!1;const ro=((wo=(vo=Kn.txn.applicationCall)==null?void 0:vo.accounts)==null?void 0:wo.length)??0,oo=((So=(go=Kn.txn.applicationCall)==null?void 0:go.foreignAssets)==null?void 0:So.length)??0,mo=((Co=(Ao=Kn.txn.applicationCall)==null?void 0:Ao.foreignApps)==null?void 0:Co.length)??0,bo=(($o=(Ro=Kn.txn.applicationCall)==null?void 0:Ro.boxes)==null?void 0:$o.length)??0;return ro+oo+mo+bo<MAX_APP_CALL_FOREIGN_REFERENCES};if(jn==="assetHolding"||jn==="appLocal"){const{account:Kn}=qn;let ro=Pn.findIndex(oo=>{var mo,bo,vo,wo;return Hn(oo)?((bo=(mo=oo.txn.applicationCall)==null?void 0:mo.accounts)==null?void 0:bo.map(go=>go.toString()).includes(Kn.toString()))||((wo=(vo=oo.txn.applicationCall)==null?void 0:vo.foreignApps)==null?void 0:wo.map(go=>algosdk.getApplicationAddress(go).toString()).includes(Kn.toString()))||Object.values(oo.txn).some(go=>{var So;return(So=stringifyJSON(go,(Ao,Co)=>Co instanceof Address?Co.toString():Co))==null?void 0:So.includes(Kn.toString())}):!1});if(ro>-1){if(jn==="assetHolding"){const{asset:oo}=qn;Pn[ro].txn.applicationCall={...Pn[ro].txn.applicationCall,foreignAssets:[...((ba=(Gn=Pn[ro].txn)==null?void 0:Gn.applicationCall)==null?void 0:ba.foreignAssets)??[],oo]}}else{const{app:oo}=qn;Pn[ro].txn.applicationCall={...Pn[ro].txn.applicationCall,foreignApps:[...((xa=(eo=Pn[ro].txn)==null?void 0:eo.applicationCall)==null?void 0:xa.foreignApps)??[],oo]}}return}if(ro=Pn.findIndex(oo=>{var mo,bo,vo,wo,go,So,Ao;if(!Hn(oo)||(((bo=(mo=oo.txn.applicationCall)==null?void 0:mo.accounts)==null?void 0:bo.length)??0)>=MAX_APP_CALL_ACCOUNT_REFERENCES)return!1;if(jn==="assetHolding"){const{asset:Co}=qn;return(wo=(vo=oo.txn.applicationCall)==null?void 0:vo.foreignAssets)==null?void 0:wo.includes(Co)}else{const{app:Co}=qn;return((So=(go=oo.txn.applicationCall)==null?void 0:go.foreignApps)==null?void 0:So.includes(Co))||((Ao=oo.txn.applicationCall)==null?void 0:Ao.appIndex)===Co}}),ro>-1){const{account:oo}=qn;Pn[ro].txn.applicationCall={...Pn[ro].txn.applicationCall,accounts:[...((Un=(Yn=Pn[ro].txn)==null?void 0:Yn.applicationCall)==null?void 0:Un.accounts)??[],oo]};return}}if(jn==="box"){const{app:Kn,name:ro}=qn,oo=Pn.findIndex(mo=>{var bo,vo,wo;return Hn(mo)?((vo=(bo=mo.txn.applicationCall)==null?void 0:bo.foreignApps)==null?void 0:vo.includes(Kn))||((wo=mo.txn.applicationCall)==null?void 0:wo.appIndex)===Kn:!1});if(oo>-1){Pn[oo].txn.applicationCall={...Pn[oo].txn.applicationCall,boxes:[...((mn=(Mn=Pn[oo].txn)==null?void 0:Mn.applicationCall)==null?void 0:mn.boxes)??[],{appIndex:Kn,name:ro}]};return}}const Jn=Pn.findIndex(Kn=>{var vo,wo,go,So,Ao,Co,Ro,$o;if(Kn.txn.type!==algosdk.TransactionType.appl)return!1;const ro=((wo=(vo=Kn.txn.applicationCall)==null?void 0:vo.accounts)==null?void 0:wo.length)??0;if(jn==="account")return ro<MAX_APP_CALL_ACCOUNT_REFERENCES;const oo=((So=(go=Kn.txn.applicationCall)==null?void 0:go.foreignAssets)==null?void 0:So.length)??0,mo=((Co=(Ao=Kn.txn.applicationCall)==null?void 0:Ao.foreignApps)==null?void 0:Co.length)??0,bo=(($o=(Ro=Kn.txn.applicationCall)==null?void 0:Ro.boxes)==null?void 0:$o.length)??0;return jn==="assetHolding"||jn==="appLocal"?ro+oo+mo+bo<MAX_APP_CALL_FOREIGN_REFERENCES-1&&ro<MAX_APP_CALL_ACCOUNT_REFERENCES:jn==="box"&&BigInt(qn.app)!==BigInt(0)?ro+oo+mo+bo<MAX_APP_CALL_FOREIGN_REFERENCES-1:ro+oo+mo+bo<MAX_APP_CALL_FOREIGN_REFERENCES});if(Jn===-1)throw Error("No more transactions below reference limit. Add another app call to the group.");if(jn==="account")Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,accounts:[...((gn=(Xr=Pn[Jn].txn)==null?void 0:Xr.applicationCall)==null?void 0:gn.accounts)??[],qn]};else if(jn==="app")Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,foreignApps:[...((Ln=(On=Pn[Jn].txn)==null?void 0:On.applicationCall)==null?void 0:Ln.foreignApps)??[],typeof qn=="bigint"?qn:BigInt(qn)]};else if(jn==="box"){const{app:Kn,name:ro}=qn;Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,boxes:[...((yn=(Rn=Pn[Jn].txn)==null?void 0:Rn.applicationCall)==null?void 0:yn.boxes)??[],{appIndex:Kn,name:ro}]},Kn.toString()!=="0"&&(Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,foreignApps:[...((Fn=(kn=Pn[Jn].txn)==null?void 0:kn.applicationCall)==null?void 0:Fn.foreignApps)??[],Kn]})}else if(jn==="assetHolding"){const{asset:Kn,account:ro}=qn;Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,foreignAssets:[...((zn=(Cn=Pn[Jn].txn)==null?void 0:Cn.applicationCall)==null?void 0:zn.foreignAssets)??[],Kn],accounts:[...((co=($a=Pn[Jn].txn)==null?void 0:$a.applicationCall)==null?void 0:co.accounts)??[],ro]}}else if(jn==="appLocal"){const{app:Kn,account:ro}=qn;Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,foreignApps:[...((ga=(io=Pn[Jn].txn)==null?void 0:io.applicationCall)==null?void 0:ga.foreignApps)??[],Kn],accounts:[...((so=(na=Pn[Jn].txn)==null?void 0:na.applicationCall)==null?void 0:so.accounts)??[],ro]}}else jn==="asset"&&(Pn[Jn].txn.applicationCall={...Pn[Jn].txn.applicationCall,foreignAssets:[...((Wn=(_i=Pn[Jn].txn)==null?void 0:_i.applicationCall)==null?void 0:Wn.foreignAssets)??[],typeof qn=="bigint"?qn:BigInt(qn)]})},Vn=Ft.groupUnnamedResourcesAccessed;if(Vn&&((Vr=Vn.appLocals)==null||Vr.forEach(Pn=>{var qn,jn;Dn(Ut,Pn,"appLocal"),Vn.accounts=(qn=Vn.accounts)==null?void 0:qn.filter(Hn=>Hn!==Pn.account),Vn.apps=(jn=Vn.apps)==null?void 0:jn.filter(Hn=>BigInt(Hn)!==BigInt(Pn.app))}),(fn=Vn.assetHoldings)==null||fn.forEach(Pn=>{var qn,jn;Dn(Ut,Pn,"assetHolding"),Vn.accounts=(qn=Vn.accounts)==null?void 0:qn.filter(Hn=>Hn!==Pn.account),Vn.assets=(jn=Vn.assets)==null?void 0:jn.filter(Hn=>BigInt(Hn)!==BigInt(Pn.asset))}),(dn=Vn.accounts)==null||dn.forEach(Pn=>{Dn(Ut,Pn,"account")}),(pn=Vn.boxes)==null||pn.forEach(Pn=>{var qn;Dn(Ut,Pn,"box"),Vn.apps=(qn=Vn.apps)==null?void 0:qn.filter(jn=>BigInt(jn)!==BigInt(Pn.app))}),(En=Vn.assets)==null||En.forEach(Pn=>{Dn(Ut,Pn,"asset")}),(_n=Vn.apps)==null||_n.forEach(Pn=>{Dn(Ut,Pn,"app")}),Vn.extraBoxRefs))for(let Pn=0;Pn<Vn.extraBoxRefs;Pn+=1){const qn=new algosdk.modelsv2.BoxReference({app:0,name:new Uint8Array(0)});Dn(Ut,qn,"box")}}const hn=new algosdk.AtomicTransactionComposer;return Ut.forEach(Dn=>{Dn.txn.group=void 0,hn.addTransaction(Dn)}),hn.methodCalls=_e.methodCalls,hn}const sendAtomicTransactionComposer=async function(_e,d){var jr,hn;const{atc:Mt,sendParams:Ot,additionalAtcContext:Ft,...Ut}=_e;let Xt;Xt=Mt;try{const Vr=Xt.buildGroup(),fn=(Ut==null?void 0:Ut.populateAppCallResources)??(Ot==null?void 0:Ot.populateAppCallResources)??Config.populateAppCallResources,dn=Ut==null?void 0:Ut.coverAppCallInnerTransactionFees;(fn||dn)&&Vr.map(Pn=>Pn.txn.type).includes(algosdk.TransactionType.appl)&&(Xt=await prepareGroupForSending(Mt,d,{...Ut,populateAppCallResources:fn,coverAppCallInnerTransactionFees:dn},Ft));const pn=Xt.buildGroup().map(Pn=>Pn.txn);let En;if(pn.length>1&&(En=pn[0].group?Buffer$1.from(pn[0].group).toString("base64"):"",Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).verbose(`Sending group of ${pn.length} transactions (${En})`,{transactionsToSend:pn}),Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).debug(`Transaction IDs (${En})`,pn.map(Pn=>Pn.txID()))),Config.debug&&Config.traceAll){const Pn=await performAtomicTransactionComposerSimulate(Xt,d);await Config.events.emitAsync(EventType.TxnGroupSimulated,{simulateResponse:Pn})}const _n=await Xt.execute(d,(Ut==null?void 0:Ut.maxRoundsToWaitForConfirmation)??(Ot==null?void 0:Ot.maxRoundsToWaitForConfirmation)??5);pn.length>1?Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).verbose(`Group transaction (${En}) sent with ${pn.length} transactions`):Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).verbose(`Sent transaction ID ${pn[0].txID()} ${pn[0].type} from ${pn[0].sender.toString()}`);let Dn;Ot!=null&&Ot.skipWaiting||(Dn=await Promise.all(pn.map(async Pn=>await d.pendingTransactionInformation(Pn.txID()).do())));const Vn=[...Xt.methodCalls.values()];return{groupId:En,confirmations:Dn,txIds:pn.map(Pn=>Pn.txID()),transactions:pn,returns:_n.methodResults.map((Pn,qn)=>getABIReturnValue(Pn,Vn[qn].returns.type))}}catch(Vr){const fn=new Error(typeof Vr=="object"?Vr==null?void 0:Vr.message:"Received error executing Atomic Transaction Composer");if(fn.cause=Vr,typeof Vr=="object"&&((jr=Vr.response)==null||delete jr.headers,fn.response=Vr.response,Vr.response&&"body"in Vr.response&&delete fn.response.body,fn.name=Vr.name),Config.debug&&typeof Vr=="object"){fn.traces=[],Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).error("Received error executing Atomic Transaction Composer and debug flag enabled; attempting simulation to get more information",fn);const dn=await performAtomicTransactionComposerSimulate(Xt,d);if(Config.debug&&!Config.traceAll&&await Config.events.emitAsync(EventType.TxnGroupSimulated,{simulateResponse:dn}),dn&&dn.txnGroups[0].failedAt)for(const pn of dn.txnGroups[0].txnResults)fn.traces.push({trace:(hn=pn.execTrace)==null?void 0:hn.toEncodingData(),appBudget:pn.appBudgetConsumed,logicSigBudget:pn.logicSigBudgetConsumed,logs:pn.txnResult.logs,message:dn.txnGroups[0].failureMessage})}else Config.getLogger((Ut==null?void 0:Ut.suppressLog)??(Ot==null?void 0:Ot.suppressLog)).error("Received error executing Atomic Transaction Composer, for more information enable the debug flag",fn);throw fn.sentTransactions=Xt.buildGroup().map(dn=>dn.txn),fn}};function getABIReturnValue(_e,d){if(_e.decodeError)return{decodeError:_e.decodeError};const Mt=convertAbiByteArrays(_e.returnValue!==void 0&&_e.method.returns.type!=="void"?convertABIDecodedBigIntToNumber(_e.returnValue,_e.method.returns.type):_e.returnValue,d);return{method:_e.method,rawReturnValue:_e.rawReturnValue,decodeError:void 0,returnValue:Mt}}class AppManager{constructor(d){this._compilationResults={},this._algod=d}async compileTeal(d){if(this._compilationResults[d])return this._compilationResults[d];const Mt=await this._algod.compile(d).sourcemap(!0).do(),Ot={teal:d,compiled:Mt.result,compiledHash:Mt.hash,compiledBase64ToBytes:new Uint8Array(Buffer.from(Mt.result,"base64")),sourceMap:new ProgramSourceMap(JSON.parse(algosdk.encodeJSON(Mt.sourcemap)))};return this._compilationResults[d]=Ot,Ot}async compileTealTemplate(d,Mt,Ot){let Ft=AppManager.stripTealComments(d);return Ft=AppManager.replaceTealTemplateParams(Ft,Mt),Ot&&(Ft=AppManager.replaceTealTemplateDeployTimeControlParams(Ft,Ot)),await this.compileTeal(Ft)}getCompilationResult(d){return this._compilationResults[d]}async getById(d){var Ot,Ft,Ut,Xt;const Mt=await this._algod.getApplicationByID(Number(d)).do();return{appId:BigInt(Mt.id),appAddress:algosdk.getApplicationAddress(Mt.id),approvalProgram:Mt.params.approvalProgram,clearStateProgram:Mt.params.clearStateProgram,creator:Mt.params.creator,localInts:Number(((Ot=Mt.params.localStateSchema)==null?void 0:Ot.numUint)??0),localByteSlices:Number(((Ft=Mt.params.localStateSchema)==null?void 0:Ft.numByteSlice)??0),globalInts:Number(((Ut=Mt.params.globalStateSchema)==null?void 0:Ut.numUint)??0),globalByteSlices:Number(((Xt=Mt.params.globalStateSchema)==null?void 0:Xt.numByteSlice)??0),extraProgramPages:Number(Mt.params.extraProgramPages??0),globalState:AppManager.decodeAppState(Mt.params.globalState??[])}}async getGlobalState(d){return(await this.getById(d)).globalState}async getLocalState(d,Mt){var Ft;const Ot=await this._algod.accountApplicationInformation(Mt,d).do();if(!((Ft=Ot.appLocalState)!=null&&Ft.keyValue))throw new Error("Couldn't find local state");return AppManager.decodeAppState(Ot.appLocalState.keyValue)}async getBoxNames(d){return(await this._algod.getApplicationBoxes(d).do()).boxes.map(Ot=>({nameRaw:Ot.name,nameBase64:Buffer.from(Ot.name).toString("base64"),name:Buffer.from(Ot.name).toString("utf-8")}))}async getBoxValue(d,Mt){const Ot=typeof Mt=="object"&&"nameRaw"in Mt?Mt.nameRaw:Mt,Ft=AppManager.getBoxReference(Ot).name;return(await this._algod.getApplicationBoxByName(Number(d),Ft).do()).value}async getBoxValues(d,Mt){return await Promise.all(Mt.map(async Ot=>await this.getBoxValue(d,Ot)))}async getBoxValueFromABIType(d){const{appId:Mt,boxName:Ot,type:Ft}=d,Ut=await this.getBoxValue(Mt,Ot);return Ft.decode(Ut)}async getBoxValuesFromABIType(d){const{appId:Mt,boxNames:Ot,type:Ft}=d;return await Promise.all(Ot.map(async Ut=>await this.getBoxValueFromABIType({appId:Mt,boxName:Ut,type:Ft})))}static getBoxReference(d){const Mt=typeof d=="object"&&"appId"in d?d:{appId:0n,name:d};return{appIndex:Mt.appId,name:typeof Mt.name=="string"?new TextEncoder().encode(Mt.name):"length"in Mt.name?Mt.name:Mt.name.addr.publicKey}}static decodeAppState(d){const Mt={};for(const Ot of d){const Ft=Buffer.from(Ot.key).toString("base64"),Ut=Ot.key,Xt=Buffer.from(Ot.key).toString("utf-8"),jr=Ot.value,hn="action"in jr?jr.action:jr.type;let Vr,fn;switch(hn){case 1:Vr=typeof jr.bytes=="string"?jr.bytes:jr.bytes?Buffer.from(jr.bytes).toString("base64"):"",fn=Buffer.from(Vr,"base64"),Mt[Xt]={keyRaw:Ut,keyBase64:Ft,valueRaw:new Uint8Array(fn),valueBase64:Vr,value:fn.toString("utf-8")};break;case 2:{const dn=jr.uint??0;Mt[Xt]={keyRaw:Ut,keyBase64:Ft,value:BigInt(dn)};break}default:throw new Error(`Received unknown state data type of ${hn}`)}}return Mt}static getABIReturn(d,Mt){if(!Mt||!d||Mt.returns.type==="void")return;const Ot={txID:"",method:Mt,rawReturnValue:new Uint8Array};return getABIReturnValue(algosdk.AtomicTransactionComposer.parseMethodResponse(Mt,Ot,d),Mt.returns.type)}static replaceTealTemplateDeployTimeControlParams(d,Mt){if(Mt.updatable!==void 0){if(!d.includes(UPDATABLE_TEMPLATE_NAME))throw new Error(`Deploy-time updatability control requested for app deployment, but ${UPDATABLE_TEMPLATE_NAME} not present in TEAL code`);d=replaceTemplateVariable(d,UPDATABLE_TEMPLATE_NAME,(Mt.updatable?1:0).toString())}if(Mt.deletable!==void 0){if(!d.includes(DELETABLE_TEMPLATE_NAME))throw new Error(`Deploy-time deletability control requested for app deployment, but ${DELETABLE_TEMPLATE_NAME} not present in TEAL code`);d=replaceTemplateVariable(d,DELETABLE_TEMPLATE_NAME,(Mt.deletable?1:0).toString())}return d}static replaceTealTemplateParams(d,Mt){if(Mt!==void 0)for(const Ot in Mt){const Ft=Mt[Ot],Ut=`TMPL_${Ot.replace(/^TMPL_/,"")}`;(typeof Ft=="number"||typeof Ft=="bigint")&&(d=d.replace(new RegExp(`(?<=bytes )${Ut}`,"g"),`0x${Ft.toString(16).padStart(16,"0")}`)),d=replaceTemplateVariable(d,Ut,typeof Ft=="string"?`0x${Buffer.from(Ft,"utf-8").toString("hex")}`:ArrayBuffer.isView(Ft)?`0x${Buffer.from(Ft).toString("hex")}`:Ft.toString())}return d}static stripTealComments(d){const Mt=Ot=>{const Ft=findUnquotedString(Ot,"//");return Ft===void 0?Ot:Ot.slice(0,Ft).trimEnd()};return d.split(`
`).map(Ot=>Mt(Ot)).join(`
`)}}const findUnquotedString=(_e,d,Mt=0,Ot)=>{const Ft=Ot===void 0?_e.length:Ot;let Ut=Mt,Xt=!1,jr=!1;for(;Ut<Ft;){const hn=_e[Ut];if((hn===" "||hn==="(")&&!Xt&&lastTokenBase64(_e,Ut))jr=!0;else if((hn===" "||hn===")")&&!Xt&&jr)jr=!1;else if(hn==="\\"&&Xt)Ut+=1;else if(hn==='"')Xt=!Xt;else if(!Xt&&!jr&&_e.startsWith(d,Ut))return Ut;Ut+=1}},lastTokenBase64=(_e,d)=>{try{const Mt=_e.slice(0,d).split(/\s+/),Ot=Mt[Mt.length-1];return["base64","b64"].includes(Ot)}catch{return!1}};function replaceTemplateVariable(_e,d,Mt){const Ot=[],Ft=Mt.length-d.length,Ut=_e.split(`
`);for(const Xt of Ut){const jr=findUnquotedString(Xt,"//"),hn=jr===void 0?Xt.length:jr;let Vr=Xt.substring(0,hn);const fn=Xt.substring(hn);let dn=0;for(;;){const pn=findTemplateToken(Vr,d,dn);if(pn===void 0)break;dn=pn+d.length;const En=Vr.substring(0,pn),_n=Vr.substring(dn);Vr=`${En}${Mt}${_n}`,dn+=Ft}Ot.push(Vr+fn)}return Ot.join(`
`)}const findTemplateToken=(_e,d,Mt=0,Ot)=>{const Ft=_e.length;let Ut=Mt;for(;Ut<Ft;){const Xt=findUnquotedString(_e,d,Ut,Ft);if(Xt===void 0)break;const jr=Xt+d.length;if((Xt===0||!isValidTokenCharacter(_e[Xt-1]))&&(jr>=_e.length||!isValidTokenCharacter(_e[jr])))return Xt;Ut=jr}};function isValidTokenCharacter(_e){return _e.length===1&&(/\w/.test(_e)||_e==="_")}const getMethodCallForLog=({method:_e,args:d})=>`${_e.name}(${(d??[]).map(Mt=>typeof Mt=="object"?asJson(Mt,(Ot,Ft)=>{const Ut=defaultJsonValueReplacer(Ot,Ft);return Ut instanceof Uint8Array?Buffer$1.from(Ut).toString("base64"):Ut}):Mt)})`;class AlgorandClientTransactionSender{constructor(d,Mt,Ot){this.payment=this._send(Ft=>Ft.addPayment,{preLog:(Ft,Ut)=>`Sending ${Ft.amount.microAlgo} ALGO from ${Ft.sender} to ${Ft.receiver} via transaction ${Ut.txID()}`}),this.assetCreate=async Ft=>{const Ut=await this._send(Xt=>Xt.addAssetCreate,{postLog:(Xt,jr)=>`Created asset${Xt.assetName?` ${Xt.assetName}`:""}${Xt.unitName?` (${Xt.unitName})`:""} with ${Xt.total} units and ${Xt.decimals??0} decimals created by ${Xt.sender} with ID ${jr.confirmation.assetIndex} via transaction ${jr.txIds.at(-1)}`})(Ft);return{...Ut,assetId:BigInt(Ut.confirmation.assetIndex??0)}},this.assetConfig=this._send(Ft=>Ft.addAssetConfig,{preLog:(Ft,Ut)=>`Configuring asset with ID ${Ft.assetId} via transaction ${Ut.txID()}`}),this.assetFreeze=this._send(Ft=>Ft.addAssetFreeze,{preLog:(Ft,Ut)=>`Freezing asset with ID ${Ft.assetId} via transaction ${Ut.txID()}`}),this.assetDestroy=this._send(Ft=>Ft.addAssetDestroy,{preLog:(Ft,Ut)=>`Destroying asset with ID ${Ft.assetId} via transaction ${Ut.txID()}`}),this.assetTransfer=this._send(Ft=>Ft.addAssetTransfer,{preLog:(Ft,Ut)=>`Transferring ${Ft.amount} units of asset with ID ${Ft.assetId} from ${Ft.sender} to ${Ft.receiver} via transaction ${Ut.txID()}`}),this.assetOptIn=this._send(Ft=>Ft.addAssetOptIn,{preLog:(Ft,Ut)=>`Opting in ${Ft.sender} to asset with ID ${Ft.assetId} via transaction ${Ut.txID()}`}),this.assetOptOut=async Ft=>{if(Ft.ensureZeroBalance){let Ut=0n;try{Ut=(await this._assetManager.getAccountInformation(Ft.sender,Ft.assetId)).balance}catch{throw new Error(`Account ${Ft.sender} is not opted-in to Asset ${Ft.assetId}; can't opt-out.`)}if(Ut!==0n)throw new Error(`Account ${Ft.sender} does not have a zero balance for Asset ${Ft.assetId}; can't opt-out.`)}return Ft.creator=Ft.creator??(await this._assetManager.getById(Ft.assetId)).creator,await this._send(Ut=>Ut.addAssetOptOut,{preLog:(Ut,Xt)=>`Opting ${Ut.sender} out of asset with ID ${Ut.assetId} to creator ${Ut.creator} via transaction ${Xt.txID()}`})(Ft)},this.appCreate=this._sendAppCreateCall(Ft=>Ft.addAppCreate,{postLog:(Ft,Ut)=>`App created by ${Ft.sender} with ID ${Ut.confirmation.applicationIndex} via transaction ${Ut.txIds.at(-1)}`}),this.appUpdate=this._sendAppUpdateCall(Ft=>Ft.addAppUpdate,{postLog:(Ft,Ut)=>`App ${Ft.appId} updated ${Ft.args?` with ${Ft.args.map(Xt=>Buffer$1.from(Xt).toString("base64"))}`:""} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.appDelete=this._sendAppCall(Ft=>Ft.addAppDelete,{postLog:(Ft,Ut)=>`App ${Ft.appId} deleted ${Ft.args?` with ${Ft.args.map(Xt=>Buffer$1.from(Xt).toString("base64"))}`:""} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.appCall=this._sendAppCall(Ft=>Ft.addAppCall,{postLog:(Ft,Ut)=>`App ${Ft.appId} called ${Ft.args?` with ${Ft.args.map(Xt=>Buffer$1.from(Xt).toString("base64"))}`:""} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.appCreateMethodCall=this._sendAppCreateCall(Ft=>Ft.addAppCreateMethodCall,{postLog:(Ft,Ut)=>`App created by ${Ft.sender} with ID ${Ut.confirmation.applicationIndex} via transaction ${Ut.txIds.at(-1)}`}),this.appUpdateMethodCall=this._sendAppUpdateCall(Ft=>Ft.addAppUpdateMethodCall,{postLog:(Ft,Ut)=>`App ${Ft.appId} updated with ${getMethodCallForLog(Ft)} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.appDeleteMethodCall=this._sendAppCall(Ft=>Ft.addAppDeleteMethodCall,{postLog:(Ft,Ut)=>`App ${Ft.appId} deleted with ${getMethodCallForLog(Ft)} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.appCallMethodCall=this._sendAppCall(Ft=>Ft.addAppCallMethodCall,{postLog:(Ft,Ut)=>`App ${Ft.appId} called with ${getMethodCallForLog(Ft)} by ${Ft.sender} via transaction ${Ut.txIds.at(-1)}`}),this.onlineKeyRegistration=this._send(Ft=>Ft.addOnlineKeyRegistration,{preLog:(Ft,Ut)=>`Registering online key for ${Ft.sender} via transaction ${Ut.txID()}`}),this.offlineKeyRegistration=this._send(Ft=>Ft.addOfflineKeyRegistration,{preLog:(Ft,Ut)=>`Registering offline key for ${Ft.sender} via transaction ${Ut.txID()}`}),this._newGroup=d,this._assetManager=Mt,this._appManager=Ot}newGroup(){return this._newGroup()}_send(d,Mt){return async Ot=>{const Ft=this._newGroup();if(d(Ft).apply(Ft,[Ot]),Mt!=null&&Mt.preLog){const jr=(await Ft.build()).transactions.at(-1).txn;Config.getLogger(Ot==null?void 0:Ot.suppressLog).debug(Mt.preLog(Ot,jr))}const Ut=await Ft.send(Ot),Xt={transaction:Ut.transactions.at(-1),confirmation:Ut.confirmations.at(-1),txId:Ut.txIds.at(-1),...Ut};return Mt!=null&&Mt.postLog&&Config.getLogger(Ot==null?void 0:Ot.suppressLog).debug(Mt.postLog(Ot,Xt)),Xt}}_sendAppCall(d,Mt){return async Ot=>{const Ft=await this._send(d,Mt)(Ot);return{...Ft,return:AppManager.getABIReturn(Ft.confirmation,"method"in Ot?Ot.method:void 0)}}}_sendAppUpdateCall(d,Mt){return async Ot=>{const Ft=await this._sendAppCall(d,Mt)(Ot),Ut=typeof Ot.approvalProgram=="string"?this._appManager.getCompilationResult(Ot.approvalProgram):void 0,Xt=typeof Ot.clearStateProgram=="string"?this._appManager.getCompilationResult(Ot.clearStateProgram):void 0;return{...Ft,compiledApproval:Ut,compiledClear:Xt}}}_sendAppCreateCall(d,Mt){return async Ot=>{const Ft=await this._sendAppUpdateCall(d,Mt)(Ot);return{...Ft,appId:BigInt(Ft.confirmation.applicationIndex),appAddress:algosdk.getApplicationAddress(Ft.confirmation.applicationIndex)}}}}function genesisIdIsLocalNet(_e){return _e==="devnet-v1"||_e==="sandnet-v1"||_e==="dockernet-v1"}var AtomicTransactionComposer=algosdk.AtomicTransactionComposer,isTransactionWithSigner=algosdk.isTransactionWithSigner,modelsv2=algosdk.modelsv2;const address$1=_e=>typeof _e=="string"?Address.fromString(_e):_e,MAX_TRANSACTION_GROUP_SIZE=16;class InvalidErrorTransformerValue extends Error{constructor(d,Mt){super(`An error transformer returned a non-error value: ${Mt}. The original error before any transformation: ${d}`)}}class ErrorTransformerError extends Error{constructor(d,Mt){super(`An error transformer threw an error: ${Mt}. The original error before any transformation: ${d} `,{cause:Mt})}}class TransactionComposer{async transformError(d){if(!(d instanceof Error))return d;let Mt=d;for(const Ot of this.errorTransformers)try{if(Mt=await Ot(Mt),!(Mt instanceof Error))return new InvalidErrorTransformerValue(d,Mt)}catch(Ft){return new ErrorTransformerError(d,Ft)}return Mt}constructor(d){this.atc=new algosdk.AtomicTransactionComposer,this.txnMaxFees=new Map,this.txns=[],this.defaultValidityWindow=10n,this.defaultValidityWindowIsExplicit=!1,this.algod=d.algod;const Mt=()=>d.algod.getTransactionParams().do();this.getSuggestedParams=d.getSuggestedParams??Mt,this.getSigner=d.getSigner,this.defaultValidityWindow=d.defaultValidityWindow??this.defaultValidityWindow,this.defaultValidityWindowIsExplicit=d.defaultValidityWindow!==void 0,this.appManager=d.appManager??new AppManager(d.algod),this.errorTransformers=d.errorTransformers??[]}registerErrorTransformer(d){return this.errorTransformers.push(d),this}addTransaction(d,Mt){return this.txns.push({txn:d,signer:Mt??this.getSigner(d.sender),type:"txnWithSigner"}),this}addPayment(d){return this.txns.push({...d,type:"pay"}),this}addAssetCreate(d){return this.txns.push({...d,type:"assetCreate"}),this}addAssetConfig(d){return this.txns.push({...d,type:"assetConfig"}),this}addAssetFreeze(d){return this.txns.push({...d,type:"assetFreeze"}),this}addAssetDestroy(d){return this.txns.push({...d,type:"assetDestroy"}),this}addAssetTransfer(d){return this.txns.push({...d,type:"assetTransfer"}),this}addAssetOptIn(d){return this.txns.push({...d,type:"assetOptIn"}),this}addAssetOptOut(d){return this.txns.push({...d,type:"assetOptOut"}),this}addAppCreate(d){return this.txns.push({...d,type:"appCall"}),this}addAppUpdate(d){return this.txns.push({...d,type:"appCall",onComplete:algosdk.OnApplicationComplete.UpdateApplicationOC}),this}addAppDelete(d){return this.txns.push({...d,type:"appCall",onComplete:algosdk.OnApplicationComplete.DeleteApplicationOC}),this}addAppCall(d){return this.txns.push({...d,type:"appCall"}),this}addAppCreateMethodCall(d){return this.txns.push({...d,type:"methodCall"}),this}addAppUpdateMethodCall(d){return this.txns.push({...d,type:"methodCall",onComplete:algosdk.OnApplicationComplete.UpdateApplicationOC}),this}addAppDeleteMethodCall(d){return this.txns.push({...d,type:"methodCall",onComplete:algosdk.OnApplicationComplete.DeleteApplicationOC}),this}addAppCallMethodCall(d){return this.txns.push({...d,type:"methodCall"}),this}addOnlineKeyRegistration(d){return this.txns.push({...d,type:"keyReg"}),this}addOfflineKeyRegistration(d){return this.txns.push({...d,type:"keyReg"}),this}addAtc(d){return this.txns.push({atc:d,type:"atc"}),this}buildAtc(d){return d.buildGroup().map((Ft,Ut)=>(Ft.txn.group=void 0,d.methodCalls.get(Ut)?{...Ft,context:{abiMethod:d.methodCalls.get(Ut)}}:{...Ft,context:{}}))}commonTxnBuildStep(d,Mt,Ot){var jr;Ot.suggestedParams={...Ot.suggestedParams},Mt.lease&&(Ot.lease=encodeLease(Mt.lease)),Mt.rekeyTo&&(Ot.rekeyTo=address$1(Mt.rekeyTo));const Ft=new TextEncoder;if(Mt.note&&(Ot.note=typeof Mt.note=="string"?Ft.encode(Mt.note):Mt.note),Mt.firstValidRound&&(Ot.suggestedParams.firstValid=Mt.firstValidRound),Mt.lastValidRound)Ot.suggestedParams.lastValid=Mt.lastValidRound;else{const hn=Mt.validityWindow?BigInt(Mt.validityWindow):!this.defaultValidityWindowIsExplicit&&genesisIdIsLocalNet(Ot.suggestedParams.genesisID??"unknown")?1000n:this.defaultValidityWindow;Ot.suggestedParams.lastValid=BigInt(Ot.suggestedParams.firstValid)+hn}if(Mt.staticFee!==void 0&&Mt.extraFee!==void 0)throw Error("Cannot set both staticFee and extraFee");Mt.staticFee!==void 0&&(Ot.suggestedParams.fee=Mt.staticFee.microAlgo,Ot.suggestedParams.flatFee=!0);const Ut=d(Ot);if(Mt.extraFee&&(Ut.fee+=Mt.extraFee.microAlgo),Mt.maxFee!==void 0&&Ut.fee>Mt.maxFee.microAlgo)throw Error(`Transaction fee ${Ut.fee} ALGO is greater than maxFee ${Mt.maxFee}`);const Xt=Mt.maxFee!==void 0&&Mt.maxFee.microAlgo>(((jr=Mt.staticFee)==null?void 0:jr.microAlgo)??0n)?Mt.maxFee:Mt.staticFee;return{txn:Ut,context:{maxFee:Xt}}}async buildMethodCall(d,Mt,Ot){var _n,Dn,Vn,Pn,qn,jn,Hn;const Ft=[],Ut=[],Xt=Jn=>Array.isArray(Jn)?Jn.length==0||Jn.every(Xt):typeof Jn=="bigint"||typeof Jn=="boolean"||typeof Jn=="number"||typeof Jn=="string"||Jn instanceof Uint8Array;for(let Jn=(d.args??[]).length-1;Jn>=0;Jn--){const Gn=d.args[Jn];if(Gn===void 0){if(algosdk.abiTypeIsTransaction(d.method.args[Jn].type)&&Ut.length>0){const eo=Ut.splice(-1,1)[0];Ft.push(eo);continue}throw Error(`No value provided for argument ${Jn+1} within call to ${d.method.name}`)}if(Xt(Gn)){Ft.push(Gn);continue}if(isTransactionWithSigner(Gn)){Ft.push(Gn);continue}if("method"in Gn){const eo=await this.buildMethodCall(Gn,Mt,Ot);Ft.push(...eo.slice(-1)),Ut.push(...eo.slice(0,-1).reverse());continue}const ba=await Gn;Ft.push({txn:ba,signer:Ot?d.signer?"signer"in d.signer?d.signer.signer:d.signer:this.getSigner(ba.sender):TransactionComposer.NULL_SIGNER})}const jr=new algosdk.AtomicTransactionComposer,hn=new Map;Ut.reverse().forEach(({context:Jn,...Gn})=>{jr.addTransaction(Gn);const ba=jr.count()-1;Jn.abiMethod&&jr.methodCalls.set(ba,Jn.abiMethod),Jn.maxFee!==void 0&&hn.set(ba,Jn.maxFee)}),Ft.filter(Jn=>{if(typeof Jn=="object"&&"context"in Jn){const{context:Gn,...ba}=Jn;return isTransactionWithSigner(ba)}return isTransactionWithSigner(Jn)}).reverse().forEach((Jn,Gn)=>{if(typeof Jn=="object"&&"context"in Jn&&Jn.context){const ba=jr.count()+Gn;Jn.context.abiMethod&&jr.methodCalls.set(ba,Jn.context.abiMethod),Jn.context.maxFee!==void 0&&hn.set(ba,Jn.context.maxFee)}});const Vr=Number("appId"in d?d.appId:0n),fn="approvalProgram"in d?typeof d.approvalProgram=="string"?(await this.appManager.compileTeal(d.approvalProgram)).compiledBase64ToBytes:d.approvalProgram:void 0,dn="clearStateProgram"in d?typeof d.clearStateProgram=="string"?(await this.appManager.compileTeal(d.clearStateProgram)).compiledBase64ToBytes:d.clearStateProgram:void 0,pn={appID:Vr,sender:d.sender,suggestedParams:Mt,onComplete:d.onComplete??algosdk.OnApplicationComplete.NoOpOC,appAccounts:d.accountReferences,appForeignApps:(_n=d.appReferences)==null?void 0:_n.map(Jn=>Number(Jn)),appForeignAssets:(Dn=d.assetReferences)==null?void 0:Dn.map(Jn=>Number(Jn)),boxes:(Vn=d.boxReferences)==null?void 0:Vn.map(AppManager.getBoxReference),approvalProgram:fn,clearProgram:dn,extraPages:Vr===0?"extraProgramPages"in d&&d.extraProgramPages!==void 0?d.extraProgramPages:fn?calculateExtraProgramPages(fn,dn):0:void 0,numLocalInts:Vr===0?"schema"in d?((Pn=d.schema)==null?void 0:Pn.localInts)??0:0:void 0,numLocalByteSlices:Vr===0?"schema"in d?((qn=d.schema)==null?void 0:qn.localByteSlices)??0:0:void 0,numGlobalInts:Vr===0?"schema"in d?((jn=d.schema)==null?void 0:jn.globalInts)??0:0:void 0,numGlobalByteSlices:Vr===0?"schema"in d?((Hn=d.schema)==null?void 0:Hn.globalByteSlices)??0:0:void 0,method:d.method,signer:Ot?d.signer?"signer"in d.signer?d.signer.signer:d.signer:this.getSigner(d.sender):TransactionComposer.NULL_SIGNER,methodArgs:Ft.map(Jn=>{if(typeof Jn=="object"&&"context"in Jn){const{context:Gn,...ba}=Jn;return ba}return Jn}).reverse(),note:void 0,lease:void 0,rekeyTo:void 0},En=this.commonTxnBuildStep(Jn=>(jr.addMethodCall(Jn),jr.buildGroup()[jr.count()-1].txn),d,pn);return this.buildAtc(jr).map(({context:Jn,...Gn},ba)=>{const eo=ba===jr.count()-1?En.context.maxFee:hn.get(ba),xa={...Jn,maxFee:eo};return{...Gn,context:xa}})}buildPayment(d,Mt){return this.commonTxnBuildStep(algosdk.makePaymentTxnWithSuggestedParamsFromObject,d,{sender:d.sender,receiver:d.receiver,amount:d.amount.microAlgo,closeRemainderTo:d.closeRemainderTo,suggestedParams:Mt})}buildAssetCreate(d,Mt){return this.commonTxnBuildStep(algosdk.makeAssetCreateTxnWithSuggestedParamsFromObject,d,{sender:d.sender,total:d.total,decimals:d.decimals??0,assetName:d.assetName,unitName:d.unitName,assetURL:d.url,defaultFrozen:d.defaultFrozen??!1,assetMetadataHash:typeof d.metadataHash=="string"?Buffer.from(d.metadataHash,"utf-8"):d.metadataHash,manager:d.manager,reserve:d.reserve,freeze:d.freeze,clawback:d.clawback,suggestedParams:Mt})}buildAssetConfig(d,Mt){return this.commonTxnBuildStep(algosdk.makeAssetConfigTxnWithSuggestedParamsFromObject,d,{sender:d.sender,assetIndex:d.assetId,suggestedParams:Mt,manager:d.manager,reserve:d.reserve,freeze:d.freeze,clawback:d.clawback,strictEmptyAddressChecking:!1})}buildAssetDestroy(d,Mt){return this.commonTxnBuildStep(algosdk.makeAssetDestroyTxnWithSuggestedParamsFromObject,d,{sender:d.sender,assetIndex:d.assetId,suggestedParams:Mt})}buildAssetFreeze(d,Mt){return this.commonTxnBuildStep(algosdk.makeAssetFreezeTxnWithSuggestedParamsFromObject,d,{sender:d.sender,assetIndex:d.assetId,freezeTarget:d.account,frozen:d.frozen,suggestedParams:Mt})}buildAssetTransfer(d,Mt){return this.commonTxnBuildStep(algosdk.makeAssetTransferTxnWithSuggestedParamsFromObject,d,{sender:d.sender,receiver:d.receiver,assetIndex:d.assetId,amount:d.amount,suggestedParams:Mt,closeRemainderTo:d.closeAssetTo,assetSender:d.clawbackTarget})}async buildAppCall(d,Mt){var jr,hn,Vr,fn,dn,pn,En;const Ot="appId"in d?d.appId:0n,Ft="approvalProgram"in d?typeof d.approvalProgram=="string"?(await this.appManager.compileTeal(d.approvalProgram)).compiledBase64ToBytes:d.approvalProgram:void 0,Ut="clearStateProgram"in d?typeof d.clearStateProgram=="string"?(await this.appManager.compileTeal(d.clearStateProgram)).compiledBase64ToBytes:d.clearStateProgram:void 0,Xt={sender:d.sender,suggestedParams:Mt,appArgs:d.args,onComplete:d.onComplete??algosdk.OnApplicationComplete.NoOpOC,accounts:d.accountReferences,foreignApps:(jr=d.appReferences)==null?void 0:jr.map(_n=>Number(_n)),foreignAssets:(hn=d.assetReferences)==null?void 0:hn.map(_n=>Number(_n)),boxes:(Vr=d.boxReferences)==null?void 0:Vr.map(AppManager.getBoxReference),approvalProgram:Ft,clearProgram:Ut};if(Ot===0n){if(Xt.approvalProgram===void 0||Xt.clearProgram===void 0)throw new Error("approvalProgram and clearStateProgram are required for application creation");return this.commonTxnBuildStep(algosdk.makeApplicationCreateTxnFromObject,d,{...Xt,extraPages:"extraProgramPages"in d&&d.extraProgramPages!==void 0?d.extraProgramPages:calculateExtraProgramPages(Ft,Ut),numLocalInts:"schema"in d?((fn=d.schema)==null?void 0:fn.localInts)??0:0,numLocalByteSlices:"schema"in d?((dn=d.schema)==null?void 0:dn.localByteSlices)??0:0,numGlobalInts:"schema"in d?((pn=d.schema)==null?void 0:pn.globalInts)??0:0,numGlobalByteSlices:"schema"in d?((En=d.schema)==null?void 0:En.globalByteSlices)??0:0,approvalProgram:Ft,clearProgram:Ut})}else return this.commonTxnBuildStep(algosdk.makeApplicationCallTxnFromObject,d,{...Xt,appIndex:Ot})}buildKeyReg(d,Mt){return"voteKey"in d?this.commonTxnBuildStep(algosdk.makeKeyRegistrationTxnWithSuggestedParamsFromObject,d,{sender:d.sender,voteKey:d.voteKey,selectionKey:d.selectionKey,voteFirst:d.voteFirst,voteLast:d.voteLast,voteKeyDilution:d.voteKeyDilution,suggestedParams:Mt,nonParticipation:!1,stateProofKey:d.stateProofKey}):this.commonTxnBuildStep(algosdk.makeKeyRegistrationTxnWithSuggestedParamsFromObject,d,{sender:d.sender,suggestedParams:Mt,nonParticipation:d.preventAccountFromEverParticipatingAgain})}async buildTxn(d,Mt){switch(d.type){case"pay":return[this.buildPayment(d,Mt)];case"assetCreate":return[this.buildAssetCreate(d,Mt)];case"appCall":return[await this.buildAppCall(d,Mt)];case"assetConfig":return[this.buildAssetConfig(d,Mt)];case"assetDestroy":return[this.buildAssetDestroy(d,Mt)];case"assetFreeze":return[this.buildAssetFreeze(d,Mt)];case"assetTransfer":return[this.buildAssetTransfer(d,Mt)];case"assetOptIn":return[this.buildAssetTransfer({...d,receiver:d.sender,amount:0n},Mt)];case"assetOptOut":return[this.buildAssetTransfer({...d,receiver:d.sender,amount:0n,closeAssetTo:d.creator},Mt)];case"keyReg":return[this.buildKeyReg(d,Mt)];default:throw Error("Unsupported txn type")}}async buildTxnWithSigner(d,Mt){if(d.type==="txnWithSigner")return[{...d,context:{}}];if(d.type==="atc")return this.buildAtc(d.atc);if(d.type==="methodCall")return await this.buildMethodCall(d,Mt,!0);const Ot=d.signer?"signer"in d.signer?d.signer.signer:d.signer:this.getSigner(d.sender);return(await this.buildTxn(d,Mt)).map(({txn:Ft,context:Ut})=>({txn:Ft,signer:Ot,context:Ut}))}async buildTransactions(){const d=await this.getSuggestedParams(),Mt=[],Ot=new Map,Ft=new Map;for(const Ut of this.txns)["txnWithSigner","atc","methodCall"].includes(Ut.type)?(Ut.type==="txnWithSigner"?[Ut]:Ut.type==="atc"?this.buildAtc(Ut.atc):Ut.type==="methodCall"?await this.buildMethodCall(Ut,d,!1):[]).forEach(jr=>{Mt.push(jr.txn);const hn=Mt.length-1;jr.signer&&jr.signer!==TransactionComposer.NULL_SIGNER&&Ft.set(hn,jr.signer),"context"in jr&&jr.context.abiMethod&&Ot.set(hn,jr.context.abiMethod)}):Mt.push(...(await this.buildTxn(Ut,d)).map(Xt=>Xt.txn));return{transactions:Mt,methodCalls:Ot,signers:Ft}}async count(){return(await this.buildTransactions()).transactions.length}async build(){if(this.atc.getStatus()===algosdk.AtomicTransactionComposerStatus.BUILDING){const d=await this.getSuggestedParams(),Mt=[];for(const Ft of this.txns)Mt.push(...await this.buildTxnWithSigner(Ft,d));const Ot=new Map;Mt.forEach(({context:Ft,...Ut},Xt)=>{this.atc.addTransaction(Ut),Ft.abiMethod&&Ot.set(Xt,Ft.abiMethod),Ft.maxFee!==void 0&&this.txnMaxFees.set(Xt,Ft.maxFee)}),this.atc.methodCalls=Ot}return{atc:this.atc,transactions:this.atc.buildGroup(),methodCalls:this.atc.methodCalls}}async rebuild(){return this.atc=new algosdk.AtomicTransactionComposer,await this.build()}async send(d){const Mt=(await this.build()).transactions;let Ot=d==null?void 0:d.maxRoundsToWaitForConfirmation;const Ft=Ot===void 0||d!=null&&d.coverAppCallInnerTransactionFees?await this.getSuggestedParams():void 0;if(Ot===void 0){const Ut=Mt.reduce((jr,hn)=>hn.txn.lastValid>jr?hn.txn.lastValid:BigInt(jr),0n),{firstValid:Xt}=Ft;Ot=Number(BigInt(Ut)-BigInt(Xt))+1}try{return await sendAtomicTransactionComposer({atc:this.atc,suppressLog:d==null?void 0:d.suppressLog,maxRoundsToWaitForConfirmation:Ot,populateAppCallResources:d==null?void 0:d.populateAppCallResources,coverAppCallInnerTransactionFees:d==null?void 0:d.coverAppCallInnerTransactionFees,additionalAtcContext:d!=null&&d.coverAppCallInnerTransactionFees?{maxFees:this.txnMaxFees,suggestedParams:Ft}:void 0},this.algod)}catch(Ut){throw await this.transformError(Ut)}}async execute(d){return this.send(d)}async simulate(d){var fn;const{skipSignatures:Mt=!1,...Ot}=d??{},Ft=Mt?new AtomicTransactionComposer:this.atc;if(Mt){Ot.allowEmptySignatures=!0,Ot.fixSigners=!0;const dn=await this.buildTransactions();for(const pn of dn.transactions)Ft.addTransaction({txn:pn,signer:TransactionComposer.NULL_SIGNER});Ft.methodCalls=dn.methodCalls}else await this.build();const{methodResults:Ut,simulateResponse:Xt}=await Ft.simulate(this.algod,new modelsv2.SimulateRequest({txnGroups:[],...Ot,...Config.debug?{allowEmptySignatures:!0,fixSigners:!0,allowMoreLogging:!0,execTraceConfig:new modelsv2.SimulateTraceConfig({enable:!0,scratchChange:!0,stackChange:!0,stateChange:!0})}:void 0})),jr=Xt==null?void 0:Xt.txnGroups[0];if(jr!=null&&jr.failureMessage){const dn=`Transaction failed at transaction(s) ${((fn=jr.failedAt)==null?void 0:fn.join(", "))||"unknown"} in the group. ${jr.failureMessage}`,pn=new Error(dn);throw Config.debug&&await Config.events.emitAsync(EventType.TxnGroupSimulated,{simulateResponse:Xt}),await this.transformError(pn)}Config.debug&&Config.traceAll&&await Config.events.emitAsync(EventType.TxnGroupSimulated,{simulateResponse:Xt});const hn=Ft.buildGroup().map(dn=>dn.txn),Vr=[...Ft.methodCalls.values()];return{confirmations:Xt.txnGroups[0].txnResults.map(dn=>dn.txnResult),transactions:hn,txIds:hn.map(dn=>dn.txID()),groupId:Buffer.from(hn[0].group??new Uint8Array).toString("base64"),simulateResponse:Xt,returns:Ut.map((dn,pn)=>getABIReturnValue(dn,Vr[pn].returns.type))}}static arc2Note(d){const Mt=`${d.dAppName}:${d.format}${typeof d.data=="string"?d.data:asJson(d.data)}`;return new TextEncoder().encode(Mt)}}TransactionComposer.NULL_SIGNER=algosdk.makeEmptyTransactionSigner();class AssetManager{constructor(d,Mt){this._algod=d,this._newGroup=Mt}async getById(d){const Mt=await this._algod.getAssetByID(Number(d)).do();return{assetId:BigInt(Mt.index),total:BigInt(Mt.params.total),decimals:Number(Mt.params.decimals),assetName:Mt.params.name,assetNameAsBytes:Mt.params.nameB64,unitName:Mt.params.unitName,unitNameAsBytes:Mt.params.unitNameB64,url:Mt.params.url,urlAsBytes:Mt.params.urlB64,creator:Mt.params.creator,manager:Mt.params.manager,clawback:Mt.params.clawback,freeze:Mt.params.freeze,reserve:Mt.params.reserve,defaultFrozen:Mt.params.defaultFrozen,metadataHash:Mt.params.metadataHash}}async getAccountInformation(d,Mt){var Ft,Ut;const Ot=await this._algod.accountAssetInformation(d,Number(Mt)).do();return{assetId:BigInt(Mt),balance:BigInt(((Ft=Ot.assetHolding)==null?void 0:Ft.amount)??0),frozen:((Ut=Ot.assetHolding)==null?void 0:Ut.isFrozen)===!0,round:BigInt(Ot.round)}}async bulkOptIn(d,Mt,Ot){var Ut,Xt;const Ft=[];for(const jr of chunkArray(Mt,MAX_TRANSACTION_GROUP_SIZE)){const hn=this._newGroup();for(const fn of jr)hn.addAssetOptIn({...Ot,sender:d,assetId:BigInt(fn)});const Vr=await hn.send(Ot);Config.getLogger(Ot==null?void 0:Ot.suppressLog).info(`Successfully opted in ${d} for assets ${jr.join(", ")} with transaction IDs ${Vr.txIds.join(", ")}
  Grouped under ${Vr.groupId} in round ${(Xt=(Ut=Vr.confirmations)==null?void 0:Ut[0])==null?void 0:Xt.confirmedRound}.`),jr.forEach((fn,dn)=>{Ft.push({assetId:BigInt(fn),transactionId:Vr.txIds[dn]})})}return Ft}async bulkOptOut(d,Mt,Ot){var Ut,Xt;const Ft=[];for(const jr of chunkArray(Mt,MAX_TRANSACTION_GROUP_SIZE)){const hn=this._newGroup(),Vr=[],fn=[];for(const pn of jr)if((Ot==null?void 0:Ot.ensureZeroBalance)!==!1)try{(await this.getAccountInformation(d,pn)).balance!==0n&&fn.push(BigInt(pn))}catch{Vr.push(BigInt(pn))}if(Vr.length>0||fn.length>0)throw new Error(`Account ${d}${Vr.length>0?` is not opted-in to Asset${Vr.length>1?"s":""} ${Vr.join(", ")}`:""}${fn.length>0?` has non-zero balance for Asset${fn.length>1?"s":""} ${fn.join(", ")}`:""}; can't opt-out.`);for(const pn of jr)hn.addAssetOptOut({...Ot,creator:(await this.getById(BigInt(pn))).creator,sender:d,assetId:BigInt(pn)});const dn=await hn.send(Ot);Config.getLogger(Ot==null?void 0:Ot.suppressLog).info(`Successfully opted ${d} out of assets ${jr.join(", ")} with transaction IDs ${dn.txIds.join(", ")}
  Grouped under ${dn.groupId} in round ${(Xt=(Ut=dn.confirmations)==null?void 0:Ut[0])==null?void 0:Xt.confirmedRound}.`),jr.forEach((pn,En)=>{Ft.push({assetId:BigInt(pn),transactionId:dn.txIds[En]})})}return Ft}}const DEFAULT_INDEXER_MAX_API_RESOURCES_PER_ACCOUNT=1e3;async function lookupAccountCreatedApplicationByAddress(_e,d,Mt=void 0,Ot){return await executePaginatedRequest(Ft=>{if("message"in Ft)throw{status:404,...Ft};return Ft.applications},Ft=>{let Ut=_e.lookupAccountCreatedApplications(d).includeAll(Mt).limit(DEFAULT_INDEXER_MAX_API_RESOURCES_PER_ACCOUNT);return Ft&&(Ut=Ut.nextToken(Ft)),Ut})}async function searchTransactions(_e,d,Mt){let Ot=0n;const Ft=await executePaginatedRequest(Ut=>{if("message"in Ut)throw{status:404,...Ut};return Ut.currentRound>Ot&&(Ot=Ut.currentRound),Ut.transactions},Ut=>{let Xt=d(_e.searchForTransactions()).limit(DEFAULT_INDEXER_MAX_API_RESOURCES_PER_ACCOUNT);return Ut&&(Xt=Xt.nextToken(Ut)),Xt});return new algosdk.indexerModels.TransactionsResponse({currentRound:Ot,nextToken:void 0,transactions:Ft})}async function executePaginatedRequest(_e,d){const Mt=[];let Ot;for(;;){const Ut=await d(Ot).do(),Xt=_e(Ut);if(Xt==null||Xt.length===0||(Mt.push(...Xt),Ot=Ut.nextToken,!Ot))break}return Mt}class AppDeployer{constructor(d,Mt,Ot){this._appLookups=new Map,this._appManager=d,this._transactionSender=Mt,this._indexer=Ot}async deploy(d){var On,Ln,Rn,yn;const{metadata:Mt,deployTimeParams:Ot,onSchemaBreak:Ft,onUpdate:Ut,createParams:Xt,updateParams:jr,deleteParams:hn,existingDeployments:Vr,ignoreCache:fn,...dn}=d;if(Xt.note=jr.note=TransactionComposer.arc2Note({dAppName:APP_DEPLOY_NOTE_DAPP,data:Mt,format:"j"}),Vr&&Vr.creator.toString()!==Xt.sender.toString())throw new Error(`Received invalid existingDeployments value for creator ${Vr.creator} when attempting to deploy for creator ${Xt.sender}`);if(!Vr&&!this._indexer)throw new Error("Didn't receive an indexer client when this AppManager was created, but also didn't receive an existingDeployments cache - one of them must be provided");Config.getLogger(dn==null?void 0:dn.suppressLog).info(`Idempotently deploying app "${Mt.name}" from creator ${Xt.sender} using ${Xt.approvalProgram.length} bytes of ${typeof Xt.approvalProgram=="string"?"teal code":"AVM bytecode"} and ${Xt.clearStateProgram.length} bytes of ${typeof Xt.approvalProgram=="string"?"teal code":"AVM bytecode"}`);const pn=typeof Xt.approvalProgram=="string"?await this._appManager.compileTealTemplate(Xt.approvalProgram,Ot,Mt):void 0,En=pn?pn.compiledBase64ToBytes:Xt.approvalProgram,_n=typeof Xt.clearStateProgram=="string"?await this._appManager.compileTealTemplate(Xt.clearStateProgram,Ot):void 0,Dn=_n?_n.compiledBase64ToBytes:Xt.clearStateProgram,Vn=async()=>{const kn=await("method"in Xt?this._transactionSender.appCreateMethodCall({...Xt,approvalProgram:En,clearStateProgram:Dn,...dn}):this._transactionSender.appCreate({...Xt,approvalProgram:En,clearStateProgram:Dn,...dn})),Fn={appId:kn.appId,appAddress:kn.appAddress,...Mt,createdMetadata:Mt,createdRound:BigInt(kn.confirmation.confirmedRound),updatedRound:BigInt(kn.confirmation.confirmedRound),deleted:!1};return this.updateAppLookup(Xt.sender,Fn),{operationPerformed:"create",compiledApproval:pn,compiledClear:_n,...kn,...Fn}},Pn=async kn=>{Config.getLogger(dn==null?void 0:dn.suppressLog).info(`Updating existing ${Mt.name} app for ${Xt.sender} to version ${Mt.version}.`);const Fn=await("method"in jr?this._transactionSender.appUpdateMethodCall({appId:kn.appId,approvalProgram:En,clearStateProgram:Dn,...jr,...dn}):this._transactionSender.appUpdate({appId:kn.appId,approvalProgram:En,clearStateProgram:Dn,...jr,...dn})),Cn={appId:kn.appId,appAddress:kn.appAddress,createdMetadata:kn.createdMetadata,createdRound:kn.createdRound,updatedRound:BigInt(Fn.confirmation.confirmedRound),...Mt,deleted:!1};return this.updateAppLookup(Xt.sender,Cn),{operationPerformed:"update",compiledApproval:pn,compiledClear:_n,...Fn,...Cn}},qn=async kn=>{var na,so;Config.getLogger(dn==null?void 0:dn.suppressLog).info(`Deploying a new ${Mt.name} app for ${Xt.sender}; deploying app with version ${Mt.version}.`),Config.getLogger(dn==null?void 0:dn.suppressLog).warn(`Deleting existing ${Mt.name} app with id ${kn.appId} from ${hn.sender} account.`);const Fn=this._transactionSender.newGroup();"method"in Xt?Fn.addAppCreateMethodCall({...Xt,approvalProgram:En,clearStateProgram:Dn}):Fn.addAppCreate({...Xt,approvalProgram:En,clearStateProgram:Dn});const Cn=await Fn.count();"method"in hn?Fn.addAppDeleteMethodCall({appId:kn.appId,...hn}):Fn.addAppDelete({appId:kn.appId,...hn});const zn=await Fn.send({...dn}),$a=zn.confirmations.at(Cn-1),co=zn.transactions.at(Cn-1),io=zn.transactions.at(-1);Config.getLogger(dn==null?void 0:dn.suppressLog).warn(`Sent transactions ${co.txID()} to create app with id ${$a.applicationIndex} and ${io.txID()} to delete app with id ${kn.appId} from ${Xt.sender} account.`);const ga={appId:BigInt($a.applicationIndex),appAddress:algosdk.getApplicationAddress($a.applicationIndex),...Mt,createdMetadata:Mt,createdRound:BigInt($a.confirmedRound),updatedRound:BigInt($a.confirmedRound),deleted:!1};return this.updateAppLookup(Xt.sender,ga),{operationPerformed:"replace",...zn,compiledApproval:pn,compiledClear:_n,transaction:co,confirmation:$a,return:"method"in Xt?(na=zn.returns)==null?void 0:na[0]:void 0,deleteReturn:"method"in hn?(so=zn.returns)==null?void 0:so.at(-1):void 0,...ga,deleteResult:{transaction:io,confirmation:zn.confirmations.at(-1)}}},Hn=(Vr??await this.getCreatorAppsByName(Xt.sender,fn)).apps[Mt.name];if(!Hn||Hn.deleted)return Config.getLogger(dn==null?void 0:dn.suppressLog).info(`App ${Mt.name} not found in apps created by ${Xt.sender}; deploying app with version ${Mt.version}.`),await Vn();Config.getLogger(dn==null?void 0:dn.suppressLog).info(`Existing app ${Mt.name} found by creator ${Xt.sender}, with app id ${Hn.appId} and version ${Hn.version}.`);const Jn=await this._appManager.getById(Hn.appId),Gn=Buffer.from(Jn.approvalProgram).toString("base64"),ba=Buffer.from(Jn.clearStateProgram).toString("base64"),eo=calculateExtraProgramPages(Jn.approvalProgram,Jn.clearStateProgram),xa=Buffer.from(En),Yn=Buffer.from(Dn),Un=xa.toString("base64"),Mn=Yn.toString("base64"),mn=calculateExtraProgramPages(xa,Yn),Xr=Un!==Gn||Mn!==ba;if(Jn.localInts<(((On=Xt.schema)==null?void 0:On.localInts)??0)||Jn.globalInts<(((Ln=Xt.schema)==null?void 0:Ln.globalInts)??0)||Jn.localByteSlices<(((Rn=Xt.schema)==null?void 0:Rn.localByteSlices)??0)||Jn.globalByteSlices<(((yn=Xt.schema)==null?void 0:yn.globalByteSlices)??0)||eo<mn){if(Config.getLogger(dn==null?void 0:dn.suppressLog).warn(`Detected a breaking app schema change in app ${Hn.appId}:`,{from:{globalInts:Jn.globalInts,globalByteSlices:Jn.globalByteSlices,localInts:Jn.localInts,localByteSlices:Jn.localByteSlices,extraProgramPages:eo},to:{...Xt.schema,extraProgramPages:mn}}),Ft===void 0||Ft==="fail"||Ft===OnSchemaBreak.Fail)throw new Error("Schema break detected and onSchemaBreak=OnSchemaBreak.Fail, stopping deployment. If you want to try deleting and recreating the app then re-run with onSchemaBreak=OnSchemaBreak.ReplaceApp");return Ft==="append"||Ft===OnSchemaBreak.AppendApp?(Config.getLogger(dn==null?void 0:dn.suppressLog).info("onSchemaBreak=AppendApp, will attempt to create a new app"),await Vn()):(Hn.deletable?Config.getLogger(dn==null?void 0:dn.suppressLog).info("App is deletable and onSchemaBreak=ReplaceApp, will attempt to create new app and delete old app"):Config.getLogger(dn==null?void 0:dn.suppressLog).info("App is not deletable but onSchemaBreak=ReplaceApp, will attempt to delete app, delete will most likely fail"),await qn(Hn))}if(Xr){if(Config.getLogger(dn==null?void 0:dn.suppressLog).info(`Detected a TEAL update in app ${Hn.appId} for creator ${Xt.sender}`),Ut===void 0||Ut==="fail"||Ut===OnUpdate.Fail)throw new Error("Update detected and onUpdate=Fail, stopping deployment. Try a different onUpdate value to not fail.");if(Ut==="append"||Ut===OnUpdate.AppendApp)return Config.getLogger(dn==null?void 0:dn.suppressLog).info("onUpdate=AppendApp, will attempt to create a new app"),await Vn();if(Ut==="update"||Ut===OnUpdate.UpdateApp)return Hn.updatable?Config.getLogger(dn==null?void 0:dn.suppressLog).info("App is updatable and onUpdate=UpdateApp, updating app..."):Config.getLogger(dn==null?void 0:dn.suppressLog).warn("App is not updatable but onUpdate=UpdateApp, will attempt to update app, update will most likely fail"),await Pn(Hn);if(Ut==="replace"||Ut===OnUpdate.ReplaceApp)return Hn.deletable?Config.getLogger(dn==null?void 0:dn.suppressLog).warn("App is deletable and onUpdate=ReplaceApp, creating new app and deleting old app..."):Config.getLogger(dn==null?void 0:dn.suppressLog).warn("App is not deletable and onUpdate=ReplaceApp, will attempt to create new app and delete old app, delete will most likely fail"),await qn(Hn)}return Config.getLogger(dn==null?void 0:dn.suppressLog).debug("No detected changes in app, nothing to do."),{...Hn,operationPerformed:"nothing"}}updateAppLookup(d,Mt){const Ot=typeof d=="string"?d:d.toString(),Ft=this._appLookups.get(Ot);Ft?Ft.apps[Mt.name]=Mt:this._appLookups.set(Ot,{creator:Address.fromString(Ot),apps:{[Mt.name]:Mt}})}async getCreatorAppsByName(d,Mt){const Ot={},Ft=typeof d=="string"?d:d.toString();if(!Mt&&this._appLookups.has(Ft))return this._appLookups.get(Ft);if(!this._indexer)throw new Error("Didn't receive an indexer client when this AppManager was created, but received a call to getCreatorApps");const Ut=(await lookupAccountCreatedApplicationByAddress(this._indexer,d)).map(hn=>({id:hn.id,createdAtRound:hn.createdAtRound,deleted:hn.deleted})).sort((hn,Vr)=>Number(hn.createdAtRound-Vr.createdAtRound));(await Promise.all(Ut.map(async hn=>{const Vr=await searchTransactions(this._indexer,pn=>pn.minRound(hn.createdAtRound).txType(algosdk.TransactionType.appl).applicationID(Number(hn.id)).address(d).addressRole("sender").notePrefix(Buffer.from(APP_DEPLOY_NOTE_DAPP).toString("base64"))),fn=Vr.transactions.filter(pn=>{var En;return((En=pn.applicationTransaction)==null?void 0:En.applicationId)===0n&&pn.sender.toString()===d.toString()})[0],dn=Vr.transactions.filter(pn=>pn.sender.toString()===d.toString()).sort((pn,En)=>pn.confirmedRound===En.confirmedRound?(En.intraRoundOffset-pn.intraRoundOffset)/10:Number(En.confirmedRound-pn.confirmedRound))[0];return fn!=null&&fn.note?{createdApp:hn,appCreationTransaction:fn,latestAppUpdateTransaction:dn}:null}))).filter(hn=>hn!==null).forEach(hn=>{const{createdApp:Vr,appCreationTransaction:fn,latestAppUpdateTransaction:dn}=hn,pn=En=>{if(En&&En.startsWith(`${APP_DEPLOY_NOTE_DAPP}:j{`))return JSON.parse(En.substring(APP_DEPLOY_NOTE_DAPP.length+2))};try{const En=pn(fn.note?Buffer.from(fn.note).toString("utf-8"):void 0),_n=pn(dn.note?Buffer.from(dn.note).toString("utf-8"):void 0);En!=null&&En.name&&(Ot[En.name]={appId:Vr.id,appAddress:algosdk.getApplicationAddress(Vr.id),createdMetadata:En,createdRound:fn.confirmedRound??0n,..._n??En,updatedRound:(dn==null?void 0:dn.confirmedRound)??0n,deleted:Vr.deleted??!1})}catch(En){Config.logger.warn(`Received error trying to retrieve app with ${Vr.id} for creator ${d}; failing silently`,En);return}});const jr={creator:typeof d=="string"?Address.fromString(d):d,apps:Ot};return this._appLookups.set(d.toString(),jr),jr}}class Arc56Method extends algosdk.ABIMethod{constructor(d){super(d),this.method=d,this.args=d.args.map(Mt=>({...Mt,type:algosdk.abiTypeIsTransaction(Mt.type)||algosdk.abiTypeIsReference(Mt.type)?Mt.type:algosdk.ABIType.from(Mt.type)})),this.returns={...this.method.returns,type:this.method.returns.type==="void"?"void":algosdk.ABIType.from(this.method.returns.type)}}toJSON(){return this.method}}function getABITupleTypeFromABIStructDefinition(_e,d){return new algosdk.ABITupleType(_e.map(Mt=>typeof Mt.type=="string"?d[Mt.type]?getABITupleTypeFromABIStructDefinition(d[Mt.type],d):algosdk.ABIType.from(Mt.type):getABITupleTypeFromABIStructDefinition(Mt.type,d)))}function getABIStructFromABITuple(_e,d,Mt){return Object.fromEntries(d.map(({name:Ot,type:Ft},Ut)=>{let Xt;typeof Ft=="string"?Ft in Mt?Xt=getABITupleTypeFromABIStructDefinition(Mt[Ft],Mt):Xt=algosdk.ABIType.from(Ft):Xt=getABITupleTypeFromABIStructDefinition(Ft,Mt);const jr=convertAbiByteArrays(_e[Ut],Xt),hn=convertABIDecodedBigIntToNumber(jr,Xt);return[Ot,typeof Ft=="string"&&!Mt[Ft]||!Array.isArray(hn)?hn:getABIStructFromABITuple(hn,typeof Ft=="string"?Mt[Ft]:Ft,Mt)]}))}function getABITupleFromABIStruct(_e,d,Mt){return d.map(({name:Ot,type:Ft})=>{const Ut=_e[Ot];return typeof Ft=="string"&&!Mt[Ft]?Ut:getABITupleFromABIStruct(Ut,typeof Ft=="string"?Mt[Ft]:Ft,Mt)})}function getABIDecodedValue(_e,d,Mt){if(d==="AVMBytes"||typeof _e!="object")return _e;if(d==="AVMString")return Buffer.from(_e).toString("utf-8");if(d==="AVMUint64")return algosdk.ABIType.from("uint64").decode(_e);if(Mt[d]){const Ut=getABITupleTypeFromABIStructDefinition(Mt[d],Mt).decode(_e);return getABIStructFromABITuple(Ut,Mt[d],Mt)}const Ot=algosdk.ABIType.from(d),Ft=convertAbiByteArrays(Ot.decode(_e),Ot);return convertABIDecodedBigIntToNumber(Ft,Ot)}function getABIEncodedValue(_e,d,Mt){if(typeof _e=="object"&&_e instanceof Uint8Array)return _e;if(d==="AVMUint64")return algosdk.ABIType.from("uint64").encode(_e);if(d==="AVMBytes"||d==="AVMString"){if(typeof _e=="string")return Buffer.from(_e,"utf-8");if(typeof _e!="object"||!(_e instanceof Uint8Array))throw new Error(`Expected bytes value for ${d}, but got ${_e}`);return _e}if(Mt[d]){const Ot=getABITupleTypeFromABIStructDefinition(Mt[d],Mt);if(Array.isArray(_e))Ot.encode(_e);else return Ot.encode(getABITupleFromABIStruct(_e,Mt[d],Mt))}return algosdk.ABIType.from(d).encode(_e)}function getArc56Method(_e,d){let Mt;if(_e.includes("(")){const Ot=d.methods.find(Ft=>new algosdk.ABIMethod(Ft).getSignature()===_e);if(!Ot)throw new Error(`Unable to find method ${_e} in ${d.name} app.`);Mt=Ot}else{const Ot=d.methods.filter(Ft=>Ft.name===_e);if(Ot.length===0)throw new Error(`Unable to find method ${_e} in ${d.name} app.`);if(Ot.length>1)throw new Error(`Received a call to method ${_e} in contract ${d.name}, but this resolved to multiple methods; please pass in an ABI signature instead: ${d.methods.map(Ft=>new algosdk.ABIMethod(Ft).getSignature()).join(", ")}`);Mt=Ot[0]}return new Arc56Method(Mt)}function getArc56ReturnValue(_e,d,Mt){const Ot="method"in d?d.method:d,Ft=Ot.returns.struct??Ot.returns.type;if(_e!=null&&_e.decodeError)throw _e.decodeError;if(!(Ft===void 0||Ft==="void"||(_e==null?void 0:_e.returnValue)===void 0))return Ft==="AVMBytes"?_e.rawReturnValue:Ft==="AVMString"?Buffer.from(_e.rawReturnValue).toString("utf-8"):Ft==="AVMUint64"?algosdk.ABIType.from("uint64").decode(_e.rawReturnValue):Mt[Ft]?getABIStructFromABITuple(_e.returnValue,Mt[Ft],Mt):convertAbiByteArrays(_e.returnValue,algosdk.ABIType.from(Ft))}var ABIMethod=algosdk.ABIMethod;function arc32ToArc56(_e){const d=Object.values(_e.hints).flatMap(hn=>Object.entries(hn.structs??{})),Mt=Object.fromEntries(d.map(([hn,Vr])=>{const fn=Vr.elements.map(dn=>({name:dn[0],type:dn[1]}));return[Vr.name,fn]})),Ot=hn=>_e.hints[new ABIMethod(hn).getSignature()],Ft=(hn,Vr)=>{var fn,dn;return((fn=Ot(hn))==null?void 0:fn.call_config)!==void 0?Xt((dn=Ot(hn))==null?void 0:dn.call_config,Vr):[]},Ut=hn=>Xt(_e.bare_call_config,hn),Xt=(hn,Vr)=>{const fn=[];return hn.close_out&&["ALL",Vr].includes(hn.close_out)&&fn.push("CloseOut"),hn.delete_application&&["ALL",Vr].includes(hn.delete_application)&&fn.push("DeleteApplication"),hn.no_op&&["ALL",Vr].includes(hn.no_op)&&fn.push("NoOp"),hn.opt_in&&["ALL",Vr].includes(hn.opt_in)&&fn.push("OptIn"),hn.update_application&&["ALL",Vr].includes(hn.update_application)&&fn.push("UpdateApplication"),fn},jr=(hn,Vr)=>{if(Vr)return Vr.source==="abi-method"?{source:"method",data:Vr.data.name}:{source:Vr.source==="constant"?"literal":Vr.source==="global-state"?"global":"local",data:Buffer.from(typeof Vr.data=="number"?algosdk.ABIType.from("uint64").encode(Vr.data):Vr.data).toString("base64"),type:hn==="string"?"AVMString":hn}};return{arcs:[],name:_e.contract.name,desc:_e.contract.desc,structs:Mt,methods:_e.contract.methods.map(hn=>{var Vr,fn,dn,pn;return{name:hn.name,desc:hn.desc,args:hn.args.map(En=>{var _n,Dn,Vn,Pn,qn;return{name:En.name,type:En.type,desc:En.desc,struct:En.name?(Vn=(Dn=(_n=Ot(hn))==null?void 0:_n.structs)==null?void 0:Dn[En.name])==null?void 0:Vn.name:void 0,defaultValue:jr(En.type,En.name?(qn=(Pn=Ot(hn))==null?void 0:Pn.default_arguments)==null?void 0:qn[En.name]:void 0)}}),returns:{type:hn.returns.type,desc:hn.returns.desc,struct:(dn=(fn=(Vr=Ot(hn))==null?void 0:Vr.structs)==null?void 0:fn.output)==null?void 0:dn.name},events:[],readonly:(pn=Ot(hn))==null?void 0:pn.read_only,actions:{create:Ft(hn,"CREATE"),call:Ft(hn,"CALL")}}}),state:{schema:{global:{ints:_e.state.global.num_uints,bytes:_e.state.global.num_byte_slices},local:{ints:_e.state.local.num_uints,bytes:_e.state.local.num_byte_slices}},keys:{global:Object.fromEntries(Object.entries(_e.schema.global.declared).map(hn=>[hn[0],{key:Buffer.from(hn[1].key,"utf-8").toString("base64"),keyType:"AVMString",valueType:hn[1].type==="uint64"?"AVMUint64":"AVMBytes",desc:hn[1].descr}])),local:Object.fromEntries(Object.entries(_e.schema.local.declared).map(hn=>[hn[0],{key:Buffer.from(hn[1].key,"utf-8").toString("base64"),keyType:"AVMString",valueType:hn[1].type==="uint64"?"AVMUint64":"AVMBytes",desc:hn[1].descr}])),box:{}},maps:{global:{},local:{},box:{}}},source:_e.source,bareActions:{create:Ut("CREATE"),call:Ut("CALL")},byteCode:void 0,compilerInfo:void 0,events:void 0,networks:void 0,scratchVariables:void 0,sourceInfo:void 0,templateVariables:void 0}}const LOGIC_ERROR=/transaction ([A-Z0-9]+): logic eval error: (.*). Details: .*pc=([0-9]+).*/,INNER_LOGIC_ERROR=/inner tx (\d+) failed:.*?pc=([0-9]+)/;class LogicError extends Error{static parseLogicError(d){const Mt=d.message,Ot=LOGIC_ERROR.exec(Mt),Ft=INNER_LOGIC_ERROR.exec(Mt);if(!(Ot===null||Ot.length<=3))return{txId:Ot[1],msg:Ot[2],desc:Mt,pc:parseInt((Ft==null?void 0:Ft[2])??Ot[3]??"0"),traces:d.traces}}constructor(d,Mt,Ot){super(),this.lines=5,this.teal_line=0,this.led=d,this.program=Mt;const Ft=Ot(d.pc);if(this.teal_line=Ft===void 0?0:Ft,this.message=`${this.led.msg}. at:${Ft}. ${this.led.desc}`,this.teal_line>0){const Ut=this.teal_line>this.lines?this.teal_line-this.lines:0,Xt=Mt.length>this.teal_line+this.lines?this.teal_line+this.lines:Mt.length,jr=Mt.slice(Ut,Xt);jr[jr.length/2]+=" <--- Error",this.stack=jr.join(`
`)}}}var OnApplicationComplete$1=algosdk.OnApplicationComplete,SourceMap$1=algosdk.ProgramSourceMap;const MAX_SIMULATE_OPCODE_BUDGET=2e4*16,BYTE_CBLOCK=38,INT_CBLOCK=32;function getConstantBlockOffset(_e){const d=[..._e],Mt=d.length;d.shift();let Ot,Ft;for(;d.length>0;){const Ut=d.shift();if(Ut===BYTE_CBLOCK||Ut===INT_CBLOCK){const Xt=Ut===BYTE_CBLOCK,jr=d.shift();for(let hn=0;hn<jr;hn++)if(Xt){const Vr=d.shift();d.splice(0,Vr)}else for(;d.shift()&128;);if(Xt?Ot=Mt-d.length-1:Ft=Mt-d.length-1,d[0]!==BYTE_CBLOCK&&d[0]!==INT_CBLOCK)break}}return Math.max(Ot??0,Ft??0)}class AppClient{constructor(d){this.handleCallErrors=async Mt=>{var Ft,Ut,Xt,jr;if(this.appId===0n){if(Mt.sentTransactions===void 0)return Mt;const Vr=Mt.sentTransactions.find(dn=>Mt.message.includes(dn.txID())),fn=(dn,pn)=>{if(dn===void 0||pn===void 0||dn.length!==pn.length)return!1;for(let En=0;En<dn.length;En++)if(dn[En]!==pn[En])return!1;return!0};if(!fn((Ft=Vr==null?void 0:Vr.applicationCall)==null?void 0:Ft.clearProgram,this._lastCompiled.clear)||!fn((Ut=Vr==null?void 0:Vr.applicationCall)==null?void 0:Ut.approvalProgram,(Xt=this._lastCompiled)==null?void 0:Xt.approval))return Mt}else{const hn=`app=${this._appId.toString()}`;if(!Mt.message.includes(hn))return Mt}const Ot=await this.exposeLogicError(Mt);if(Ot instanceof LogicError){let hn=Ot.teal_line-Ot.lines-1;const Vr=(jr=Ot.stack)==null?void 0:jr.split(`
`).map(fn=>`${hn+=1}: ${fn}`).join(`
`);Config.logger.error(`${Ot.message}

${Vr}`)}return Ot},this._appId=d.appId,this._appAddress=algosdk.getApplicationAddress(this._appId),this._appSpec=AppClient.normaliseAppSpec(d.appSpec),this._appName=d.appName??this._appSpec.name,this._algorand=d.algorand,this._algorand.registerErrorTransformer(this.handleCallErrors),this._defaultSender=typeof d.defaultSender=="string"?Address.fromString(d.defaultSender):d.defaultSender,this._defaultSigner=d.defaultSigner,this._lastCompiled={},this._approvalSourceMap=d.approvalSourceMap,this._clearSourceMap=d.clearSourceMap,this._localStateMethods=Mt=>this.getStateMethods(()=>this.getLocalState(Mt),()=>this._appSpec.state.keys.local,()=>this._appSpec.state.maps.local),this._globalStateMethods=this.getStateMethods(()=>this.getGlobalState(),()=>this._appSpec.state.keys.global,()=>this._appSpec.state.maps.global),this._boxStateMethods=this.getBoxMethods(),this._paramsMethods={...this.getMethodCallParamsMethods(),bare:this.getBareParamsMethods()},this._createTransactionsMethods={...this.getMethodCallCreateTransactionMethods(),bare:this.getBareCreateTransactionMethods()},this._sendMethods={...this.getMethodCallSendMethods(),bare:this.getBareSendMethods()}}clone(d){return new AppClient({appId:this._appId,appSpec:this._appSpec,algorand:this._algorand,appName:this._appName,defaultSender:this._defaultSender,defaultSigner:this._defaultSigner,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap,...d})}static async fromCreatorAndName(d){const Mt=AppClient.normaliseAppSpec(d.appSpec),Ft=(d.appLookupCache??await d.algorand.appDeployer.getCreatorAppsByName(d.creatorAddress,d.ignoreCache)).apps[d.appName??Mt.name];if(!Ft)throw new Error(`App not found for creator ${d.creatorAddress} and name ${d.appName??Mt.name}`);return new AppClient({...d,algorand:d.algorand,appId:Ft.appId})}static async fromNetwork(d){const Mt=await d.algorand.client.network(),Ot=AppClient.normaliseAppSpec(d.appSpec),Ft=[Mt.genesisHash];Mt.isLocalNet&&Ft.push("localnet"),Mt.isTestNet&&Ft.push("testnet"),Mt.isMainNet&&Ft.push("mainnet");const Xt=Object.keys(Ot.networks??{}).findIndex(hn=>Ft.includes(hn));if(Xt===-1)throw new Error(`No app ID found for network ${asJson(Ft)} in the app spec`);const jr=BigInt(Ot.networks[Xt].appID);return new AppClient({...d,appId:jr,appSpec:Ot})}static normaliseAppSpec(d){const Mt=typeof d=="string"?JSON.parse(d):d;return"hints"in Mt?arc32ToArc56(Mt):Mt}get appId(){return this._appId}get appAddress(){return this._appAddress}get appName(){return this._appName}get appSpec(){return this._appSpec}get algorand(){return this._algorand}get params(){return this._paramsMethods}get createTransaction(){return this._createTransactionsMethods}get send(){return this._sendMethods}get state(){return{local:this._localStateMethods,global:this._globalStateMethods,box:this._boxStateMethods}}async fundAppAccount(d){return this.send.fundAppAccount(d)}async getGlobalState(){return await this._algorand.app.getGlobalState(this.appId)}async getLocalState(d){return await this._algorand.app.getLocalState(this.appId,d)}async getBoxNames(){return await this._algorand.app.getBoxNames(this.appId)}async getBoxValue(d){return await this._algorand.app.getBoxValue(this.appId,d)}async getBoxValueFromABIType(d,Mt){return await this._algorand.app.getBoxValueFromABIType({appId:this.appId,boxName:d,type:Mt})}async getBoxValues(d){const Mt=(await this.getBoxNames()).filter(d??(Ft=>!0)),Ot=await this._algorand.app.getBoxValues(this.appId,Mt.map(Ft=>Ft.nameRaw));return Mt.map((Ft,Ut)=>({name:Ft,value:Ot[Ut]}))}async getBoxValuesFromABIType(d,Mt){const Ot=(await this.getBoxNames()).filter(Mt??(Ut=>!0)),Ft=await this._algorand.app.getBoxValuesFromABIType({appId:this.appId,boxNames:Ot.map(Ut=>Ut.nameRaw),type:d});return Ot.map((Ut,Xt)=>({name:Ut,value:Ft[Xt]}))}async exposeLogicError(d,Mt){var Ut,Xt;const Ot=(Xt=(Ut=this._appSpec.sourceInfo)==null?void 0:Ut[Mt?"clear":"approval"])==null?void 0:Xt.pcOffsetMethod;let Ft;if(Ot==="cblocks"){const jr=await this._algorand.app.getById(this.appId);Ft=Mt?jr.clearStateProgram:jr.approvalProgram}return AppClient.exposeLogicError(d,this._appSpec,{isClearStateProgram:Mt,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap,program:Ft})}exportSourceMaps(){if(!this._approvalSourceMap||!this._clearSourceMap)throw new Error("Unable to export source maps; they haven't been loaded into this client - you need to call create, update, or deploy first");return{approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap}}importSourceMaps(d){this._approvalSourceMap=new SourceMap$1(d.approvalSourceMap),this._clearSourceMap=new SourceMap$1(d.clearSourceMap)}getABIMethod(d){return getArc56Method(d,this._appSpec)}async processMethodCallReturn(d,Mt){const Ot=await d;return{...Ot,return:getArc56ReturnValue(Ot.return,Mt,this._appSpec.structs)}}async compile(d){const Mt=await AppClient.compile(this._appSpec,this._algorand.app,d);return Mt.compiledApproval&&(this._approvalSourceMap=Mt.compiledApproval.sourceMap,this._lastCompiled.approval=Mt.compiledApproval.compiledBase64ToBytes),Mt.compiledClear&&(this._clearSourceMap=Mt.compiledClear.sourceMap,this._lastCompiled.clear=Mt.compiledClear.compiledBase64ToBytes),Mt}static exposeLogicError(d,Mt,Ot){var Dn,Vn,Pn,qn;const{isClearStateProgram:Ft,approvalSourceMap:Ut,clearSourceMap:Xt,program:jr}=Ot,hn=Ft?Xt:Ut,Vr=LogicError.parseLogicError(d);if(Vr===void 0||(Vr==null?void 0:Vr.pc)===void 0)return d;let fn=Vr==null?void 0:Vr.pc;const dn=Ft?(Dn=Mt.sourceInfo)==null?void 0:Dn.clear:(Vn=Mt.sourceInfo)==null?void 0:Vn.approval;let pn=0;if((dn==null?void 0:dn.pcOffsetMethod)==="cblocks"){if(jr===void 0)throw new Error("Program bytes are required to calculate the ARC56 cblocks PC offset");pn=getConstantBlockOffset(jr),fn=Vr.pc-pn}const En=dn==null?void 0:dn.sourceInfo.find(jn=>jn.pc.includes(fn)),_n=En==null?void 0:En.errorMessage;if(Mt.source){let jn=Hn=>{var Jn,Gn;return(Gn=(Jn=hn==null?void 0:hn.getLocationForPc)==null?void 0:Jn.call(hn,Hn))==null?void 0:Gn.line};hn===void 0&&(jn=Hn=>{var Gn;const Jn=(Gn=dn==null?void 0:dn.sourceInfo.find(ba=>ba.pc.includes(Hn-pn)))==null?void 0:Gn.teal;if(Jn!==void 0)return Jn-1}),d=new LogicError(Vr,Buffer$1.from(Ft?Mt.source.clear:Mt.source.approval,"base64").toString().split(`
`),jn)}if(_n){const jn=((Pn=asJson(d).match(new RegExp("(?<=app=)\\d+")))==null?void 0:Pn[0])||"",Hn=(qn=asJson(d).match(new RegExp("(?<=transaction )\\S+(?=:)")))==null?void 0:qn[0],Jn=new Error(`Runtime error when executing ${Mt.name} (appId: ${jn}) in transaction ${Hn}: ${_n}`);return Jn.cause=d,Jn}return d}static async compile(d,Mt,Ot){var dn,pn;const{deployTimeParams:Ft,updatable:Ut,deletable:Xt}=Ot??{};if(!d.source){if(!((dn=d.byteCode)!=null&&dn.approval)||!((pn=d.byteCode)!=null&&pn.clear))throw new Error(`Attempt to compile app ${d.name} without source or byteCode`);return{approvalProgram:Buffer$1.from(d.byteCode.approval,"base64"),clearStateProgram:Buffer$1.from(d.byteCode.clear,"base64")}}const jr=Buffer$1.from(d.source.approval,"base64").toString("utf-8"),hn=await Mt.compileTealTemplate(jr,Ft,{updatable:Ut,deletable:Xt}),Vr=Buffer$1.from(d.source.clear,"base64").toString("utf-8"),fn=await Mt.compileTealTemplate(Vr,Ft);return Config.debug&&await Config.events.emitAsync(EventType.AppCompiled,{sources:[{compiledTeal:hn,appName:d.name,fileName:"approval"},{compiledTeal:fn,appName:d.name,fileName:"clear"}]}),{approvalProgram:hn.compiledBase64ToBytes,compiledApproval:hn,clearStateProgram:fn.compiledBase64ToBytes,compiledClear:fn}}async getABIArgsWithDefaultValues(d,Mt,Ot){const Ft=getArc56Method(d,this._appSpec);return await Promise.all((Mt==null?void 0:Mt.map(async(Ut,Xt)=>{var Vr,fn,dn;const jr=Ft.args[Xt];if(!jr)throw new Error(`Unexpected arg at position ${Xt}. ${Ft.name} only expects ${Ft.args.length} args`);if(Ut!==void 0)return jr.struct&&typeof Ut=="object"&&!Array.isArray(Ut)?getABITupleFromABIStruct(Ut,this._appSpec.structs[jr.struct],this._appSpec.structs):Ut;const hn=jr.defaultValue;if(hn)switch(hn.source){case"literal":return getABIDecodedValue(Buffer$1.from(hn.data,"base64"),((Vr=Ft.method.args[Xt].defaultValue)==null?void 0:Vr.type)??Ft.method.args[Xt].type,this._appSpec.structs);case"method":{const pn=this.getABIMethod(hn.data),En=await this.send.call({method:hn.data,args:pn.args.map(()=>{}),sender:Ot});if(En.return===void 0)throw new Error("Default value method call did not return a value");return typeof En.return=="object"&&!(En.return instanceof Uint8Array)&&!Array.isArray(En.return)?getABITupleFromABIStruct(En.return,this._appSpec.structs[pn.returns.struct],this._appSpec.structs):En.return}case"local":case"global":{const pn=hn.source==="global"?await this.getGlobalState():await this.getLocalState(Ot),En=Object.values(pn).find(_n=>_n.keyBase64===hn.data);if(!En)throw new Error(`Preparing default value for argument ${jr.name??`arg${Xt+1}`} resulted in the failure: The key '${hn.data}' could not be found in ${hn.source} storage`);return"valueRaw"in En?getABIDecodedValue(En.valueRaw,((fn=Ft.method.args[Xt].defaultValue)==null?void 0:fn.type)??Ft.method.args[Xt].type,this._appSpec.structs):En.value}case"box":{const pn=await this.getBoxValue(Buffer$1.from(hn.data,"base64"));return getABIDecodedValue(pn,((dn=Ft.method.args[Xt].defaultValue)==null?void 0:dn.type)??Ft.method.args[Xt].type,this._appSpec.structs)}}if(!algosdk.abiTypeIsTransaction(jr.type))throw new Error(`No value provided for required argument ${jr.name??`arg${Xt+1}`} in call to method ${Ft.name}`)}))??[])}getBareParamsMethods(){return{update:async d=>this.getBareParams({...d,...await this.compile(d)},OnApplicationComplete$1.UpdateApplicationOC),optIn:d=>this.getBareParams(d,OnApplicationComplete$1.OptInOC),delete:d=>this.getBareParams(d,OnApplicationComplete$1.DeleteApplicationOC),clearState:d=>this.getBareParams(d,OnApplicationComplete$1.ClearStateOC),closeOut:d=>this.getBareParams(d,OnApplicationComplete$1.CloseOutOC),call:d=>this.getBareParams(d,(d==null?void 0:d.onComplete)??OnApplicationComplete$1.NoOpOC)}}getBareCreateTransactionMethods(){return{update:async d=>this._algorand.createTransaction.appUpdate(await this.params.bare.update(d)),optIn:d=>this._algorand.createTransaction.appCall(this.params.bare.optIn(d)),delete:d=>this._algorand.createTransaction.appDelete(this.params.bare.delete(d)),clearState:d=>this._algorand.createTransaction.appCall(this.params.bare.clearState(d)),closeOut:d=>this._algorand.createTransaction.appCall(this.params.bare.closeOut(d)),call:d=>this._algorand.createTransaction.appCall(this.params.bare.call(d))}}getBareSendMethods(){return{update:async d=>{const Mt=await this.compile(d);return{...await this._algorand.send.appUpdate(await this.params.bare.update(d)),...Mt}},optIn:d=>this._algorand.send.appCall(this.params.bare.optIn(d)),delete:d=>this._algorand.send.appDelete(this.params.bare.delete(d)),clearState:d=>this._algorand.send.appCall(this.params.bare.clearState(d)),closeOut:d=>this._algorand.send.appCall(this.params.bare.closeOut(d)),call:d=>this._algorand.send.appCall(this.params.bare.call(d))}}getMethodCallParamsMethods(){return{fundAppAccount:d=>({...d,sender:this.getSender(d.sender),signer:this.getSigner(d.sender,d.signer),receiver:this.appAddress}),update:async d=>await this.getABIParams({...d,...await this.compile(d)},OnApplicationComplete$1.UpdateApplicationOC),optIn:async d=>await this.getABIParams(d,OnApplicationComplete$1.OptInOC),delete:async d=>await this.getABIParams(d,OnApplicationComplete$1.DeleteApplicationOC),closeOut:async d=>await this.getABIParams(d,OnApplicationComplete$1.CloseOutOC),call:async d=>await this.getABIParams(d,d.onComplete??OnApplicationComplete$1.NoOpOC)}}getMethodCallSendMethods(){return{fundAppAccount:d=>this._algorand.send.payment(this.params.fundAppAccount(d)),update:async d=>{const Mt=await this.compile(d);return{...await this.processMethodCallReturn(this._algorand.send.appUpdateMethodCall(await this.params.update({...d})),getArc56Method(d.method,this._appSpec)),...Mt}},optIn:async d=>this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.optIn(d)),getArc56Method(d.method,this._appSpec)),delete:async d=>this.processMethodCallReturn(this._algorand.send.appDeleteMethodCall(await this.params.delete(d)),getArc56Method(d.method,this._appSpec)),closeOut:async d=>this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.closeOut(d)),getArc56Method(d.method,this._appSpec)),call:async d=>{var Mt,Ot;if((d.onComplete===OnApplicationComplete$1.NoOpOC||!d.onComplete)&&getArc56Method(d.method,this._appSpec).method.readonly){const Ft={...d};d.coverAppCallInnerTransactionFees&&d.maxFee&&(Ft.staticFee=d.maxFee,Ft.extraFee=void 0);try{const Ut=await this._algorand.newGroup().addAppCallMethodCall(await this.params.call(Ft)).simulate({allowUnnamedResources:d.populateAppCallResources??!0,skipSignatures:!0,extraOpcodeBudget:MAX_SIMULATE_OPCODE_BUDGET});return this.processMethodCallReturn({...Ut,transaction:Ut.transactions.at(-1),confirmation:Ut.confirmations.at(-1),return:((Mt=Ut.returns)==null?void 0:Mt.length)??!1?(Ot=Ut.returns)==null?void 0:Ot.at(-1):void 0},getArc56Method(d.method,this._appSpec))}catch(Ut){const Xt=Ut;throw d.coverAppCallInnerTransactionFees&&Xt&&Xt.message&&Xt.message.match(/fee too small/)?Error("Fees were too small. You may need to increase the transaction maxFee."):Ut}}return this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.call(d)),getArc56Method(d.method,this._appSpec))}}}getMethodCallCreateTransactionMethods(){return{fundAppAccount:d=>this._algorand.createTransaction.payment(this.params.fundAppAccount(d)),update:async d=>this._algorand.createTransaction.appUpdateMethodCall(await this.params.update(d)),optIn:async d=>this._algorand.createTransaction.appCallMethodCall(await this.params.optIn(d)),delete:async d=>this._algorand.createTransaction.appDeleteMethodCall(await this.params.delete(d)),closeOut:async d=>this._algorand.createTransaction.appCallMethodCall(await this.params.closeOut(d)),call:async d=>this._algorand.createTransaction.appCallMethodCall(await this.params.call(d))}}getSender(d){if(!d&&!this._defaultSender)throw new Error(`No sender provided and no default sender present in app client for call to app ${this._appName}`);return typeof d=="string"?Address.fromString(d):d??this._defaultSender}getSigner(d,Mt){return Mt??(!d||d===this._defaultSender?this._defaultSigner:void 0)}getBareParams(d,Mt){return{...d,appId:this._appId,sender:this.getSender(d==null?void 0:d.sender),signer:this.getSigner(d==null?void 0:d.sender,d==null?void 0:d.signer),onComplete:Mt}}async getABIParams(d,Mt){const Ot=this.getSender(d.sender),Ft=getArc56Method(d.method,this._appSpec),Ut=await this.getABIArgsWithDefaultValues(d.method,d.args,Ot);return{...d,appId:this._appId,sender:Ot,signer:this.getSigner(d.sender,d.signer),method:Ft,onComplete:Mt,args:Ut}}getBoxMethods(){const d=this,Mt={getAll:async()=>Object.fromEntries(await Promise.all(Object.keys(d._appSpec.state.keys.box).map(async Ot=>[Ot,await Mt.getValue(Ot)]))),getValue:async Ot=>{const Ft=d._appSpec.state.keys.box[Ot],Ut=await d.getBoxValue(Buffer$1.from(Ft.key,"base64"));return getABIDecodedValue(Ut,Ft.valueType,d._appSpec.structs)},getMapValue:async(Ot,Ft)=>{const Ut=d._appSpec.state.maps.box[Ot],Xt=Buffer$1.from(Ut.prefix??"","base64"),jr=Buffer$1.concat([Xt,getABIEncodedValue(Ft,Ut.keyType,d._appSpec.structs)]),hn=Buffer$1.from(jr).toString("base64"),Vr=await d.getBoxValue(Buffer$1.from(hn,"base64"));return getABIDecodedValue(Vr,Ut.valueType,d._appSpec.structs)},getMap:async Ot=>{const Ft=d._appSpec.state.maps.box[Ot],Ut=Buffer$1.from(Ft.prefix??"","base64"),Xt=await d.getBoxNames();return new Map(await Promise.all(Xt.filter(jr=>binaryStartsWith(jr.nameRaw,Ut)).map(async jr=>[getABIDecodedValue(jr.nameRaw.slice(Ut.length),Ft.keyType,d._appSpec.structs),getABIDecodedValue(await d.getBoxValue(jr.nameRaw),Ft.valueType,d._appSpec.structs)])))}};return Mt}getStateMethods(d,Mt,Ot){const Ft=this,Ut={getAll:async()=>{const Xt=await d();return Object.fromEntries(await Promise.all(Object.keys(Mt()).map(async jr=>[jr,await Ut.getValue(jr,Xt)])))},getValue:async(Xt,jr)=>{const hn=Object.values(jr??await d()),Vr=Mt()[Xt];if(Vr===void 0)throw new Error(`Attempted to get state value ${Xt}, but it does not exist`);const fn=hn.find(dn=>dn.keyBase64===Vr.key);return fn&&"valueRaw"in fn?getABIDecodedValue(fn.valueRaw,Vr.valueType,Ft._appSpec.structs):fn==null?void 0:fn.value},getMapValue:async(Xt,jr,hn)=>{const Vr=Object.values(hn??await d()),fn=Ot()[Xt],dn=Buffer$1.from(fn.prefix??"","base64"),pn=Buffer$1.concat([dn,getABIEncodedValue(jr,fn.keyType,Ft._appSpec.structs)]),En=Buffer$1.from(pn).toString("base64"),_n=Vr.find(Dn=>Dn.keyBase64===En);return _n&&"valueRaw"in _n?getABIDecodedValue(_n.valueRaw,fn.valueType,Ft._appSpec.structs):_n==null?void 0:_n.value},getMap:async Xt=>{const jr=Object.values(await d()),hn=Ot()[Xt],Vr=Buffer$1.from(hn.prefix??"","base64");return new Map(jr.filter(fn=>binaryStartsWith(fn.keyRaw,Vr)).map(fn=>{const dn=fn.keyRaw.slice(Vr.length);return[getABIDecodedValue(dn,hn.keyType,this._appSpec.structs),getABIDecodedValue("valueRaw"in fn?fn.valueRaw:fn.value,hn.valueType,this._appSpec.structs)]}))}};return Ut}}const DISPENSER_ACCOUNT="DISPENSER";class MultisigAccount{get params(){return this._params}get signingAccounts(){return this._signingAccounts}get addr(){return this._addr}get signer(){return this._signer}constructor(d,Mt){this._params=d,this._signingAccounts=Mt,this._addr=algosdk.multisigAddress(d),this._signer=algosdk.makeMultiSigAccountTransactionSigner(d,Mt.map(Ot=>Ot.sk))}sign(d){let Mt="sender"in d?void 0:d;for(const Ot of this._signingAccounts)Mt?Mt=algosdk.appendSignMultisigTransaction(Mt,this._params,Ot.sk).blob:Mt=algosdk.signMultisigTransaction(d,this._params,Ot.sk).blob;return Mt}}class SigningAccount{get addr(){return this._sender}get sk(){return this._account.sk}get signer(){return this._signer}get sender(){return{addr:this._sender,sk:this._account.sk}}constructor(d,Mt){this._account=d,this._sender=typeof Mt=="string"?Address.fromString(Mt):Mt??d.addr,this._signer=algosdk.makeBasicAccountTransactionSigner(d)}}class AlgoAmount{get microAlgos(){return this.amountInMicroAlgo}get microAlgo(){return this.amountInMicroAlgo}get algos(){return algosdk.microalgosToAlgos(Number(this.amountInMicroAlgo))}get algo(){return algosdk.microalgosToAlgos(Number(this.amountInMicroAlgo))}constructor(d){this.amountInMicroAlgo="microAlgos"in d?BigInt(d.microAlgos):"microAlgo"in d?BigInt(d.microAlgo):"algos"in d?BigInt(algosdk.algosToMicroalgos(Number(d.algos))):BigInt(algosdk.algosToMicroalgos(Number(d.algo)))}toString(){return`${this.microAlgo.toLocaleString("en-US")} ALGO`}valueOf(){return Number(this.microAlgo)}static Algos(d){return new AlgoAmount({algos:d})}static Algo(d){return new AlgoAmount({algos:d})}static MicroAlgos(d){return new AlgoAmount({microAlgos:d})}static MicroAlgo(d){return new AlgoAmount({microAlgos:d})}}class AlgoHttpClientWithRetry extends URLTokenBaseHTTPClient{async callWithRetry(d){let Mt,Ot=1;do try{Mt=await d()}catch(Ft){if(Ot>=AlgoHttpClientWithRetry.MAX_TRIES||!(AlgoHttpClientWithRetry.RETRY_ERROR_CODES.includes(Ft.code)||AlgoHttpClientWithRetry.RETRY_STATUS_CODES.includes(Number(Ft.status))||"response"in Ft&&AlgoHttpClientWithRetry.RETRY_STATUS_CODES.includes(Number(Ft.response.status))))throw Ft;const Ut=Ot==1?0:Math.min(1e3*Math.pow(2,Ot-1),AlgoHttpClientWithRetry.MAX_BACKOFF_MS);Ut>0&&await new Promise(Xt=>setTimeout(Xt,Ut)),Config.logger.warn(`algosdk request failed ${Ot} times. Retrying in ${Ut}ms: ${Ft}`)}while(!Mt&&++Ot<=AlgoHttpClientWithRetry.MAX_TRIES);return Mt}async get(d,Mt,Ot={}){var Ut;const Ft=await this.callWithRetry(()=>super.get(d,Mt,Ot));if(d.startsWith("/v2/accounts/")&&d.endsWith("/created-applications")&&Ft.status===200&&((Ut=Mt==null?void 0:Mt["include-all"])==null?void 0:Ut.toString())==="true")try{const Xt=parseJSON(Buffer.from(Ft.body).toString(),{intDecoding:IntDecoding$1.MIXED});if(Xt.applications){for(const jr of Xt.applications)jr.params&&(jr.params["approval-program"]===null&&(jr.params["approval-program"]=""),jr.params["clear-state-program"]===null&&(jr.params["clear-state-program"]=""));Ft.body=Buffer.from(stringifyJSON(Xt))}}catch(Xt){Config.logger.warn("Failed to fix indexer response for created applications",Xt)}return Ft}async post(d,Mt,Ot,Ft={}){return await this.callWithRetry(()=>super.post(d,Mt,Ot,Ft))}async delete(d,Mt,Ot,Ft={}){return await this.callWithRetry(()=>super.delete(d,Mt,Ot,Ft))}}AlgoHttpClientWithRetry.MAX_TRIES=5;AlgoHttpClientWithRetry.MAX_BACKOFF_MS=1e4;AlgoHttpClientWithRetry.RETRY_STATUS_CODES=[408,413,429,500,502,503,504];AlgoHttpClientWithRetry.RETRY_ERROR_CODES=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN","EPROTO"];var SourceMap=algosdk.ProgramSourceMap,OnApplicationComplete=algosdk.OnApplicationComplete;class AppFactory{constructor(d){this.createTransaction={bare:{create:async Mt=>this._algorand.createTransaction.appCreate(await this.params.bare.create(Mt))},create:async Mt=>this._algorand.createTransaction.appCreateMethodCall(await this.params.create(Mt))},this.send={bare:{create:async Mt=>{const Ot=(Mt==null?void 0:Mt.updatable)??this._updatable,Ft=(Mt==null?void 0:Mt.deletable)??this._deletable,Ut=(Mt==null?void 0:Mt.deployTimeParams)??this._deployTimeParams,Xt=await this.compile({deployTimeParams:Ut,updatable:Ot,deletable:Ft}),jr=await this.handleCallErrors(async()=>({...await this._algorand.send.appCreate(await this.params.bare.create({...Mt,updatable:Ot,deletable:Ft,deployTimeParams:Ut})),return:void 0}));return{appClient:this.getAppClientById({appId:jr.appId}),result:{...jr,...Xt}}}},create:async Mt=>{const Ot=(Mt==null?void 0:Mt.updatable)??this._updatable,Ft=(Mt==null?void 0:Mt.deletable)??this._deletable,Ut=(Mt==null?void 0:Mt.deployTimeParams)??this._deployTimeParams,Xt=await this.compile({deployTimeParams:Ut,updatable:Ot,deletable:Ft}),jr=await this.handleCallErrors(async()=>this.parseMethodCallReturn(this._algorand.send.appCreateMethodCall(await this.params.create({...Mt,updatable:Ot,deletable:Ft,deployTimeParams:Ut})),getArc56Method(Mt.method,this._appSpec)));return{appClient:this.getAppClientById({appId:jr.appId}),result:{...jr,...Xt}}}},this._appSpec=AppClient.normaliseAppSpec(d.appSpec),this._appName=d.appName??this._appSpec.name,this._algorand=d.algorand,this._version=d.version??"1.0",this._defaultSender=typeof d.defaultSender=="string"?Address.fromString(d.defaultSender):d.defaultSender,this._defaultSigner=d.defaultSigner,this._deployTimeParams=d.deployTimeParams,this._updatable=d.updatable,this._deletable=d.deletable,this._paramsMethods=this.getParamsMethods()}get appName(){return this._appName}get appSpec(){return this._appSpec}get algorand(){return this._algorand}get params(){return this._paramsMethods}async deploy(d){const Mt=d.updatable??this._updatable??this.getDeployTimeControl("updatable"),Ot=d.deletable??this._deletable??this.getDeployTimeControl("deletable"),Ft=d.deployTimeParams??this._deployTimeParams,Xt=await this.getAppClientById({appId:0n}).compile({deployTimeParams:Ft,updatable:Mt,deletable:Ot}),jr=await this._algorand.appDeployer.deploy({...d,createParams:await(d.createParams&&"method"in d.createParams?this.params.create({...d.createParams,updatable:Mt,deletable:Ot,deployTimeParams:Ft}):this.params.bare.create({...d.createParams,updatable:Mt,deletable:Ot,deployTimeParams:Ft})),updateParams:d.updateParams&&"method"in d.updateParams?this.params.deployUpdate(d.updateParams):this.params.bare.deployUpdate(d.updateParams),deleteParams:d.deleteParams&&"method"in d.deleteParams?this.params.deployDelete(d.deleteParams):this.params.bare.deployDelete(d.deleteParams),metadata:{name:d.appName??this._appName,version:this._version,updatable:Mt,deletable:Ot}}),hn=this.getAppClientById({appId:jr.appId,appName:d.appName}),Vr={...jr,...Xt};return{appClient:hn,result:{...Vr,return:"return"in Vr?Vr.operationPerformed==="update"?d.updateParams&&"method"in d.updateParams?getArc56ReturnValue(Vr.return,getArc56Method(d.updateParams.method,this._appSpec),this._appSpec.structs):void 0:d.createParams&&"method"in d.createParams?getArc56ReturnValue(Vr.return,getArc56Method(d.createParams.method,this._appSpec),this._appSpec.structs):void 0:void 0,deleteReturn:"deleteReturn"in Vr&&d.deleteParams&&"method"in d.deleteParams?getArc56ReturnValue(Vr.deleteReturn,getArc56Method(d.deleteParams.method,this._appSpec),this._appSpec.structs):void 0}}}getAppClientById(d){return new AppClient({...d,algorand:this._algorand,appSpec:this._appSpec,appName:d.appName??this._appName,defaultSender:d.defaultSender??this._defaultSender,defaultSigner:d.defaultSigner??this._defaultSigner,approvalSourceMap:d.approvalSourceMap??this._approvalSourceMap,clearSourceMap:d.clearSourceMap??this._clearSourceMap})}getAppClientByCreatorAndName(d){return AppClient.fromCreatorAndName({...d,algorand:this._algorand,appSpec:this._appSpec,appName:d.appName??this._appName,defaultSender:d.defaultSender??this._defaultSender,approvalSourceMap:d.approvalSourceMap??this._approvalSourceMap,clearSourceMap:d.clearSourceMap??this._clearSourceMap})}exposeLogicError(d,Mt){return AppClient.exposeLogicError(d,this._appSpec,{isClearStateProgram:Mt,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap})}exportSourceMaps(){if(!this._approvalSourceMap||!this._clearSourceMap)throw new Error("Unable to export source maps; they haven't been loaded into this client - you need to call create, update, or deploy first");return{approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap}}importSourceMaps(d){this._approvalSourceMap=new SourceMap(d.approvalSourceMap),this._clearSourceMap=new SourceMap(d.clearSourceMap)}getDeployTimeControl(d){var Ot;const Mt=(Ot=this._appSpec.source)!=null&&Ot.approval?Buffer.from(this._appSpec.source.approval,"base64").toString("utf-8"):void 0;if(!(!Mt||!Mt.includes(d==="updatable"?UPDATABLE_TEMPLATE_NAME:DELETABLE_TEMPLATE_NAME)))return this._appSpec.bareActions.call.includes(d==="updatable"?"UpdateApplication":"DeleteApplication")||Object.values(this._appSpec.methods).some(Ft=>Ft.actions.call.includes(d==="updatable"?"UpdateApplication":"DeleteApplication"))}getParamsMethods(){return{create:async d=>{const Mt=await this.compile({...d,deployTimeParams:d.deployTimeParams??this._deployTimeParams});return this.getABIParams({...d,deployTimeParams:d.deployTimeParams??this._deployTimeParams,schema:d.schema??{globalByteSlices:this._appSpec.state.schema.global.bytes,globalInts:this._appSpec.state.schema.global.ints,localByteSlices:this._appSpec.state.schema.local.bytes,localInts:this._appSpec.state.schema.local.ints},approvalProgram:Mt.approvalProgram,clearStateProgram:Mt.clearStateProgram},d.onComplete??OnApplicationComplete.NoOpOC)},deployUpdate:d=>this.getABIParams(d,OnApplicationComplete.UpdateApplicationOC),deployDelete:d=>this.getABIParams(d,OnApplicationComplete.DeleteApplicationOC),bare:{create:async d=>this.getBareParams({...d,deployTimeParams:(d==null?void 0:d.deployTimeParams)??this._deployTimeParams,schema:(d==null?void 0:d.schema)??{globalByteSlices:this._appSpec.state.schema.global.bytes,globalInts:this._appSpec.state.schema.global.ints,localByteSlices:this._appSpec.state.schema.local.bytes,localInts:this._appSpec.state.schema.local.ints},...await this.compile({...d,deployTimeParams:(d==null?void 0:d.deployTimeParams)??this._deployTimeParams})},(d==null?void 0:d.onComplete)??OnApplicationComplete.NoOpOC),deployUpdate:d=>this.getBareParams(d,OnApplicationComplete.UpdateApplicationOC),deployDelete:d=>this.getBareParams(d,OnApplicationComplete.DeleteApplicationOC)}}}async handleCallErrors(d){try{return await d()}catch(Mt){throw this.exposeLogicError(Mt)}}async compile(d){const Mt=await AppClient.compile(this._appSpec,this._algorand.app,d);return Mt.compiledApproval&&(this._approvalSourceMap=Mt.compiledApproval.sourceMap),Mt.compiledClear&&(this._clearSourceMap=Mt.compiledClear.sourceMap),Mt}getBareParams(d,Mt){return{...d,sender:this.getSender(d==null?void 0:d.sender),signer:this.getSigner(d==null?void 0:d.sender,d==null?void 0:d.signer),onComplete:Mt}}getABIParams(d,Mt){return{...d,sender:this.getSender(d.sender),signer:this.getSigner(d.sender,d.signer),method:getArc56Method(d.method,this._appSpec),args:this.getCreateABIArgsWithDefaultValues(d.method,d.args),onComplete:Mt}}getCreateABIArgsWithDefaultValues(d,Mt){const Ot=getArc56Method(d,this._appSpec);return Mt==null?void 0:Mt.map((Ft,Ut)=>{const Xt=Ot.args[Ut];if(Ft!==void 0)return Xt.struct&&typeof Ft=="object"&&!Array.isArray(Ft)?getABITupleFromABIStruct(Ft,this._appSpec.structs[Xt.struct],this._appSpec.structs):Ft;const jr=Xt.defaultValue;if(jr)switch(jr.source){case"literal":return getABIDecodedValue(Buffer.from(jr.data,"base64"),Ot.method.args[Ut].type,this._appSpec.structs);default:throw new Error(`Can't provide default value for ${jr.source} for a contract creation call`)}throw new Error(`No value provided for required argument ${Xt.name??`arg${Ut+1}`} in call to method ${Ot.name}`)})}getSender(d){if(!d&&!this._defaultSender)throw new Error(`No sender provided and no default sender present in app factory for call to app ${this._appName}`);return typeof d=="string"?Address.fromString(d):d??this._defaultSender}getSigner(d,Mt){return Mt??(!d||d===this._defaultSender?this._defaultSigner:void 0)}async parseMethodCallReturn(d,Mt){const Ot=await d;return{...Ot,return:getArc56ReturnValue(Ot.return,Mt,this._appSpec.structs)}}}const DISPENSER_BASE_URL="https://api.dispenser.algorandfoundation.tools",DEFAULT_DISPENSER_REQUEST_TIMEOUT=15,DISPENSER_ACCESS_TOKEN_KEY="ALGOKIT_DISPENSER_ACCESS_TOKEN";var DispenserAssetName;(function(_e){_e[_e.Algo=0]="Algo"})(DispenserAssetName||(DispenserAssetName={}));const dispenserAssets={[DispenserAssetName.Algo]:{assetId:0,decimals:6,description:"Algo"}};class TestNetDispenserApiClient{constructor(d){var Ot;const Mt=(Ot=process$1==null?void 0:process$1.env)==null?void 0:Ot[DISPENSER_ACCESS_TOKEN_KEY];if(d!=null&&d.authToken)this._authToken=d.authToken;else if(Mt)this._authToken=Mt;else throw new Error(`Can't init AlgoKit TestNet Dispenser API client because neither environment variable ${DISPENSER_ACCESS_TOKEN_KEY} or the authToken were provided.`);this._requestTimeout=(d==null?void 0:d.requestTimeout)||DEFAULT_DISPENSER_REQUEST_TIMEOUT}get authToken(){return this._authToken}get requestTimeout(){return this._requestTimeout}async processDispenserRequest(d,Mt,Ot=null,Ft="POST"){const Ut={Authorization:`Bearer ${d}`},Xt={method:Ft,headers:Ut,signal:AbortSignal.timeout(this.requestTimeout*1e3)};Ot&&(Xt.body=asJson(Ot));const jr=await fetch(`${DISPENSER_BASE_URL}/${Mt}`,Xt);if(!jr.ok){let hn=`Error processing dispenser API request: ${jr.status}`,Vr=null;try{Vr=await jr.json()}catch{}throw Vr&&Vr.code?hn=Vr.code:jr.status===400&&(hn=(await jr.json()).message),new Error(hn)}return jr}async fund(d,Mt){const Ft=await(await this.processDispenserRequest(this.authToken,`fund/${dispenserAssets[DispenserAssetName.Algo].assetId}`,{receiver:typeof d=="string"?d:d.toString(),amount:Number(Mt),assetID:dispenserAssets[DispenserAssetName.Algo].assetId},"POST")).json();return{txId:Ft.txID,amount:Ft.amount}}async refund(d){await this.processDispenserRequest(this.authToken,"refund",{refundTransactionID:d},"POST")}async getLimit(){return{amount:(await(await this.processDispenserRequest(this.authToken,`fund/${dispenserAssets[DispenserAssetName.Algo].assetId}/limit`,null,"GET")).json()).amount}}}var define_process_env_default$1={},Kmd=algosdk.Kmd,Indexer=algosdk.Indexer;class ClientManager{constructor(d,Mt){const Ot="algod"in d?d:{algod:ClientManager.getAlgodClient(d.algodConfig),indexer:d.indexerConfig?ClientManager.getIndexerClient(d.indexerConfig):void 0,kmd:d.kmdConfig?ClientManager.getKmdClient(d.kmdConfig):void 0};this._algod=Ot.algod,this._indexer=Ot.indexer,this._kmd=Ot.kmd,this._algorand=Mt}get algod(){return this._algod}get indexer(){if(!this._indexer)throw new Error("Attempt to use Indexer client in AlgoKit instance with no Indexer configured");return this._indexer}get indexerIfPresent(){return this._indexer}get kmd(){if(!this._kmd)throw new Error("Attempt to use Kmd client in AlgoKit instance with no Kmd configured");return this._kmd}async network(){this._getNetworkPromise||(this._getNetworkPromise=this._algod.getTransactionParams().do());const d=await this._getNetworkPromise;return{isTestNet:["testnet-v1.0","testnet-v1","testnet"].includes(d.genesisID??"unknown"),isMainNet:["mainnet-v1.0","mainnet-v1","mainnet"].includes(d.genesisID??"unknown"),isLocalNet:ClientManager.genesisIdIsLocalNet(d.genesisID??"unknown"),genesisId:d.genesisID??"unknown",genesisHash:d.genesisHash?Buffer.from(d.genesisHash).toString("base64"):"unknown"}}static genesisIdIsLocalNet(d){return genesisIdIsLocalNet(d)}async isLocalNet(){return(await this.network()).isLocalNet}async isTestNet(){return(await this.network()).isTestNet}async isMainNet(){return(await this.network()).isMainNet}getTestNetDispenser(d){return new TestNetDispenserApiClient(d)}getTestNetDispenserFromEnvironment(d){return new TestNetDispenserApiClient(d?{...d,authToken:""}:void 0)}getAppFactory(d){if(!this._algorand)throw new Error("Attempt to get app factory from a ClientManager without an Algorand client");return new AppFactory({...d,algorand:this._algorand})}getAppClientByCreatorAndName(d){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return AppClient.fromCreatorAndName({...d,algorand:this._algorand})}getAppClientById(d){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return new AppClient({...d,algorand:this._algorand})}async getAppClientByNetwork(d){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return AppClient.fromNetwork({...d,algorand:this._algorand})}async getTypedAppClientByCreatorAndName(d,Mt){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return d.fromCreatorAndName({...Mt,algorand:this._algorand})}getTypedAppClientById(d,Mt){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return new d({...Mt,algorand:this._algorand})}getTypedAppClientByNetwork(d,Mt){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return d.fromNetwork({...Mt,algorand:this._algorand})}getTypedAppFactory(d,Mt){if(!this._algorand)throw new Error("Attempt to get app factory from a ClientManager without an Algorand client");return new d({...Mt,algorand:this._algorand})}static getConfigFromEnvironmentOrLocalNet(){if(!process$1||!define_process_env_default$1)throw new Error("Attempt to get default client configuration from a non Node.js context; supply the config instead");const[d,Mt,Ot]=define_process_env_default$1.ALGOD_SERVER?[ClientManager.getAlgodConfigFromEnvironment(),define_process_env_default$1.INDEXER_SERVER?ClientManager.getIndexerConfigFromEnvironment():void 0,!define_process_env_default$1.ALGOD_SERVER.includes("mainnet")&&!define_process_env_default$1.ALGOD_SERVER.includes("testnet")?{...ClientManager.getAlgodConfigFromEnvironment(),port:(define_process_env_default$1==null?void 0:define_process_env_default$1.KMD_PORT)??"4002"}:void 0]:[ClientManager.getDefaultLocalNetConfig("algod"),ClientManager.getDefaultLocalNetConfig("indexer"),ClientManager.getDefaultLocalNetConfig("kmd")];return{algodConfig:d,indexerConfig:Mt,kmdConfig:Ot}}static getAlgodConfigFromEnvironment(){if(!process$1||!define_process_env_default$1)throw new Error("Attempt to get default algod configuration from a non Node.js context; supply the config instead");if(!define_process_env_default$1.ALGOD_SERVER)throw new Error("Attempt to get default algod configuration without specifying ALGOD_SERVER in the environment variables");return{server:define_process_env_default$1.ALGOD_SERVER,port:define_process_env_default$1.ALGOD_PORT,token:define_process_env_default$1.ALGOD_TOKEN}}static getIndexerConfigFromEnvironment(){if(!process$1||!define_process_env_default$1)throw new Error("Attempt to get default indexer configuration from a non Node.js context; supply the config instead");if(!define_process_env_default$1.INDEXER_SERVER)throw new Error("Attempt to get default indexer configuration without specifying INDEXER_SERVER in the environment variables");return{server:define_process_env_default$1.INDEXER_SERVER,port:define_process_env_default$1.INDEXER_PORT,token:define_process_env_default$1.INDEXER_TOKEN}}static getAlgoNodeConfig(d,Mt){return{server:`https://${d}-${Mt==="algod"?"api":"idx"}.algonode.cloud/`,port:443}}static getDefaultLocalNetConfig(d){return{server:"http://localhost",port:d==="algod"?4001:d==="indexer"?8980:d==="kmd"?4002:d,token:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}}static getAlgodClient(d){const{token:Mt,server:Ot,port:Ft}=d,Ut=typeof Mt=="string"?{"X-Algo-API-Token":Mt}:Mt??{},Xt=new AlgoHttpClientWithRetry(Ut,Ot,Ft);return new algosdk.Algodv2(Xt,Ot)}static getAlgodClientFromEnvironment(){return ClientManager.getAlgodClient(ClientManager.getAlgodConfigFromEnvironment())}static getIndexerClient(d){const{token:Mt,server:Ot,port:Ft}=d,Ut=typeof Mt=="string"?{"X-Indexer-API-Token":Mt}:Mt??{},Xt=new AlgoHttpClientWithRetry(Ut,Ot,Ft);return new Indexer(Xt)}static getIndexerClientFromEnvironment(){return ClientManager.getIndexerClient(ClientManager.getIndexerConfigFromEnvironment())}static getKmdClient(d){const{token:Mt,server:Ot,port:Ft}=d;return new Kmd(Mt,Ot,Ft)}static getKmdClientFromEnvironment(){return ClientManager.getKmdClient({...ClientManager.getAlgodConfigFromEnvironment(),port:(define_process_env_default$1==null?void 0:define_process_env_default$1.KMD_PORT)??"4002"})}}class KmdAccountManager{constructor(d){this._clientManager=d;try{this._kmd=d.kmd}catch{this._kmd=void 0}}async kmd(){if(this._kmd===void 0){if(await this._clientManager.isLocalNet()){const{kmdConfig:d}=ClientManager.getConfigFromEnvironmentOrLocalNet();if(d)return this._kmd=ClientManager.getKmdClient(d),this._kmd}this._kmd=null}if(!this._kmd)throw new Error("Attempt to use Kmd client in AlgoKit instance with no Kmd configured");return this._kmd}async getWalletAccount(d,Mt,Ot){const Ft=await this.kmd(),Xt=(await Ft.listWallets()).wallets.filter(Dn=>Dn.name===d);if(Xt.length===0)return;const jr=Xt[0].id,hn=(await Ft.initWalletHandle(jr,"")).wallet_handle_token,Vr=(await Ft.listKeys(hn)).addresses;let fn=0;if(Mt)for(fn=0;fn<Vr.length;fn++){const Dn=Vr[fn],Vn=await this._clientManager.algod.accountInformation(Dn).do();if(Mt(Vn))break}if(fn>=Vr.length)return;const dn=(await Ft.exportKey(hn,"",Vr[fn])).private_key,pn=algosdk.secretKeyToMnemonic(dn),En=algosdk.mnemonicToSecretKey(pn),_n=new SigningAccount(En,Ot);return{account:_n,addr:_n.addr,signer:_n.signer}}async getOrCreateWalletAccount(d,Mt){const Ot=await this.getWalletAccount(d);if(Ot)return Ot;const Ft=await this.kmd(),Ut=(await Ft.createWallet(d,"")).wallet.id,Xt=(await Ft.initWalletHandle(Ut,"")).wallet_handle_token;await Ft.generateKey(Xt);const jr=await this.getWalletAccount(d);Config.logger.info(`LocalNet account '${d}' doesn't yet exist; created account ${jr.addr} with keys stored in KMD and funding with ${(Mt==null?void 0:Mt.algo)??1e3} ALGO`);const hn=await this.getLocalNetDispenserAccount();return await new TransactionComposer({algod:this._clientManager.algod,getSigner:()=>hn.signer,getSuggestedParams:()=>this._clientManager.algod.getTransactionParams().do()}).addPayment({amount:Mt??AlgoAmount.Algo(1e3),receiver:jr.addr,sender:hn.addr}).send(),jr}async getLocalNetDispenserAccount(){if(!await this._clientManager.isLocalNet())throw new Error("Can't get LocalNet dispenser account from non LocalNet network");const d=await this.getWalletAccount("unencrypted-default-wallet",Mt=>Mt.status!=="Offline"&&Mt.amount>1e9);if(!d)throw new Error("Error retrieving LocalNet dispenser account; couldn't find the default account in KMD");return d}}var define_process_env_default={},LogicSigAccount=algosdk.LogicSigAccount;const address=_e=>typeof _e=="string"?Address.fromString(_e):_e,getAccountTransactionSigner=memoize(function(_e){return"signer"in _e?_e.signer:"lsig"in _e?algosdk.makeLogicSigAccountTransactionSigner(_e):algosdk.makeBasicAccountTransactionSigner(_e)});class AccountManager{constructor(d){this._accounts={},this._clientManager=d,this._kmdAccountManager=new KmdAccountManager(d)}_getComposer(d){return new TransactionComposer({algod:this._clientManager.algod,getSigner:this.getSigner.bind(this),getSuggestedParams:d??(()=>this._clientManager.algod.getTransactionParams().do())})}get kmd(){return this._kmdAccountManager}setDefaultSigner(d){return this._defaultSigner="signer"in d?d.signer:d,this}signerAccount(d){const Mt=getAccountTransactionSigner(d),Ot={addr:"addr"in d?d.addr:d.address(),signer:Mt};this._accounts[Ot.addr.toString()]=Ot;const Ft=Address.fromString(Ot.addr.toString());return Ft.account=d,Ft.addr=Ot.addr,Ft.signer=Mt,Ft}setSignerFromAccount(d){return this.signerAccount(d),this}setSigner(d,Mt){return this._accounts[address(d).toString()]={addr:address(d),signer:Mt},this}setSigners(d,Mt=!0){return this._accounts=Mt?{...this._accounts,...d._accounts}:{...d._accounts,...this._accounts},this}getSigner(d){var Ot;const Mt=((Ot=this._accounts[address(d).toString()])==null?void 0:Ot.signer)??this._defaultSigner;if(!Mt)throw new Error(`No signer found for address ${d}`);return Mt}getAccount(d){const Mt=this._accounts[address(d).toString()];if(!Mt)throw new Error(`No signer found for address ${d}`);return Mt}async getInformation(d){const{round:Mt,lastHeartbeat:Ot=void 0,lastProposed:Ft=void 0,address:Ut,...Xt}=await this._clientManager.algod.accountInformation(d).do();return{...Xt,address:Address.fromString(Ut),balance:AlgoAmount.MicroAlgo(Number(Xt.amount)),amountWithoutPendingRewards:AlgoAmount.MicroAlgo(Number(Xt.amountWithoutPendingRewards)),minBalance:AlgoAmount.MicroAlgo(Number(Xt.minBalance)),pendingRewards:AlgoAmount.MicroAlgo(Number(Xt.pendingRewards)),rewards:AlgoAmount.MicroAlgo(Number(Xt.rewards)),validAsOfRound:BigInt(Mt),totalAppsOptedIn:Number(Xt.totalAppsOptedIn),totalAssetsOptedIn:Number(Xt.totalAssetsOptedIn),totalCreatedApps:Number(Xt.totalCreatedApps),totalCreatedAssets:Number(Xt.totalCreatedAssets),appsTotalExtraPages:Xt.appsTotalExtraPages!==void 0?Number(Xt.appsTotalExtraPages):void 0,rewardBase:Xt.rewardBase!==void 0?Number(Xt.rewardBase):void 0,totalBoxBytes:Xt.totalBoxBytes!==void 0?Number(Xt.totalBoxBytes):void 0,totalBoxes:Xt.totalBoxes!==void 0?Number(Xt.totalBoxes):void 0,lastHeartbeatRound:Ot!==void 0?BigInt(Ot):void 0,lastProposedRound:Ft!==void 0?BigInt(Ft):void 0}}fromMnemonic(d,Mt){const Ot=algosdk.mnemonicToSecretKey(d);return this.signerAccount(new SigningAccount(Ot,Mt))}rekeyed(d,Mt){return this.signerAccount({addr:address(d),signer:Mt.signer})}async fromEnvironment(d,Mt){if(!process$1||!define_process_env_default)throw new Error("Attempt to get account with private key from a non Node.js context; this is not supported!");const Ot=define_process_env_default[`${d.toUpperCase()}_MNEMONIC`],Ft=define_process_env_default[`${d.toUpperCase()}_SENDER`];if(Ot){const Ut=algosdk.mnemonicToSecretKey(Ot);return this.signerAccount(new SigningAccount(Ut,Ft))}if(await this._clientManager.isLocalNet()){const Ut=await this._kmdAccountManager.getOrCreateWalletAccount(d,Mt);return this.signerAccount(Ut.account)}throw new Error(`Missing environment variable ${d.toUpperCase()}_MNEMONIC when looking for account ${d}`)}async fromKmd(d,Mt,Ot){const Ft=await this._kmdAccountManager.getWalletAccount(d,Mt,Ot);if(!Ft)throw new Error(`Unable to find KMD account ${d}${Mt?" with predicate":""}`);return this.signerAccount(Ft.account)}multisig(d,Mt){return this.signerAccount(new MultisigAccount(d,Mt))}logicsig(d,Mt){return this.signerAccount(new LogicSigAccount(d,Mt))}random(){return this.signerAccount(algosdk.generateAccount())}async dispenserFromEnvironment(){if(!process$1||!define_process_env_default)throw new Error("Attempt to get dispenser from environment from a non Node.js context; this is not supported!");return define_process_env_default[`${DISPENSER_ACCOUNT.toUpperCase()}_MNEMONIC`]?await this.fromEnvironment(DISPENSER_ACCOUNT):await this.localNetDispenser()}async localNetDispenser(){const d=await this._kmdAccountManager.getLocalNetDispenserAccount();return this.signerAccount(d.account)}async rekeyAccount(d,Mt,Ot){const Ft=await this._getComposer().addPayment({...Ot,sender:address(d),receiver:address(d),amount:AlgoAmount.MicroAlgo(0),rekeyTo:address(typeof Mt=="object"&&"addr"in Mt?Mt.addr:Mt)}).send(Ot);return typeof Mt=="object"&&"addr"in Mt&&this.rekeyed(d,Mt),Config.getLogger(Ot==null?void 0:Ot.suppressLog).info(`Rekeyed ${d} to ${Mt} via transaction ${Ft.txIds.at(-1)}`),{...Ft,transaction:Ft.transactions.at(-1),confirmation:Ft.confirmations.at(-1)}}async _getEnsureFundedAmount(d,Mt,Ot){const Ft=await this.getInformation(d),Ut=Ft.balance.microAlgo-Ft.minBalance.microAlgo,Xt=calculateFundAmount(Mt.microAlgo,Ut,(Ot==null?void 0:Ot.microAlgo)??0n);return Xt===null?void 0:AlgoAmount.MicroAlgo(Xt)}async ensureFunded(d,Mt,Ot,Ft){const Ut=address(d),Xt=await this._getEnsureFundedAmount(Ut,Ot,Ft==null?void 0:Ft.minFundingIncrement);if(!Xt)return;const jr=await this._getComposer().addPayment({...Ft,sender:address(Mt),receiver:Ut,amount:Xt}).send(Ft);return{...jr,transaction:jr.transactions[0],confirmation:jr.confirmations[0],transactionId:jr.txIds[0],amountFunded:Xt}}async ensureFundedFromEnvironment(d,Mt,Ot){const Ft=address(d),Ut=await this.dispenserFromEnvironment(),Xt=await this._getEnsureFundedAmount(Ft,Mt,Ot==null?void 0:Ot.minFundingIncrement);if(!Xt)return;const jr=await this._getComposer().addPayment({...Ot,sender:Ut,receiver:Ft,amount:Xt}).send(Ot);return{...jr,transaction:jr.transactions[0],confirmation:jr.confirmations[0],transactionId:jr.txIds[0],amountFunded:Xt}}async ensureFundedFromTestNetDispenserApi(d,Mt,Ot,Ft){if(!await this._clientManager.isTestNet())throw new Error("Attempt to fund using TestNet dispenser API on non TestNet network.");const Ut=address(d),Xt=await this._getEnsureFundedAmount(Ut,Ot,Ft==null?void 0:Ft.minFundingIncrement);if(!Xt)return;const jr=await Mt.fund(Ut,Xt.microAlgo);return{amountFunded:AlgoAmount.MicroAlgo(jr.amount),transactionId:jr.txId}}}class AlgorandClient{constructor(d){this._cachedSuggestedParamsTimeout=3e3,this._defaultValidityWindow=void 0,this._errorTransformers=new Set,this._clientManager=new ClientManager(d,this),this._accountManager=new AccountManager(this._clientManager),this._appManager=new AppManager(this._clientManager.algod),this._assetManager=new AssetManager(this._clientManager.algod,()=>this.newGroup()),this._transactionSender=new AlgorandClientTransactionSender(()=>this.newGroup(),this._assetManager,this._appManager),this._transactionCreator=new AlgorandClientTransactionCreator(()=>this.newGroup()),this._appDeployer=new AppDeployer(this._appManager,this._transactionSender,this._clientManager.indexerIfPresent)}setDefaultValidityWindow(d){return this._defaultValidityWindow=BigInt(d),this}setDefaultSigner(d){return this._accountManager.setDefaultSigner(d),this}setSignerFromAccount(d){return this._accountManager.setSignerFromAccount(d),this}setSigner(d,Mt){return this._accountManager.setSigner(d,Mt),this}setSuggestedParamsCache(d,Mt){return this._cachedSuggestedParams=d,this._cachedSuggestedParamsExpiry=Mt??new Date(+new Date+this._cachedSuggestedParamsTimeout),this}setSuggestedParamsCacheTimeout(d){return this._cachedSuggestedParamsTimeout=d,this}async getSuggestedParams(){return this._cachedSuggestedParams&&(!this._cachedSuggestedParamsExpiry||this._cachedSuggestedParamsExpiry>new Date)?{...this._cachedSuggestedParams}:(this._cachedSuggestedParams=await this._clientManager.algod.getTransactionParams().do(),this._cachedSuggestedParamsExpiry=new Date(new Date().getTime()+this._cachedSuggestedParamsTimeout),{...this._cachedSuggestedParams})}get client(){return this._clientManager}get account(){return this._accountManager}get asset(){return this._assetManager}get app(){return this._appManager}get appDeployer(){return this._appDeployer}registerErrorTransformer(d){this._errorTransformers.add(d)}unregisterErrorTransformer(d){this._errorTransformers.delete(d)}newGroup(){return new TransactionComposer({algod:this.client.algod,getSigner:d=>this.account.getSigner(d),getSuggestedParams:()=>this.getSuggestedParams(),defaultValidityWindow:this._defaultValidityWindow,appManager:this._appManager,errorTransformers:[...this._errorTransformers]})}get send(){return this._transactionSender}get createTransaction(){return this._transactionCreator}static defaultLocalNet(){return new AlgorandClient({algodConfig:ClientManager.getDefaultLocalNetConfig("algod"),indexerConfig:ClientManager.getDefaultLocalNetConfig("indexer"),kmdConfig:ClientManager.getDefaultLocalNetConfig("kmd")})}static testNet(){return new AlgorandClient({algodConfig:ClientManager.getAlgoNodeConfig("testnet","algod"),indexerConfig:ClientManager.getAlgoNodeConfig("testnet","indexer"),kmdConfig:void 0})}static mainNet(){return new AlgorandClient({algodConfig:ClientManager.getAlgoNodeConfig("mainnet","algod"),indexerConfig:ClientManager.getAlgoNodeConfig("mainnet","indexer"),kmdConfig:void 0})}static fromClients(d){return new AlgorandClient(d)}static fromEnvironment(){return new AlgorandClient(ClientManager.getConfigFromEnvironmentOrLocalNet())}static fromConfig(d){return new AlgorandClient(d)}}Number.prototype.microAlgos=function(){return AlgoAmount.MicroAlgo(this)};Number.prototype.algos=function(){return AlgoAmount.Algo(this)};Number.prototype.microAlgo=function(){return AlgoAmount.MicroAlgo(this)};Number.prototype.algo=function(){return AlgoAmount.Algo(this)};BigInt.prototype.microAlgo=function(){return AlgoAmount.MicroAlgo(this)};BigInt.prototype.algo=function(){return AlgoAmount.Algo(this)};const algo=_e=>AlgoAmount.Algo(_e);AlgoAmount.MicroAlgo(1e3);const Transact=({openModal:_e,setModalState:d})=>{const[Mt,Ot]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(""),Xt=getAlgodConfigFromViteEnvironment(),jr=reactExports.useMemo(()=>AlgorandClient.fromConfig({algodConfig:Xt}),[Xt]),{enqueueSnackbar:hn}=useSnackbar(),{transactionSigner:Vr,activeAddress:fn}=useWallet$2(),dn=async()=>{if(Ot(!0),!Vr||!fn){hn("Please connect your wallet first.",{variant:"warning"}),Ot(!1);return}try{hn("Sending 1 ALGO on TestNet",{variant:"info"});const pn=await jr.send.payment({signer:Vr,sender:fn,receiver:Ft,amount:algo(1)});hn(` Transaction sent: ${pn.txIds[0]}`,{variant:"success"}),Ut("")}catch{hn(" Failed to send transaction",{variant:"error"})}finally{Ot(!1)}};return jsxRuntimeExports.jsx("dialog",{id:"transact_modal",className:`modal ${_e?"modal-open":""}`,children:jsxRuntimeExports.jsxs("form",{method:"dialog",className:"modal-box bg-white shadow-card",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-display text-lg text-etoile-ink",children:"Send Test Payment"}),jsxRuntimeExports.jsx("button",{type:"button",className:"btn btn-sm btn-ghost",onClick:()=>d(!1),"aria-label":"Close",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-etoile-ink/70 mb-4",children:["Send ",jsxRuntimeExports.jsx("strong",{children:"1 ALGO"})," to any Algorand TestNet address to demo payments."]}),jsxRuntimeExports.jsxs("label",{className:"form-control",children:[jsxRuntimeExports.jsx("span",{className:"label-text font-body",children:"Receiver address"}),jsxRuntimeExports.jsx("input",{type:"text","data-test-id":"receiver-address",placeholder:"Paste a TestNet address",className:"input input-bordered w-full font-body",value:Ft,onChange:pn=>Ut(pn.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"modal-action",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"btn",onClick:()=>d(!1),children:"Close"}),jsxRuntimeExports.jsx("button",{type:"button","data-test-id":"send-algo",className:`btn bg-etoile-green text-white border-none ${Ft.length===58?"":"btn-disabled"}`,onClick:dn,children:Mt?jsxRuntimeExports.jsx("span",{className:"loading loading-spinner"}):"Send 1 ALGO"})]})]})})};var sha512={exports:{}};(function(_e){(function(){var d="input is invalid type",Mt="finalize already called",Ot=typeof window=="object",Ft=Ot?window:{};Ft.JS_SHA512_NO_WINDOW&&(Ot=!1);var Ut=!Ot&&typeof self=="object",Xt=!Ft.JS_SHA512_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;Xt?Ft=globalThis:Ut&&(Ft=self);var jr=!Ft.JS_SHA512_NO_COMMON_JS&&!0&&_e.exports,hn=!Ft.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Vr="0123456789abcdef".split(""),fn=[-2147483648,8388608,32768,128],dn=[24,16,8,0],pn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],En=["hex","array","digest","arrayBuffer"],_n=[],Dn=Array.isArray;(Ft.JS_SHA512_NO_NODE_JS||!Dn)&&(Dn=function(xa){return Object.prototype.toString.call(xa)==="[object Array]"});var Vn=ArrayBuffer.isView;hn&&(Ft.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!Vn)&&(Vn=function(xa){return typeof xa=="object"&&xa.buffer&&xa.buffer.constructor===ArrayBuffer});var Pn=function(xa){var Yn=typeof xa;if(Yn==="string")return[xa,!0];if(Yn!=="object"||xa===null)throw new Error(d);if(hn&&xa.constructor===ArrayBuffer)return[new Uint8Array(xa),!1];if(!Dn(xa)&&!Vn(xa))throw new Error(d);return[xa,!1]},qn=function(xa,Yn){return function(Un){return new Gn(Yn,!0).update(Un)[xa]()}},jn=function(xa){var Yn=qn("hex",xa);Yn.create=function(){return new Gn(xa)},Yn.update=function(mn){return Yn.create().update(mn)};for(var Un=0;Un<En.length;++Un){var Mn=En[Un];Yn[Mn]=qn(Mn,xa)}return Yn},Hn=function(xa,Yn){return function(Un,Mn){return new ba(Un,Yn,!0).update(Mn)[xa]()}},Jn=function(xa){var Yn=Hn("hex",xa);Yn.create=function(mn){return new ba(mn,xa)},Yn.update=function(mn,Xr){return Yn.create(mn).update(Xr)};for(var Un=0;Un<En.length;++Un){var Mn=En[Un];Yn[Mn]=Hn(Mn,xa)}return Yn};function Gn(xa,Yn){Yn?(_n[0]=_n[1]=_n[2]=_n[3]=_n[4]=_n[5]=_n[6]=_n[7]=_n[8]=_n[9]=_n[10]=_n[11]=_n[12]=_n[13]=_n[14]=_n[15]=_n[16]=_n[17]=_n[18]=_n[19]=_n[20]=_n[21]=_n[22]=_n[23]=_n[24]=_n[25]=_n[26]=_n[27]=_n[28]=_n[29]=_n[30]=_n[31]=_n[32]=0,this.blocks=_n):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xa==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):xa==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):xa==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=xa,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}Gn.prototype.update=function(xa){if(this.finalized)throw new Error(Mt);var Yn=Pn(xa);xa=Yn[0];for(var Un=Yn[1],Mn,mn=0,Xr,gn=xa.length,On=this.blocks;mn<gn;){if(this.hashed&&(this.hashed=!1,On[0]=this.block,this.block=On[1]=On[2]=On[3]=On[4]=On[5]=On[6]=On[7]=On[8]=On[9]=On[10]=On[11]=On[12]=On[13]=On[14]=On[15]=On[16]=On[17]=On[18]=On[19]=On[20]=On[21]=On[22]=On[23]=On[24]=On[25]=On[26]=On[27]=On[28]=On[29]=On[30]=On[31]=On[32]=0),Un)for(Xr=this.start;mn<gn&&Xr<128;++mn)Mn=xa.charCodeAt(mn),Mn<128?On[Xr>>>2]|=Mn<<dn[Xr++&3]:Mn<2048?(On[Xr>>>2]|=(192|Mn>>>6)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn&63)<<dn[Xr++&3]):Mn<55296||Mn>=57344?(On[Xr>>>2]|=(224|Mn>>>12)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn>>>6&63)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn&63)<<dn[Xr++&3]):(Mn=65536+((Mn&1023)<<10|xa.charCodeAt(++mn)&1023),On[Xr>>>2]|=(240|Mn>>>18)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn>>>12&63)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn>>>6&63)<<dn[Xr++&3],On[Xr>>>2]|=(128|Mn&63)<<dn[Xr++&3]);else for(Xr=this.start;mn<gn&&Xr<128;++mn)On[Xr>>>2]|=xa[mn]<<dn[Xr++&3];this.lastByteIndex=Xr,this.bytes+=Xr-this.start,Xr>=128?(this.block=On[32],this.start=Xr-128,this.hash(),this.hashed=!0):this.start=Xr}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},Gn.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var xa=this.blocks,Yn=this.lastByteIndex;xa[32]=this.block,xa[Yn>>>2]|=fn[Yn&3],this.block=xa[32],Yn>=112&&(this.hashed||this.hash(),xa[0]=this.block,xa[1]=xa[2]=xa[3]=xa[4]=xa[5]=xa[6]=xa[7]=xa[8]=xa[9]=xa[10]=xa[11]=xa[12]=xa[13]=xa[14]=xa[15]=xa[16]=xa[17]=xa[18]=xa[19]=xa[20]=xa[21]=xa[22]=xa[23]=xa[24]=xa[25]=xa[26]=xa[27]=xa[28]=xa[29]=xa[30]=xa[31]=xa[32]=0),xa[30]=this.hBytes<<3|this.bytes>>>29,xa[31]=this.bytes<<3,this.hash()}},Gn.prototype.hash=function(){var xa=this.h0h,Yn=this.h0l,Un=this.h1h,Mn=this.h1l,mn=this.h2h,Xr=this.h2l,gn=this.h3h,On=this.h3l,Ln=this.h4h,Rn=this.h4l,yn=this.h5h,kn=this.h5l,Fn=this.h6h,Cn=this.h6l,zn=this.h7h,$a=this.h7l,co=this.blocks,io,ga,na,so,_i,Wn,Kn,ro,oo,mo,bo,vo,wo,go,So,Ao,Co,Ro,$o,Lo,Po,No,Go,Zo,to;for(io=32;io<160;io+=2)Lo=co[io-30],Po=co[io-29],ga=(Lo>>>1|Po<<31)^(Lo>>>8|Po<<24)^Lo>>>7,na=(Po>>>1|Lo<<31)^(Po>>>8|Lo<<24)^(Po>>>7|Lo<<25),Lo=co[io-4],Po=co[io-3],so=(Lo>>>19|Po<<13)^(Po>>>29|Lo<<3)^Lo>>>6,_i=(Po>>>19|Lo<<13)^(Lo>>>29|Po<<3)^(Po>>>6|Lo<<26),Lo=co[io-32],Po=co[io-31],No=co[io-14],Go=co[io-13],Wn=(Go&65535)+(Po&65535)+(na&65535)+(_i&65535),Kn=(Go>>>16)+(Po>>>16)+(na>>>16)+(_i>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(ga&65535)+(so&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(ga>>>16)+(so>>>16)+(ro>>>16),co[io]=oo<<16|ro&65535,co[io+1]=Kn<<16|Wn&65535;var Zn=xa,Qn=Yn,lo=Un,Eo=Mn,xo=mn,_o=Xr,jo=gn,Ho=On,Fo=Ln,as=Rn,zo=yn,Qo=kn,Ss=Fn,ss=Cn,rs=zn,Ts=$a;for(Ao=lo&xo,Co=Eo&_o,io=0;io<160;io+=8)ga=(Zn>>>28|Qn<<4)^(Qn>>>2|Zn<<30)^(Qn>>>7|Zn<<25),na=(Qn>>>28|Zn<<4)^(Zn>>>2|Qn<<30)^(Zn>>>7|Qn<<25),so=(Fo>>>14|as<<18)^(Fo>>>18|as<<14)^(as>>>9|Fo<<23),_i=(as>>>14|Fo<<18)^(as>>>18|Fo<<14)^(Fo>>>9|as<<23),mo=Zn&lo,bo=Qn&Eo,Ro=mo^Zn&xo^Ao,$o=bo^Qn&_o^Co,Zo=Fo&zo^~Fo&Ss,to=as&Qo^~as&ss,Lo=co[io],Po=co[io+1],No=pn[io],Go=pn[io+1],Wn=(Go&65535)+(Po&65535)+(to&65535)+(_i&65535)+(Ts&65535),Kn=(Go>>>16)+(Po>>>16)+(to>>>16)+(_i>>>16)+(Ts>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Zo&65535)+(so&65535)+(rs&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(Zo>>>16)+(so>>>16)+(rs>>>16)+(ro>>>16),Lo=oo<<16|ro&65535,Po=Kn<<16|Wn&65535,Wn=($o&65535)+(na&65535),Kn=($o>>>16)+(na>>>16)+(Wn>>>16),ro=(Ro&65535)+(ga&65535)+(Kn>>>16),oo=(Ro>>>16)+(ga>>>16)+(ro>>>16),No=oo<<16|ro&65535,Go=Kn<<16|Wn&65535,Wn=(Ho&65535)+(Po&65535),Kn=(Ho>>>16)+(Po>>>16)+(Wn>>>16),ro=(jo&65535)+(Lo&65535)+(Kn>>>16),oo=(jo>>>16)+(Lo>>>16)+(ro>>>16),rs=oo<<16|ro&65535,Ts=Kn<<16|Wn&65535,Wn=(Go&65535)+(Po&65535),Kn=(Go>>>16)+(Po>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(ro>>>16),jo=oo<<16|ro&65535,Ho=Kn<<16|Wn&65535,ga=(jo>>>28|Ho<<4)^(Ho>>>2|jo<<30)^(Ho>>>7|jo<<25),na=(Ho>>>28|jo<<4)^(jo>>>2|Ho<<30)^(jo>>>7|Ho<<25),so=(rs>>>14|Ts<<18)^(rs>>>18|Ts<<14)^(Ts>>>9|rs<<23),_i=(Ts>>>14|rs<<18)^(Ts>>>18|rs<<14)^(rs>>>9|Ts<<23),vo=jo&Zn,wo=Ho&Qn,Ro=vo^jo&lo^mo,$o=wo^Ho&Eo^bo,Zo=rs&Fo^~rs&zo,to=Ts&as^~Ts&Qo,Lo=co[io+2],Po=co[io+3],No=pn[io+2],Go=pn[io+3],Wn=(Go&65535)+(Po&65535)+(to&65535)+(_i&65535)+(ss&65535),Kn=(Go>>>16)+(Po>>>16)+(to>>>16)+(_i>>>16)+(ss>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Zo&65535)+(so&65535)+(Ss&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(Zo>>>16)+(so>>>16)+(Ss>>>16)+(ro>>>16),Lo=oo<<16|ro&65535,Po=Kn<<16|Wn&65535,Wn=($o&65535)+(na&65535),Kn=($o>>>16)+(na>>>16)+(Wn>>>16),ro=(Ro&65535)+(ga&65535)+(Kn>>>16),oo=(Ro>>>16)+(ga>>>16)+(ro>>>16),No=oo<<16|ro&65535,Go=Kn<<16|Wn&65535,Wn=(_o&65535)+(Po&65535),Kn=(_o>>>16)+(Po>>>16)+(Wn>>>16),ro=(xo&65535)+(Lo&65535)+(Kn>>>16),oo=(xo>>>16)+(Lo>>>16)+(ro>>>16),Ss=oo<<16|ro&65535,ss=Kn<<16|Wn&65535,Wn=(Go&65535)+(Po&65535),Kn=(Go>>>16)+(Po>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(ro>>>16),xo=oo<<16|ro&65535,_o=Kn<<16|Wn&65535,ga=(xo>>>28|_o<<4)^(_o>>>2|xo<<30)^(_o>>>7|xo<<25),na=(_o>>>28|xo<<4)^(xo>>>2|_o<<30)^(xo>>>7|_o<<25),so=(Ss>>>14|ss<<18)^(Ss>>>18|ss<<14)^(ss>>>9|Ss<<23),_i=(ss>>>14|Ss<<18)^(ss>>>18|Ss<<14)^(Ss>>>9|ss<<23),go=xo&jo,So=_o&Ho,Ro=go^xo&Zn^vo,$o=So^_o&Qn^wo,Zo=Ss&rs^~Ss&Fo,to=ss&Ts^~ss&as,Lo=co[io+4],Po=co[io+5],No=pn[io+4],Go=pn[io+5],Wn=(Go&65535)+(Po&65535)+(to&65535)+(_i&65535)+(Qo&65535),Kn=(Go>>>16)+(Po>>>16)+(to>>>16)+(_i>>>16)+(Qo>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Zo&65535)+(so&65535)+(zo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(Zo>>>16)+(so>>>16)+(zo>>>16)+(ro>>>16),Lo=oo<<16|ro&65535,Po=Kn<<16|Wn&65535,Wn=($o&65535)+(na&65535),Kn=($o>>>16)+(na>>>16)+(Wn>>>16),ro=(Ro&65535)+(ga&65535)+(Kn>>>16),oo=(Ro>>>16)+(ga>>>16)+(ro>>>16),No=oo<<16|ro&65535,Go=Kn<<16|Wn&65535,Wn=(Eo&65535)+(Po&65535),Kn=(Eo>>>16)+(Po>>>16)+(Wn>>>16),ro=(lo&65535)+(Lo&65535)+(Kn>>>16),oo=(lo>>>16)+(Lo>>>16)+(ro>>>16),zo=oo<<16|ro&65535,Qo=Kn<<16|Wn&65535,Wn=(Go&65535)+(Po&65535),Kn=(Go>>>16)+(Po>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(ro>>>16),lo=oo<<16|ro&65535,Eo=Kn<<16|Wn&65535,ga=(lo>>>28|Eo<<4)^(Eo>>>2|lo<<30)^(Eo>>>7|lo<<25),na=(Eo>>>28|lo<<4)^(lo>>>2|Eo<<30)^(lo>>>7|Eo<<25),so=(zo>>>14|Qo<<18)^(zo>>>18|Qo<<14)^(Qo>>>9|zo<<23),_i=(Qo>>>14|zo<<18)^(Qo>>>18|zo<<14)^(zo>>>9|Qo<<23),Ao=lo&xo,Co=Eo&_o,Ro=Ao^lo&jo^go,$o=Co^Eo&Ho^So,Zo=zo&Ss^~zo&rs,to=Qo&ss^~Qo&Ts,Lo=co[io+6],Po=co[io+7],No=pn[io+6],Go=pn[io+7],Wn=(Go&65535)+(Po&65535)+(to&65535)+(_i&65535)+(as&65535),Kn=(Go>>>16)+(Po>>>16)+(to>>>16)+(_i>>>16)+(as>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Zo&65535)+(so&65535)+(Fo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(Zo>>>16)+(so>>>16)+(Fo>>>16)+(ro>>>16),Lo=oo<<16|ro&65535,Po=Kn<<16|Wn&65535,Wn=($o&65535)+(na&65535),Kn=($o>>>16)+(na>>>16)+(Wn>>>16),ro=(Ro&65535)+(ga&65535)+(Kn>>>16),oo=(Ro>>>16)+(ga>>>16)+(ro>>>16),No=oo<<16|ro&65535,Go=Kn<<16|Wn&65535,Wn=(Qn&65535)+(Po&65535),Kn=(Qn>>>16)+(Po>>>16)+(Wn>>>16),ro=(Zn&65535)+(Lo&65535)+(Kn>>>16),oo=(Zn>>>16)+(Lo>>>16)+(ro>>>16),Fo=oo<<16|ro&65535,as=Kn<<16|Wn&65535,Wn=(Go&65535)+(Po&65535),Kn=(Go>>>16)+(Po>>>16)+(Wn>>>16),ro=(No&65535)+(Lo&65535)+(Kn>>>16),oo=(No>>>16)+(Lo>>>16)+(ro>>>16),Zn=oo<<16|ro&65535,Qn=Kn<<16|Wn&65535;Wn=(Yn&65535)+(Qn&65535),Kn=(Yn>>>16)+(Qn>>>16)+(Wn>>>16),ro=(xa&65535)+(Zn&65535)+(Kn>>>16),oo=(xa>>>16)+(Zn>>>16)+(ro>>>16),this.h0h=oo<<16|ro&65535,this.h0l=Kn<<16|Wn&65535,Wn=(Mn&65535)+(Eo&65535),Kn=(Mn>>>16)+(Eo>>>16)+(Wn>>>16),ro=(Un&65535)+(lo&65535)+(Kn>>>16),oo=(Un>>>16)+(lo>>>16)+(ro>>>16),this.h1h=oo<<16|ro&65535,this.h1l=Kn<<16|Wn&65535,Wn=(Xr&65535)+(_o&65535),Kn=(Xr>>>16)+(_o>>>16)+(Wn>>>16),ro=(mn&65535)+(xo&65535)+(Kn>>>16),oo=(mn>>>16)+(xo>>>16)+(ro>>>16),this.h2h=oo<<16|ro&65535,this.h2l=Kn<<16|Wn&65535,Wn=(On&65535)+(Ho&65535),Kn=(On>>>16)+(Ho>>>16)+(Wn>>>16),ro=(gn&65535)+(jo&65535)+(Kn>>>16),oo=(gn>>>16)+(jo>>>16)+(ro>>>16),this.h3h=oo<<16|ro&65535,this.h3l=Kn<<16|Wn&65535,Wn=(Rn&65535)+(as&65535),Kn=(Rn>>>16)+(as>>>16)+(Wn>>>16),ro=(Ln&65535)+(Fo&65535)+(Kn>>>16),oo=(Ln>>>16)+(Fo>>>16)+(ro>>>16),this.h4h=oo<<16|ro&65535,this.h4l=Kn<<16|Wn&65535,Wn=(kn&65535)+(Qo&65535),Kn=(kn>>>16)+(Qo>>>16)+(Wn>>>16),ro=(yn&65535)+(zo&65535)+(Kn>>>16),oo=(yn>>>16)+(zo>>>16)+(ro>>>16),this.h5h=oo<<16|ro&65535,this.h5l=Kn<<16|Wn&65535,Wn=(Cn&65535)+(ss&65535),Kn=(Cn>>>16)+(ss>>>16)+(Wn>>>16),ro=(Fn&65535)+(Ss&65535)+(Kn>>>16),oo=(Fn>>>16)+(Ss>>>16)+(ro>>>16),this.h6h=oo<<16|ro&65535,this.h6l=Kn<<16|Wn&65535,Wn=($a&65535)+(Ts&65535),Kn=($a>>>16)+(Ts>>>16)+(Wn>>>16),ro=(zn&65535)+(rs&65535)+(Kn>>>16),oo=(zn>>>16)+(rs>>>16)+(ro>>>16),this.h7h=oo<<16|ro&65535,this.h7l=Kn<<16|Wn&65535},Gn.prototype.hex=function(){this.finalize();var xa=this.h0h,Yn=this.h0l,Un=this.h1h,Mn=this.h1l,mn=this.h2h,Xr=this.h2l,gn=this.h3h,On=this.h3l,Ln=this.h4h,Rn=this.h4l,yn=this.h5h,kn=this.h5l,Fn=this.h6h,Cn=this.h6l,zn=this.h7h,$a=this.h7l,co=this.bits,io=Vr[xa>>>28&15]+Vr[xa>>>24&15]+Vr[xa>>>20&15]+Vr[xa>>>16&15]+Vr[xa>>>12&15]+Vr[xa>>>8&15]+Vr[xa>>>4&15]+Vr[xa&15]+Vr[Yn>>>28&15]+Vr[Yn>>>24&15]+Vr[Yn>>>20&15]+Vr[Yn>>>16&15]+Vr[Yn>>>12&15]+Vr[Yn>>>8&15]+Vr[Yn>>>4&15]+Vr[Yn&15]+Vr[Un>>>28&15]+Vr[Un>>>24&15]+Vr[Un>>>20&15]+Vr[Un>>>16&15]+Vr[Un>>>12&15]+Vr[Un>>>8&15]+Vr[Un>>>4&15]+Vr[Un&15]+Vr[Mn>>>28&15]+Vr[Mn>>>24&15]+Vr[Mn>>>20&15]+Vr[Mn>>>16&15]+Vr[Mn>>>12&15]+Vr[Mn>>>8&15]+Vr[Mn>>>4&15]+Vr[Mn&15]+Vr[mn>>>28&15]+Vr[mn>>>24&15]+Vr[mn>>>20&15]+Vr[mn>>>16&15]+Vr[mn>>>12&15]+Vr[mn>>>8&15]+Vr[mn>>>4&15]+Vr[mn&15]+Vr[Xr>>>28&15]+Vr[Xr>>>24&15]+Vr[Xr>>>20&15]+Vr[Xr>>>16&15]+Vr[Xr>>>12&15]+Vr[Xr>>>8&15]+Vr[Xr>>>4&15]+Vr[Xr&15]+Vr[gn>>>28&15]+Vr[gn>>>24&15]+Vr[gn>>>20&15]+Vr[gn>>>16&15]+Vr[gn>>>12&15]+Vr[gn>>>8&15]+Vr[gn>>>4&15]+Vr[gn&15];return co>=256&&(io+=Vr[On>>>28&15]+Vr[On>>>24&15]+Vr[On>>>20&15]+Vr[On>>>16&15]+Vr[On>>>12&15]+Vr[On>>>8&15]+Vr[On>>>4&15]+Vr[On&15]),co>=384&&(io+=Vr[Ln>>>28&15]+Vr[Ln>>>24&15]+Vr[Ln>>>20&15]+Vr[Ln>>>16&15]+Vr[Ln>>>12&15]+Vr[Ln>>>8&15]+Vr[Ln>>>4&15]+Vr[Ln&15]+Vr[Rn>>>28&15]+Vr[Rn>>>24&15]+Vr[Rn>>>20&15]+Vr[Rn>>>16&15]+Vr[Rn>>>12&15]+Vr[Rn>>>8&15]+Vr[Rn>>>4&15]+Vr[Rn&15]+Vr[yn>>>28&15]+Vr[yn>>>24&15]+Vr[yn>>>20&15]+Vr[yn>>>16&15]+Vr[yn>>>12&15]+Vr[yn>>>8&15]+Vr[yn>>>4&15]+Vr[yn&15]+Vr[kn>>>28&15]+Vr[kn>>>24&15]+Vr[kn>>>20&15]+Vr[kn>>>16&15]+Vr[kn>>>12&15]+Vr[kn>>>8&15]+Vr[kn>>>4&15]+Vr[kn&15]),co==512&&(io+=Vr[Fn>>>28&15]+Vr[Fn>>>24&15]+Vr[Fn>>>20&15]+Vr[Fn>>>16&15]+Vr[Fn>>>12&15]+Vr[Fn>>>8&15]+Vr[Fn>>>4&15]+Vr[Fn&15]+Vr[Cn>>>28&15]+Vr[Cn>>>24&15]+Vr[Cn>>>20&15]+Vr[Cn>>>16&15]+Vr[Cn>>>12&15]+Vr[Cn>>>8&15]+Vr[Cn>>>4&15]+Vr[Cn&15]+Vr[zn>>>28&15]+Vr[zn>>>24&15]+Vr[zn>>>20&15]+Vr[zn>>>16&15]+Vr[zn>>>12&15]+Vr[zn>>>8&15]+Vr[zn>>>4&15]+Vr[zn&15]+Vr[$a>>>28&15]+Vr[$a>>>24&15]+Vr[$a>>>20&15]+Vr[$a>>>16&15]+Vr[$a>>>12&15]+Vr[$a>>>8&15]+Vr[$a>>>4&15]+Vr[$a&15]),io},Gn.prototype.toString=Gn.prototype.hex,Gn.prototype.digest=function(){this.finalize();var xa=this.h0h,Yn=this.h0l,Un=this.h1h,Mn=this.h1l,mn=this.h2h,Xr=this.h2l,gn=this.h3h,On=this.h3l,Ln=this.h4h,Rn=this.h4l,yn=this.h5h,kn=this.h5l,Fn=this.h6h,Cn=this.h6l,zn=this.h7h,$a=this.h7l,co=this.bits,io=[xa>>>24&255,xa>>>16&255,xa>>>8&255,xa&255,Yn>>>24&255,Yn>>>16&255,Yn>>>8&255,Yn&255,Un>>>24&255,Un>>>16&255,Un>>>8&255,Un&255,Mn>>>24&255,Mn>>>16&255,Mn>>>8&255,Mn&255,mn>>>24&255,mn>>>16&255,mn>>>8&255,mn&255,Xr>>>24&255,Xr>>>16&255,Xr>>>8&255,Xr&255,gn>>>24&255,gn>>>16&255,gn>>>8&255,gn&255];return co>=256&&io.push(On>>>24&255,On>>>16&255,On>>>8&255,On&255),co>=384&&io.push(Ln>>>24&255,Ln>>>16&255,Ln>>>8&255,Ln&255,Rn>>>24&255,Rn>>>16&255,Rn>>>8&255,Rn&255,yn>>>24&255,yn>>>16&255,yn>>>8&255,yn&255,kn>>>24&255,kn>>>16&255,kn>>>8&255,kn&255),co==512&&io.push(Fn>>>24&255,Fn>>>16&255,Fn>>>8&255,Fn&255,Cn>>>24&255,Cn>>>16&255,Cn>>>8&255,Cn&255,zn>>>24&255,zn>>>16&255,zn>>>8&255,zn&255,$a>>>24&255,$a>>>16&255,$a>>>8&255,$a&255),io},Gn.prototype.array=Gn.prototype.digest,Gn.prototype.arrayBuffer=function(){this.finalize();var xa=this.bits,Yn=new ArrayBuffer(xa/8),Un=new DataView(Yn);return Un.setUint32(0,this.h0h),Un.setUint32(4,this.h0l),Un.setUint32(8,this.h1h),Un.setUint32(12,this.h1l),Un.setUint32(16,this.h2h),Un.setUint32(20,this.h2l),Un.setUint32(24,this.h3h),xa>=256&&Un.setUint32(28,this.h3l),xa>=384&&(Un.setUint32(32,this.h4h),Un.setUint32(36,this.h4l),Un.setUint32(40,this.h5h),Un.setUint32(44,this.h5l)),xa==512&&(Un.setUint32(48,this.h6h),Un.setUint32(52,this.h6l),Un.setUint32(56,this.h7h),Un.setUint32(60,this.h7l)),Yn},Gn.prototype.clone=function(){var xa=new Gn(this.bits,!1);return this.copyTo(xa),xa},Gn.prototype.copyTo=function(xa){var Yn=0,Un=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(Yn=0;Yn<Un.length;++Yn)xa[Un[Yn]]=this[Un[Yn]];for(Yn=0;Yn<this.blocks.length;++Yn)xa.blocks[Yn]=this.blocks[Yn]};function ba(xa,Yn,Un){var Mn,mn=Pn(xa);if(xa=mn[0],mn[1]){for(var Xr=[],gn=xa.length,On=0,Ln,Mn=0;Mn<gn;++Mn)Ln=xa.charCodeAt(Mn),Ln<128?Xr[On++]=Ln:Ln<2048?(Xr[On++]=192|Ln>>>6,Xr[On++]=128|Ln&63):Ln<55296||Ln>=57344?(Xr[On++]=224|Ln>>>12,Xr[On++]=128|Ln>>>6&63,Xr[On++]=128|Ln&63):(Ln=65536+((Ln&1023)<<10|xa.charCodeAt(++Mn)&1023),Xr[On++]=240|Ln>>>18,Xr[On++]=128|Ln>>>12&63,Xr[On++]=128|Ln>>>6&63,Xr[On++]=128|Ln&63);xa=Xr}xa.length>128&&(xa=new Gn(Yn,!0).update(xa).array());for(var Rn=[],yn=[],Mn=0;Mn<128;++Mn){var kn=xa[Mn]||0;Rn[Mn]=92^kn,yn[Mn]=54^kn}Gn.call(this,Yn,Un),this.update(yn),this.oKeyPad=Rn,this.inner=!0,this.sharedMemory=Un}ba.prototype=new Gn,ba.prototype.finalize=function(){if(Gn.prototype.finalize.call(this),this.inner){this.inner=!1;var xa=this.array();Gn.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(xa),Gn.prototype.finalize.call(this)}},ba.prototype.clone=function(){var xa=new ba([],this.bits,!1);this.copyTo(xa),xa.inner=this.inner;for(var Yn=0;Yn<this.oKeyPad.length;++Yn)xa.oKeyPad[Yn]=this.oKeyPad[Yn];return xa};var eo=jn(512);eo.sha512=eo,eo.sha384=jn(384),eo.sha512_256=jn(256),eo.sha512_224=jn(224),eo.sha512.hmac=Jn(512),eo.sha384.hmac=Jn(384),eo.sha512_256.hmac=Jn(256),eo.sha512_224.hmac=Jn(224),jr?_e.exports=eo:(Ft.sha512=eo.sha512,Ft.sha384=eo.sha384,Ft.sha512_256=eo.sha512_256,Ft.sha512_224=eo.sha512_224)})()})(sha512);var sha512Exports=sha512.exports;const NFTmint=({openModal:_e,setModalState:d})=>{const{activeAddress:Mt,transactionSigner:Ot}=useWallet$2(),{enqueueSnackbar:Ft}=useSnackbar(),Ut=reactExports.useMemo(()=>{const En=getAlgodConfigFromViteEnvironment();return AlgorandClient.fromConfig({algodConfig:En})},[]),[Xt,jr]=reactExports.useState(""),[hn,Vr]=reactExports.useState(!1),[fn,dn]=reactExports.useState(null),pn=async()=>{var En;if(!Mt||!Ot){Ft("Please connect your wallet first",{variant:"warning"});return}if(!Xt.trim()){Ft("Please paste your metadata URL (IPFS / Pinata)",{variant:"warning"});return}try{Vr(!0),Ft("Minting NFT",{variant:"info"});const _n=new Uint8Array(sha512Exports.sha512_256.array(Xt)),Vn=(En=(await Ut.send.assetCreate({sender:Mt,signer:Ot,total:1n,decimals:0,assetName:"toile Pass",unitName:"ETOILE",url:Xt,metadataHash:_n,defaultFrozen:!1})).confirmation)==null?void 0:En.assetIndex;Vn!==void 0?(dn(Vn.toString()),Ft(`NFT minted! Asset ID: ${Vn.toString()}`,{variant:"success"})):Ft("Mint succeeded but asset ID not found in confirmation",{variant:"warning"})}catch(_n){console.error(_n),Ft("Failed to mint NFT",{variant:"error"})}finally{Vr(!1)}};return jsxRuntimeExports.jsx("dialog",{id:"nft_mint_modal",className:`modal ${_e?"modal-open":""} bg-slate-200`,children:jsxRuntimeExports.jsxs("form",{method:"dialog",className:"modal-box",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Mint your toile Pass (NFT)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Paste the metadata URL you uploaded to IPFS (Pinata)."}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"ipfs://  or  https://gateway.pinata.cloud/ipfs/",className:"input input-bordered w-full",value:Xt,onChange:En=>jr(En.target.value)}),fn&&jsxRuntimeExports.jsx("div",{className:"alert alert-success mt-4 break-words",children:jsxRuntimeExports.jsxs("span",{children:[" Minted! Asset:",jsxRuntimeExports.jsx("a",{className:"link",href:`https://testnet.explorer.perawallet.app/asset/${fn}`,target:"_blank",rel:"noreferrer",children:fn})]})}),jsxRuntimeExports.jsxs("div",{className:"modal-action",children:[jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>d(!1),children:"Close"}),jsxRuntimeExports.jsx("button",{className:`btn btn-primary ${hn?"btn-disabled":""}`,onClick:pn,children:hn?jsxRuntimeExports.jsx("span",{className:"loading loading-spinner"}):"Mint NFT"})]})]})})},Tokenmint=({openModal:_e,setModalState:d})=>{const{activeAddress:Mt,transactionSigner:Ot}=useWallet$2(),{enqueueSnackbar:Ft}=useSnackbar(),Ut=reactExports.useMemo(()=>{const jn=getAlgodConfigFromViteEnvironment();return AlgorandClient.fromConfig({algodConfig:jn})},[]),[Xt,jr]=reactExports.useState("toile Token"),[hn,Vr]=reactExports.useState("ETO"),[fn,dn]=reactExports.useState(1e3),[pn,En]=reactExports.useState(0),[_n,Dn]=reactExports.useState(!1),[Vn,Pn]=reactExports.useState(null),qn=async()=>{var jn;if(!Mt||!Ot){Ft("Please connect your wallet first",{variant:"warning"});return}try{Dn(!0),Ft("Creating token",{variant:"info"});const Jn=(jn=(await Ut.send.assetCreate({sender:Mt,signer:Ot,total:BigInt(fn)*BigInt(10**pn),decimals:pn,assetName:Xt,unitName:hn,defaultFrozen:!1})).confirmation)==null?void 0:jn.assetIndex;Jn!==void 0?(Pn(Jn.toString()),Ft(`Token created! Asset ID: ${Jn.toString()}`,{variant:"success"})):Ft("Token created but asset ID not found in confirmation",{variant:"warning"})}catch(Hn){console.error(Hn),Ft("Failed to create token",{variant:"error"})}finally{Dn(!1)}};return jsxRuntimeExports.jsx("dialog",{id:"token_mint_modal",className:`modal ${_e?"modal-open":""} bg-slate-200`,children:jsxRuntimeExports.jsxs("form",{method:"dialog",className:"modal-box",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:"Create a fungible token"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[jsxRuntimeExports.jsx("input",{className:"input input-bordered w-full",value:Xt,onChange:jn=>jr(jn.target.value)}),jsxRuntimeExports.jsx("input",{className:"input input-bordered w-full",value:hn,onChange:jn=>Vr(jn.target.value)}),jsxRuntimeExports.jsx("input",{type:"number",min:1,className:"input input-bordered w-full",value:fn,onChange:jn=>dn(Number(jn.target.value||0))}),jsxRuntimeExports.jsx("input",{type:"number",min:0,max:6,className:"input input-bordered w-full",value:pn,onChange:jn=>En(Number(jn.target.value||0))})]}),Vn&&jsxRuntimeExports.jsx("div",{className:"alert alert-success mt-4 break-words",children:jsxRuntimeExports.jsxs("span",{children:[" Created! Asset:",jsxRuntimeExports.jsx("a",{className:"link",href:`https://testnet.explorer.perawallet.app/asset/${Vn}`,target:"_blank",rel:"noreferrer",children:Vn})]})}),jsxRuntimeExports.jsxs("div",{className:"modal-action",children:[jsxRuntimeExports.jsx("button",{className:"btn",onClick:()=>d(!1),children:"Close"}),jsxRuntimeExports.jsx("button",{className:`btn btn-primary ${_n?"btn-disabled":""}`,onClick:qn,children:_n?jsxRuntimeExports.jsx("span",{className:"loading loading-spinner"}):"Create Token"})]})]})})},DemoQR=({size:_e=72,className:d})=>jsxRuntimeExports.jsxs("svg",{width:_e,height:_e,viewBox:"0 0 100 100",className:d,"aria-hidden":"true",role:"img",children:[jsxRuntimeExports.jsx("rect",{width:"100",height:"100",rx:"6",fill:"#111827"}),jsxRuntimeExports.jsx("rect",{x:"8",y:"8",width:"26",height:"26",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"12",width:"18",height:"18",fill:"#111827"}),jsxRuntimeExports.jsx("rect",{x:"66",y:"8",width:"26",height:"26",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"70",y:"12",width:"18",height:"18",fill:"#111827"}),jsxRuntimeExports.jsx("rect",{x:"8",y:"66",width:"26",height:"26",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"70",width:"18",height:"18",fill:"#111827"}),jsxRuntimeExports.jsx("rect",{x:"42",y:"8",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"52",y:"18",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"42",y:"28",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"60",y:"46",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"50",y:"56",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"40",y:"46",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"42",y:"84",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"54",y:"72",width:"8",height:"8",fill:"#fff"})]}),Home=()=>{const{activeAddress:_e}=useWallet$2(),[d,Mt]=reactExports.useState(!1),[Ot,Ft]=reactExports.useState(!1),[Ut,Xt]=reactExports.useState(!1),[jr,hn]=reactExports.useState(!1),Vr=()=>Mt(_n=>!_n),fn=()=>Ft(_n=>!_n),dn=()=>Xt(_n=>!_n),pn=()=>hn(_n=>!_n),En=_n=>_n?`${_n.slice(0,6)}${_n.slice(-4)}`:"";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-rose-50 via-amber-50 to-rose-50 text-slate-900",children:[jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-40 backdrop-blur bg-white/60 border-b border-black/5",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-4 py-3",children:[jsxRuntimeExports.jsxs("a",{href:"#",className:"font-black tracking-tight text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"inline-block h-5 w-5 rounded-sm bg-amber-300"})," toile"]}),jsxRuntimeExports.jsxs("nav",{className:"hidden sm:flex items-center gap-6 text-sm",children:[jsxRuntimeExports.jsx("a",{href:"#problem",className:"hover:opacity-80",children:"Problem"}),jsxRuntimeExports.jsx("a",{href:"#solution",className:"hover:opacity-80",children:"How it works"}),jsxRuntimeExports.jsx("a",{href:"#collections",className:"hover:opacity-80",children:"Collections"}),jsxRuntimeExports.jsx("a",{href:"#roadmap",className:"hover:opacity-80",children:"Roadmap"}),jsxRuntimeExports.jsx("a",{href:"#involved",className:"hover:opacity-80",children:"Get involved"})]}),jsxRuntimeExports.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${_e?"bg-emerald-100 text-emerald-800":"bg-slate-200 text-slate-700"}`,title:_e||"Not connected",children:_e?` ${En(_e)}`:" Not connected"})]})}),jsxRuntimeExports.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-10 md:py-14 space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"rounded-2xl overflow-hidden shadow-xl border border-black/5",style:{backgroundImage:`linear-gradient(rgba(255,255,255,0.92), rgba(255,255,255,0.92)), url(${hero})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-10 text-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight",children:["Welcome to ",jsxRuntimeExports.jsx("span",{className:"font-black",children:"toile"})," "]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-slate-700 max-w-3xl mx-auto",children:"The blockchain-based fashion marketplace. Connect your wallet, explore collections, and verify provenance & impact on Algorand TestNet."}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-neutral",onClick:Vr,children:"Connect Wallet"}),jsxRuntimeExports.jsx("a",{className:"btn",href:"#collections",children:"Explore Collections"}),jsxRuntimeExports.jsx("button",{className:"btn btn-outline",onClick:()=>window.open("https://testnet.explorer.perawallet.app/","_blank","noopener,noreferrer"),children:"Verify on-chain"}),jsxRuntimeExports.jsx("button",{className:`btn ${_e?"":"btn-disabled"}`,onClick:fn,title:_e?"":"Connect your wallet first",children:"Send Test Payment"}),jsxRuntimeExports.jsx("button",{className:`btn btn-primary ${_e?"":"btn-disabled"}`,onClick:dn,title:_e?"":"Connect your wallet first",children:"Get Your toile Pass"}),jsxRuntimeExports.jsx("button",{className:`btn ${_e?"":"btn-disabled"}`,onClick:pn,title:_e?"":"Connect your wallet first",children:"Create Sample Token"}),jsxRuntimeExports.jsx("a",{className:"btn btn-outline",href:"#solution",children:"How it works"})]})]})}),jsxRuntimeExports.jsxs("section",{id:"collections",className:"scroll-mt-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Featured collections"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-slate-600 max-w-3xl",children:"Each item will expose a scannable QR that opens a verifiable Algorand-backed history: origin, labor conditions, and environmental impact."}),jsxRuntimeExports.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[{img:col1,title:"Responsibili-tee"},{img:col2,title:"Natural Textures"},{img:col3,title:"Conscious Vision"}].map(({img:_n,title:Dn},Vn)=>jsxRuntimeExports.jsxs("article",{className:"relative rounded-xl overflow-hidden border border-black/5 shadow-sm group",children:[jsxRuntimeExports.jsx("img",{src:_n,alt:Dn,className:"h-56 w-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/25 transition"}),jsxRuntimeExports.jsx("div",{className:"absolute left-3 bottom-3 text-white font-semibold drop-shadow",children:Dn}),jsxRuntimeExports.jsx("div",{className:"absolute right-3 bottom-3 bg-white/95 rounded-lg p-2 shadow group-hover:scale-105 transition",children:jsxRuntimeExports.jsx(DemoQR,{size:56})})]},Vn))}),jsxRuntimeExports.jsx("div",{className:"mt-6 rounded-xl overflow-hidden border border-black/5",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.35)), url(${activism})`,backgroundSize:"cover",backgroundPosition:"center"},children:jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 text-white",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Fashion with purpose"}),jsxRuntimeExports.jsx("p",{className:"opacity-90 max-w-3xl",children:"toile champions transparency and dignity across the supply chain. QR + Algorand help consumers choose consciously and brands prove their impact."})]})})]}),jsxRuntimeExports.jsxs("section",{id:"problem",className:"scroll-mt-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Fashion has a trust problem."}),jsxRuntimeExports.jsxs("ul",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Greenwashing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Claims without proof."})]}),jsxRuntimeExports.jsxs("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"No transparency"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Origins & labor conditions are opaque."})]}),jsxRuntimeExports.jsxs("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Environmental impact"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Water, carbon and waste are hard to verify."})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"solution",className:"scroll-mt-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"How it works"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"1) Scan the QR"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Each garment reveals its story."})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"2) Trace the journey"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Fabric  factory  logistics  store."})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"3) Shop with confidence"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Tamper-proof, verifiable data on Algorand."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex items-center gap-4 rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx(DemoQR,{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"QR demo (visual only)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"In the full MVP, this QR opens a products on-chain record (provenance, labor, and impact)."})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"roadmap",className:"scroll-mt-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Roadmap"}),jsxRuntimeExports.jsxs("ol",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[jsxRuntimeExports.jsx("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:"Core platform with QR/traceability on Algorand TestNet."}),jsxRuntimeExports.jsx("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:"First sustainable brand partners (pilot)."}),jsxRuntimeExports.jsx("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:"Marketplace for physical & digital fashion."}),jsxRuntimeExports.jsx("li",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:"Global growth and richer experiences."})]})]}),jsxRuntimeExports.jsxs("section",{id:"involved",className:"scroll-mt-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Join the fashion revolution."}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Consumers"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Get early access to our first drop."}),jsxRuntimeExports.jsx("a",{className:"btn btn-primary mt-3",href:"mailto:manal.humedin@undp.org",children:"Get early access"})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Brands & partners"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Build trust with verifiable provenance."}),jsxRuntimeExports.jsx("a",{className:"btn mt-3",href:"mailto:manal.humedin@undp.org",children:"Partner with us"})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white p-4 shadow border border-black/5",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Investors & mentors"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Were seeking strategic guidance."}),jsxRuntimeExports.jsx("a",{className:"btn btn-outline mt-3",href:"mailto:manal.humedin@undp.org",children:"Lets connect"})]})]})]})]}),jsxRuntimeExports.jsx("footer",{className:"mt-16 border-t border-black/5 bg-white/60 backdrop-blur",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 grid gap-6 md:grid-cols-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-black mb-2",children:"toile"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"A blockchain-based fashion marketplace for transparency and impact."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2",children:"Explore"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#solution",className:"hover:opacity-80",children:"How it works"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#collections",className:"hover:opacity-80",children:"Collections"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"#roadmap",className:"hover:opacity-80",children:"Roadmap"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2",children:"Contact"}),jsxRuntimeExports.jsx("a",{className:"hover:opacity-80",href:"mailto:manal.humedin@undp.org",children:"manal.humedin@undp.org"}),jsxRuntimeExports.jsxs("p",{className:"text-slate-500 mt-2",children:[" ",new Date().getFullYear()," toile"]})]})]})}),jsxRuntimeExports.jsx(ConnectWallet,{openModal:d,closeModal:Vr}),jsxRuntimeExports.jsx(Transact,{openModal:Ot,setModalState:Ft}),jsxRuntimeExports.jsx(NFTmint,{openModal:Ut,setModalState:Xt}),jsxRuntimeExports.jsx(Tokenmint,{openModal:jr,setModalState:hn})]})};let supportedWallets;supportedWallets=[{id:WalletId.DEFLY},{id:WalletId.PERA},{id:WalletId.EXODUS}];function App(){const _e=getAlgodConfigFromViteEnvironment(),d=new WalletManager({wallets:supportedWallets,defaultNetwork:_e.network,networks:{[_e.network]:{algod:{baseServer:_e.server,port:_e.port,token:String(_e.token)}}},options:{resetNetwork:!0}});return jsxRuntimeExports.jsx(SnackbarProvider,{maxSnack:3,children:jsxRuntimeExports.jsx(WalletProvider,{manager:d,children:jsxRuntimeExports.jsx(Home,{})})})}class ErrorBoundary extends React$2.Component{constructor(d){super(d),this.state={hasError:!1,error:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}render(){var d,Mt;return this.state.hasError?jsxRuntimeExports.jsx("div",{className:"hero min-h-screen bg-teal-400",children:jsxRuntimeExports.jsx("div",{className:"hero-content text-center rounded-lg p-6 max-w-md bg-white mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl",children:"Error occured"}),jsxRuntimeExports.jsx("p",{className:"py-6",children:(d=this.state.error)!=null&&d.message.includes("Attempt to get default algod configuration")?"Please make sure to set up your environment variables correctly. Create a .env file based on .env.template and fill in the required values. This controls the network and credentials for connections with Algod and Indexer.":(Mt=this.state.error)==null?void 0:Mt.message})]})})}):this.props.children}}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(App,{})})}));const useWallet$1=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),useWallet=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{Buffer as B,__vitePreload as _,algosdk as a,Buffer$1 as b,commonjsGlobal as c,getAugmentedNamespace as d,getDefaultExportFromCjs$1 as g,process$1 as p,requireBn$3 as r};
